(function(e,undefined){var t,n,r=typeof undefined,i=e.location,o=e.document,s=o.documentElement,a=e.jQuery,u=e.$,l={},c=[],p="2.0.3",f=c.concat,h=c.push,d=c.slice,g=c.indexOf,m=l.toString,y=l.hasOwnProperty,v=p.trim,x=function(e,n){return new x.fn.init(e,n,t)},b=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,w=/\S+/g,T=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,k=/^-ms-/,N=/-([\da-z])/gi,E=function(e,t){return t.toUpperCase()},S=function(){o.removeEventListener("DOMContentLoaded",S,!1),e.removeEventListener("load",S,!1),x.ready()};x.fn=x.prototype={jquery:p,constructor:x,init:function(e,t,n){var r,i;if(!e)return this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:T.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof x?t[0]:t,x.merge(this,x.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:o,!0)),C.test(r[1])&&x.isPlainObject(t))for(r in t)x.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=o.getElementById(r[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=o,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):x.isFunction(e)?n.ready(e):(e.selector!==undefined&&(this.selector=e.selector,this.context=e.context),x.makeArray(e,this))},selector:"",length:0,toArray:function(){return d.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=x.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return x.each(this,e,t)},ready:function(e){return x.ready.promise().done(e),this},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(x.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:h,sort:[].sort,splice:[].splice},x.fn.init.prototype=x.fn,x.extend=x.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[1]||{},a=2),"object"==typeof s||x.isFunction(s)||(s={}),u===a&&(s=this,--a);u>a;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],r=e[t],s!==r&&(l&&r&&(x.isPlainObject(r)||(i=x.isArray(r)))?(i?(i=!1,o=n&&x.isArray(n)?n:[]):o=n&&x.isPlainObject(n)?n:{},s[t]=x.extend(l,o,r)):r!==undefined&&(s[t]=r));return s},x.extend({expando:"jQuery"+(p+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===x&&(e.$=u),t&&e.jQuery===x&&(e.jQuery=a),x},isReady:!1,readyWait:1,holdReady:function(e){e?x.readyWait++:x.ready(!0)},ready:function(e){(e===!0?--x.readyWait:x.isReady)||(x.isReady=!0,e!==!0&&--x.readyWait>0||(n.resolveWith(o,[x]),x.fn.trigger&&x(o).trigger("ready").off("ready")))},isFunction:function(e){return"function"===x.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[m.call(e)]||"object":typeof e},isPlainObject:function(e){if("object"!==x.type(e)||e.nodeType||x.isWindow(e))return!1;try{if(e.constructor&&!y.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||o;var r=C.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=x.buildFragment([e],t,i),i&&x(i).remove(),x.merge([],r.childNodes))},parseJSON:JSON.parse,parseXML:function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(r){t=undefined}return(!t||t.getElementsByTagName("parsererror").length)&&x.error("Invalid XML: "+e),t},noop:function(){},globalEval:function(e){var t,n=eval;e=x.trim(e),e&&(1===e.indexOf("use strict")?(t=o.createElement("script"),t.text=e,o.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(k,"ms-").replace(N,E)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,o=e.length,s=j(e);if(n){if(s){for(;o>i;i++)if(r=t.apply(e[i],n),r===!1)break}else for(i in e)if(r=t.apply(e[i],n),r===!1)break}else if(s){for(;o>i;i++)if(r=t.call(e[i],i,e[i]),r===!1)break}else for(i in e)if(r=t.call(e[i],i,e[i]),r===!1)break;return e},trim:function(e){return null==e?"":v.call(e)},makeArray:function(e,t){var n=t||[];return null!=e&&(j(Object(e))?x.merge(n,"string"==typeof e?[e]:e):h.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:g.call(t,e,n)},merge:function(e,t){var n=t.length,r=e.length,i=0;if("number"==typeof n)for(;n>i;i++)e[r++]=t[i];else while(t[i]!==undefined)e[r++]=t[i++];return e.length=r,e},grep:function(e,t,n){var r,i=[],o=0,s=e.length;for(n=!!n;s>o;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,t,n){var r,i=0,o=e.length,s=j(e),a=[];if(s)for(;o>i;i++)r=t(e[i],i,n),null!=r&&(a[a.length]=r);else for(i in e)r=t(e[i],i,n),null!=r&&(a[a.length]=r);return f.apply([],a)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(n=e[t],t=e,e=n),x.isFunction(e)?(r=d.call(arguments,2),i=function(){return e.apply(t||this,r.concat(d.call(arguments)))},i.guid=e.guid=e.guid||x.guid++,i):undefined},access:function(e,t,n,r,i,o,s){var a=0,u=e.length,l=null==n;if("object"===x.type(n)){i=!0;for(a in n)x.access(e,t,a,n[a],!0,o,s)}else if(r!==undefined&&(i=!0,x.isFunction(r)||(s=!0),l&&(s?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(x(e),n)})),t))for(;u>a;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return i?e:l?t.call(e):u?t(e[0],n):o},now:Date.now,swap:function(e,t,n,r){var i,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=s[o];return i}}),x.ready.promise=function(t){return n||(n=x.Deferred(),"complete"===o.readyState?setTimeout(x.ready):(o.addEventListener("DOMContentLoaded",S,!1),e.addEventListener("load",S,!1))),n.promise(t)},x.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});function j(e){var t=e.length,n=x.type(e);return x.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}t=x(o),function(e,undefined){var t,n,r,i,o,s,a,u,l,c,p,f,h,d,g,m,y,v="sizzle"+-new Date,b=e.document,w=0,T=0,C=st(),k=st(),N=st(),E=!1,S=function(e,t){return e===t?(E=!0,0):0},j=typeof undefined,D=1<<31,A={}.hasOwnProperty,L=[],q=L.pop,H=L.push,O=L.push,F=L.slice,P=L.indexOf||function(e){var t=0,n=this.length;for(;n>t;t++)if(this[t]===e)return t;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",W="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",$=W.replace("w","w#"),B="\\["+M+"*("+W+")"+M+"*(?:([*^$|!~]?=)"+M+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+$+")|)|)"+M+"*\\]",I=":("+W+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+B.replace(3,8)+")*)|.*)\\)|)",z=RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),_=RegExp("^"+M+"*,"+M+"*"),X=RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=RegExp(M+"*[+~]"),Y=RegExp("="+M+"*([^\\]'\"]*)"+M+"*\\]","g"),V=RegExp(I),G=RegExp("^"+$+"$"),J={ID:RegExp("^#("+W+")"),CLASS:RegExp("^\\.("+W+")"),TAG:RegExp("^("+W.replace("w","w*")+")"),ATTR:RegExp("^"+B),PSEUDO:RegExp("^"+I),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:RegExp("^(?:"+R+")$","i"),needsContext:RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Q=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/^(?:input|select|textarea|button)$/i,et=/^h\d$/i,tt=/'|\\/g,nt=RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),rt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(55296|r>>10,56320|1023&r)};try{O.apply(L=F.call(b.childNodes),b.childNodes),L[b.childNodes.length].nodeType}catch(it){O={apply:L.length?function(e,t){H.apply(e,F.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function ot(e,t,r,i){var o,s,a,u,l,f,g,m,x,w;if((t?t.ownerDocument||t:b)!==p&&c(t),t=t||p,r=r||[],!e||"string"!=typeof e)return r;if(1!==(u=t.nodeType)&&9!==u)return[];if(h&&!i){if(o=K.exec(e))if(a=o[1]){if(9===u){if(s=t.getElementById(a),!s||!s.parentNode)return r;if(s.id===a)return r.push(s),r}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(a))&&y(t,s)&&s.id===a)return r.push(s),r}else{if(o[2])return O.apply(r,t.getElementsByTagName(e)),r;if((a=o[3])&&n.getElementsByClassName&&t.getElementsByClassName)return O.apply(r,t.getElementsByClassName(a)),r}if(n.qsa&&(!d||!d.test(e))){if(m=g=v,x=t,w=9===u&&e,1===u&&"object"!==t.nodeName.toLowerCase()){f=gt(e),(g=t.getAttribute("id"))?m=g.replace(tt,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",l=f.length;while(l--)f[l]=m+mt(f[l]);x=U.test(e)&&t.parentNode||t,w=f.join(",")}if(w)try{return O.apply(r,x.querySelectorAll(w)),r}catch(T){}finally{g||t.removeAttribute("id")}}}return kt(e.replace(z,"$1"),t,r,i)}function st(){var e=[];function t(n,r){return e.push(n+=" ")>i.cacheLength&&delete t[e.shift()],t[n]=r}return t}function at(e){return e[v]=!0,e}function ut(e){var t=p.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function lt(e,t){var n=e.split("|"),r=e.length;while(r--)i.attrHandle[n[r]]=t}function ct(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||D)-(~e.sourceIndex||D);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function pt(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function ft(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ht(e){return at(function(t){return t=+t,at(function(n,r){var i,o=e([],n.length,t),s=o.length;while(s--)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}s=ot.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},n=ot.support={},c=ot.setDocument=function(e){var t=e?e.ownerDocument||e:b,r=t.defaultView;return t!==p&&9===t.nodeType&&t.documentElement?(p=t,f=t.documentElement,h=!s(t),r&&r.attachEvent&&r!==r.top&&r.attachEvent("onbeforeunload",function(){c()}),n.attributes=ut(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ut(function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=ut(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),n.getById=ut(function(e){return f.appendChild(e).id=v,!t.getElementsByName||!t.getElementsByName(v).length}),n.getById?(i.find.ID=function(e,t){if(typeof t.getElementById!==j&&h){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},i.filter.ID=function(e){var t=e.replace(nt,rt);return function(e){return e.getAttribute("id")===t}}):(delete i.find.ID,i.filter.ID=function(e){var t=e.replace(nt,rt);return function(e){var n=typeof e.getAttributeNode!==j&&e.getAttributeNode("id");return n&&n.value===t}}),i.find.TAG=n.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==j?t.getElementsByTagName(e):undefined}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},i.find.CLASS=n.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==j&&h?t.getElementsByClassName(e):undefined},g=[],d=[],(n.qsa=Q.test(t.querySelectorAll))&&(ut(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||d.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll(":checked").length||d.push(":checked")}),ut(function(e){var n=t.createElement("input");n.setAttribute("type","hidden"),e.appendChild(n).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&d.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||d.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),d.push(",.*:")})),(n.matchesSelector=Q.test(m=f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ut(function(e){n.disconnectedMatch=m.call(e,"div"),m.call(e,"[s!='']:x"),g.push("!=",I)}),d=d.length&&RegExp(d.join("|")),g=g.length&&RegExp(g.join("|")),y=Q.test(f.contains)||f.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},S=f.compareDocumentPosition?function(e,r){if(e===r)return E=!0,0;var i=r.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(r);return i?1&i||!n.sortDetached&&r.compareDocumentPosition(e)===i?e===t||y(b,e)?-1:r===t||y(b,r)?1:l?P.call(l,e)-P.call(l,r):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,n){var r,i=0,o=e.parentNode,s=n.parentNode,a=[e],u=[n];if(e===n)return E=!0,0;if(!o||!s)return e===t?-1:n===t?1:o?-1:s?1:l?P.call(l,e)-P.call(l,n):0;if(o===s)return ct(e,n);r=e;while(r=r.parentNode)a.unshift(r);r=n;while(r=r.parentNode)u.unshift(r);while(a[i]===u[i])i++;return i?ct(a[i],u[i]):a[i]===b?-1:u[i]===b?1:0},t):p},ot.matches=function(e,t){return ot(e,null,null,t)},ot.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&c(e),t=t.replace(Y,"='$1']"),!(!n.matchesSelector||!h||g&&g.test(t)||d&&d.test(t)))try{var r=m.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return ot(t,p,null,[e]).length>0},ot.contains=function(e,t){return(e.ownerDocument||e)!==p&&c(e),y(e,t)},ot.attr=function(e,t){(e.ownerDocument||e)!==p&&c(e);var r=i.attrHandle[t.toLowerCase()],o=r&&A.call(i.attrHandle,t.toLowerCase())?r(e,t,!h):undefined;return o===undefined?n.attributes||!h?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null:o},ot.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},ot.uniqueSort=function(e){var t,r=[],i=0,o=0;if(E=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(S),E){while(t=e[o++])t===e[o]&&(i=r.push(o));while(i--)e.splice(r[i],1)}return e},o=ot.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=o(t);return n},i=ot.selectors={cacheLength:50,createPseudo:at,match:J,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(nt,rt),e[3]=(e[4]||e[5]||"").replace(nt,rt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ot.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ot.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return J.CHILD.test(e[0])?null:(e[3]&&e[4]!==undefined?e[2]=e[4]:n&&V.test(n)&&(t=gt(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(nt,rt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=C[e+" "];return t||(t=RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&C(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==j&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ot.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,p,f,h,d,g=o!==s?"nextSibling":"previousSibling",m=t.parentNode,y=a&&t.nodeName.toLowerCase(),x=!u&&!a;if(m){if(o){while(g){p=t;while(p=p[g])if(a?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;d=g="only"===e&&!d&&"nextSibling"}return!0}if(d=[s?m.firstChild:m.lastChild],s&&x){c=m[v]||(m[v]={}),l=c[e]||[],h=l[0]===w&&l[1],f=l[0]===w&&l[2],p=h&&m.childNodes[h];while(p=++h&&p&&p[g]||(f=h=0)||d.pop())if(1===p.nodeType&&++f&&p===t){c[e]=[w,h,f];break}}else if(x&&(l=(t[v]||(t[v]={}))[e])&&l[0]===w)f=l[1];else while(p=++h&&p&&p[g]||(f=h=0)||d.pop())if((a?p.nodeName.toLowerCase()===y:1===p.nodeType)&&++f&&(x&&((p[v]||(p[v]={}))[e]=[w,f]),p===t))break;return f-=i,f===r||0===f%r&&f/r>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||ot.error("unsupported pseudo: "+e);return r[v]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?at(function(e,n){var i,o=r(e,t),s=o.length;while(s--)i=P.call(e,o[s]),e[i]=!(n[i]=o[s])}):function(e){return r(e,0,n)}):r}},pseudos:{not:at(function(e){var t=[],n=[],r=a(e.replace(z,"$1"));return r[v]?at(function(e,t,n,i){var o,s=r(e,null,i,[]),a=e.length;while(a--)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:at(function(e){return function(t){return ot(e,t).length>0}}),contains:at(function(e){return function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}}),lang:at(function(e){return G.test(e||"")||ot.error("unsupported lang: "+e),e=e.replace(nt,rt).toLowerCase(),function(t){var n;do if(n=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return et.test(e.nodeName)},input:function(e){return Z.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:ht(function(){return[0]}),last:ht(function(e,t){return[t-1]}),eq:ht(function(e,t,n){return[0>n?n+t:n]}),even:ht(function(e,t){var n=0;for(;t>n;n+=2)e.push(n);return e}),odd:ht(function(e,t){var n=1;for(;t>n;n+=2)e.push(n);return e}),lt:ht(function(e,t,n){var r=0>n?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:ht(function(e,t,n){var r=0>n?n+t:n;for(;t>++r;)e.push(r);return e})}},i.pseudos.nth=i.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=pt(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=ft(t);function dt(){}dt.prototype=i.filters=i.pseudos,i.setFilters=new dt;function gt(e,t){var n,r,o,s,a,u,l,c=k[e+" "];if(c)return t?0:c.slice(0);a=e,u=[],l=i.preFilter;while(a){(!n||(r=_.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),n=!1,(r=X.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(z," ")}),a=a.slice(n.length));for(s in i.filter)!(r=J[s].exec(a))||l[s]&&!(r=l[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ot.error(e):k(e,u).slice(0)}function mt(e){var t=0,n=e.length,r="";for(;n>t;t++)r+=e[t].value;return r}function yt(e,t,n){var i=t.dir,o=n&&"parentNode"===i,s=T++;return t.first?function(t,n,r){while(t=t[i])if(1===t.nodeType||o)return e(t,n,r)}:function(t,n,a){var u,l,c,p=w+" "+s;if(a){while(t=t[i])if((1===t.nodeType||o)&&e(t,n,a))return!0}else while(t=t[i])if(1===t.nodeType||o)if(c=t[v]||(t[v]={}),(l=c[i])&&l[0]===p){if((u=l[1])===!0||u===r)return u===!0}else if(l=c[i]=[p],l[1]=e(t,n,a)||r,l[1]===!0)return!0}}function vt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function xt(e,t,n,r,i){var o,s=[],a=0,u=e.length,l=null!=t;for(;u>a;a++)(o=e[a])&&(!n||n(o,r,i))&&(s.push(o),l&&t.push(a));return s}function bt(e,t,n,r,i,o){return r&&!r[v]&&(r=bt(r)),i&&!i[v]&&(i=bt(i,o)),at(function(o,s,a,u){var l,c,p,f=[],h=[],d=s.length,g=o||Ct(t||"*",a.nodeType?[a]:a,[]),m=!e||!o&&t?g:xt(g,f,e,a,u),y=n?i||(o?e:d||r)?[]:s:m;if(n&&n(m,y,a,u),r){l=xt(y,h),r(l,[],a,u),c=l.length;while(c--)(p=l[c])&&(y[h[c]]=!(m[h[c]]=p))}if(o){if(i||e){if(i){l=[],c=y.length;while(c--)(p=y[c])&&l.push(m[c]=p);i(null,y=[],l,u)}c=y.length;while(c--)(p=y[c])&&(l=i?P.call(o,p):f[c])>-1&&(o[l]=!(s[l]=p))}}else y=xt(y===s?y.splice(d,y.length):y),i?i(null,s,y,u):O.apply(s,y)})}function wt(e){var t,n,r,o=e.length,s=i.relative[e[0].type],a=s||i.relative[" "],l=s?1:0,c=yt(function(e){return e===t},a,!0),p=yt(function(e){return P.call(t,e)>-1},a,!0),f=[function(e,n,r){return!s&&(r||n!==u)||((t=n).nodeType?c(e,n,r):p(e,n,r))}];for(;o>l;l++)if(n=i.relative[e[l].type])f=[yt(vt(f),n)];else{if(n=i.filter[e[l].type].apply(null,e[l].matches),n[v]){for(r=++l;o>r;r++)if(i.relative[e[r].type])break;return bt(l>1&&vt(f),l>1&&mt(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(z,"$1"),n,r>l&&wt(e.slice(l,r)),o>r&&wt(e=e.slice(r)),o>r&&mt(e))}f.push(n)}return vt(f)}function Tt(e,t){var n=0,o=t.length>0,s=e.length>0,a=function(a,l,c,f,h){var d,g,m,y=[],v=0,x="0",b=a&&[],T=null!=h,C=u,k=a||s&&i.find.TAG("*",h&&l.parentNode||l),N=w+=null==C?1:Math.random()||.1;for(T&&(u=l!==p&&l,r=n);null!=(d=k[x]);x++){if(s&&d){g=0;while(m=e[g++])if(m(d,l,c)){f.push(d);break}T&&(w=N,r=++n)}o&&((d=!m&&d)&&v--,a&&b.push(d))}if(v+=x,o&&x!==v){g=0;while(m=t[g++])m(b,y,l,c);if(a){if(v>0)while(x--)b[x]||y[x]||(y[x]=q.call(f));y=xt(y)}O.apply(f,y),T&&!a&&y.length>0&&v+t.length>1&&ot.uniqueSort(f)}return T&&(w=N,u=C),b};return o?at(a):a}a=ot.compile=function(e,t){var n,r=[],i=[],o=N[e+" "];if(!o){t||(t=gt(e)),n=t.length;while(n--)o=wt(t[n]),o[v]?r.push(o):i.push(o);o=N(e,Tt(i,r))}return o};function Ct(e,t,n){var r=0,i=t.length;for(;i>r;r++)ot(e,t[r],n);return n}function kt(e,t,r,o){var s,u,l,c,p,f=gt(e);if(!o&&1===f.length){if(u=f[0]=f[0].slice(0),u.length>2&&"ID"===(l=u[0]).type&&n.getById&&9===t.nodeType&&h&&i.relative[u[1].type]){if(t=(i.find.ID(l.matches[0].replace(nt,rt),t)||[])[0],!t)return r;e=e.slice(u.shift().value.length)}s=J.needsContext.test(e)?0:u.length;while(s--){if(l=u[s],i.relative[c=l.type])break;if((p=i.find[c])&&(o=p(l.matches[0].replace(nt,rt),U.test(u[0].type)&&t.parentNode||t))){if(u.splice(s,1),e=o.length&&mt(u),!e)return O.apply(r,o),r;break}}}return a(e,f)(o,t,!h,r,U.test(e)),r}n.sortStable=v.split("").sort(S).join("")===v,n.detectDuplicates=E,c(),n.sortDetached=ut(function(e){return 1&e.compareDocumentPosition(p.createElement("div"))}),ut(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||lt("type|href|height|width",function(e,t,n){return n?undefined:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ut(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||lt("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?undefined:e.defaultValue}),ut(function(e){return null==e.getAttribute("disabled")})||lt(R,function(e,t,n){var r;return n?undefined:(r=e.getAttributeNode(t))&&r.specified?r.value:e[t]===!0?t.toLowerCase():null}),x.find=ot,x.expr=ot.selectors,x.expr[":"]=x.expr.pseudos,x.unique=ot.uniqueSort,x.text=ot.getText,x.isXMLDoc=ot.isXML,x.contains=ot.contains}(e);var D={};function A(e){var t=D[e]={};return x.each(e.match(w)||[],function(e,n){t[n]=!0}),t}x.Callbacks=function(e){e="string"==typeof e?D[e]||A(e):x.extend({},e);var t,n,r,i,o,s,a=[],u=!e.once&&[],l=function(p){for(t=e.memory&&p,n=!0,s=i||0,i=0,o=a.length,r=!0;a&&o>s;s++)if(a[s].apply(p[0],p[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,a&&(u?u.length&&l(u.shift()):t?a=[]:c.disable())},c={add:function(){if(a){var n=a.length;(function s(t){x.each(t,function(t,n){var r=x.type(n);"function"===r?e.unique&&c.has(n)||a.push(n):n&&n.length&&"string"!==r&&s(n)})})(arguments),r?o=a.length:t&&(i=n,l(t))}return this},remove:function(){return a&&x.each(arguments,function(e,t){var n;while((n=x.inArray(t,a,n))>-1)a.splice(n,1),r&&(o>=n&&o--,s>=n&&s--)}),this},has:function(e){return e?x.inArray(e,a)>-1:!(!a||!a.length)},empty:function(){return a=[],o=0,this},disable:function(){return a=u=t=undefined,this},disabled:function(){return!a},lock:function(){return u=undefined,t||c.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!a||n&&!u||(t=t||[],t=[e,t.slice?t.slice():t],r?u.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},x.extend({Deferred:function(e){var t=[["resolve","done",x.Callbacks("once memory"),"resolved"],["reject","fail",x.Callbacks("once memory"),"rejected"],["notify","progress",x.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return x.Deferred(function(n){x.each(t,function(t,o){var s=o[0],a=x.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&x.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?x.extend(e,r):r}},i={};return r.pipe=r.then,x.each(t,function(e,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=d.call(arguments),r=n.length,i=1!==r||e&&x.isFunction(e.promise)?r:0,o=1===i?e:x.Deferred(),s=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?d.call(arguments):r,n===a?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},a,u,l;if(r>1)for(a=Array(r),u=Array(r),l=Array(r);r>t;t++)n[t]&&x.isFunction(n[t].promise)?n[t].promise().done(s(t,l,n)).fail(o.reject).progress(s(t,u,a)):--i;return i||o.resolveWith(l,n),o.promise()}}),x.support=function(t){var n=o.createElement("input"),r=o.createDocumentFragment(),i=o.createElement("div"),s=o.createElement("select"),a=s.appendChild(o.createElement("option"));return n.type?(n.type="checkbox",t.checkOn=""!==n.value,t.optSelected=a.selected,t.reliableMarginRight=!0,t.boxSizingReliable=!0,t.pixelPosition=!1,n.checked=!0,t.noCloneChecked=n.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!a.disabled,n=o.createElement("input"),n.value="t",n.type="radio",t.radioValue="t"===n.value,n.setAttribute("checked","t"),n.setAttribute("name","t"),r.appendChild(n),t.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,t.focusinBubbles="onfocusin"in e,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===i.style.backgroundClip,x(function(){var n,r,s="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",a=o.getElementsByTagName("body")[0];a&&(n=o.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(i),i.innerHTML="",i.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",x.swap(a,null!=a.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===i.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(i,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(i,null)||{width:"4px"}).width,r=i.appendChild(o.createElement("div")),r.style.cssText=i.style.cssText=s,r.style.marginRight=r.style.width="0",i.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),a.removeChild(n))}),t):t}({});var L,q,H=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,O=/([A-Z])/g;function F(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=x.expando+Math.random()}F.uid=1,F.accepts=function(e){return e.nodeType?1===e.nodeType||9===e.nodeType:!0},F.prototype={key:function(e){if(!F.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=F.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,x.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(x.isEmptyObject(o))x.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,t){var n=this.cache[this.key(e)];return t===undefined?n:n[t]},access:function(e,t,n){var r;return t===undefined||t&&"string"==typeof t&&n===undefined?(r=this.get(e,t),r!==undefined?r:this.get(e,x.camelCase(t))):(this.set(e,t,n),n!==undefined?n:t)},remove:function(e,t){var n,r,i,o=this.key(e),s=this.cache[o];if(t===undefined)this.cache[o]={};else{x.isArray(t)?r=t.concat(t.map(x.camelCase)):(i=x.camelCase(t),t in s?r=[t,i]:(r=i,r=r in s?[r]:r.match(w)||[])),n=r.length;while(n--)delete s[r[n]]}},hasData:function(e){return!x.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}},L=new F,q=new F,x.extend({acceptData:F.accepts,hasData:function(e){return L.hasData(e)||q.hasData(e)},data:function(e,t,n){return L.access(e,t,n)},removeData:function(e,t){L.remove(e,t)},_data:function(e,t,n){return q.access(e,t,n)},_removeData:function(e,t){q.remove(e,t)}}),x.fn.extend({data:function(e,t){var n,r,i=this[0],o=0,s=null;if(e===undefined){if(this.length&&(s=L.get(i),1===i.nodeType&&!q.get(i,"hasDataAttrs"))){for(n=i.attributes;n.length>o;o++)r=n[o].name,0===r.indexOf("data-")&&(r=x.camelCase(r.slice(5)),P(i,r,s[r]));q.set(i,"hasDataAttrs",!0)}return s}return"object"==typeof e?this.each(function(){L.set(this,e)}):x.access(this,function(t){var n,r=x.camelCase(e);if(i&&t===undefined){if(n=L.get(i,e),n!==undefined)return n;if(n=L.get(i,r),n!==undefined)return n;if(n=P(i,r,undefined),n!==undefined)return n}else this.each(function(){var n=L.get(this,r);L.set(this,r,t),-1!==e.indexOf("-")&&n!==undefined&&L.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){L.remove(this,e)})}});function P(e,t,n){var r;if(n===undefined&&1===e.nodeType)if(r="data-"+t.replace(O,"-$1").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:H.test(n)?JSON.parse(n):n}catch(i){}L.set(e,t,n)}else n=undefined;return n}x.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=q.get(e,t),n&&(!r||x.isArray(n)?r=q.access(e,t,x.makeArray(n)):r.push(n)),r||[]):undefined},dequeue:function(e,t){t=t||"fx";var n=x.queue(e,t),r=n.length,i=n.shift(),o=x._queueHooks(e,t),s=function(){x.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return q.get(e,n)||q.access(e,n,{empty:x.Callbacks("once memory").add(function(){q.remove(e,[t+"queue",n])})})}}),x.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),n>arguments.length?x.queue(this[0],e):t===undefined?this:this.each(function(){var n=x.queue(this,e,t);x._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&x.dequeue(this,e)})},dequeue:function(e){return this.each(function(){x.dequeue(this,e)})},delay:function(e,t){return e=x.fx?x.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=x.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=undefined),e=e||"fx";while(s--)n=q.get(o[s],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}});var R,M,W=/[\t\r\n\f]/g,$=/\r/g,B=/^(?:input|select|textarea|button)$/i;x.fn.extend({attr:function(e,t){return x.access(this,x.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){x.removeAttr(this,e)})},prop:function(e,t){return x.access(this,x.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[x.propFix[e]||e]})},addClass:function(e){var t,n,r,i,o,s=0,a=this.length,u="string"==typeof e&&e;if(x.isFunction(e))return this.each(function(t){x(this).addClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(w)||[];a>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(W," "):" ")){o=0;while(i=t[o++])0>r.indexOf(" "+i+" ")&&(r+=i+" ");n.className=x.trim(r)}return this},removeClass:function(e){var t,n,r,i,o,s=0,a=this.length,u=0===arguments.length||"string"==typeof e&&e;if(x.isFunction(e))return this.each(function(t){x(this).removeClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(w)||[];a>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(W," "):"")){o=0;while(i=t[o++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");n.className=e?x.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):x.isFunction(e)?this.each(function(n){x(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n){var t,i=0,o=x(this),s=e.match(w)||[];while(t=s[i++])o.hasClass(t)?o.removeClass(t):o.addClass(t)}else(n===r||"boolean"===n)&&(this.className&&q.set(this,"__className__",this.className),this.className=this.className||e===!1?"":q.get(this,"__className__")||"")})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(W," ").indexOf(t)>=0)return!0;return!1},val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=x.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,x(this).val()):e,null==i?i="":"number"==typeof i?i+="":x.isArray(i)&&(i=x.map(i,function(e){return null==e?"":e+""})),t=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&t.set(this,i,"value")!==undefined||(this.value=i))});if(i)return t=x.valHooks[i.type]||x.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&(n=t.get(i,"value"))!==undefined?n:(n=i.value,"string"==typeof n?n.replace($,""):null==n?"":n)}}}),x.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,s=o?null:[],a=o?i+1:r.length,u=0>i?a:o?i:0;for(;a>u;u++)if(n=r[u],!(!n.selected&&u!==i||(x.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&x.nodeName(n.parentNode,"optgroup"))){if(t=x(n).val(),o)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=x.makeArray(t),s=i.length;while(s--)r=i[s],(r.selected=x.inArray(x(r).val(),o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}},attr:function(e,t,n){var i,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===r?x.prop(e,t,n):(1===s&&x.isXMLDoc(e)||(t=t.toLowerCase(),i=x.attrHooks[t]||(x.expr.match.bool.test(t)?M:R)),n===undefined?i&&"get"in i&&null!==(o=i.get(e,t))?o:(o=x.find.attr(e,t),null==o?undefined:o):null!==n?i&&"set"in i&&(o=i.set(e,n,t))!==undefined?o:(e.setAttribute(t,n+""),n):(x.removeAttr(e,t),undefined))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(w);if(o&&1===e.nodeType)while(n=o[i++])r=x.propFix[n]||n,x.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!x.support.radioValue&&"radio"===t&&x.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return o=1!==s||!x.isXMLDoc(e),o&&(t=x.propFix[t]||t,i=x.propHooks[t]),n!==undefined?i&&"set"in i&&(r=i.set(e,n,t))!==undefined?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||B.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),M={set:function(e,t,n){return t===!1?x.removeAttr(e,n):e.setAttribute(n,n),n}},x.each(x.expr.match.bool.source.match(/\w+/g),function(e,t){var n=x.expr.attrHandle[t]||x.find.attr;x.expr.attrHandle[t]=function(e,t,r){var i=x.expr.attrHandle[t],o=r?undefined:(x.expr.attrHandle[t]=undefined)!=n(e,t,r)?t.toLowerCase():null;return x.expr.attrHandle[t]=i,o}}),x.support.optSelected||(x.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this}),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(e,t){return x.isArray(t)?e.checked=x.inArray(x(e).val(),t)>=0:undefined}},x.support.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var I=/^key/,z=/^(?:mouse|contextmenu)|click/,_=/^(?:focusinfocus|focusoutblur)$/,X=/^([^.]*)(?:\.(.+)|)$/;function U(){return!0}function Y(){return!1}function V(){try{return o.activeElement}catch(e){}}x.event={global:{},add:function(e,t,n,i,o){var s,a,u,l,c,p,f,h,d,g,m,y=q.get(e);if(y){n.handler&&(s=n,n=s.handler,o=s.selector),n.guid||(n.guid=x.guid++),(l=y.events)||(l=y.events={}),(a=y.handle)||(a=y.handle=function(e){return typeof x===r||e&&x.event.triggered===e.type?undefined:x.event.dispatch.apply(a.elem,arguments)},a.elem=e),t=(t||"").match(w)||[""],c=t.length;while(c--)u=X.exec(t[c])||[],d=m=u[1],g=(u[2]||"").split(".").sort(),d&&(f=x.event.special[d]||{},d=(o?f.delegateType:f.bindType)||d,f=x.event.special[d]||{},p=x.extend({type:d,origType:m,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&x.expr.match.needsContext.test(o),namespace:g.join(".")},s),(h=l[d])||(h=l[d]=[],h.delegateCount=0,f.setup&&f.setup.call(e,i,g,a)!==!1||e.addEventListener&&e.addEventListener(d,a,!1)),f.add&&(f.add.call(e,p),p.handler.guid||(p.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,p):h.push(p),x.event.global[d]=!0);e=null}},remove:function(e,t,n,r,i){var o,s,a,u,l,c,p,f,h,d,g,m=q.hasData(e)&&q.get(e);if(m&&(u=m.events)){t=(t||"").match(w)||[""],l=t.length;while(l--)if(a=X.exec(t[l])||[],h=g=a[1],d=(a[2]||"").split(".").sort(),h){p=x.event.special[h]||{},h=(r?p.delegateType:p.bindType)||h,f=u[h]||[],a=a[2]&&RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;while(o--)c=f[o],!i&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,p.remove&&p.remove.call(e,c));s&&!f.length&&(p.teardown&&p.teardown.call(e,d,m.handle)!==!1||x.removeEvent(e,h,m.handle),delete u[h])}else for(h in u)x.event.remove(e,h+t[l],n,r,!0);x.isEmptyObject(u)&&(delete m.handle,q.remove(e,"events"))}},trigger:function(t,n,r,i){var s,a,u,l,c,p,f,h=[r||o],d=y.call(t,"type")?t.type:t,g=y.call(t,"namespace")?t.namespace.split("."):[];if(a=u=r=r||o,3!==r.nodeType&&8!==r.nodeType&&!_.test(d+x.event.triggered)&&(d.indexOf(".")>=0&&(g=d.split("."),d=g.shift(),g.sort()),c=0>d.indexOf(":")&&"on"+d,t=t[x.expando]?t:new x.Event(d,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=g.join("."),t.namespace_re=t.namespace?RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=r),n=null==n?[t]:x.makeArray(n,[t]),f=x.event.special[d]||{},i||!f.trigger||f.trigger.apply(r,n)!==!1)){if(!i&&!f.noBubble&&!x.isWindow(r)){for(l=f.delegateType||d,_.test(l+d)||(a=a.parentNode);a;a=a.parentNode)h.push(a),u=a;u===(r.ownerDocument||o)&&h.push(u.defaultView||u.parentWindow||e)}s=0;while((a=h[s++])&&!t.isPropagationStopped())t.type=s>1?l:f.bindType||d,p=(q.get(a,"events")||{})[t.type]&&q.get(a,"handle"),p&&p.apply(a,n),p=c&&a[c],p&&x.acceptData(a)&&p.apply&&p.apply(a,n)===!1&&t.preventDefault();return t.type=d,i||t.isDefaultPrevented()||f._default&&f._default.apply(h.pop(),n)!==!1||!x.acceptData(r)||c&&x.isFunction(r[d])&&!x.isWindow(r)&&(u=r[c],u&&(r[c]=null),x.event.triggered=d,r[d](),x.event.triggered=undefined,u&&(r[c]=u)),t.result}},dispatch:function(e){e=x.event.fix(e);var t,n,r,i,o,s=[],a=d.call(arguments),u=(q.get(this,"events")||{})[e.type]||[],l=x.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){s=x.event.handlers.call(this,e,u),t=0;while((i=s[t++])&&!e.isPropagationStopped()){e.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!e.isImmediatePropagationStopped())(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,r=((x.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a),r!==undefined&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()))}return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,s=[],a=t.delegateCount,u=e.target;if(a&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==e.type){for(r=[],n=0;a>n;n++)o=t[n],i=o.selector+" ",r[i]===undefined&&(r[i]=o.needsContext?x(i,this).index(u)>=0:x.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&s.push({elem:u,handlers:r})}return t.length>a&&s.push({elem:this,handlers:t.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,s=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||o,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||s===undefined||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[x.expando])return e;var t,n,r,i=e.type,s=e,a=this.fixHooks[i];a||(this.fixHooks[i]=a=z.test(i)?this.mouseHooks:I.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new x.Event(s),t=r.length;while(t--)n=r[t],e[n]=s[n];return e.target||(e.target=o),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,s):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==V()&&this.focus?(this.focus(),!1):undefined},delegateType:"focusin"},blur:{trigger:function(){return this===V()&&this.blur?(this.blur(),!1):undefined},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&x.nodeName(this,"input")?(this.click(),!1):undefined},_default:function(e){return x.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=x.extend(new x.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?x.event.trigger(i,null,t):x.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},x.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},x.Event=function(e,t){return this instanceof x.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.getPreventDefault&&e.getPreventDefault()?U:Y):this.type=e,t&&x.extend(this,t),this.timeStamp=e&&e.timeStamp||x.now(),this[x.expando]=!0,undefined):new x.Event(e,t)},x.Event.prototype={isDefaultPrevented:Y,isPropagationStopped:Y,isImmediatePropagationStopped:Y,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=U,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=U,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=U,this.stopPropagation()}},x.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){x.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!x.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),x.support.focusinBubbles||x.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){x.event.simulate(t,e.target,x.event.fix(e),!0)};x.event.special[t]={setup:function(){0===n++&&o.addEventListener(e,r,!0)},teardown:function(){0===--n&&o.removeEventListener(e,r,!0)}}}),x.fn.extend({on:function(e,t,n,r,i){var o,s;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=undefined);for(s in e)this.on(s,t,n,e[s],i);return this}if(null==n&&null==r?(r=t,n=t=undefined):null==r&&("string"==typeof t?(r=n,n=undefined):(r=n,n=t,t=undefined)),r===!1)r=Y;else if(!r)return this;return 1===i&&(o=r,r=function(e){return x().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=x.guid++)),this.each(function(){x.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,x(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=undefined),n===!1&&(n=Y),this.each(function(){x.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){x.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?x.event.trigger(e,t,n,!0):undefined}});var G=/^.[^:#\[\.,]*$/,J=/^(?:parents|prev(?:Until|All))/,Q=x.expr.match.needsContext,K={children:!0,contents:!0,next:!0,prev:!0};x.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(x(e).filter(function(){for(t=0;i>t;t++)if(x.contains(r[t],this))return!0}));for(t=0;i>t;t++)x.find(e,r[t],n);return n=this.pushStack(i>1?x.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t=x(e,this),n=t.length;return this.filter(function(){var e=0;for(;n>e;e++)if(x.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(et(this,e||[],!0))},filter:function(e){return this.pushStack(et(this,e||[],!1))},is:function(e){return!!et(this,"string"==typeof e&&Q.test(e)?x(e):e||[],!1).length},closest:function(e,t){var n,r=0,i=this.length,o=[],s=Q.test(e)||"string"!=typeof e?x(e,t||this.context):0;for(;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(11>n.nodeType&&(s?s.index(n)>-1:1===n.nodeType&&x.find.matchesSelector(n,e))){n=o.push(n);break}return this.pushStack(o.length>1?x.unique(o):o)},index:function(e){return e?"string"==typeof e?g.call(x(e),this[0]):g.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?x(e,t):x.makeArray(e&&e.nodeType?[e]:e),r=x.merge(this.get(),n);return this.pushStack(x.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}});function Z(e,t){while((e=e[t])&&1!==e.nodeType);return e}x.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return x.dir(e,"parentNode")},parentsUntil:function(e,t,n){return x.dir(e,"parentNode",n)},next:function(e){return Z(e,"nextSibling")},prev:function(e){return Z(e,"previousSibling")},nextAll:function(e){return x.dir(e,"nextSibling")},prevAll:function(e){return x.dir(e,"previousSibling")},nextUntil:function(e,t,n){return x.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return x.dir(e,"previousSibling",n)},siblings:function(e){return x.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return x.sibling(e.firstChild)},contents:function(e){return e.contentDocument||x.merge([],e.childNodes)}},function(e,t){x.fn[e]=function(n,r){var i=x.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=x.filter(r,i)),this.length>1&&(K[e]||x.unique(i),J.test(e)&&i.reverse()),this.pushStack(i)}}),x.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?x.find.matchesSelector(r,e)?[r]:[]:x.find.matches(e,x.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,t,n){var r=[],i=n!==undefined;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&x(e).is(n))break;r.push(e)}return r},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});function et(e,t,n){if(x.isFunction(t))return x.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return x.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(G.test(t))return x.filter(t,e,n);t=x.filter(t,e)}return x.grep(e,function(e){return g.call(t,e)>=0!==n})}var tt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,nt=/<([\w:]+)/,rt=/<|&#?\w+;/,it=/<(?:script|style|link)/i,ot=/^(?:checkbox|radio)$/i,st=/checked\s*(?:[^=]|=\s*.checked.)/i,at=/^$|\/(?:java|ecma)script/i,ut=/^true\/(.*)/,lt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ct={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ct.optgroup=ct.option,ct.tbody=ct.tfoot=ct.colgroup=ct.caption=ct.thead,ct.th=ct.td,x.fn.extend({text:function(e){return x.access(this,function(e){return e===undefined?x.text(this):this.empty().append((this[0]&&this[0].ownerDocument||o).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=pt(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=pt(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=e?x.filter(e,this):this,i=0;for(;null!=(n=r[i]);i++)t||1!==n.nodeType||x.cleanData(mt(n)),n.parentNode&&(t&&x.contains(n.ownerDocument,n)&&dt(mt(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;null!=(e=this[t]);t++)1===e.nodeType&&(x.cleanData(mt(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return x.clone(this,e,t)})},html:function(e){return x.access(this,function(e){var t=this[0]||{},n=0,r=this.length;if(e===undefined&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!it.test(e)&&!ct[(nt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(tt,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(x.cleanData(mt(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=x.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),x(this).remove(),i.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=f.apply([],e);var r,i,o,s,a,u,l=0,c=this.length,p=this,h=c-1,d=e[0],g=x.isFunction(d);if(g||!(1>=c||"string"!=typeof d||x.support.checkClone)&&st.test(d))return this.each(function(r){var i=p.eq(r);g&&(e[0]=d.call(this,r,i.html())),i.domManip(e,t,n)});if(c&&(r=x.buildFragment(e,this[0].ownerDocument,!1,!n&&this),i=r.firstChild,1===r.childNodes.length&&(r=i),i)){for(o=x.map(mt(r,"script"),ft),s=o.length;c>l;l++)a=r,l!==h&&(a=x.clone(a,!0,!0),s&&x.merge(o,mt(a,"script"))),t.call(this[l],a,l);if(s)for(u=o[o.length-1].ownerDocument,x.map(o,ht),l=0;s>l;l++)a=o[l],at.test(a.type||"")&&!q.access(a,"globalEval")&&x.contains(u,a)&&(a.src?x._evalUrl(a.src):x.globalEval(a.textContent.replace(lt,"")))}return this}}),x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){x.fn[e]=function(e){var n,r=[],i=x(e),o=i.length-1,s=0;for(;o>=s;s++)n=s===o?this:this.clone(!0),x(i[s])[t](n),h.apply(r,n.get());return this.pushStack(r)}}),x.extend({clone:function(e,t,n){var r,i,o,s,a=e.cloneNode(!0),u=x.contains(e.ownerDocument,e);if(!(x.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||x.isXMLDoc(e)))for(s=mt(a),o=mt(e),r=0,i=o.length;i>r;r++)yt(o[r],s[r]);if(t)if(n)for(o=o||mt(e),s=s||mt(a),r=0,i=o.length;i>r;r++)gt(o[r],s[r]);else gt(e,a);return s=mt(a,"script"),s.length>0&&dt(s,!u&&mt(e,"script")),a},buildFragment:function(e,t,n,r){var i,o,s,a,u,l,c=0,p=e.length,f=t.createDocumentFragment(),h=[];for(;p>c;c++)if(i=e[c],i||0===i)if("object"===x.type(i))x.merge(h,i.nodeType?[i]:i);else if(rt.test(i)){o=o||f.appendChild(t.createElement("div")),s=(nt.exec(i)||["",""])[1].toLowerCase(),a=ct[s]||ct._default,o.innerHTML=a[1]+i.replace(tt,"<$1></$2>")+a[2],l=a[0];while(l--)o=o.lastChild;x.merge(h,o.childNodes),o=f.firstChild,o.textContent=""}else h.push(t.createTextNode(i));f.textContent="",c=0;while(i=h[c++])if((!r||-1===x.inArray(i,r))&&(u=x.contains(i.ownerDocument,i),o=mt(f.appendChild(i),"script"),u&&dt(o),n)){l=0;while(i=o[l++])at.test(i.type||"")&&n.push(i)}return f},cleanData:function(e){var t,n,r,i,o,s,a=x.event.special,u=0;for(;(n=e[u])!==undefined;u++){if(F.accepts(n)&&(o=n[q.expando],o&&(t=q.cache[o]))){if(r=Object.keys(t.events||{}),r.length)for(s=0;(i=r[s])!==undefined;s++)a[i]?x.event.remove(n,i):x.removeEvent(n,i,t.handle);q.cache[o]&&delete q.cache[o]}delete L.cache[n[L.expando]]}},_evalUrl:function(e){return x.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}});function pt(e,t){return x.nodeName(e,"table")&&x.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function ft(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function ht(e){var t=ut.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function dt(e,t){var n=e.length,r=0;for(;n>r;r++)q.set(e[r],"globalEval",!t||q.get(t[r],"globalEval"))}function gt(e,t){var n,r,i,o,s,a,u,l;if(1===t.nodeType){if(q.hasData(e)&&(o=q.access(e),s=q.set(t,o),l=o.events)){delete s.handle,s.events={};for(i in l)for(n=0,r=l[i].length;r>n;n++)x.event.add(t,i,l[i][n])}L.hasData(e)&&(a=L.access(e),u=x.extend({},a),L.set(t,u))}}function mt(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return t===undefined||t&&x.nodeName(e,t)?x.merge([e],n):n}function yt(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ot.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}x.fn.extend({wrapAll:function(e){var t;return x.isFunction(e)?this.each(function(t){x(this).wrapAll(e.call(this,t))}):(this[0]&&(t=x(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return x.isFunction(e)?this.each(function(t){x(this).wrapInner(e.call(this,t))}):this.each(function(){var t=x(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=x.isFunction(e);return this.each(function(n){x(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){x.nodeName(this,"body")||x(this).replaceWith(this.childNodes)}).end()}});var vt,xt,bt=/^(none|table(?!-c[ea]).+)/,wt=/^margin/,Tt=RegExp("^("+b+")(.*)$","i"),Ct=RegExp("^("+b+")(?!px)[a-z%]+$","i"),kt=RegExp("^([+-])=("+b+")","i"),Nt={BODY:"block"},Et={position:"absolute",visibility:"hidden",display:"block"},St={letterSpacing:0,fontWeight:400},jt=["Top","Right","Bottom","Left"],Dt=["Webkit","O","Moz","ms"];function At(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=Dt.length;while(i--)if(t=Dt[i]+n,t in e)return t;return r}function Lt(e,t){return e=t||e,"none"===x.css(e,"display")||!x.contains(e.ownerDocument,e)}function qt(t){return e.getComputedStyle(t,null)}function Ht(e,t){var n,r,i,o=[],s=0,a=e.length;for(;a>s;s++)r=e[s],r.style&&(o[s]=q.get(r,"olddisplay"),n=r.style.display,t?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&Lt(r)&&(o[s]=q.access(r,"olddisplay",Rt(r.nodeName)))):o[s]||(i=Lt(r),(n&&"none"!==n||!i)&&q.set(r,"olddisplay",i?n:x.css(r,"display"))));for(s=0;a>s;s++)r=e[s],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[s]||"":"none"));return e}x.fn.extend({css:function(e,t){return x.access(this,function(e,t,n){var r,i,o={},s=0;if(x.isArray(t)){for(r=qt(e),i=t.length;i>s;s++)o[t[s]]=x.css(e,t[s],!1,r);return o}return n!==undefined?x.style(e,t,n):x.css(e,t)},e,t,arguments.length>1)},show:function(){return Ht(this,!0)},hide:function(){return Ht(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Lt(this)?x(this).show():x(this).hide()})}}),x.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=vt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=x.camelCase(t),u=e.style;return t=x.cssProps[a]||(x.cssProps[a]=At(u,a)),s=x.cssHooks[t]||x.cssHooks[a],n===undefined?s&&"get"in s&&(i=s.get(e,!1,r))!==undefined?i:u[t]:(o=typeof n,"string"===o&&(i=kt.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(x.css(e,t)),o="number"),null==n||"number"===o&&isNaN(n)||("number"!==o||x.cssNumber[a]||(n+="px"),x.support.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&(n=s.set(e,n,r))===undefined||(u[t]=n)),undefined)}},css:function(e,t,n,r){var i,o,s,a=x.camelCase(t);return t=x.cssProps[a]||(x.cssProps[a]=At(e.style,a)),s=x.cssHooks[t]||x.cssHooks[a],s&&"get"in s&&(i=s.get(e,!0,n)),i===undefined&&(i=vt(e,t,r)),"normal"===i&&t in St&&(i=St[t]),""===n||n?(o=parseFloat(i),n===!0||x.isNumeric(o)?o||0:i):i}}),vt=function(e,t,n){var r,i,o,s=n||qt(e),a=s?s.getPropertyValue(t)||s[t]:undefined,u=e.style;return s&&(""!==a||x.contains(e.ownerDocument,e)||(a=x.style(e,t)),Ct.test(a)&&wt.test(t)&&(r=u.width,i=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=a,a=s.width,u.width=r,u.minWidth=i,u.maxWidth=o)),a};function Ot(e,t,n){var r=Tt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function Ft(e,t,n,r,i){var o=n===(r?"border":"content")?4:"width"===t?1:0,s=0;for(;4>o;o+=2)"margin"===n&&(s+=x.css(e,n+jt[o],!0,i)),r?("content"===n&&(s-=x.css(e,"padding"+jt[o],!0,i)),"margin"!==n&&(s-=x.css(e,"border"+jt[o]+"Width",!0,i))):(s+=x.css(e,"padding"+jt[o],!0,i),"padding"!==n&&(s+=x.css(e,"border"+jt[o]+"Width",!0,i)));return s}function Pt(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=qt(e),s=x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=vt(e,t,o),(0>i||null==i)&&(i=e.style[t]),Ct.test(i))return i;r=s&&(x.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+Ft(e,t,n||(s?"border":"content"),r,o)+"px"}function Rt(e){var t=o,n=Nt[e];return n||(n=Mt(e,t),"none"!==n&&n||(xt=(xt||x("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(xt[0].contentWindow||xt[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=Mt(e,t),xt.detach()),Nt[e]=n),n}function Mt(e,t){var n=x(t.createElement(e)).appendTo(t.body),r=x.css(n[0],"display");return n.remove(),r}x.each(["height","width"],function(e,t){x.cssHooks[t]={get:function(e,n,r){return n?0===e.offsetWidth&&bt.test(x.css(e,"display"))?x.swap(e,Et,function(){return Pt(e,t,r)}):Pt(e,t,r):undefined},set:function(e,n,r){var i=r&&qt(e);return Ot(e,n,r?Ft(e,t,r,x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,i),i):0)}}}),x(function(){x.support.reliableMarginRight||(x.cssHooks.marginRight={get:function(e,t){return t?x.swap(e,{display:"inline-block"},vt,[e,"marginRight"]):undefined}}),!x.support.pixelPosition&&x.fn.position&&x.each(["top","left"],function(e,t){x.cssHooks[t]={get:function(e,n){return n?(n=vt(e,t),Ct.test(n)?x(e).position()[t]+"px":n):undefined}}})}),x.expr&&x.expr.filters&&(x.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight},x.expr.filters.visible=function(e){return!x.expr.filters.hidden(e)}),x.each({margin:"",padding:"",border:"Width"},function(e,t){x.cssHooks[e+t]={expand:function(n){var r=0,i={},o="string"==typeof n?n.split(" "):[n];for(;4>r;r++)i[e+jt[r]+t]=o[r]||o[r-2]||o[0];return i}},wt.test(e)||(x.cssHooks[e+t].set=Ot)});var Wt=/%20/g,$t=/\[\]$/,Bt=/\r?\n/g,It=/^(?:submit|button|image|reset|file)$/i,zt=/^(?:input|select|textarea|keygen)/i;x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=x.prop(this,"elements");return e?x.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!x(this).is(":disabled")&&zt.test(this.nodeName)&&!It.test(e)&&(this.checked||!ot.test(e))}).map(function(e,t){var n=x(this).val();return null==n?null:x.isArray(n)?x.map(n,function(e){return{name:t.name,value:e.replace(Bt,"\r\n")}}):{name:t.name,value:n.replace(Bt,"\r\n")}}).get()}}),x.param=function(e,t){var n,r=[],i=function(e,t){t=x.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===undefined&&(t=x.ajaxSettings&&x.ajaxSettings.traditional),x.isArray(e)||e.jquery&&!x.isPlainObject(e))x.each(e,function(){i(this.name,this.value)});else for(n in e)_t(n,e[n],t,i);return r.join("&").replace(Wt,"+")};function _t(e,t,n,r){var i;if(x.isArray(t))x.each(t,function(t,i){n||$t.test(e)?r(e,i):_t(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==x.type(t))r(e,t);else for(i in t)_t(e+"["+i+"]",t[i],n,r)}x.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){x.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),x.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Xt,Ut,Yt=x.now(),Vt=/\?/,Gt=/#.*$/,Jt=/([?&])_=[^&]*/,Qt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Kt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Zt=/^(?:GET|HEAD)$/,en=/^\/\//,tn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,nn=x.fn.load,rn={},on={},sn="*/".concat("*");try{Ut=i.href}catch(an){Ut=o.createElement("a"),Ut.href="",Ut=Ut.href}Xt=tn.exec(Ut.toLowerCase())||[];function un(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(w)||[];if(x.isFunction(n))while(r=o[i++])"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function ln(e,t,n,r){var i={},o=e===on;function s(a){var u;return i[a]=!0,x.each(e[a]||[],function(e,a){var l=a(t,n,r);return"string"!=typeof l||o||i[l]?o?!(u=l):undefined:(t.dataTypes.unshift(l),s(l),!1)}),u}return s(t.dataTypes[0])||!i["*"]&&s("*")}function cn(e,t){var n,r,i=x.ajaxSettings.flatOptions||{};for(n in t)t[n]!==undefined&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&x.extend(!0,e,r),e}x.fn.load=function(e,t,n){if("string"!=typeof e&&nn)return nn.apply(this,arguments);var r,i,o,s=this,a=e.indexOf(" ");return a>=0&&(r=e.slice(a),e=e.slice(0,a)),x.isFunction(t)?(n=t,t=undefined):t&&"object"==typeof t&&(i="POST"),s.length>0&&x.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){o=arguments,s.html(r?x("<div>").append(x.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){s.each(n,o||[e.responseText,t,e])}),this},x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){x.fn[t]=function(e){return this.on(t,e)}}),x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ut,type:"GET",isLocal:Kt.test(Xt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":sn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":x.parseJSON,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?cn(cn(e,x.ajaxSettings),t):cn(x.ajaxSettings,e)},ajaxPrefilter:un(rn),ajaxTransport:un(on),ajax:function(e,t){"object"==typeof e&&(t=e,e=undefined),t=t||{};var n,r,i,o,s,a,u,l,c=x.ajaxSetup({},t),p=c.context||c,f=c.context&&(p.nodeType||p.jquery)?x(p):x.event,h=x.Deferred(),d=x.Callbacks("once memory"),g=c.statusCode||{},m={},y={},v=0,b="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(2===v){if(!o){o={};while(t=Qt.exec(i))o[t[1].toLowerCase()]=t[2]}t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===v?i:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return v||(e=y[n]=y[n]||e,m[e]=t),this},overrideMimeType:function(e){return v||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>v)for(t in e)g[t]=[g[t],e[t]];else T.always(e[T.status]);return this},abort:function(e){var t=e||b;return n&&n.abort(t),k(0,t),this}};if(h.promise(T).complete=d.add,T.success=T.done,T.error=T.fail,c.url=((e||c.url||Ut)+"").replace(Gt,"").replace(en,Xt[1]+"//"),c.type=t.method||t.type||c.method||c.type,c.dataTypes=x.trim(c.dataType||"*").toLowerCase().match(w)||[""],null==c.crossDomain&&(a=tn.exec(c.url.toLowerCase()),c.crossDomain=!(!a||a[1]===Xt[1]&&a[2]===Xt[2]&&(a[3]||("http:"===a[1]?"80":"443"))===(Xt[3]||("http:"===Xt[1]?"80":"443")))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=x.param(c.data,c.traditional)),ln(rn,c,t,T),2===v)return T;u=c.global,u&&0===x.active++&&x.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!Zt.test(c.type),r=c.url,c.hasContent||(c.data&&(r=c.url+=(Vt.test(r)?"&":"?")+c.data,delete c.data),c.cache===!1&&(c.url=Jt.test(r)?r.replace(Jt,"$1_="+Yt++):r+(Vt.test(r)?"&":"?")+"_="+Yt++)),c.ifModified&&(x.lastModified[r]&&T.setRequestHeader("If-Modified-Since",x.lastModified[r]),x.etag[r]&&T.setRequestHeader("If-None-Match",x.etag[r])),(c.data&&c.hasContent&&c.contentType!==!1||t.contentType)&&T.setRequestHeader("Content-Type",c.contentType),T.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+sn+"; q=0.01":""):c.accepts["*"]);for(l in c.headers)T.setRequestHeader(l,c.headers[l]);if(c.beforeSend&&(c.beforeSend.call(p,T,c)===!1||2===v))return T.abort();b="abort";for(l in{success:1,error:1,complete:1})T[l](c[l]);if(n=ln(on,c,t,T)){T.readyState=1,u&&f.trigger("ajaxSend",[T,c]),c.async&&c.timeout>0&&(s=setTimeout(function(){T.abort("timeout")},c.timeout));try{v=1,n.send(m,k)}catch(C){if(!(2>v))throw C;k(-1,C)}}else k(-1,"No Transport");function k(e,t,o,a){var l,m,y,b,w,C=t;2!==v&&(v=2,s&&clearTimeout(s),n=undefined,i=a||"",T.readyState=e>0?4:0,l=e>=200&&300>e||304===e,o&&(b=pn(c,T,o)),b=fn(c,b,T,l),l?(c.ifModified&&(w=T.getResponseHeader("Last-Modified"),w&&(x.lastModified[r]=w),w=T.getResponseHeader("etag"),w&&(x.etag[r]=w)),204===e||"HEAD"===c.type?C="nocontent":304===e?C="notmodified":(C=b.state,m=b.data,y=b.error,l=!y)):(y=C,(e||!C)&&(C="error",0>e&&(e=0))),T.status=e,T.statusText=(t||C)+"",l?h.resolveWith(p,[m,C,T]):h.rejectWith(p,[T,C,y]),T.statusCode(g),g=undefined,u&&f.trigger(l?"ajaxSuccess":"ajaxError",[T,c,l?m:y]),d.fireWith(p,[T,C]),u&&(f.trigger("ajaxComplete",[T,c]),--x.active||x.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return x.get(e,t,n,"json")},getScript:function(e,t){return x.get(e,undefined,t,"script")}}),x.each(["get","post"],function(e,t){x[t]=function(e,n,r,i){return x.isFunction(n)&&(i=i||r,r=n,n=undefined),x.ajax({url:e,type:t,dataType:i,data:n,success:r})}});function pn(e,t,n){var r,i,o,s,a=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),r===undefined&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}return o?(o!==u[0]&&u.unshift(o),n[o]):undefined}function fn(e,t,n,r){var i,o,s,a,u,l={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)l[s.toLowerCase()]=e.converters[s];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=l[u+" "+o]||l["* "+o],!s)for(i in l)if(a=i.split(" "),a[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){s===!0?s=l[i]:l[i]!==!0&&(o=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(p){return{state:"parsererror",error:s?p:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return x.globalEval(e),e}}}),x.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),x.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=x("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),o.head.appendChild(t[0])},abort:function(){n&&n()}}}});var hn=[],dn=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=hn.pop()||x.expando+"_"+Yt++;return this[e]=!0,e}}),x.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,s,a=t.jsonp!==!1&&(dn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&dn.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=x.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(dn,"$1"+i):t.jsonp!==!1&&(t.url+=(Vt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||x.error(i+" was not called"),s[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){s=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,hn.push(i)),s&&x.isFunction(o)&&o(s[0]),s=o=undefined}),"script"):undefined}),x.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var gn=x.ajaxSettings.xhr(),mn={0:200,1223:204},yn=0,vn={};e.ActiveXObject&&x(e).on("unload",function(){for(var e in vn)vn[e]();vn=undefined}),x.support.cors=!!gn&&"withCredentials"in gn,x.support.ajax=gn=!!gn,x.ajaxTransport(function(e){var t;return x.support.cors||gn&&!e.crossDomain?{send:function(n,r){var i,o,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)s[i]=e.xhrFields[i];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)s.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete vn[o],t=s.onload=s.onerror=null,"abort"===e?s.abort():"error"===e?r(s.status||404,s.statusText):r(mn[s.status]||s.status,s.statusText,"string"==typeof s.responseText?{text:s.responseText}:undefined,s.getAllResponseHeaders()))}},s.onload=t(),s.onerror=t("error"),t=vn[o=yn++]=t("abort"),s.send(e.hasContent&&e.data||null)},abort:function(){t&&t()}}:undefined});var xn,bn,wn=/^(?:toggle|show|hide)$/,Tn=RegExp("^(?:([+-])=|)("+b+")([a-z%]*)$","i"),Cn=/queueHooks$/,kn=[An],Nn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Tn.exec(t),o=i&&i[3]||(x.cssNumber[e]?"":"px"),s=(x.cssNumber[e]||"px"!==o&&+r)&&Tn.exec(x.css(n.elem,e)),a=1,u=20;if(s&&s[3]!==o){o=o||s[3],i=i||[],s=+r||1;do a=a||".5",s/=a,x.style(n.elem,e,s+o);while(a!==(a=n.cur()/r)&&1!==a&&--u)}return i&&(s=n.start=+s||+r||0,n.unit=o,n.end=i[1]?s+(i[1]+1)*i[2]:+i[2]),n}]};function En(){return setTimeout(function(){xn=undefined}),xn=x.now()}function Sn(e,t,n){var r,i=(Nn[t]||[]).concat(Nn["*"]),o=0,s=i.length;for(;s>o;o++)if(r=i[o].call(n,t,e))return r}function jn(e,t,n){var r,i,o=0,s=kn.length,a=x.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;var t=xn||En(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,s=0,u=l.tweens.length;for(;u>s;s++)l.tweens[s].run(o);return a.notifyWith(e,[l,o,n]),1>o&&u?n:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:x.extend({},t),opts:x.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:xn||En(),duration:n.duration,tweens:[],createTween:function(t,n){var r=x.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?a.resolveWith(e,[l,t]):a.rejectWith(e,[l,t]),this}}),c=l.props;for(Dn(c,l.opts.specialEasing);s>o;o++)if(r=kn[o].call(l,e,c,l.opts))return r;return x.map(c,Sn,l),x.isFunction(l.opts.start)&&l.opts.start.call(e,l),x.fx.timer(x.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function Dn(e,t){var n,r,i,o,s;for(n in e)if(r=x.camelCase(n),i=t[r],o=e[n],x.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),s=x.cssHooks[r],s&&"expand"in s){o=s.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}x.Animation=x.extend(jn,{tweener:function(e,t){x.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;i>r;r++)n=e[r],Nn[n]=Nn[n]||[],Nn[n].unshift(t)},prefilter:function(e,t){t?kn.unshift(e):kn.push(e)}});function An(e,t,n){var r,i,o,s,a,u,l=this,c={},p=e.style,f=e.nodeType&&Lt(e),h=q.get(e,"fxshow");n.queue||(a=x._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,l.always(function(){l.always(function(){a.unqueued--,x.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===x.css(e,"display")&&"none"===x.css(e,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",l.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],wn.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(f?"hide":"show")){if("show"!==i||!h||h[r]===undefined)continue;f=!0}c[r]=h&&h[r]||x.style(e,r)}if(!x.isEmptyObject(c)){h?"hidden"in h&&(f=h.hidden):h=q.access(e,"fxshow",{}),o&&(h.hidden=!f),f?x(e).show():l.done(function(){x(e).hide()}),l.done(function(){var t;q.remove(e,"fxshow");for(t in c)x.style(e,t,c[t])});for(r in c)s=Sn(f?h[r]:0,r,l),r in h||(h[r]=s.start,f&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}}function Ln(e,t,n,r,i){return new Ln.prototype.init(e,t,n,r,i)}x.Tween=Ln,Ln.prototype={constructor:Ln,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(x.cssNumber[n]?"":"px")},cur:function(){var e=Ln.propHooks[this.prop];return e&&e.get?e.get(this):Ln.propHooks._default.get(this)},run:function(e){var t,n=Ln.propHooks[this.prop];return this.pos=t=this.options.duration?x.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ln.propHooks._default.set(this),this}},Ln.prototype.init.prototype=Ln.prototype,Ln.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=x.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){x.fx.step[e.prop]?x.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[x.cssProps[e.prop]]||x.cssHooks[e.prop])?x.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Ln.propHooks.scrollTop=Ln.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},x.each(["toggle","show","hide"],function(e,t){var n=x.fn[t];x.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(qn(t,!0),e,r,i)}}),x.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Lt).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=x.isEmptyObject(e),o=x.speed(t,n,r),s=function(){var t=jn(this,x.extend({},e),o);(i||q.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=undefined),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=x.timers,s=q.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&Cn.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&x.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=q.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=x.timers,s=r?r.length:0;for(n.finish=!0,x.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;s>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}});function qn(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=jt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}x.each({slideDown:qn("show"),slideUp:qn("hide"),slideToggle:qn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){x.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),x.speed=function(e,t,n){var r=e&&"object"==typeof e?x.extend({},e):{complete:n||!n&&t||x.isFunction(e)&&e,duration:e,easing:n&&t||t&&!x.isFunction(t)&&t};return r.duration=x.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in x.fx.speeds?x.fx.speeds[r.duration]:x.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){x.isFunction(r.old)&&r.old.call(this),r.queue&&x.dequeue(this,r.queue)},r},x.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},x.timers=[],x.fx=Ln.prototype.init,x.fx.tick=function(){var e,t=x.timers,n=0;for(xn=x.now();t.length>n;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||x.fx.stop(),xn=undefined},x.fx.timer=function(e){e()&&x.timers.push(e)&&x.fx.start()},x.fx.interval=13,x.fx.start=function(){bn||(bn=setInterval(x.fx.tick,x.fx.interval))},x.fx.stop=function(){clearInterval(bn),bn=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fx.step={},x.expr&&x.expr.filters&&(x.expr.filters.animated=function(e){return x.grep(x.timers,function(t){return e===t.elem}).length}),x.fn.offset=function(e){if(arguments.length)return e===undefined?this:this.each(function(t){x.offset.setOffset(this,e,t)});var t,n,i=this[0],o={top:0,left:0},s=i&&i.ownerDocument;if(s)return t=s.documentElement,x.contains(t,i)?(typeof i.getBoundingClientRect!==r&&(o=i.getBoundingClientRect()),n=Hn(s),{top:o.top+n.pageYOffset-t.clientTop,left:o.left+n.pageXOffset-t.clientLeft}):o},x.offset={setOffset:function(e,t,n){var r,i,o,s,a,u,l,c=x.css(e,"position"),p=x(e),f={};"static"===c&&(e.style.position="relative"),a=p.offset(),o=x.css(e,"top"),u=x.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=p.position(),s=r.top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),x.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(f.top=t.top-a.top+s),null!=t.left&&(f.left=t.left-a.left+i),"using"in t?t.using.call(e,f):p.css(f)}},x.fn.extend({position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===x.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),x.nodeName(e[0],"html")||(r=e.offset()),r.top+=x.css(e[0],"borderTopWidth",!0),r.left+=x.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-x.css(n,"marginTop",!0),left:t.left-r.left-x.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||s;while(e&&!x.nodeName(e,"html")&&"static"===x.css(e,"position"))e=e.offsetParent;return e||s})}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r="pageYOffset"===n;x.fn[t]=function(i){return x.access(this,function(t,i,o){var s=Hn(t);return o===undefined?s?s[n]:t[i]:(s?s.scrollTo(r?e.pageXOffset:o,r?o:e.pageYOffset):t[i]=o,undefined)},t,i,arguments.length,null)}});function Hn(e){return x.isWindow(e)?e:9===e.nodeType&&e.defaultView}x.each({Height:"height",Width:"width"},function(e,t){x.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){x.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(r===!0||i===!0?"margin":"border");return x.access(this,function(t,n,r){var i;return x.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):r===undefined?x.css(t,n,s):x.style(t,n,r,s)},t,o?r:undefined,o,null)}})}),x.fn.size=function(){return this.length},x.fn.andSelf=x.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=x:"function"==typeof define&&define.amd&&define("jquery",[],function(){return x}),"object"==typeof e&&"object"==typeof e.document&&(e.jQuery=e.$=x)})(window);if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one(a.support.transition.end,function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b()})}(jQuery),+function(a){"use strict";var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype.close=function(b){function c(){f.trigger("closed.bs.alert").remove()}var d=a(this),e=d.attr("data-target");e||(e=d.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,""));var f=a(e);b&&b.preventDefault(),f.length||(f=d.hasClass("alert")?d:d.parent()),f.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one(a.support.transition.end,c).emulateTransitionEnd(150):c())};var d=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("bs.alert");e||d.data("bs.alert",e=new c(this)),"string"==typeof b&&e[b].call(d)})},a.fn.alert.Constructor=c,a.fn.alert.noConflict=function(){return a.fn.alert=d,this},a(document).on("click.bs.alert.data-api",b,c.prototype.close)}(jQuery),+function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.isLoading=!1};b.DEFAULTS={loadingText:"loading..."},b.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",f.resetText||d.data("resetText",d[e]()),d[e](f[b]||this.options[b]),setTimeout(a.proxy(function(){"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},b.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")&&(c.prop("checked")&&this.$element.hasClass("active")?a=!1:b.find(".active").removeClass("active")),a&&c.prop("checked",!this.$element.hasClass("active")).trigger("change")}a&&this.$element.toggleClass("active")};var c=a.fn.button;a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof c&&c;e||d.data("bs.button",e=new b(this,f)),"toggle"==c?e.toggle():c&&e.setState(c)})},a.fn.button.Constructor=b,a.fn.button.noConflict=function(){return a.fn.button=c,this},a(document).on("click.bs.button.data-api","[data-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle"),b.preventDefault()})}(jQuery),+function(a){"use strict";var b=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},b.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},b.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},b.prototype.to=function(b){var c=this,d=this.getActiveIndex();return b>this.$items.length-1||0>b?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){c.to(b)}):d==b?this.pause().cycle():this.slide(b>d?"next":"prev",a(this.$items[b]))},b.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},b.prototype.next=function(){return this.sliding?void 0:this.slide("next")},b.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},b.prototype.slide=function(b,c){var d=this.$element.find(".item.active"),e=c||d[b](),f=this.interval,g="next"==b?"left":"right",h="next"==b?"first":"last",i=this;if(!e.length){if(!this.options.wrap)return;e=this.$element.find(".item")[h]()}if(e.hasClass("active"))return this.sliding=!1;var j=a.Event("slide.bs.carousel",{relatedTarget:e[0],direction:g});return this.$element.trigger(j),j.isDefaultPrevented()?void 0:(this.sliding=!0,f&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var b=a(i.$indicators.children()[i.getActiveIndex()]);b&&b.addClass("active")})),a.support.transition&&this.$element.hasClass("slide")?(e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),d.one(a.support.transition.end,function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(1e3*d.css("transition-duration").slice(0,-1))):(d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")),f&&this.cycle(),this)};var c=a.fn.carousel;a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c),g="string"==typeof c?c:f.slide;e||d.data("bs.carousel",e=new b(this,f)),"number"==typeof c?e.to(c):g?e[g]():f.interval&&e.pause().cycle()})},a.fn.carousel.Constructor=b,a.fn.carousel.noConflict=function(){return a.fn.carousel=c,this},a(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(b){var c,d=a(this),e=a(d.attr("data-target")||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"")),f=a.extend({},e.data(),d.data()),g=d.attr("data-slide-to");g&&(f.interval=!1),e.carousel(f),(g=d.attr("data-slide-to"))&&e.data("bs.carousel").to(g),b.preventDefault()}),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var b=a(this);b.carousel(b.data())})})}(jQuery),+function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.transitioning=null,this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.DEFAULTS={toggle:!0},b.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},b.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b=a.Event("show.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.$parent&&this.$parent.find("> .panel > .in");if(c&&c.length){var d=c.data("bs.collapse");if(d&&d.transitioning)return;c.collapse("hide"),d||c.data("bs.collapse",null)}var e=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[e](0),this.transitioning=1;var f=function(){this.$element.removeClass("collapsing").addClass("collapse in")[e]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return f.call(this);var g=a.camelCase(["scroll",e].join("-"));this.$element.one(a.support.transition.end,a.proxy(f,this)).emulateTransitionEnd(350)[e](this.$element[0][g])}}},b.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return a.support.transition?void this.$element[c](0).one(a.support.transition.end,a.proxy(d,this)).emulateTransitionEnd(350):d.call(this)}}},b.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var c=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("bs.collapse"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c);!e&&f.toggle&&"show"==c&&(c=!c),e||d.data("bs.collapse",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.collapse.Constructor=b,a.fn.collapse.noConflict=function(){return a.fn.collapse=c,this},a(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(b){var c,d=a(this),e=d.attr("data-target")||b.preventDefault()||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,""),f=a(e),g=f.data("bs.collapse"),h=g?"toggle":d.data(),i=d.attr("data-parent"),j=i&&a(i);g&&g.transitioning||(j&&j.find('[data-toggle=collapse][data-parent="'+i+'"]').not(d).addClass("collapsed"),d[f.hasClass("in")?"addClass":"removeClass"]("collapsed")),f.collapse(h)})}(jQuery),+function(a){"use strict";function b(b){a(d).remove(),a(e).each(function(){var d=c(a(this)),e={relatedTarget:this};d.hasClass("open")&&(d.trigger(b=a.Event("hide.bs.dropdown",e)),b.isDefaultPrevented()||d.removeClass("open").trigger("hidden.bs.dropdown",e))})}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}var d=".dropdown-backdrop",e="[data-toggle=dropdown]",f=function(b){a(b).on("click.bs.dropdown",this.toggle)};f.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;f.toggleClass("open").trigger("shown.bs.dropdown",h),e.focus()}return!1}},f.prototype.keydown=function(b){if(/(38|40|27)/.test(b.keyCode)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var f=c(d),g=f.hasClass("open");if(!g||g&&27==b.keyCode)return 27==b.which&&f.find(e).focus(),d.click();var h=" li:not(.divider):visible a",i=f.find("[role=menu]"+h+", [role=listbox]"+h);if(i.length){var j=i.index(i.filter(":focus"));38==b.keyCode&&j>0&&j--,40==b.keyCode&&j<i.length-1&&j++,~j||(j=0),i.eq(j).focus()}}}};var g=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new f(this)),"string"==typeof b&&d[b].call(c)})},a.fn.dropdown.Constructor=f,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=g,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",e,f.prototype.toggle).on("keydown.bs.dropdown.data-api",e+", [role=menu], [role=listbox]",f.prototype.keydown)}(jQuery),+function(a){"use strict";var b=function(b,c){this.options=c,this.$element=a(b),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};b.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},b.prototype.toggle=function(a){return this[this.isShown?"hide":"show"](a)},b.prototype.show=function(b){var c=this,d=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(d),this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var d=a.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(document.body),c.$element.show().scrollTop(0),d&&c.$element[0].offsetWidth,c.$element.addClass("in").attr("aria-hidden",!1),c.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:b});d?c.$element.find(".modal-dialog").one(a.support.transition.end,function(){c.$element.focus().trigger(e)}).emulateTransitionEnd(300):c.$element.focus().trigger(e)}))},b.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one(a.support.transition.end,a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},b.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.focus()},this))},b.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},b.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.removeBackdrop(),a.$element.trigger("hidden.bs.modal")})},b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},b.prototype.backdrop=function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;if(this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;d?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()):b&&b()};var c=a.fn.modal;a.fn.modal=function(c,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},b.DEFAULTS,e.data(),"object"==typeof c&&c);f||e.data("bs.modal",f=new b(this,g)),"string"==typeof c?f[c](d):g.show&&f.show(d)})},a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=c,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());c.is("a")&&b.preventDefault(),e.modal(f,this).one("hide",function(){c.is(":visible")&&c.focus()})}),a(document).on("show.bs.modal",".modal",function(){a(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){a(document.body).removeClass("modal-open")})}(jQuery),+function(a){"use strict";var b=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};b.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},b.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},b.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},b.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show()},b.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},b.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(b),b.isDefaultPrevented())return;var c=this,d=this.tip();this.setContent(),this.options.animation&&d.addClass("fade");var e="function"==typeof this.options.placement?this.options.placement.call(this,d[0],this.$element[0]):this.options.placement,f=/\s?auto?\s?/i,g=f.test(e);g&&(e=e.replace(f,"")||"top"),d.detach().css({top:0,left:0,display:"block"}).addClass(e),this.options.container?d.appendTo(this.options.container):d.insertAfter(this.$element);var h=this.getPosition(),i=d[0].offsetWidth,j=d[0].offsetHeight;if(g){var k=this.$element.parent(),l=e,m=document.documentElement.scrollTop||document.body.scrollTop,n="body"==this.options.container?window.innerWidth:k.outerWidth(),o="body"==this.options.container?window.innerHeight:k.outerHeight(),p="body"==this.options.container?0:k.offset().left;e="bottom"==e&&h.top+h.height+j-m>o?"top":"top"==e&&h.top-m-j<0?"bottom":"right"==e&&h.right+i>n?"left":"left"==e&&h.left-i<p?"right":e,d.removeClass(l).addClass(e)}var q=this.getCalculatedOffset(e,h,i,j);this.applyPlacement(q,e),this.hoverState=null;var r=function(){c.$element.trigger("shown.bs."+c.type)};a.support.transition&&this.$tip.hasClass("fade")?d.one(a.support.transition.end,r).emulateTransitionEnd(150):r()}},b.prototype.applyPlacement=function(b,c){var d,e=this.tip(),f=e[0].offsetWidth,g=e[0].offsetHeight,h=parseInt(e.css("margin-top"),10),i=parseInt(e.css("margin-left"),10);isNaN(h)&&(h=0),isNaN(i)&&(i=0),b.top=b.top+h,b.left=b.left+i,a.offset.setOffset(e[0],a.extend({using:function(a){e.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),e.addClass("in");var j=e[0].offsetWidth,k=e[0].offsetHeight;if("top"==c&&k!=g&&(d=!0,b.top=b.top+g-k),/bottom|top/.test(c)){var l=0;b.left<0&&(l=-2*b.left,b.left=0,e.offset(b),j=e[0].offsetWidth,k=e[0].offsetHeight),this.replaceArrow(l-f+j,j,"left")}else this.replaceArrow(k-g,k,"top");d&&e.offset(b)},b.prototype.replaceArrow=function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},b.prototype.hide=function(){function b(){"in"!=c.hoverState&&d.detach(),c.$element.trigger("hidden.bs."+c.type)}var c=this,d=this.tip(),e=a.Event("hide.bs."+this.type);return this.$element.trigger(e),e.isDefaultPrevented()?void 0:(d.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d.one(a.support.transition.end,b).emulateTransitionEnd(150):b(),this.hoverState=null,this)},b.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},b.prototype.hasContent=function(){return this.getTitle()},b.prototype.getPosition=function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},b.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},b.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},b.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},b.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},b.prototype.enable=function(){this.enabled=!0},b.prototype.disable=function(){this.enabled=!1},b.prototype.toggleEnabled=function(){this.enabled=!this.enabled},b.prototype.toggle=function(b){var c=b?a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;c.tip().hasClass("in")?c.leave(c):c.enter(c)},b.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof c&&c;(e||"destroy"!=c)&&(e||d.data("bs.tooltip",e=new b(this,f)),"string"==typeof c&&e[c]())})},a.fn.tooltip.Constructor=b,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(jQuery),+function(a){"use strict";var b=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");b.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),b.prototype.constructor=b,b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content")[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},b.prototype.hasContent=function(){return this.getTitle()||this.getContent()},b.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},b.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var c=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof c&&c;(e||"destroy"!=c)&&(e||d.data("bs.popover",e=new b(this,f)),"string"==typeof c&&e[c]())})},a.fn.popover.Constructor=b,a.fn.popover.noConflict=function(){return a.fn.popover=c,this}}(jQuery),+function(a){"use strict";function b(c,d){var e,f=a.proxy(this.process,this);this.$element=a(a(c).is("body")?window:c),this.$body=a("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",f),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||(e=a(c).attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=a([]),this.targets=a([]),this.activeTarget=null,this.refresh(),this.process()}b.DEFAULTS={offset:10},b.prototype.refresh=function(){var b=this.$element[0]==window?"offset":"position";this.offsets=a([]),this.targets=a([]);{var c=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[b]().top+(!a.isWindow(c.$scrollElement.get(0))&&c.$scrollElement.scrollTop()),e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){c.offsets.push(this[0]),c.targets.push(this[1])})}},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,d=c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(b>=d)return g!=(a=f.last()[0])&&this.activate(a);if(g&&b<=e[0])return g!=(a=f[0])&&this.activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,a(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")};var c=a.fn.scrollspy;a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=c,this},a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(jQuery),+function(a){"use strict";var b=function(b){this.element=a(b)};b.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a")[0],f=a.Event("show.bs.tab",{relatedTarget:e});if(b.trigger(f),!f.isDefaultPrevented()){var g=a(d);this.activate(b.parent("li"),c),this.activate(g,g.parent(),function(){b.trigger({type:"shown.bs.tab",relatedTarget:e})})}}},b.prototype.activate=function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one(a.support.transition.end,e).emulateTransitionEnd(150):e(),f.removeClass("in")};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new b(this)),"string"==typeof c&&e[c]()})},a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=c,this},a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})}(jQuery),+function(a){"use strict";var b=function(c,d){this.options=a.extend({},b.DEFAULTS,d),this.$window=a(window).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(c),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};b.RESET="affix affix-top affix-bottom",b.DEFAULTS={offset:0},b.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(b.RESET).addClass("affix");var a=this.$window.scrollTop(),c=this.$element.offset();return this.pinnedOffset=c.top-a},b.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var c=a(document).height(),d=this.$window.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.top,h=f.bottom;"top"==this.affixed&&(e.top+=d),"object"!=typeof f&&(h=g=f),"function"==typeof g&&(g=f.top(this.$element)),"function"==typeof h&&(h=f.bottom(this.$element));var i=null!=this.unpin&&d+this.unpin<=e.top?!1:null!=h&&e.top+this.$element.height()>=c-h?"bottom":null!=g&&g>=d?"top":!1;if(this.affixed!==i){this.unpin&&this.$element.css("top","");var j="affix"+(i?"-"+i:""),k=a.Event(j+".bs.affix");this.$element.trigger(k),k.isDefaultPrevented()||(this.affixed=i,this.unpin="bottom"==i?this.getPinnedOffset():null,this.$element.removeClass(b.RESET).addClass(j).trigger(a.Event(j.replace("affix","affixed"))),"bottom"==i&&this.$element.offset({top:c-h-this.$element.height()}))}}};var c=a.fn.affix;a.fn.affix=function(c){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof c&&c;e||d.data("bs.affix",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.affix.Constructor=b,a.fn.affix.noConflict=function(){return a.fn.affix=c,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})}(jQuery);!function(t,e){var o,n;return n=e.document,o=function(){function o(o){var n;try{n=e.localStorage}catch(i){n=!1}this._options=t.extend({name:"tour",steps:[],container:"body",autoscroll:!0,keyboard:!0,storage:n,debug:!1,backdrop:!1,backdropPadding:0,redirect:!0,orphan:!1,duration:!1,delay:!1,basePath:"",template:'<div class="popover" role="tooltip"> <div class="arrow"></div> <h3 class="popover-title"></h3> <div class="popover-content"></div> <div class="popover-navigation"> <div class="btn-group"> <button class="btn btn-sm btn-default" data-role="prev">&laquo; Prev</button> <button class="btn btn-sm btn-default" data-role="next">Next &raquo;</button> <button class="btn btn-sm btn-default" data-role="pause-resume" data-pause-text="Pause" data-resume-text="Resume">Pause</button> </div> <button class="btn btn-sm btn-default" data-role="end">End tour</button> </div> </div>',afterSetState:function(){},afterGetState:function(){},afterRemoveState:function(){},onStart:function(){},onEnd:function(){},onShow:function(){},onShown:function(){},onHide:function(){},onHidden:function(){},onNext:function(){},onPrev:function(){},onPause:function(){},onResume:function(){}},o),this._force=!1,this._inited=!1,this.backdrop={overlay:null,$element:null,$background:null,backgroundShown:!1,overlayElementShown:!1}}return o.prototype.addSteps=function(t){var e,o,n;for(o=0,n=t.length;n>o;o++)e=t[o],this.addStep(e);return this},o.prototype.addStep=function(t){return this._options.steps.push(t),this},o.prototype.getStep=function(e){return null!=this._options.steps[e]?t.extend({id:"step-"+e,path:"",placement:"right",title:"",content:"<p></p>",next:e===this._options.steps.length-1?-1:e+1,prev:e-1,animation:!0,container:this._options.container,autoscroll:this._options.autoscroll,backdrop:this._options.backdrop,backdropPadding:this._options.backdropPadding,redirect:this._options.redirect,orphan:this._options.orphan,duration:this._options.duration,delay:this._options.delay,template:this._options.template,onShow:this._options.onShow,onShown:this._options.onShown,onHide:this._options.onHide,onHidden:this._options.onHidden,onNext:this._options.onNext,onPrev:this._options.onPrev,onPause:this._options.onPause,onResume:this._options.onResume},this._options.steps[e]):void 0},o.prototype.init=function(t){return this._force=t,this.ended()?(this._debug("Tour ended, init prevented."),this):(this.setCurrentStep(),this._initMouseNavigation(),this._initKeyboardNavigation(),this._onResize(function(t){return function(){return t.showStep(t._current)}}(this)),null!==this._current&&this.showStep(this._current),this._inited=!0,this)},o.prototype.start=function(t){var e;return null==t&&(t=!1),this._inited||this.init(t),null===this._current&&(e=this._makePromise(null!=this._options.onStart?this._options.onStart(this):void 0),this._callOnPromiseDone(e,this.showStep,0)),this},o.prototype.next=function(){var t;return t=this.hideStep(this._current),this._callOnPromiseDone(t,this._showNextStep)},o.prototype.prev=function(){var t;return t=this.hideStep(this._current),this._callOnPromiseDone(t,this._showPrevStep)},o.prototype.goTo=function(t){var e;return e=this.hideStep(this._current),this._callOnPromiseDone(e,this.showStep,t)},o.prototype.end=function(){var o,i;return o=function(o){return function(){return t(n).off("click.tour-"+o._options.name),t(n).off("keyup.tour-"+o._options.name),t(e).off("resize.tour-"+o._options.name),o._setState("end","yes"),o._inited=!1,o._force=!1,o._clearTimer(),null!=o._options.onEnd?o._options.onEnd(o):void 0}}(this),i=this.hideStep(this._current),this._callOnPromiseDone(i,o)},o.prototype.ended=function(){return!this._force&&!!this._getState("end")},o.prototype.restart=function(){return this._removeState("current_step"),this._removeState("end"),this.start()},o.prototype.pause=function(){var t;return t=this.getStep(this._current),t&&t.duration?(this._paused=!0,this._duration-=(new Date).getTime()-this._start,e.clearTimeout(this._timer),this._debug("Paused/Stopped step "+(this._current+1)+" timer ("+this._duration+" remaining)."),null!=t.onPause?t.onPause(this,this._duration):void 0):this},o.prototype.resume=function(){var t;return t=this.getStep(this._current),t&&t.duration?(this._paused=!1,this._start=(new Date).getTime(),this._duration=this._duration||t.duration,this._timer=e.setTimeout(function(t){return function(){return t._isLast()?t.next():t.end()}}(this),this._duration),this._debug("Started step "+(this._current+1)+" timer with duration "+this._duration),null!=t.onResume&&this._duration!==t.duration?t.onResume(this,this._duration):void 0):this},o.prototype.hideStep=function(e){var o,n,i;return(i=this.getStep(e))?(this._clearTimer(),n=this._makePromise(null!=i.onHide?i.onHide(this,e):void 0),o=function(o){return function(){var n;return n=t(i.element),n.data("bs.popover")||n.data("popover")||(n=t("body")),n.popover("destroy").removeClass("tour-"+o._options.name+"-element tour-"+o._options.name+"-"+e+"-element"),i.reflex&&n.removeClass("tour-step-element-reflex").off(""+o._reflexEvent(i.reflex)+".tour-"+o._options.name),i.backdrop&&o._hideBackdrop(),null!=i.onHidden?i.onHidden(o):void 0}}(this),this._callOnPromiseDone(n,o),n):void 0},o.prototype.showStep=function(t){var o,i,r,s;return this.ended()?(this._debug("Tour ended, showStep prevented."),this):(s=this.getStep(t))?(r=t<this._current,o=this._makePromise(null!=s.onShow?s.onShow(this,t):void 0),i=function(e){return function(){var o,i,a;if(e.setCurrentStep(t),i=function(){switch({}.toString.call(s.path)){case"[object Function]":return s.path();case"[object String]":return this._options.basePath+s.path;default:return s.path}}.call(e),o=[n.location.pathname,n.location.hash].join(""),e._isRedirect(i,o))return e._redirect(s,i),void 0;if(e._isOrphan(s)){if(!s.orphan)return e._debug("Skip the orphan step "+(e._current+1)+".\nOrphan option is false and the element does not exist or is hidden."),r?e._showPrevStep():e._showNextStep(),void 0;e._debug("Show the orphan step "+(e._current+1)+". Orphans option is true.")}return s.backdrop&&e._showBackdrop(e._isOrphan(s)?void 0:s.element),a=function(){return e.getCurrentStep()===t?(null!=s.element&&s.backdrop&&e._showOverlayElement(s),e._showPopover(s,t),null!=s.onShown&&s.onShown(e),e._debug("Step "+(e._current+1)+" of "+e._options.steps.length)):void 0},s.autoscroll?e._scrollIntoView(s.element,a):a(),s.duration?e.resume():void 0}}(this),s.delay?(this._debug("Wait "+s.delay+" milliseconds to show the step "+(this._current+1)),e.setTimeout(function(t){return function(){return t._callOnPromiseDone(o,i)}}(this),s.delay)):this._callOnPromiseDone(o,i),o):void 0},o.prototype.getCurrentStep=function(){return this._current},o.prototype.setCurrentStep=function(t){return null!=t?(this._current=t,this._setState("current_step",t)):(this._current=this._getState("current_step"),this._current=null===this._current?null:parseInt(this._current,10)),this},o.prototype._setState=function(t,e){var o,n;if(this._options.storage){n=""+this._options.name+"_"+t;try{this._options.storage.setItem(n,e)}catch(i){o=i,o.code===DOMException.QUOTA_EXCEEDED_ERR&&this.debug("LocalStorage quota exceeded. State storage failed.")}return this._options.afterSetState(n,e)}return null==this._state&&(this._state={}),this._state[t]=e},o.prototype._removeState=function(t){var e;return this._options.storage?(e=""+this._options.name+"_"+t,this._options.storage.removeItem(e),this._options.afterRemoveState(e)):null!=this._state?delete this._state[t]:void 0},o.prototype._getState=function(t){var e,o;return this._options.storage?(e=""+this._options.name+"_"+t,o=this._options.storage.getItem(e)):null!=this._state&&(o=this._state[t]),(void 0===o||"null"===o)&&(o=null),this._options.afterGetState(t,o),o},o.prototype._showNextStep=function(){var t,e,o;return o=this.getStep(this._current),e=function(t){return function(){return t.showStep(o.next)}}(this),t=this._makePromise(null!=o.onNext?o.onNext(this):void 0),this._callOnPromiseDone(t,e)},o.prototype._showPrevStep=function(){var t,e,o;return o=this.getStep(this._current),e=function(t){return function(){return t.showStep(o.prev)}}(this),t=this._makePromise(null!=o.onPrev?o.onPrev(this):void 0),this._callOnPromiseDone(t,e)},o.prototype._debug=function(t){return this._options.debug?e.console.log("Bootstrap Tour '"+this._options.name+"' | "+t):void 0},o.prototype._isRedirect=function(t,e){return null!=t&&""!==t&&("[object RegExp]"==={}.toString.call(t)&&!t.test(e)||"[object String]"==={}.toString.call(t)&&t.replace(/\?.*$/,"").replace(/\/?$/,"")!==e.replace(/\/?$/,""))},o.prototype._redirect=function(e,o){return t.isFunction(e.redirect)?e.redirect.call(this,o):e.redirect===!0?(this._debug("Redirect to "+o),n.location.href=o):void 0},o.prototype._isOrphan=function(e){return null==e.element||!t(e.element).length||t(e.element).is(":hidden")&&"http://www.w3.org/2000/svg"!==t(e.element)[0].namespaceURI},o.prototype._isLast=function(){return this._current<this._options.steps.length-1},o.prototype._showPopover=function(e,o){var n,i,r,s;return t(".tour-"+this._options.name).remove(),s=t.extend({},this._options),r=this._isOrphan(e),e.template=this._template(e,o),r&&(e.element="body",e.placement="top"),n=t(e.element),n.addClass("tour-"+this._options.name+"-element tour-"+this._options.name+"-"+o+"-element"),e.options&&t.extend(s,e.options),e.reflex&&!r&&(n.addClass("tour-step-element-reflex"),n.off(""+this._reflexEvent(e.reflex)+".tour-"+this._options.name),n.on(""+this._reflexEvent(e.reflex)+".tour-"+this._options.name,function(t){return function(){return t._isLast()?t.next():t.end()}}(this))),n.popover({placement:e.placement,trigger:"manual",title:e.title,content:e.content,html:!0,animation:e.animation,container:e.container,template:e.template,selector:e.element}).popover("show"),i=n.data("bs.popover")?n.data("bs.popover").tip():n.data("popover").tip(),i.attr("id",e.id),this._reposition(i,e),r?this._center(i):void 0},o.prototype._template=function(e,o){var n,i,r,s;return s=t.isFunction(e.template)?t(e.template(o,e)):t(e.template),n=s.find(".popover-navigation"),r=n.find('[data-role="prev"]'),i=n.find('[data-role="next"]'),this._isOrphan(e)&&s.addClass("orphan"),s.addClass("tour-"+this._options.name+" tour-"+this._options.name+"-"+o),e.prev<0&&n.find('[data-role="prev"]').addClass("disabled"),e.next<0&&n.find('[data-role="next"]').addClass("disabled"),e.duration||n.find('[data-role="pause-resume"]').remove(),s.clone().wrap("<div>").parent().html()},o.prototype._reflexEvent=function(t){return"[object Boolean]"==={}.toString.call(t)?"click":t},o.prototype._reposition=function(e,o){var i,r,s,a,p,u,h;if(a=e[0].offsetWidth,r=e[0].offsetHeight,h=e.offset(),p=h.left,u=h.top,i=t(n).outerHeight()-h.top-e.outerHeight(),0>i&&(h.top=h.top+i),s=t("html").outerWidth()-h.left-e.outerWidth(),0>s&&(h.left=h.left+s),h.top<0&&(h.top=0),h.left<0&&(h.left=0),e.offset(h),"bottom"===o.placement||"top"===o.placement){if(p!==h.left)return this._replaceArrow(e,2*(h.left-p),a,"left")}else if(u!==h.top)return this._replaceArrow(e,2*(h.top-u),r,"top")},o.prototype._center=function(o){return o.css("top",t(e).outerHeight()/2-o.outerHeight()/2)},o.prototype._replaceArrow=function(t,e,o,n){return t.find(".arrow").css(n,e?50*(1-e/o)+"%":"")},o.prototype._scrollIntoView=function(o,n){var i,r,s,a,p,u;return i=t(o),i.length?(r=t(e),a=i.offset().top,u=r.height(),p=Math.max(0,a-u/2),this._debug("Scroll into view. ScrollTop: "+p+". Element offset: "+a+". Window height: "+u+"."),s=0,t("body, html").stop(!0,!0).animate({scrollTop:Math.ceil(p)},function(t){return function(){return 2===++s?(n(),t._debug("Scroll into view.\nAnimation end element offset: "+i.offset().top+".\nWindow height: "+r.height()+".")):void 0}}(this))):n()},o.prototype._onResize=function(o,n){return t(e).on("resize.tour-"+this._options.name,function(){return clearTimeout(n),n=setTimeout(o,100)})},o.prototype._initMouseNavigation=function(){var e;return e=this,t(n).off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='prev']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='next']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='end']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='pause-resume']").on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='next']",function(t){return function(e){return e.preventDefault(),t.next()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='prev']",function(t){return function(e){return e.preventDefault(),t.prev()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='end']",function(t){return function(e){return e.preventDefault(),t.end()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='pause-resume']",function(o){var n;return o.preventDefault(),n=t(this),n.text(e._paused?n.data("pause-text"):n.data("resume-text")),e._paused?e.resume():e.pause()})},o.prototype._initKeyboardNavigation=function(){return this._options.keyboard?t(n).on("keyup.tour-"+this._options.name,function(t){return function(e){if(e.which)switch(e.which){case 39:return e.preventDefault(),t._isLast()?t.next():t.end();case 37:if(e.preventDefault(),t._current>0)return t.prev();break;case 27:return e.preventDefault(),t.end()}}}(this)):void 0},o.prototype._makePromise=function(e){return e&&t.isFunction(e.then)?e:null},o.prototype._callOnPromiseDone=function(t,e,o){return t?t.then(function(t){return function(){return e.call(t,o)}}(this)):e.call(this,o)},o.prototype._showBackdrop=function(){return this.backdrop.backgroundShown?void 0:(this.backdrop=t("<div>",{"class":"tour-backdrop"}),this.backdrop.backgroundShown=!0,t("body").append(this.backdrop))},o.prototype._hideBackdrop=function(){return this._hideOverlayElement(),this._hideBackground()},o.prototype._hideBackground=function(){return this.backdrop?(this.backdrop.remove(),this.backdrop.overlay=null,this.backdrop.backgroundShown=!1):void 0},o.prototype._showOverlayElement=function(e){var o,n;return o=t(e.element),o&&0!==o.length&&!this.backdrop.overlayElementShown?(this.backdrop.overlayElementShown=!0,this.backdrop.$element=o.addClass("tour-step-backdrop"),this.backdrop.$background=t("<div>",{"class":"tour-step-background"}),n={width:o.innerWidth(),height:o.innerHeight(),offset:o.offset()},this.backdrop.$background.appendTo("body"),e.backdropPadding&&(n=this._applyBackdropPadding(e.backdropPadding,n)),this.backdrop.$background.width(n.width).height(n.height).offset(n.offset)):void 0},o.prototype._hideOverlayElement=function(){return this.backdrop.overlayElementShown?(this.backdrop.$element.removeClass("tour-step-backdrop"),this.backdrop.$background.remove(),this.backdrop.$element=null,this.backdrop.$background=null,this.backdrop.overlayElementShown=!1):void 0},o.prototype._applyBackdropPadding=function(t,e){return"object"==typeof t?(null==t.top&&(t.top=0),null==t.right&&(t.right=0),null==t.bottom&&(t.bottom=0),null==t.left&&(t.left=0),e.offset.top=e.offset.top-t.top,e.offset.left=e.offset.left-t.left,e.width=e.width+t.left+t.right,e.height=e.height+t.top+t.bottom):(e.offset.top=e.offset.top-t,e.offset.left=e.offset.left-t,e.width=e.width+2*t,e.height=e.height+2*t),e},o.prototype._clearTimer=function(){return e.clearTimeout(this._timer),this._timer=null,this._duration=null},o}(),e.Tour=o}(jQuery,window);(function(f,define){define([],f)})(function(){!function(e,t,n){function i(){}function r(e,t){if(t)return"'"+e.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";var n=e.charAt(0),i=e.substring(1);return"="===n?"+("+i+")+":":"===n?"+e("+i+")+":";"+e+";o+="}function o(e,t,n){return e+="",t=t||2,n=t-e.length,n?U[t].substring(0,n)+e:e}function a(e){var t=e.css(mt.support.transitions.css+"box-shadow")||e.css("box-shadow"),n=t?t.match(kt)||[0,0,0,0,0]:[0,0,0,0,0],i=xt.max(+n[3],+(n[4]||0));return{left:-n[1]+i,right:+n[1]+i,bottom:+n[2]+i}}function s(t,n){var i,r,o,s,l,u,c,d,f=Mt.browser,p="rtl"==t.css("direction");return t.parent().hasClass("k-animation-container")?(c=t.parent(".k-animation-container"),d=c[0].style,c.is(":hidden")&&c.show(),i=Tt.test(d.width)||Tt.test(d.height),i||c.css({width:t.outerWidth(),height:t.outerHeight(),boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"})):(r=a(t),o=t[0].style.width,s=t[0].style.height,l=Tt.test(o),u=Tt.test(s),f.opera&&(r.left=r.right=r.bottom=5),i=l||u,!l&&(!n||n&&o)&&(o=t.outerWidth()),!u&&(!n||n&&s)&&(s=t.outerHeight()),t.wrap(e("<div/>").addClass("k-animation-container").css({width:o,height:s,marginLeft:r.left*(p?1:-1),paddingLeft:r.left,paddingRight:r.right,paddingBottom:r.bottom})),i&&t.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})),f.msie&&xt.floor(f.version)<=7&&(t.css({zoom:1}),t.children(".k-menu").width(t.width())),t.parent()}function l(e){var t=1,n=arguments.length;for(t=1;n>t;t++)u(e,arguments[t]);return e}function u(e,t){var n,i,r,o,a,s=mt.data.ObservableArray,l=mt.data.LazyObservableArray,c=mt.data.DataSource,d=mt.data.HierarchicalDataSource;for(n in t)i=t[n],r=typeof i,o=r===Ct&&null!==i?i.constructor:null,o&&o!==Array&&o!==s&&o!==l&&o!==c&&o!==d?i instanceof Date?e[n]=new Date(i.getTime()):P(i.clone)?e[n]=i.clone():(a=e[n],e[n]=typeof a===Ct?a||{}:{},u(e[n],i)):r!==Ht&&(e[n]=i);return e}function c(e,t,i){for(var r in t)if(t.hasOwnProperty(r)&&t[r].test(e))return r;return i!==n?i:e}function d(e){return e.replace(/([a-z][A-Z])/g,function(e){return e.charAt(0)+"-"+e.charAt(1).toLowerCase()})}function f(e){return e.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()})}function p(t,n){var i,r={};return document.defaultView&&document.defaultView.getComputedStyle?(i=document.defaultView.getComputedStyle(t,""),n&&e.each(n,function(e,t){r[t]=i.getPropertyValue(t)})):(i=t.currentStyle,n&&e.each(n,function(e,t){r[t]=i[f(t)]})),mt.size(r)||(r=i),r}function h(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&"toJSON"!=t&&n++;return n}function m(e,n,i){n||(n="offset");var r=e[n]();return Mt.browser.msie&&(Mt.pointers||Mt.msPointers)&&!i&&(r.top-=t.pageYOffset-document.documentElement.scrollTop,r.left-=t.pageXOffset-document.documentElement.scrollLeft),r}function g(e){var t={};return vt("string"==typeof e?e.split(" "):e,function(e){t[e]=this}),t}function v(e){return new mt.effects.Element(e)}function y(e,t,n,i){return typeof e===Dt&&(P(t)&&(i=t,t=400,n=!1),P(n)&&(i=n,n=!1),typeof t===At&&(n=t,t=400),e={effects:e,duration:t,reverse:n,complete:i}),gt({effects:{},duration:400,reverse:!1,init:_t,teardown:_t,hide:!1},e,{completeCallback:e.complete,complete:_t})}function b(t,n,i,r,o){for(var a,s=0,l=t.length;l>s;s++)a=e(t[s]),a.queue(function(){B.promise(a,y(n,i,r,o))});return t}function _(e,t,n,i){return t&&(t=t.split(" "),vt(t,function(t,n){e.toggleClass(n,i)})),e}function x(e){return(""+e).replace(j,"&amp;").replace($,"&lt;").replace(V,"&gt;").replace(Y,"&quot;").replace(J,"&#39;")}function w(e,t){var i;return 0===t.indexOf("data")&&(t=t.substring(4),t=t.charAt(0).toLowerCase()+t.substring(1)),t=t.replace(nt,"-$1"),i=e.getAttribute("data-"+mt.ns+t),null===i?i=n:"null"===i?i=null:"true"===i?i=!0:"false"===i?i=!1:zt.test(i)?i=parseFloat(i):et.test(i)&&!tt.test(i)&&(i=Function("return ("+i+")")()),i}function M(t,i){var r,o,a={};for(r in i)o=w(t,r),o!==n&&(Z.test(r)&&(o=mt.template(e("#"+o).html())),a[r]=o);return a}function T(t,n){return e.contains(t,n)?-1:1}function S(){var t=e(this);return e.inArray(t.attr("data-"+mt.ns+"role"),["slider","rangeslider"])>-1||t.is(":visible")}function k(e,t){var n=e.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(n)?!e.disabled:"a"===n?e.href||t:t)&&z(e)}function z(t){return!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")||e.expr.filters.hidden(this)}).length}function E(e,t){return new E.fn.init(e,t)}var D,P,C,O,A,H,N,F,I,L,R,U,W,B,j,$,Y,J,V,q,G,Q,X,K,Z,et,tt,nt,it,rt,ot,at,st,lt,ut,ct,dt,ft,pt,ht,mt=t.kendo=t.kendo||{cultures:{}},gt=e.extend,vt=e.each,yt=e.isArray,bt=e.proxy,_t=e.noop,xt=Math,wt=t.JSON||{},Mt={},Tt=/%/,St=/\{(\d+)(:[^\}]+)?\}/g,kt=/(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+)?/i,zt=/^(\+|-?)\d+(\.?)\d*$/,Et="function",Dt="string",Pt="number",Ct="object",Ot="null",At="boolean",Ht="undefined",Nt={},Ft={},It=[].slice,Lt=t.Globalize;mt.version="$KENDO_VERSION",i.extend=function(e){var t,n,i=function(){},r=this,o=e&&e.init?e.init:function(){r.apply(this,arguments)};i.prototype=r.prototype,n=o.fn=o.prototype=new i;for(t in e)n[t]=null!=e[t]&&e[t].constructor===Object?gt(!0,{},i.prototype[t],e[t]):e[t];return n.constructor=o,o.extend=r.extend,o},i.prototype._initOptions=function(e){this.options=l({},this.options,e)},P=mt.isFunction=function(e){return"function"==typeof e},C=function(){this._defaultPrevented=!0},O=function(){return this._defaultPrevented===!0},A=i.extend({init:function(){this._events={}},bind:function(e,t,i){var r,o,a,s,l,u=this,c=typeof e===Dt?[e]:e,d=typeof t===Et;if(t===n){for(r in e)u.bind(r,e[r]);return u}for(r=0,o=c.length;o>r;r++)e=c[r],s=d?t:t[e],s&&(i&&(a=s,s=function(){u.unbind(e,s),a.apply(u,arguments)},s.original=a),l=u._events[e]=u._events[e]||[],l.push(s));return u},one:function(e,t){return this.bind(e,t,!0)},first:function(e,t){var n,i,r,o,a=this,s=typeof e===Dt?[e]:e,l=typeof t===Et;for(n=0,i=s.length;i>n;n++)e=s[n],r=l?t:t[e],r&&(o=a._events[e]=a._events[e]||[],o.unshift(r));return a},trigger:function(e,t){var n,i,r=this,o=r._events[e];if(o){for(t=t||{},t.sender=r,t._defaultPrevented=!1,t.preventDefault=C,t.isDefaultPrevented=O,o=o.slice(),n=0,i=o.length;i>n;n++)o[n].call(r,t);return t._defaultPrevented===!0}return!1},unbind:function(e,t){var i,r=this,o=r._events[e];if(e===n)r._events={};else if(o)if(t)for(i=o.length-1;i>=0;i--)(o[i]===t||o[i].original===t)&&o.splice(i,1);else r._events[e]=[];return r}}),H=/^\w+/,N=/\$\{([^}]*)\}/g,F=/\\\}/g,I=/__CURLY__/g,L=/\\#/g,R=/__SHARP__/g,U=["","0","00","000","0000"],D={paramName:"data",useWithBlock:!0,render:function(e,t){var n,i,r="";for(n=0,i=t.length;i>n;n++)r+=e(t[n]);return r},compile:function(e,t){var n,i,o,a=gt({},this,t),s=a.paramName,l=s.match(H)[0],u=a.useWithBlock,c="var o,e=kendo.htmlEncode;";if(P(e))return e;for(c+=u?"with("+s+"){":"",c+="o=",i=e.replace(F,"__CURLY__").replace(N,"#=e($1)#").replace(I,"}").replace(L,"__SHARP__").split("#"),o=0;i.length>o;o++)c+=r(i[o],o%2===0);c+=u?";}":";",c+="return o;",c=c.replace(R,"#");try{return n=Function(l,c),n._slotCount=Math.floor(i.length/2),n}catch(d){throw Error(mt.format("Invalid template:'{0}' Generated code:'{1}'",e,c))}}},function(){function e(e){return a.lastIndex=0,a.test(e)?'"'+e.replace(a,function(e){var t=s[e];return typeof t===Dt?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function t(o,a){var s,u,c,d,f,p,h=n,m=a[o];if(m&&typeof m===Ct&&typeof m.toJSON===Et&&(m=m.toJSON(o)),typeof r===Et&&(m=r.call(a,o,m)),p=typeof m,p===Dt)return e(m);if(p===Pt)return isFinite(m)?m+"":Ot;if(p===At||p===Ot)return m+"";if(p===Ct){if(!m)return Ot;if(n+=i,f=[],"[object Array]"===l.apply(m)){for(d=m.length,s=0;d>s;s++)f[s]=t(s,m)||Ot;return c=0===f.length?"[]":n?"[\n"+n+f.join(",\n"+n)+"\n"+h+"]":"["+f.join(",")+"]",n=h,c}if(r&&typeof r===Ct)for(d=r.length,s=0;d>s;s++)typeof r[s]===Dt&&(u=r[s],c=t(u,m),c&&f.push(e(u)+(n?": ":":")+c));else for(u in m)Object.hasOwnProperty.call(m,u)&&(c=t(u,m),c&&f.push(e(u)+(n?": ":":")+c));return c=0===f.length?"{}":n?"{\n"+n+f.join(",\n"+n)+"\n"+h+"}":"{"+f.join(",")+"}",n=h,c}}var n,i,r,a=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l={}.toString;typeof Date.prototype.toJSON!==Et&&(Date.prototype.toJSON=function(){var e=this;return isFinite(e.valueOf())?o(e.getUTCFullYear(),4)+"-"+o(e.getUTCMonth()+1)+"-"+o(e.getUTCDate())+"T"+o(e.getUTCHours())+":"+o(e.getUTCMinutes())+":"+o(e.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),typeof wt.stringify!==Et&&(wt.stringify=function(e,o,a){var s;if(n="",i="",typeof a===Pt)for(s=0;a>s;s+=1)i+=" ";else typeof a===Dt&&(i=a);if(r=o,o&&typeof o!==Et&&(typeof o!==Ct||typeof o.length!==Pt))throw Error("JSON.stringify");return t("",{"":e})})}(),function(){function t(e){if(e){if(e.numberFormat)return e;if(typeof e===Dt){var t=mt.cultures;return t[e]||t[e.split("-")[0]]||null}return null}return null}function i(e){return e&&(e=t(e)),e||mt.cultures.current}function r(e){e.groupSizes=e.groupSize,e.percent.groupSizes=e.percent.groupSize,e.currency.groupSizes=e.currency.groupSize}function a(e,t,r){r=i(r);var a=r.calendars.standard,s=a.days,l=a.months;return t=a.patterns[t]||t,t.replace(c,function(t){var i,r,u;return"d"===t?r=e.getDate():"dd"===t?r=o(e.getDate()):"ddd"===t?r=s.namesAbbr[e.getDay()]:"dddd"===t?r=s.names[e.getDay()]:"M"===t?r=e.getMonth()+1:"MM"===t?r=o(e.getMonth()+1):"MMM"===t?r=l.namesAbbr[e.getMonth()]:"MMMM"===t?r=l.names[e.getMonth()]:"yy"===t?r=o(e.getFullYear()%100):"yyyy"===t?r=o(e.getFullYear(),4):"h"===t?r=e.getHours()%12||12:"hh"===t?r=o(e.getHours()%12||12):"H"===t?r=e.getHours():"HH"===t?r=o(e.getHours()):"m"===t?r=e.getMinutes():"mm"===t?r=o(e.getMinutes()):"s"===t?r=e.getSeconds():"ss"===t?r=o(e.getSeconds()):"f"===t?r=xt.floor(e.getMilliseconds()/100):"ff"===t?(r=e.getMilliseconds(),r>99&&(r=xt.floor(r/10)),r=o(r)):"fff"===t?r=o(e.getMilliseconds(),3):"tt"===t?r=e.getHours()<12?a.AM[0]:a.PM[0]:"zzz"===t?(i=e.getTimezoneOffset(),u=0>i,r=(""+xt.abs(i/60)).split(".")[0],i=xt.abs(i)-60*r,r=(u?"+":"-")+o(r),r+=":"+o(i)):("zz"===t||"z"===t)&&(r=e.getTimezoneOffset()/60,u=0>r,r=(""+xt.abs(r)).split(".")[0],r=(u?"+":"-")+("zz"===t?o(r):r)),r!==n?r:t.slice(1,t.length-1)})}function s(e,t,r){r=i(r);var o,a,s,u,c,_,x,w,M,T,S,k,z,E,D,P,C,O,A,H,N,F,I,L=r.numberFormat,R=L.groupSize[0],U=L[g],W=L[m],B=L.decimals,j=L.pattern[0],$=[],Y=0>e,J=h,V=h,q=-1;if(e===n)return h;if(!isFinite(e))return e;if(!t)return r.name.length?e.toLocaleString():""+e;if(c=d.exec(t)){if(t=c[1].toLowerCase(),a="c"===t,s="p"===t,(a||s)&&(L=a?L.currency:L.percent,R=L.groupSize[0],U=L[g],W=L[m],B=L.decimals,o=L.symbol,j=L.pattern[Y?0:1]),u=c[2],u&&(B=+u),"e"===t)return u?e.toExponential(B):e.toExponential();if(s&&(e*=100),e=l(e,B),Y=0>e,e=e.split(m),_=e[0],x=e[1],Y&&(_=_.substring(1)),V=_,w=_.length,w>=R)for(V=h,T=0;w>T;T++)T>0&&(w-T)%R===0&&(V+=U),V+=_.charAt(T);if(x&&(V+=W+x),"n"===t&&!Y)return V;for(e=h,T=0,S=j.length;S>T;T++)k=j.charAt(T),e+="n"===k?V:"$"===k||"%"===k?o:k;return e}if(Y&&(e=-e),(t.indexOf("'")>-1||t.indexOf('"')>-1||t.indexOf("\\")>-1)&&(t=t.replace(f,function(e){var t=e.charAt(0).replace("\\",""),n=e.slice(1).replace(t,"");return $.push(n),b})),t=t.split(";"),Y&&t[1])t=t[1],E=!0;else if(0===e){if(t=t[2]||t[0],-1==t.indexOf(v)&&-1==t.indexOf(y))return t}else t=t[0];if(H=t.indexOf("%"),N=t.indexOf("$"),s=-1!=H,a=-1!=N,s&&(e*=100),a&&"\\"===t[N-1]&&(t=t.split("\\").join(""),a=!1),(a||s)&&(L=a?L.currency:L.percent,R=L.groupSize[0],U=L[g],W=L[m],B=L.decimals,o=L.symbol),z=t.indexOf(g)>-1,z&&(t=t.replace(p,h)),D=t.indexOf(m),S=t.length,-1!=D?(x=(""+e).split("e"),x=x[1]?l(e,Math.abs(x[1])):x[0],x=x.split(m)[1]||h,C=t.lastIndexOf(y)-D,P=t.lastIndexOf(v)-D,O=C>-1,A=P>-1,T=x.length,O||A||(t=t.substring(0,D)+t.substring(D+1),S=t.length,D=-1,T=0),O&&C>P?T=C:P>C&&(A&&T>P?T=P:O&&C>T&&(T=C)),T>-1&&(e=l(e,T))):e=l(e),P=t.indexOf(v),F=C=t.indexOf(y),q=-1==P&&-1!=C?C:-1!=P&&-1==C?P:P>C?C:P,P=t.lastIndexOf(v),C=t.lastIndexOf(y),I=-1==P&&-1!=C?C:-1!=P&&-1==C?P:P>C?P:C,q==S&&(I=q),-1!=q){if(V=(""+e).split(m),_=V[0],x=V[1]||h,w=_.length,M=x.length,Y&&-1*e>=0&&(Y=!1),z)if(w===R&&D-F>w)_=U+_;else if(w>R){for(V=h,T=0;w>T;T++)T>0&&(w-T)%R===0&&(V+=U),V+=_.charAt(T);_=V}for(e=t.substring(0,q),Y&&!E&&(e+="-"),T=q;S>T;T++){if(k=t.charAt(T),-1==D){if(w>I-T){e+=_;break}}else if(-1!=C&&T>C&&(J=h),w>=D-T&&D-T>-1&&(e+=_,T=D),D===T){e+=(x?W:h)+x,T+=I-D+1;continue}k===y?(e+=k,J=k):k===v&&(e+=J)}if(I>=q&&(e+=t.substring(I+1)),a||s){for(V=h,T=0,S=e.length;S>T;T++)k=e.charAt(T),V+="$"===k||"%"===k?o:k;e=V}if(S=$.length)for(T=0;S>T;T++)e=e.replace(b,$[T])}return e}var l,u,c=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g,d=/^(n|c|p|e)(\d*)$/i,f=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,p=/\,/g,h="",m=".",g=",",v="#",y="0",b="??",_="en-US",x={}.toString;mt.cultures["en-US"]={name:_,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}},mt.culture=function(e){var i,o=mt.cultures;return e===n?o.current:(i=t(e)||o[_],i.calendar=i.calendars.standard,o.current=i,Lt&&!Lt.load&&r(i.numberFormat),n)},mt.findCulture=t,mt.getCulture=i,mt.culture(_),l=function(e,t){return t=t||0,e=(""+e).split("e"),e=Math.round(+(e[0]+"e"+(e[1]?+e[1]+t:t))),e=(""+e).split("e"),e=+(e[0]+"e"+(e[1]?+e[1]-t:-t)),e.toFixed(t)},u=function(e,t,i){if(t){if("[object Date]"===x.call(e))return a(e,t,i);if(typeof e===Pt)return s(e,t,i)}return e!==n?e:""},Lt&&!Lt.load&&(u=function(t,n,i){return e.isPlainObject(i)&&(i=i.name),Lt.format(t,n,i)}),mt.format=function(e){var t=arguments;return e.replace(St,function(e,n,i){var r=t[parseInt(n,10)+1];return u(r,i?i.substring(1):"")})},mt._extractFormat=function(e){return"{0:"===e.slice(0,3)&&(e=e.slice(3,e.length-1)),e},mt._activeElement=function(){try{return document.activeElement}catch(e){return document.documentElement.activeElement}},mt._round=l,mt.toString=u}(),function(){function t(e,t,n){return!(e>=t&&n>=e)}function i(e){return e.charAt(0)}function r(t){return e.map(t,i)}function o(e,t){t||23!==e.getHours()||e.setHours(e.getHours()+2)}function a(e){for(var t=0,n=e.length,i=[];n>t;t++)i[t]=(e[t]+"").toLowerCase();return i}function s(e){var t,n={};for(t in e)n[t]=a(e[t]);return n}function l(e,i,a){if(!e)return null;var l,u,c,d,h,m,g,y,b,_,x,w,M,T=function(e){for(var t=0;i[F]===e;)t++,F++;return t>0&&(F-=1),t},S=function(t){var n=v[t]||RegExp("^\\d{1,"+t+"}"),i=e.substr(I,t).match(n);return i?(i=i[0],I+=i.length,parseInt(i,10)):null},k=function(t,n){for(var i,r,o,a=0,s=t.length;s>a;a++)if(i=t[a],r=i.length,o=e.substr(I,r),n&&(o=o.toLowerCase()),o==i)return I+=r,a+1;return null},z=function(){var t=!1;return e.charAt(I)===i[F]&&(I++,t=!0),t},E=a.calendars.standard,D=null,P=null,C=null,O=null,A=null,H=null,N=null,F=0,I=0,L=!1,R=new Date,U=E.twoDigitYearMax||2029,W=R.getFullYear();for(i||(i="d"),d=E.patterns[i],d&&(i=d),i=i.split(""),c=i.length;c>F;F++)if(l=i[F],L)"'"===l?L=!1:z();else if("d"===l){if(u=T("d"),E._lowerDays||(E._lowerDays=s(E.days)),C=3>u?S(2):k(E._lowerDays[3==u?"namesAbbr":"names"],!0),null===C||t(C,1,31))return null}else if("M"===l){if(u=T("M"),E._lowerMonths||(E._lowerMonths=s(E.months)),P=3>u?S(2):k(E._lowerMonths[3==u?"namesAbbr":"names"],!0),null===P||t(P,1,12))return null;P-=1}else if("y"===l){if(u=T("y"),D=S(u),null===D)return null;2==u&&("string"==typeof U&&(U=W+parseInt(U,10)),D=W-W%100+D,D>U&&(D-=100))}else if("h"===l){if(T("h"),O=S(2),12==O&&(O=0),null===O||t(O,0,11))return null}else if("H"===l){if(T("H"),O=S(2),null===O||t(O,0,23))return null}else if("m"===l){if(T("m"),A=S(2),null===A||t(A,0,59))return null}else if("s"===l){if(T("s"),H=S(2),null===H||t(H,0,59))return null}else if("f"===l){if(u=T("f"),M=e.substr(I,u).match(v[3]),N=S(u),null!==N&&(M=M[0].length,3>M&&(N*=Math.pow(10,3-M)),u>3&&(N=parseInt((""+N).substring(0,3),10))),null===N||t(N,0,999))return null}else if("t"===l){if(u=T("t"),y=E.AM,b=E.PM,1===u&&(y=r(y),b=r(b)),h=k(b),!h&&!k(y))return null}else if("z"===l){if(m=!0,u=T("z"),"Z"===e.substr(I,1)){z();continue}if(g=e.substr(I,6).match(u>2?p:f),!g)return null;if(g=g[0].split(":"),_=g[0],x=g[1],!x&&_.length>3&&(I=_.length-2,x=_.substring(I),_=_.substring(0,I)),_=parseInt(_,10),t(_,-12,13))return null;if(u>2&&(x=parseInt(x,10),isNaN(x)||t(x,0,59)))return null}else if("'"===l)L=!0,z();else if(!z())return null;return w=null!==O||null!==A||H||null,null===D&&null===P&&null===C&&w?(D=W,P=R.getMonth(),C=R.getDate()):(null===D&&(D=W),null===C&&(C=1)),h&&12>O&&(O+=12),m?(_&&(O+=-_),x&&(A+=-x),e=new Date(Date.UTC(D,P,C,O,A,H,N))):(e=new Date(D,P,C,O,A,H,N),o(e,O)),100>D&&e.setFullYear(D),e.getDate()!==C&&m===n?null:e}function u(e){var t="-"===e.substr(0,1)?-1:1;return e=e.substring(1),e=60*parseInt(e.substr(0,2),10)+parseInt(e.substring(2),10),t*e}var c=/\u00A0/g,d=/[eE][\-+]?[0-9]+/,f=/[+|\-]\d{1,2}/,p=/[+|\-]\d{1,2}:?\d{2}/,h=/^\/Date\((.*?)\)\/$/,m=/[+-]\d*/,g=["G","g","d","F","D","y","m","T","t"],v={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},y={}.toString;mt.parseDate=function(e,t,n){var i,r,o,a,s;if("[object Date]"===y.call(e))return e;if(i=0,r=null,e&&0===e.indexOf("/D")&&(r=h.exec(e)))return r=r[1],s=m.exec(r.substring(1)),r=new Date(parseInt(r,10)),s&&(s=u(s[0]),r=mt.timezone.apply(r,0),r=mt.timezone.convert(r,0,-1*s)),r;if(n=mt.getCulture(n),!t){for(t=[],a=n.calendar.patterns,o=g.length;o>i;i++)t[i]=a[g[i]];i=0,t=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mm:ss.fffffff","yyyy-MM-ddTHH:mm:ss.fff","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"].concat(t)}for(t=yt(t)?t:[t],o=t.length;o>i;i++)if(r=l(e,t[i],n))return r;return r},mt.parseInt=function(e,t){var n=mt.parseFloat(e,t);return n&&(n=0|n),n},mt.parseFloat=function(e,t,n){if(!e&&0!==e)return null;if(typeof e===Pt)return e;e=""+e,t=mt.getCulture(t);var i,r,o=t.numberFormat,a=o.percent,s=o.currency,l=s.symbol,u=a.symbol,f=e.indexOf("-");return d.test(e)?(e=parseFloat(e.replace(o["."],".")),isNaN(e)&&(e=null),e):f>0?null:(f=f>-1,e.indexOf(l)>-1||n&&n.toLowerCase().indexOf("c")>-1?(o=s,i=o.pattern[0].replace("$",l).split("n"),e.indexOf(i[0])>-1&&e.indexOf(i[1])>-1&&(e=e.replace(i[0],"").replace(i[1],""),f=!0)):e.indexOf(u)>-1&&(r=!0,o=a,l=u),e=e.replace("-","").replace(l,"").replace(c," ").split(o[","].replace(c," ")).join("").replace(o["."],"."),e=parseFloat(e),isNaN(e)?e=null:f&&(e*=-1),e&&r&&(e/=100),e)},Lt&&!Lt.load&&(mt.parseDate=function(e,t,n){return"[object Date]"===y.call(e)?e:Lt.parseDate(e,t,n)},mt.parseFloat=function(t,i){return typeof t===Pt?t:t===n||null===t?null:(e.isPlainObject(i)&&(i=i.name),t=Lt.parseFloat(t,i),isNaN(t)?null:t)})}(),function(){var i,r,o,a,s,l,u;Mt._scrollbar=n,Mt.scrollbar=function(e){if(isNaN(Mt._scrollbar)||e){var t,n=document.createElement("div");return n.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",n.innerHTML="&nbsp;",document.body.appendChild(n),Mt._scrollbar=t=n.offsetWidth-n.scrollWidth,document.body.removeChild(n),t}return Mt._scrollbar},Mt.isRtl=function(t){return e(t).closest(".k-rtl").length>0},i=document.createElement("table");try{i.innerHTML="<tr><td></td></tr>",Mt.tbodyInnerHtml=!0}catch(d){Mt.tbodyInnerHtml=!1}Mt.touch="ontouchstart"in t,Mt.msPointers=t.MSPointerEvent,Mt.pointers=t.PointerEvent,r=Mt.transitions=!1,o=Mt.transforms=!1,a="HTMLElement"in t?HTMLElement.prototype:[],Mt.hasHW3D="WebKitCSSMatrix"in t&&"m11"in new t.WebKitCSSMatrix||"MozPerspective"in document.documentElement.style||"msPerspective"in document.documentElement.style,vt(["Moz","webkit","O","ms"],function(){var e,t=""+this,a=typeof i.style[t+"Transition"]===Dt;return a||typeof i.style[t+"Transform"]===Dt?(e=t.toLowerCase(),o={css:"ms"!=e?"-"+e+"-":"",prefix:t,event:"o"===e||"webkit"===e?e:""},a&&(r=o,r.event=r.event?r.event+"TransitionEnd":"transitionend"),!1):n}),i=null,Mt.transforms=o,Mt.transitions=r,Mt.devicePixelRatio=t.devicePixelRatio===n?1:t.devicePixelRatio;try{Mt.screenWidth=t.outerWidth||t.screen?t.screen.availWidth:t.innerWidth,Mt.screenHeight=t.outerHeight||t.screen?t.screen.availHeight:t.innerHeight}catch(d){Mt.screenWidth=t.screen.availWidth,Mt.screenHeight=t.screen.availHeight}Mt.detectOS=function(e){var n,i,r=!1,o=[],a=!/mobile safari/i.test(e),s={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},l={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},u={tablet:/playbook|ipad|fire/i},d={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i};for(i in s)if(s.hasOwnProperty(i)&&(o=e.match(s[i]))){if("windows"==i&&"plugins"in navigator)return!1;r={},r.device=i,r.tablet=c(i,u,!1),r.browser=c(e,d,"default"),r.name=c(i,l),r[r.name]=!0,r.majorVersion=o[2],r.minorVersion=o[3].replace("_","."),n=r.minorVersion.replace(".","").substr(0,2),r.flatVersion=r.majorVersion+n+Array(3-(3>n.length?n.length:2)).join("0"),r.cordova=typeof t.PhoneGap!==Ht||typeof t.cordova!==Ht,r.appMode=t.navigator.standalone||/file|local|wmapp/.test(t.location.protocol)||r.cordova,r.android&&(1.5>Mt.devicePixelRatio&&400>r.flatVersion||a)&&(Mt.screenWidth>800||Mt.screenHeight>800)&&(r.tablet=i);break}return r},s=Mt.mobileOS=Mt.detectOS(navigator.userAgent),Mt.wpDevicePixelRatio=s.wp?screen.width/320:0,Mt.kineticScrollNeeded=s&&(Mt.touch||Mt.msPointers||Mt.pointers),Mt.hasNativeScrolling=!1,(s.ios||s.android&&s.majorVersion>2||s.wp)&&(Mt.hasNativeScrolling=s),Mt.mouseAndTouchPresent=Mt.touch&&!(Mt.mobileOS.ios||Mt.mobileOS.android),Mt.detectBrowser=function(e){var t,n=!1,i=[],r={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(t in r)if(r.hasOwnProperty(t)&&(i=e.match(r[t]))){n={},n[t]=!0,n[i[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,n.version=parseInt(document.documentMode||i[2],10);break}return n},Mt.browser=Mt.detectBrowser(navigator.userAgent),Mt.zoomLevel=function(){try{return Mt.touch?document.documentElement.clientWidth/t.innerWidth:Mt.browser.msie&&Mt.browser.version>=10?(top||t).document.documentElement.offsetWidth/(top||t).innerWidth:1}catch(e){return 1}},Mt.cssBorderSpacing=n!==document.documentElement.style.borderSpacing&&!(Mt.browser.msie&&8>Mt.browser.version),function(t){var n="",i=e(document.documentElement),r=parseInt(t.version,10);t.msie?n="ie":t.mozilla?n="ff":t.safari?n="safari":t.webkit?n="webkit":t.opera&&(n="opera"),n&&(n="k-"+n+" k-"+n+r),Mt.mobileOS&&(n+=" k-mobile"),i.addClass(n)}(Mt.browser),Mt.eventCapture=document.documentElement.addEventListener,l=document.createElement("input"),Mt.placeholder="placeholder"in l,Mt.propertyChangeEvent="onpropertychange"in l,Mt.input=function(){for(var e,t=["number","date","time","month","week","datetime","datetime-local"],n=t.length,i="test",r={},o=0;n>o;o++)e=t[o],l.setAttribute("type",e),l.value=i,r[e.replace("-","")]="text"!==l.type&&l.value!==i;return r}(),l.style.cssText="float:left;",Mt.cssFloat=!!l.style.cssFloat,l=null,Mt.stableSort=function(){var e,t=513,n=[{index:0,field:"b"}];for(e=1;t>e;e++)n.push({index:e,field:"a"});return n.sort(function(e,t){return e.field>t.field?1:t.field>e.field?-1:0}),1===n[0].index}(),Mt.matchesSelector=a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.matchesSelector||a.matches||function(t){for(var n=document.querySelectorAll?(this.parentNode||document).querySelectorAll(t)||[]:e(t),i=n.length;i--;)if(n[i]==this)return!0;return!1},Mt.pushState=t.history&&t.history.pushState,u=document.documentMode,Mt.hashChange="onhashchange"in t&&!(Mt.browser.msie&&(!u||8>=u))}(),W={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out"},out:{reverse:"in"}},B={},e.extend(B,{enabled:!0,Element:function(t){this.element=e(t)},promise:function(e,t){e.is(":visible")||e.css({display:e.data("olddisplay")||"block"}).css("display"),t.hide&&e.data("olddisplay",e.css("display")).hide(),t.init&&t.init(),t.completeCallback&&t.completeCallback(e),e.dequeue()},disable:function(){this.enabled=!1,this.promise=this.promiseShim},enable:function(){this.enabled=!0,this.promise=this.animatedPromise}}),B.promiseShim=B.promise,"kendoAnimate"in e.fn||gt(e.fn,{kendoStop:function(e,t){return this.stop(e,t)},kendoAnimate:function(e,t,n,i){return b(this,e,t,n,i)},kendoAddClass:function(e,t){return mt.toggleClass(this,e,t,!0)},kendoRemoveClass:function(e,t){return mt.toggleClass(this,e,t,!1)},kendoToggleClass:function(e,t,n){return mt.toggleClass(this,e,t,n)}}),j=/&/g,$=/</g,Y=/"/g,J=/'/g,V=/>/g,q=function(e){return e.target},Mt.touch&&(q=function(e){var t="originalEvent"in e?e.originalEvent.changedTouches:"changedTouches"in e?e.changedTouches:null;return t?document.elementFromPoint(t[0].clientX,t[0].clientY):e.target},vt(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(t,n){e.fn[n]=function(e){return this.bind(n,e)}})),Mt.touch?Mt.mobileOS?(Mt.mousedown="touchstart",Mt.mouseup="touchend",Mt.mousemove="touchmove",Mt.mousecancel="touchcancel",Mt.click="touchend",Mt.resize="orientationchange"):(Mt.mousedown="mousedown touchstart",Mt.mouseup="mouseup touchend",Mt.mousemove="mousemove touchmove",Mt.mousecancel="mouseleave touchcancel",Mt.click="click",Mt.resize="resize"):Mt.pointers?(Mt.mousemove="pointermove",Mt.mousedown="pointerdown",Mt.mouseup="pointerup",Mt.mousecancel="pointercancel",Mt.click="pointerup",Mt.resize="orientationchange resize"):Mt.msPointers?(Mt.mousemove="MSPointerMove",Mt.mousedown="MSPointerDown",Mt.mouseup="MSPointerUp",Mt.mousecancel="MSPointerCancel",Mt.click="MSPointerUp",Mt.resize="orientationchange resize"):(Mt.mousemove="mousemove",Mt.mousedown="mousedown",Mt.mouseup="mouseup",Mt.mousecancel="mouseleave",Mt.click="click",Mt.resize="resize"),G=function(e,t){var n,i,r,o,a=t||"d",s=1;for(i=0,r=e.length;r>i;i++)o=e[i],""!==o&&(n=o.indexOf("["),0!==n&&(-1==n?o="."+o:(s++,o="."+o.substring(0,n)+" || {})"+o.substring(n))),s++,a+=o+(r-1>i?" || {})":")"));return Array(s).join("(")+a},Q=/^([a-z]+:)?\/\//i,gt(mt,{ui:mt.ui||{},fx:mt.fx||v,effects:mt.effects||B,mobile:mt.mobile||{},data:mt.data||{},dataviz:mt.dataviz||{},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},support:mt.support||Mt,animate:mt.animate||b,ns:"",attr:function(e){return"data-"+mt.ns+e},getShadows:a,wrap:s,deepExtend:l,getComputedStyles:p,size:h,toCamelCase:f,toHyphens:d,getOffset:mt.getOffset||m,parseEffects:mt.parseEffects||g,toggleClass:mt.toggleClass||_,directions:mt.directions||W,Observable:A,Class:i,Template:D,template:bt(D.compile,D),render:bt(D.render,D),stringify:bt(wt.stringify,wt),eventTarget:q,htmlEncode:x,isLocalUrl:function(e){return e&&!Q.test(e)},expr:function(e,t,n){return e=e||"",typeof t==Dt&&(n=t,t=!1),n=n||"d",e&&"["!==e.charAt(0)&&(e="."+e),e=t?G(e.split("."),n):n+e},getter:function(e,t){var n=e+t;return Nt[n]=Nt[n]||Function("d","return "+mt.expr(e,t))},setter:function(e){return Ft[e]=Ft[e]||Function("d,value",mt.expr(e)+"=value")},accessor:function(e){return{get:mt.getter(e),set:mt.setter(e)}},guid:function(){var e,t,n="";for(e=0;32>e;e++)t=16*xt.random()|0,(8==e||12==e||16==e||20==e)&&(n+="-"),n+=(12==e?4:16==e?3&t|8:t).toString(16);return n},roleSelector:function(e){return e.replace(/(\S+)/g,"["+mt.attr("role")+"=$1],").slice(0,-1)},directiveSelector:function(e){var t,n=e.split(" ");if(n)for(t=0;n.length>t;t++)"view"!=n[t]&&(n[t]=n[t].replace(/(\w*)(view|bar|strip|over)$/,"$1-$2"));return n.join(" ").replace(/(\S+)/g,"kendo-mobile-$1,").slice(0,-1)},triggeredByInput:function(e){return/^(label|input|textarea|select)$/i.test(e.target.tagName)},logToConsole:function(e){var i=t.console;!mt.suppressLog&&n!==i&&i.log&&i.log(e)}}),X=A.extend({init:function(e,t){var n,i=this;i.element=mt.jQuery(e).handler(i),i.angular("init",t),A.fn.init.call(i),n=t?t.dataSource:null,n&&(t=gt({},t,{dataSource:{}})),t=i.options=gt(!0,{},i.options,t),n&&(t.dataSource=n),i.element.attr(mt.attr("role"))||i.element.attr(mt.attr("role"),(t.name||"").toLowerCase()),i.element.data("kendo"+t.prefix+t.name,i),i.bind(i.events,t)},events:[],options:{prefix:""},_hasBindingTarget:function(){return!!this.element[0].kendoBindingTarget},_tabindex:function(e){e=e||this.wrapper;var t=this.element,n="tabindex",i=e.attr(n)||t.attr(n);t.removeAttr(n),e.attr(n,isNaN(i)?0:i)},setOptions:function(t){this._setEvents(t),e.extend(this.options,t)},_setEvents:function(e){for(var t,n=this,i=0,r=n.events.length;r>i;i++)t=n.events[i],n.options[t]&&e[t]&&n.unbind(t,n.options[t]);n.bind(n.events,e)},resize:function(e){var t=this.getSize(),n=this._size;(e||!n||t.width!==n.width||t.height!==n.height)&&(this._size=t,this._resize(t),this.trigger("resize",t))},getSize:function(){return mt.dimensions(this.element)},size:function(e){return e?(this.setSize(e),n):this.getSize()},setSize:e.noop,_resize:e.noop,destroy:function(){var e=this;e.element.removeData("kendo"+e.options.prefix+e.options.name),e.element.removeData("handler"),e.unbind()},angular:function(){}}),K=X.extend({dataItems:function(){return this.dataSource.flatView()},_angularItems:function(t){var n=this;n.angular(t,function(){return{elements:n.items(),data:e.map(n.dataItems(),function(e){return{dataItem:e}})}})}}),mt.dimensions=function(e,t){var n=e[0];return t&&e.css(t),{width:n.offsetWidth,height:n.offsetHeight}},mt.notify=_t,Z=/template$/i,et=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,tt=/^\{(\d+)(:[^\}]+)?\}|^\[[A-Za-z_]*\]$/,nt=/([A-Z])/g,mt.initWidget=function(i,r,o){var a,s,l,u,c,d,f,p,h,m,g,v,y;if(o?o.roles&&(o=o.roles):o=mt.ui.roles,i=i.nodeType?i:i[0],d=i.getAttribute("data-"+mt.ns+"role")){h=-1===d.indexOf("."),l=h?o[d]:mt.getter(d)(t),g=e(i).data(),v=l?"kendo"+l.fn.options.prefix+l.fn.options.name:"",m=h?RegExp("^kendo.*"+d+"$","i"):RegExp("^"+v+"$","i");for(y in g)if(y.match(m)){if(y!==v)return g[y];a=g[y]}if(l){for(p=w(i,"dataSource"),r=e.extend({},M(i,l.fn.options),r),p&&(r.dataSource=typeof p===Dt?mt.getter(p)(t):p),u=0,c=l.fn.events.length;c>u;u++)s=l.fn.events[u],f=w(i,s),f!==n&&(r[s]=mt.getter(f)(t));return a?e.isEmptyObject(r)||a.setOptions(r):a=new l(i,r),a}}},mt.rolesFromNamespaces=function(e){var t,n,i=[];for(e[0]||(e=[mt.ui,mt.dataviz.ui]),t=0,n=e.length;n>t;t++)i[t]=e[t].roles;return gt.apply(null,[{}].concat(i.reverse()))},mt.init=function(t){var n=mt.rolesFromNamespaces(It.call(arguments,1));e(t).find("[data-"+mt.ns+"role]").addBack().each(function(){mt.initWidget(this,{},n)})},mt.destroy=function(t){e(t).find("[data-"+mt.ns+"role]").addBack().each(function(){var t,n=e(this).data();for(t in n)0===t.indexOf("kendo")&&typeof n[t].destroy===Et&&n[t].destroy()})},mt.resize=function(t,n){var i,r=e(t).find("[data-"+mt.ns+"role]").addBack().filter(S);r.length&&(i=e.makeArray(r),i.sort(T),e.each(i,function(){var t=mt.widgetInstance(e(this));t&&t.resize(n)}))},mt.parseOptions=M,gt(mt.ui,{Widget:X,DataBoundWidget:K,roles:{},progress:function(t,n){var i,r,o,a,s=t.find(".k-loading-mask"),l=mt.support,u=l.browser;n?s.length||(i=l.isRtl(t),r=i?"right":"left",a=t.scrollLeft(),o=u.webkit&&i?t[0].scrollWidth-t.width()-2*a:0,s=e("<div class='k-loading-mask'><span class='k-loading-text'>Loading...</span><div class='k-loading-image'/><div class='k-loading-color'/></div>").width("100%").height("100%").css("top",t.scrollTop()).css(r,Math.abs(a)+o).prependTo(t)):s&&s.remove()},plugin:function(t,i,r){var o,a=t.fn.options.name;i=i||mt.ui,r=r||"",i[a]=t,i.roles[a.toLowerCase()]=t,o="getKendo"+r+a,a="kendo"+r+a,e.fn[a]=function(i){var r,o=this;return typeof i===Dt?(r=It.call(arguments,1),this.each(function(){var t,s,l=e.data(this,a);if(!l)throw Error(mt.format("Cannot call method '{0}' of {1} before it is initialized",i,a));if(t=l[i],typeof t!==Et)throw Error(mt.format("Cannot find method '{0}' of {1}",i,a));return s=t.apply(l,r),s!==n?(o=s,!1):n})):this.each(function(){new t(this,i)}),o},e.fn[a].widget=t,e.fn[o]=function(){return this.data(a)}}}),it={bind:function(){return this},nullObject:!0,options:{}},rt=X.extend({init:function(e,t){X.fn.init.call(this,e,t),this.element.autoApplyNS(),this.wrapper=this.element,this.element.addClass("km-widget")},destroy:function(){X.fn.destroy.call(this),this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var e=this.element.closest(mt.roleSelector("view splitview modalview drawer"));return mt.widgetInstance(e,mt.mobile.ui)||it},viewHasNativeScrolling:function(){var e=this.view();return e&&e.options.useNativeScrolling},container:function(){var e=this.element.closest(mt.roleSelector("view layout modalview drawer splitview"));return mt.widgetInstance(e.eq(0),mt.mobile.ui)||it}}),gt(mt.mobile,{init:function(e){mt.init(e,mt.mobile.ui,mt.ui,mt.dataviz.ui)},appLevelNativeScrolling:function(){return mt.mobile.application&&mt.mobile.application.options&&mt.mobile.application.options.useNativeScrolling},roles:{},ui:{Widget:rt,DataBoundWidget:K.extend(rt.prototype),roles:{},plugin:function(e){mt.ui.plugin(e,mt.mobile.ui,"Mobile")}}}),l(mt.dataviz,{init:function(e){mt.init(e,mt.dataviz.ui)},ui:{roles:{},themes:{},views:[],plugin:function(e){mt.ui.plugin(e,mt.dataviz.ui)}},roles:{}}),mt.touchScroller=function(t,n){return e(t).map(function(t,i){return i=e(i),Mt.kineticScrollNeeded&&mt.mobile.ui.Scroller&&!i.data("kendoMobileScroller")?(i.kendoMobileScroller(n),i.data("kendoMobileScroller")):!1})[0]},mt.preventDefault=function(e){e.preventDefault()},mt.widgetInstance=function(e,n){var i,r,o,a,s=e.data(mt.ns+"role"),l=[];if(s){if("content"===s&&(s="scroller"),n)if(n[0])for(i=0,r=n.length;r>i;i++)l.push(n[i].roles[s]);else l.push(n.roles[s]);else l=[mt.ui.roles[s],mt.dataviz.ui.roles[s],mt.mobile.ui.roles[s]];for(s.indexOf(".")>=0&&(l=[mt.getter(s)(t)]),i=0,r=l.length;r>i;i++)if(o=l[i],o&&(a=e.data("kendo"+o.fn.options.prefix+o.fn.options.name)))return a}},mt.onResize=function(n){var i=n;return Mt.mobileOS.android&&(i=function(){setTimeout(n,600)}),e(t).on(Mt.resize,i),i},mt.unbindResize=function(n){e(t).off(Mt.resize,n)},mt.attrValue=function(e,t){return e.data(mt.ns+t)},mt.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},e.extend(e.expr[":"],{kendoFocusable:function(t){var n=e.attr(t,"tabindex");return k(t,!isNaN(n)&&n>-1)}}),ot=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"],at="label, input, [data-rel=external]",st={setupMouseMute:function(){var t,n=0,i=ot.length,r=document.documentElement;if(!st.mouseTrap&&Mt.eventCapture)for(st.mouseTrap=!0,st.bustClick=!1,st.captureMouse=!1,t=function(t){st.captureMouse&&("click"===t.type?st.bustClick&&!e(t.target).is(at)&&(t.preventDefault(),t.stopPropagation()):t.stopPropagation())};i>n;n++)r.addEventListener(ot[n],t,!0)},muteMouse:function(e){st.captureMouse=!0,e.data.bustClick&&(st.bustClick=!0),clearTimeout(st.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(st.mouseTrapTimeoutID),st.mouseTrapTimeoutID=setTimeout(function(){st.captureMouse=!1,st.bustClick=!1},400)}},lt={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"},Mt.touch&&(Mt.mobileOS.ios||Mt.mobileOS.android)?lt={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}:Mt.pointers?lt={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}:Mt.msPointers&&(lt={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}),!Mt.msPointers||"onmspointerenter"in t||e.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(t,n){e.event.special[t]={delegateType:n,bindType:n,handle:function(t){var i,r=this,o=t.relatedTarget,a=t.handleObj;return(!o||o!==r&&!e.contains(r,o))&&(t.type=a.origType,i=a.handler.apply(this,arguments),t.type=n),i}}}),ut=function(e){return lt[e]||e},ct=/([^ ]+)/g,mt.applyEventMap=function(e,t){return e=e.replace(ct,ut),t&&(e=e.replace(ct,"$1."+t)),e},dt=e.fn.on,gt(!0,E,e),E.fn=E.prototype=new e,E.fn.constructor=E,E.fn.init=function(t,n){return n&&n instanceof e&&!(n instanceof E)&&(n=E(n)),e.fn.init.call(this,t,n,ft)},E.fn.init.prototype=E.fn,ft=E(document),gt(E.fn,{handler:function(e){return this.data("handler",e),this},autoApplyNS:function(e){return this.data("kendoNS",e||mt.guid()),this},on:function(){var e,t,n,i,r,o,a=this,s=a.data("kendoNS");return 1===arguments.length?dt.call(a,arguments[0]):(e=a,t=It.call(arguments),typeof t[t.length-1]===Ht&&t.pop(),n=t[t.length-1],i=mt.applyEventMap(t[0],s),Mt.mouseAndTouchPresent&&i.search(/mouse|click/)>-1&&this[0]!==document.documentElement&&(st.setupMouseMute(),r=2===t.length?null:t[1],o=i.indexOf("click")>-1&&i.indexOf("touchend")>-1,dt.call(this,{touchstart:st.muteMouse,touchend:st.unMuteMouse},r,{bustClick:o})),typeof n===Dt&&(e=a.data("handler"),n=e[n],t[t.length-1]=function(t){n.call(e,t)}),t[0]=i,dt.apply(a,t),a)},kendoDestroy:function(e){return e=e||this.data("kendoNS"),e&&this.off("."+e),this}}),mt.jQuery=E,mt.eventMap=lt,mt.timezone=function(){function e(e,t){var n,i,r,o=t[3],a=t[4],s=t[5],l=t[8];return l||(t[8]=l={}),l[e]?l[e]:(isNaN(a)?0===a.indexOf("last")?(n=new Date(Date.UTC(e,c[o]+1,1,s[0]-24,s[1],s[2],0)),i=d[a.substr(4,3)],r=n.getUTCDay(),n.setUTCDate(n.getUTCDate()+i-r-(i>r?7:0))):a.indexOf(">=")>=0&&(n=new Date(Date.UTC(e,c[o],a.substr(5),s[0],s[1],s[2],0)),i=d[a.substr(0,3)],r=n.getUTCDay(),n.setUTCDate(n.getUTCDate()+i-r+(r>i?7:0))):n=new Date(Date.UTC(e,c[o],a,s[0],s[1],s[2],0)),l[e]=n)}function t(t,n,i){var r,o,a,s;return(n=n[i])?(a=new Date(t).getUTCFullYear(),n=jQuery.grep(n,function(e){var t=e[0],n=e[1];return a>=t&&(n>=a||t==a&&"only"==n||"max"==n)}),n.push(t),n.sort(function(t,n){return"number"!=typeof t&&(t=+e(a,t)),"number"!=typeof n&&(n=+e(a,n)),t-n}),s=n[jQuery.inArray(t,n)-1]||n[n.length-1],isNaN(s)?s:null):(r=i.split(":"),o=0,r.length>1&&(o=60*r[0]+ +r[1]),[-1e6,"max","-","Jan",1,[0,0,0],o,"-"])}function n(e,t,n){var i,r,o,a=t[n];if("string"==typeof a&&(a=t[a]),!a)throw Error('Timezone "'+n+'" is either incorrect, or kendo.timezones.min.js is not included.');for(i=a.length-1;i>=0&&(r=a[i][3],!(r&&e>r));i--);if(o=a[i+1],!o)throw Error('Timezone "'+n+'" not found on '+e+".");return o}function i(e,i,r,o){typeof e!=Pt&&(e=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));var a=n(e,i,o);return{zone:a,rule:t(e,r,a[1])}}function r(e,t){var n,r,o;return"Etc/UTC"==t||"Etc/GMT"==t?0:(n=i(e,this.zones,this.rules,t),r=n.zone,o=n.rule,mt.parseFloat(o?r[0]-o[6]:r[0]))}function o(e,t){var n=i(e,this.zones,this.rules,t),r=n.zone,o=n.rule,a=r[2];return a.indexOf("/")>=0?a.split("/")[o&&+o[6]?1:0]:a.indexOf("%s")>=0?a.replace("%s",o&&"-"!=o[7]?o[7]:""):a}function a(e,t,n){var i,r;return typeof t==Dt&&(t=this.offset(e,t)),typeof n==Dt&&(n=this.offset(e,n)),i=e.getTimezoneOffset(),e=new Date(e.getTime()+6e4*(t-n)),r=e.getTimezoneOffset(),new Date(e.getTime()+6e4*(r-i))}function s(e,t){return this.convert(e,e.getTimezoneOffset(),t)}function l(e,t){return this.convert(e,t,e.getTimezoneOffset())}function u(e){return this.apply(new Date(e),"Etc/UTC")}var c={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},d={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};return{zones:{},rules:{},offset:r,convert:a,apply:s,remove:l,abbr:o,toLocalDate:u}}(),mt.date=function(){function e(e,t){return 0===t&&23===e.getHours()?(e.setHours(e.getHours()+2),!0):!1}function t(t,n,i){var r=t.getHours();i=i||1,n=(n-t.getDay()+7*i)%7,t.setDate(t.getDate()+n),e(t,r)}function n(e,n,i){return e=new Date(e),t(e,n,i),e}function i(e){return new Date(e.getFullYear(),e.getMonth(),1)}function r(e){var t=new Date(e.getFullYear(),e.getMonth()+1,0),n=i(e),r=Math.abs(t.getTimezoneOffset()-n.getTimezoneOffset());return r&&t.setHours(n.getHours()+r/60),t}function o(t){return t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0),e(t,0),t}function a(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function s(e){return e.getTime()-o(e)}function l(e,t,n){var i,r=s(t),o=s(n);return e&&r!=o?(t>=n&&(n+=g),i=s(e),r>i&&(i+=g),r>o&&(o+=g),i>=r&&o>=i):!0}function u(e,t,n){var i,r=t.getTime(),o=n.getTime();return r>=o&&(o+=g),i=e.getTime(),i>=r&&o>=i}function c(t,n){var i=t.getHours();return t=new Date(t),d(t,n*g),e(t,i),t}function d(e,t,n){var i,r=e.getTimezoneOffset();e.setTime(e.getTime()+t),n||(i=e.getTimezoneOffset()-r,e.setTime(e.getTime()+i*m))}function f(){return o(new Date)}function p(e){return o(e).getTime()==f().getTime()}function h(e){var t=new Date(1980,1,1,0,0,0);return e&&t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t}var m=6e4,g=864e5;return{adjustDST:e,dayOfWeek:n,setDayOfWeek:t,getDate:o,isInDateRange:u,isInTimeRange:l,isToday:p,nextDay:function(e){return c(e,1)},previousDay:function(e){return c(e,-1)},toUtcTime:a,MS_PER_DAY:g,MS_PER_HOUR:60*m,MS_PER_MINUTE:m,setTime:d,addDays:c,today:f,toInvariantTime:h,firstDayOfMonth:i,lastDayOfMonth:r,getMilliseconds:s}}(),mt.stripWhitespace=function(e){var t,n,i;if(document.createNodeIterator)for(t=document.createNodeIterator(e,NodeFilter.SHOW_TEXT,function(t){return t.parentNode==e?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},!1);t.nextNode();)t.referenceNode&&!t.referenceNode.textContent.trim()&&t.referenceNode.parentNode.removeChild(t.referenceNode);else for(n=0;e.childNodes.length>n;n++)i=e.childNodes[n],3!=i.nodeType||/\S/.test(i.nodeValue)||(e.removeChild(i),n--),1==i.nodeType&&mt.stripWhitespace(i)},pt=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},mt.animationFrame=function(e){pt.call(t,e)},ht=[],mt.queueAnimation=function(e){ht[ht.length]=e,1===ht.length&&mt.runNextAnimation()},mt.runNextAnimation=function(){mt.animationFrame(function(){ht[0]&&(ht.shift()(),ht[0]&&mt.runNextAnimation())})},mt.parseQueryStringParams=function(e){for(var t=e.split("?")[1]||"",n={},i=t.split(/&|=/),r=i.length,o=0;r>o;o+=2)""!==i[o]&&(n[decodeURIComponent(i[o])]=decodeURIComponent(i[o+1]));return n},mt.elementUnderCursor=function(e){return document.elementFromPoint(e.x.client,e.y.client)},mt.wheelDeltaY=function(e){var t,i=e.originalEvent,r=i.wheelDeltaY;return i.wheelDelta?(r===n||r)&&(t=i.wheelDelta):i.detail&&i.axis===i.VERTICAL_AXIS&&(t=10*-i.detail),t},mt.throttle=function(e,t){var i,r,o=0;return!t||0>=t?e:(r=function(){function r(){e.apply(a,l),o=+new Date}var a=this,s=+new Date-o,l=arguments;return o?(i&&clearTimeout(i),s>t?r():i=setTimeout(r,t-s),n):r()},r.cancel=function(){clearTimeout(i)},r)},mt.caret=function(t,i,r){var o,a,s,l,u=i!==n;if(r===n&&(r=i),t[0]&&(t=t[0]),!u||!t.disabled){try{t.selectionStart!==n?u?(t.focus(),t.setSelectionRange(i,r)):i=[t.selectionStart,t.selectionEnd]:document.selection&&(e(t).is(":visible")&&t.focus(),o=t.createTextRange(),u?(o.collapse(!0),o.moveStart("character",i),o.moveEnd("character",r-i),o.select()):(a=o.duplicate(),o.moveToBookmark(document.selection.createRange().getBookmark()),a.setEndPoint("EndToStart",o),s=a.text.length,l=s+o.text.length,i=[s,l]))}catch(c){i=[]}return i}},mt.compileMobileDirective=function(e,n){var i=t.angular;return e.attr("data-"+mt.ns+"role",e[0].tagName.toLowerCase().replace("kendo-mobile-","").replace("-","")),i.element(e).injector().invoke(["$compile",function(t){var r=i.element(e).scope();n&&n(r),t(e)(r),/^\$(digest|apply)$/.test(r.$$phase)||r.$digest()}]),mt.widgetInstance(e,mt.mobile.ui)},mt.antiForgeryTokens=function(){var t={},i=e("meta[name=csrf-token]").attr("content"),r=e("meta[name=csrf-param]").attr("content");return e("input[name^='__RequestVerificationToken']").each(function(){t[this.name]=this.value}),r!==n&&i!==n&&(t[r]=i),t},function(){function n(t,n,i){var r,o,a=e("<form>").attr({action:i,method:"POST"}),s=mt.antiForgeryTokens();s.fileName=n,r=t.split(";base64,"),s.contentType=r[0].replace("data:",""),s.base64=r[1];for(o in s)s.hasOwnProperty(o)&&e("<input>").attr({value:s[o],name:o,type:"hidden"}).appendTo(a);a.appendTo("body").submit().remove()}function i(e,t){var n,i,r,o,a,s=e;if("string"==typeof e){for(n=e.split(";base64,"),i=n[0],r=atob(n[1]),o=new Uint8Array(r.length),a=0;r.length>a;a++)o[a]=r.charCodeAt(a);s=new Blob([o.buffer],{type:i})}navigator.msSaveBlob(s,t)}function r(e,n){t.Blob&&e instanceof Blob&&(e=URL.createObjectURL(e)),o.download=n,o.href=e;var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),o.dispatchEvent(i)}var o=document.createElement("a"),a="download"in o;mt.saveAs=function(e){var t=n;e.forceProxy||(a?t=r:navigator.msSaveBlob&&(t=i)),t(e.dataURI,e.fileName,e.proxyURL)}}()}(jQuery,window),function(e){function t(e,t){var n=e.x.location,i=e.y.location,r=t.x.location,o=t.y.location,a=n-r,s=i-o;return{center:{x:(n+r)/2,y:(i+o)/2},distance:Math.sqrt(a*a+s*s)}}function n(e){var t,n,i,r=[],a=e.originalEvent,s=e.currentTarget,l=0;if(e.api)r.push({id:2,event:e,target:e.target,currentTarget:e.target,location:e,type:"api"});else if(e.type.match(/touch/))for(n=a?a.changedTouches:[],t=n.length;t>l;l++)i=n[l],r.push({location:i,event:e,target:i.target,currentTarget:s,id:i.identifier,type:"touch"});else r.push(o.pointers||o.msPointers?{location:a,event:e,target:e.target,currentTarget:s,id:a.pointerId,type:"pointer"}:{id:1,event:e,target:e.target,currentTarget:s,location:e,type:"mouse"});return r}function i(e){for(var t=r.eventMap.up.split(" "),n=0,i=t.length;i>n;n++)e(t[n])}var r=window.kendo,o=r.support,a=window.document,s=r.Class,l=r.Observable,u=e.now,c=e.extend,d=o.mobileOS,f=d&&d.android,p=800,h=o.browser.msie?5:0,m="press",g="hold",v="select",y="start",b="move",_="end",x="cancel",w="tap",M="release",T="gesturestart",S="gesturechange",k="gestureend",z="gesturetap",E={api:0,touch:0,mouse:9,pointer:9},D=!o.touch||o.mouseAndTouchPresent,P=s.extend({init:function(e,t){var n=this;n.axis=e,n._updateLocationData(t),n.startLocation=n.location,n.velocity=n.delta=0,n.timeStamp=u()},move:function(e){var t=this,n=e["page"+t.axis],i=u(),r=i-t.timeStamp||1;(n||!f)&&(t.delta=n-t.location,t._updateLocationData(e),t.initialDelta=n-t.startLocation,t.velocity=t.delta/r,t.timeStamp=i)},_updateLocationData:function(e){var t=this,n=t.axis;t.location=e["page"+n],t.client=e["client"+n],t.screen=e["screen"+n]}}),C=s.extend({init:function(e,t,n){c(this,{x:new P("X",n.location),y:new P("Y",n.location),type:n.type,threshold:e.threshold||E[n.type],userEvents:e,target:t,currentTarget:n.currentTarget,initialTouch:n.target,id:n.id,pressEvent:n,_moved:!1,_finished:!1})},press:function(){this._holdTimeout=setTimeout(e.proxy(this,"_hold"),this.userEvents.minHold),this._trigger(m,this.pressEvent)},_hold:function(){this._trigger(g,this.pressEvent)},move:function(e){var t=this;if(!t._finished){if(t.x.move(e.location),t.y.move(e.location),!t._moved){if(t._withinIgnoreThreshold())return;if(O.current&&O.current!==t.userEvents)return t.dispose();t._start(e)}t._finished||t._trigger(b,e)}},end:function(e){var t=this;t.endTime=u(),t._finished||(t._finished=!0,t._trigger(M,e),t._moved?t._trigger(_,e):t._trigger(w,e),clearTimeout(t._holdTimeout),t.dispose())},dispose:function(){var t=this.userEvents,n=t.touches;this._finished=!0,this.pressEvent=null,clearTimeout(this._holdTimeout),n.splice(e.inArray(this,n),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(e){clearTimeout(this._holdTimeout),this.startTime=u(),this._moved=!0,this._trigger(y,e)},_trigger:function(e,t){var n=this,i=t.event,r={touch:n,x:n.x,y:n.y,target:n.target,event:i};n.userEvents.notify(e,r)&&i.preventDefault()},_withinIgnoreThreshold:function(){var e=this.x.initialDelta,t=this.y.initialDelta;return Math.sqrt(e*e+t*t)<=this.threshold}}),O=l.extend({init:function(t,n){var s,u,d,f=this,E=r.guid();n=n||{},s=f.filter=n.filter,f.threshold=n.threshold||h,f.minHold=n.minHold||p,f.touches=[],f._maxTouches=n.multiTouch?2:1,f.allowSelection=n.allowSelection,f.captureUpIfMoved=n.captureUpIfMoved,f.eventNS=E,t=e(t).handler(f),l.fn.init.call(f),c(f,{element:t,surface:e(n.global&&D?a.documentElement:n.surface||t),stopPropagation:n.stopPropagation,pressed:!1}),f.surface.handler(f).on(r.applyEventMap("move",E),"_move").on(r.applyEventMap("up cancel",E),"_end"),t.on(r.applyEventMap("down",E),s,"_start"),(o.pointers||o.msPointers)&&t.css("-ms-touch-action","pinch-zoom double-tap-zoom"),n.preventDragEvent&&t.on(r.applyEventMap("dragstart",E),r.preventDefault),t.on(r.applyEventMap("mousedown",E),s,{root:t},"_select"),f.captureUpIfMoved&&o.eventCapture&&(u=f.surface[0],d=e.proxy(f.preventIfMoving,f),i(function(e){u.addEventListener(e,d,!0)})),f.bind([m,g,w,y,b,_,M,x,T,S,k,z,v],n)},preventIfMoving:function(e){this._isMoved()&&e.preventDefault()},destroy:function(){var e,t=this;t._destroyed||(t._destroyed=!0,t.captureUpIfMoved&&o.eventCapture&&(e=t.surface[0],i(function(n){e.removeEventListener(n,t.preventIfMoving)})),t.element.kendoDestroy(t.eventNS),t.surface.kendoDestroy(t.eventNS),t.element.removeData("handler"),t.surface.removeData("handler"),t._disposeAll(),t.unbind(),delete t.surface,delete t.element,delete t.currentTarget)},capture:function(){O.current=this},cancel:function(){this._disposeAll(),this.trigger(x)},notify:function(e,n){var i=this,r=i.touches;if(this._isMultiTouch()){switch(e){case b:e=S;break;case _:e=k;break;case w:e=z}c(n,{touches:r},t(r[0],r[1]))}return this.trigger(e,c(n,{type:e}))},press:function(e,t,n){this._apiCall("_start",e,t,n)},move:function(e,t){this._apiCall("_move",e,t)},end:function(e,t){this._apiCall("_end",e,t)},_isMultiTouch:function(){return this.touches.length>1},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){for(var e=this.touches;e.length>0;)e.pop().dispose()},_isMoved:function(){return e.grep(this.touches,function(e){return e.isMoved()}).length},_select:function(e){(!this.allowSelection||this.trigger(v,{event:e}))&&e.preventDefault()},_start:function(t){var i,r,o=this,a=0,s=o.filter,l=n(t),u=l.length,c=t.which;if(!(c&&c>1||o._maxTouchesReached()))for(O.current=null,o.currentTarget=t.currentTarget,o.stopPropagation&&t.stopPropagation();u>a&&!o._maxTouchesReached();a++)r=l[a],i=s?e(r.currentTarget):o.element,i.length&&(r=new C(o,i,r),o.touches.push(r),r.press(),o._isMultiTouch()&&o.notify("gesturestart",{}))},_move:function(e){this._eachTouch("move",e)},_end:function(e){this._eachTouch("end",e)},_eachTouch:function(e,t){var i,r,o,a,s=this,l={},u=n(t),c=s.touches;for(i=0;c.length>i;i++)r=c[i],l[r.id]=r;for(i=0;u.length>i;i++)o=u[i],a=l[o.id],a&&a[e](o)},_apiCall:function(t,n,i,r){this[t]({api:!0,pageX:n,pageY:i,clientX:n,clientY:i,target:e(r||this.element)[0],stopPropagation:e.noop,preventDefault:e.noop})}});O.defaultThreshold=function(e){h=e},O.minHold=function(e){p=e},r.getTouches=n,r.touchDelta=t,r.UserEvents=O}(window.kendo.jQuery),function(e,t){function n(t,n){try{return e.contains(t,n)||t==n}catch(i){return!1}}function i(e,t){return parseInt(e.css(t),10)||0}function r(e,t){return Math.min(Math.max(e,t.min),t.max)}function o(e,t){var n=M(e),r=n.left+i(e,"borderLeftWidth")+i(e,"paddingLeft"),o=n.top+i(e,"borderTopWidth")+i(e,"paddingTop"),a=r+e.width()-t.outerWidth(!0),s=o+e.height()-t.outerHeight(!0);return{x:{min:r,max:a},y:{min:o,max:s}}}function a(e,n,i){for(var r,o,a=0,s=n&&n.length,l=i&&i.length;e&&e.parentNode;){for(a=0;s>a;a++)if(r=n[a],r.element[0]===e)return{target:r,targetElement:e};for(a=0;l>a;a++)if(o=i[a],m.matchesSelector.call(e,o.options.filter))return{target:o,targetElement:e};e=e.parentNode}return t}function s(e,t){var n,i=t.options.group,r=e[i];if(y.fn.destroy.call(t),r.length>1){for(n=0;r.length>n;n++)if(r[n]==t){r.splice(n,1);break}}else r.length=0,delete e[i]}var l,u,c,d,f,p,h=window.kendo,m=h.support,g=window.document,v=h.Class,y=h.ui.Widget,b=h.Observable,_=h.UserEvents,x=e.proxy,w=e.extend,M=h.getOffset,T={},S={},k={},z=h.elementUnderCursor,E="keyup",D="change",P="dragstart",C="hold",O="drag",A="dragend",H="dragcancel",N="hintDestroyed",F="dragenter",I="dragleave",L="drop",R=b.extend({init:function(t,n){var i=this,r=t[0];i.capture=!1,r.addEventListener?(e.each(h.eventMap.down.split(" "),function(){r.addEventListener(this,x(i._press,i),!0)}),e.each(h.eventMap.up.split(" "),function(){r.addEventListener(this,x(i._release,i),!0)})):(e.each(h.eventMap.down.split(" "),function(){r.attachEvent(this,x(i._press,i))}),e.each(h.eventMap.up.split(" "),function(){r.attachEvent(this,x(i._release,i))})),b.fn.init.call(i),i.bind(["press","release"],n||{})},captureNext:function(){this.capture=!0},cancelCapture:function(){this.capture=!1},_press:function(e){var t=this;t.trigger("press"),t.capture&&e.preventDefault()},_release:function(e){var t=this;t.trigger("release"),t.capture&&(e.preventDefault(),t.cancelCapture())}}),U=b.extend({init:function(t){var n=this;b.fn.init.call(n),n.forcedEnabled=!1,e.extend(n,t),n.scale=1,n.horizontal?(n.measure="offsetWidth",n.scrollSize="scrollWidth",n.axis="x"):(n.measure="offsetHeight",n.scrollSize="scrollHeight",n.axis="y")},makeVirtual:function(){e.extend(this,{virtual:!0,forcedEnabled:!0,_virtualMin:0,_virtualMax:0})},virtualSize:function(e,t){(this._virtualMin!==e||this._virtualMax!==t)&&(this._virtualMin=e,this._virtualMax=t,this.update())},outOfBounds:function(e){return e>this.max||this.min>e},forceEnabled:function(){this.forcedEnabled=!0},getSize:function(){return this.container[0][this.measure]},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(e){this.scale=e},update:function(e){var t=this,n=t.virtual?t._virtualMax:t.getTotal(),i=n*t.scale,r=t.getSize();(0!==n||t.forcedEnabled)&&(t.max=t.virtual?-t._virtualMin:0,t.size=r,t.total=i,t.min=Math.min(t.max,r-i),t.minScale=r/n,t.centerOffset=(i-r)/2,t.enabled=t.forcedEnabled||i>r,e||t.trigger(D,t))}}),W=b.extend({init:function(e){var t=this;b.fn.init.call(t),t.x=new U(w({horizontal:!0},e)),t.y=new U(w({horizontal:!1},e)),t.container=e.container,t.forcedMinScale=e.minScale,t.maxScale=e.maxScale||100,t.bind(D,e)},rescale:function(e){this.x.rescale(e),this.y.rescale(e),this.refresh()},centerCoordinates:function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},refresh:function(){var e=this;e.x.update(),e.y.update(),e.enabled=e.x.enabled||e.y.enabled,e.minScale=e.forcedMinScale||Math.min(e.x.minScale,e.y.minScale),e.fitScale=Math.max(e.x.minScale,e.y.minScale),e.trigger(D)}}),B=b.extend({init:function(e){var t=this;w(t,e),b.fn.init.call(t)},outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},dragMove:function(e){var t=this,n=t.dimension,i=t.axis,r=t.movable,o=r[i]+e;n.enabled&&((n.min>o&&0>e||o>n.max&&e>0)&&(e*=t.resistance),r.translateAxis(i,e),t.trigger(D,t))}}),j=v.extend({init:function(e){var t,n,i,r,o=this;w(o,{elastic:!0},e),i=o.elastic?.5:0,r=o.movable,o.x=t=new B({axis:"x",dimension:o.dimensions.x,resistance:i,movable:r}),o.y=n=new B({axis:"y",dimension:o.dimensions.y,resistance:i,movable:r}),o.userEvents.bind(["move","end","gesturestart","gesturechange"],{gesturestart:function(e){o.gesture=e,o.offset=o.dimensions.container.offset()},gesturechange:function(e){var i,a,s,l=o.gesture,u=l.center,c=e.center,d=e.distance/l.distance,f=o.dimensions.minScale,p=o.dimensions.maxScale;f>=r.scale&&1>d&&(d+=.8*(1-d)),r.scale*d>=p&&(d=p/r.scale),a=r.x+o.offset.left,s=r.y+o.offset.top,i={x:(a-u.x)*d+c.x-a,y:(s-u.y)*d+c.y-s},r.scaleWith(d),t.dragMove(i.x),n.dragMove(i.y),o.dimensions.rescale(r.scale),o.gesture=e,e.preventDefault()},move:function(e){e.event.target.tagName.match(/textarea|input/i)||(t.dimension.enabled||n.dimension.enabled?(t.dragMove(e.x.delta),n.dragMove(e.y.delta),e.preventDefault()):e.touch.skip())},end:function(e){e.preventDefault()}})}}),$=m.transitions.prefix+"Transform";u=m.hasHW3D?function(e,t,n){return"translate3d("+e+"px,"+t+"px,0) scale("+n+")"}:function(e,t,n){return"translate("+e+"px,"+t+"px) scale("+n+")"},c=b.extend({init:function(t){var n=this;b.fn.init.call(n),n.element=e(t),n.element[0].style.webkitTransformOrigin="left top",n.x=0,n.y=0,n.scale=1,n._saveCoordinates(u(n.x,n.y,n.scale))},translateAxis:function(e,t){this[e]+=t,this.refresh()},scaleTo:function(e){this.scale=e,this.refresh()},scaleWith:function(e){this.scale*=e,this.refresh()},translate:function(e){this.x+=e.x,this.y+=e.y,this.refresh()},moveAxis:function(e,t){this[e]=t,this.refresh()},moveTo:function(e){w(this,e),this.refresh()},refresh:function(){var e,t=this,n=t.x,i=t.y;t.round&&(n=Math.round(n),i=Math.round(i)),e=u(n,i,t.scale),e!=t.coordinates&&(h.support.browser.msie&&10>h.support.browser.version?(t.element[0].style.position="absolute",t.element[0].style.left=t.x+"px",t.element[0].style.top=t.y+"px"):t.element[0].style[$]=e,t._saveCoordinates(e),t.trigger(D))},_saveCoordinates:function(e){this.coordinates=e}}),d=y.extend({init:function(e,t){var n,i=this;y.fn.init.call(i,e,t),n=i.options.group,n in S?S[n].push(i):S[n]=[i]},events:[F,I,L],options:{name:"DropTarget",group:"default"},destroy:function(){s(S,this)},_trigger:function(e,n){var i=this,r=T[i.options.group];return r?i.trigger(e,w({},n.event,{draggable:r,dropTarget:n.dropTarget})):t},_over:function(e){this._trigger(F,e)},_out:function(e){this._trigger(I,e)},_drop:function(e){var t=this,n=T[t.options.group];n&&(n.dropped=!t._trigger(L,e))}}),d.destroyGroup=function(e){var t,n=S[e]||k[e];if(n){for(t=0;n.length>t;t++)y.fn.destroy.call(n[t]);n.length=0,delete S[e],delete k[e]}},d._cache=S,f=d.extend({init:function(e,t){var n,i=this;y.fn.init.call(i,e,t),n=i.options.group,n in k?k[n].push(i):k[n]=[i]},destroy:function(){s(k,this)},options:{name:"DropTargetArea",group:"default",filter:null}}),p=y.extend({init:function(e,t){var n=this;y.fn.init.call(n,e,t),n._activated=!1,n.userEvents=new _(n.element,{global:!0,allowSelection:!0,filter:n.options.filter,threshold:n.options.distance,start:x(n._start,n),hold:x(n._hold,n),move:x(n._drag,n),end:x(n._end,n),cancel:x(n._cancel,n),select:x(n._select,n)}),n._afterEndHandler=x(n._afterEnd,n),n._captureEscape=x(n._captureEscape,n)},events:[C,P,O,A,H,N],options:{name:"Draggable",distance:h.support.touch?0:5,group:"default",cursorOffset:null,axis:null,container:null,filter:null,ignore:null,holdToDrag:!1,dropped:!1},cancelHold:function(){this._activated=!1},_captureEscape:function(e){var t=this;e.keyCode===h.keys.ESC&&(t._trigger(H,{event:e}),t.userEvents.cancel())},_updateHint:function(t){var n,i=this,o=i.options,a=i.boundaries,s=o.axis,l=i.options.cursorOffset;l?n={left:t.x.location+l.left,top:t.y.location+l.top}:(i.hintOffset.left+=t.x.delta,i.hintOffset.top+=t.y.delta,n=e.extend({},i.hintOffset)),a&&(n.top=r(n.top,a.y),n.left=r(n.left,a.x)),"x"===s?delete n.top:"y"===s&&delete n.left,i.hint.css(n)},_shouldIgnoreTarget:function(t){var n=this.options.ignore;return n&&e(t).is(n)},_select:function(e){this._shouldIgnoreTarget(e.event.target)||e.preventDefault()},_start:function(n){var i,r=this,a=r.options,s=a.container,l=a.hint;return this._shouldIgnoreTarget(n.touch.initialTouch)||a.holdToDrag&&!r._activated?(r.userEvents.cancel(),t):(r.currentTarget=n.target,r.currentTargetOffset=M(r.currentTarget),l&&(r.hint&&r.hint.stop(!0,!0).remove(),r.hint=h.isFunction(l)?e(l.call(r,r.currentTarget)):l,i=M(r.currentTarget),r.hintOffset=i,r.hint.css({position:"absolute",zIndex:2e4,left:i.left,top:i.top}).appendTo(g.body),r.angular("compile",function(){return r.hint.removeAttr("ng-repeat"),{elements:r.hint.get(),scopeFrom:n.target}})),T[a.group]=r,r.dropped=!1,s&&(r.boundaries=o(s,r.hint)),r._trigger(P,n)&&(r.userEvents.cancel(),r._afterEnd()),r.userEvents.capture(),e(g).on(E,r._captureEscape),t)},_hold:function(e){this.currentTarget=e.target,this._trigger(C,e)?this.userEvents.cancel():this._activated=!0},_drag:function(n){var i=this;n.preventDefault(),i._withDropTarget(n,function(i,r){if(!i)return l&&(l._trigger(I,w(n,{dropTarget:e(l.targetElement)})),l=null),t;if(l){if(r===l.targetElement)return;l._trigger(I,w(n,{dropTarget:e(l.targetElement)}))}i._trigger(F,w(n,{dropTarget:e(r)})),l=w(i,{targetElement:r})}),i._trigger(O,w(n,{dropTarget:l})),i.hint&&i._updateHint(n)},_end:function(t){var n=this;n._withDropTarget(t,function(n,i){n&&(n._drop(w({},t,{dropTarget:e(i)})),l=null)}),n._trigger(A,t),n._cancel(t.event)},_cancel:function(){var e=this;e._activated=!1,e.hint&&!e.dropped?setTimeout(function(){e.hint.stop(!0,!0).animate(e.currentTargetOffset,"fast",e._afterEndHandler)},0):e._afterEnd()},_trigger:function(e,t){var n=this;return n.trigger(e,w({},t.event,{x:t.x,y:t.y,currentTarget:n.currentTarget,initialTarget:t.touch?t.touch.initialTouch:null,dropTarget:t.dropTarget}))},_withDropTarget:function(e,t){var i,r,o=this,s=o.options,l=S[s.group],u=k[s.group];(l&&l.length||u&&u.length)&&(i=z(e),o.hint&&n(o.hint[0],i)&&(o.hint.hide(),i=z(e),i||(i=z(e)),o.hint.show()),r=a(i,l,u),r?t(r.target,r.targetElement):t())},destroy:function(){var e=this;y.fn.destroy.call(e),e._afterEnd(),e.userEvents.destroy(),e.currentTarget=null},_afterEnd:function(){var t=this;t.hint&&t.hint.remove(),delete T[t.options.group],t.trigger("destroy"),t.trigger(N),e(g).off(E,t._captureEscape)}}),h.ui.plugin(d),h.ui.plugin(f),h.ui.plugin(p),h.TapCapture=R,h.containerBoundaries=o,w(h.ui,{Pane:j,PaneDimensions:W,Movable:c})}(window.kendo.jQuery),function(e,t){var n=window.kendo,i=n.ui,r=i.Widget,o=e.proxy,a=n.isFunction,s=e.extend,l="horizontal",u="vertical",c="start",d="resize",f="resizeend",p=r.extend({init:function(e,t){var n=this;r.fn.init.call(n,e,t),n.orientation=n.options.orientation.toLowerCase()!=u?l:u,n._positionMouse=n.orientation==l?"x":"y",n._position=n.orientation==l?"left":"top",n._sizingDom=n.orientation==l?"outerWidth":"outerHeight",n.draggable=new i.Draggable(e,{distance:0,filter:t.handle,drag:o(n._resize,n),dragcancel:o(n._cancel,n),dragstart:o(n._start,n),dragend:o(n._stop,n)}),n.userEvents=n.draggable.userEvents},events:[d,f,c],options:{name:"Resizable",orientation:l},resize:function(){},_max:function(e){var n=this,i=n.hint?n.hint[n._sizingDom]():0,r=n.options.max;return a(r)?r(e):r!==t?n._initialElementPosition+r-i:r},_min:function(e){var n=this,i=n.options.min;return a(i)?i(e):i!==t?n._initialElementPosition+i:i},_start:function(t){var n=this,i=n.options.hint,r=e(t.currentTarget);n._initialElementPosition=r.position()[n._position],n._initialMousePosition=t[n._positionMouse].startLocation,i&&(n.hint=a(i)?e(i(r)):i,n.hint.css({position:"absolute"}).css(n._position,n._initialElementPosition).appendTo(n.element)),n.trigger(c,t),n._maxPosition=n._max(t),n._minPosition=n._min(t),e(document.body).css("cursor",r.css("cursor"))},_resize:function(e){var n,i=this,r=i._maxPosition,o=i._minPosition,a=i._initialElementPosition+(e[i._positionMouse].location-i._initialMousePosition);n=o!==t?Math.max(o,a):a,i.position=n=r!==t?Math.min(r,n):n,i.hint&&i.hint.toggleClass(i.options.invalidClass||"",n==r||n==o).css(i._position,n),i.resizing=!0,i.trigger(d,s(e,{position:n}))},_stop:function(t){var n=this;n.hint&&n.hint.remove(),n.resizing=!1,n.trigger(f,s(t,{position:n.position})),e(document.body).css("cursor","")},_cancel:function(e){var n=this;n.hint&&(n.position=t,n.hint.css(n._position,n._initialElementPosition),n._stop(e))},destroy:function(){var e=this;r.fn.destroy.call(e),e.draggable&&e.draggable.destroy()},press:function(e){if(e){var t=e.position(),n=this;n.userEvents.press(t.left,t.top,e[0]),n.targetPosition=t,n.target=e}},move:function(e){var n=this,i=n._position,r=n.targetPosition,o=n.position;o===t&&(o=r[i]),r[i]=o+e,n.userEvents.move(r.left,r.top)},end:function(){this.userEvents.end(),this.target=this.position=t}});n.ui.plugin(p)}(window.kendo.jQuery),function(e,t){function n(e){return v.test(e)}function i(e){return g.test(e)||/^\d+$/.test(e)}function r(e){return!n(e)&&!i(e)}function o(e,t){var i=parseInt(e,10);return n(e)&&(i=Math.floor(i*t/100)),i}function a(e,n){return function(i,r){var o,a=this.element.find(i).data(D);return 1==arguments.length?a[e]:(a[e]=r,n&&(o=this.element.data("kendo"+this.options.name),o.resize(!0)),t)}}function s(e){var t=this,n=e.orientation;t.owner=e,t._element=e.element,t.orientation=n,p(t,n===S?u:l),t._resizable=new c.ui.Resizable(e.element,{orientation:n,handle:".k-splitbar-draggable-"+n+"[data-marker="+e._marker+"]",hint:h(t._createHint,t),start:h(t._start,t),max:h(t._max,t),min:h(t._min,t),invalidClass:"k-restricted-size-"+n,resizeend:h(t._stop,t)})}var l,u,c=window.kendo,d=c.ui,f=c.keys,p=e.extend,h=e.proxy,m=d.Widget,g=/^\d+(\.\d+)?px$/i,v=/^\d+(\.\d+)?%$/i,y=".kendoSplitter",b="expand",_="collapse",x="contentLoad",w="error",M="resize",T="layoutChange",S="horizontal",k="vertical",z="mouseenter",E="click",D="pane",P="mouseleave",C="k-state-focused",O="k-"+D,A="."+O,H=m.extend({init:function(e,t){var n,i=this;m.fn.init.call(i,e,t),i.wrapper=i.element,n=i.options.orientation.toLowerCase()!=k,i.orientation=n?S:k,i._dimension=n?"width":"height",i._keys={decrease:n?f.LEFT:f.UP,increase:n?f.RIGHT:f.DOWN},i._resizeStep=10,i._marker=c.guid().substring(0,8),i._initPanes(),i.resizing=new s(i),i.element.triggerHandler("init"+y)},events:[b,_,x,w,M,T],_addOverlays:function(){this._panes().append("<div class='k-splitter-overlay k-overlay' />")},_removeOverlays:function(){this._panes().children(".k-splitter-overlay").remove()},_attachEvents:function(){var t=this,n=t.options.orientation;t.element.children(".k-splitbar-draggable-"+n).on("keydown"+y,h(t._keydown,t)).on("mousedown"+y,function(e){e.currentTarget.focus()}).on("focus"+y,function(t){e(t.currentTarget).addClass(C)}).on("blur"+y,function(n){e(n.currentTarget).removeClass(C),t.resizing&&t.resizing.end()}).on(z+y,function(){e(this).addClass("k-splitbar-"+t.orientation+"-hover")}).on(P+y,function(){e(this).removeClass("k-splitbar-"+t.orientation+"-hover")}).on("mousedown"+y,h(t._addOverlays,t)).end().children(".k-splitbar").on("dblclick"+y,h(t._togglePane,t)).children(".k-collapse-next, .k-collapse-prev").on(E+y,t._arrowClick(_)).end().children(".k-expand-next, .k-expand-prev").on(E+y,t._arrowClick(b)).end().end(),e(window).on("resize"+y+t._marker,h(t.resize,t)).on("mouseup"+y+t._marker,h(t._removeOverlays,t))},_detachEvents:function(){var t=this;t.element.children(".k-splitbar-draggable-"+t.orientation).off(y).end().children(".k-splitbar").off("dblclick"+y).children(".k-collapse-next, .k-collapse-prev, .k-expand-next, .k-expand-prev").off(y),e(window).off("resize"+y+t._marker)},options:{name:"Splitter",orientation:S,panes:[]},destroy:function(){m.fn.destroy.call(this),this._detachEvents(),this.resizing&&this.resizing.destroy(),c.destroy(this.element),this.wrapper=this.element=null},_keydown:function(t){var n,i=this,r=t.keyCode,o=i.resizing,a=e(t.currentTarget),s=i._keys,l=r===s.increase,u=r===s.decrease;l||u?(t.ctrlKey?(n=a[u?"next":"prev"](),o&&o.isResizing()&&o.end(),n[i._dimension]()?i._triggerAction(_,a[u?"prev":"next"]()):i._triggerAction(b,n)):o&&o.move((u?-1:1)*i._resizeStep,a),t.preventDefault()):r===f.ENTER&&o&&(o.end(),t.preventDefault())},_initPanes:function(){var e=this.options.panes||[],t=this;this.element.addClass("k-widget").addClass("k-splitter").children().each(function(n,i){"script"!=i.nodeName.toLowerCase()&&t._initPane(i,e[n])}),this.resize()},_initPane:function(t,n){t=e(t).attr("role","group").addClass(O),t.data(D,n?n:{}).toggleClass("k-scrollable",n?n.scrollable!==!1:!0),this.ajaxRequest(t)},ajaxRequest:function(e,t,n){var i,r=this;e=r.element.find(e),i=e.data(D),t=t||i.contentUrl,t&&(e.append("<span class='k-icon k-loading k-pane-loading' />"),c.isLocalUrl(t)?jQuery.ajax({url:t,data:n||{},type:"GET",dataType:"html",success:function(t){r.angular("cleanup",function(){return{elements:e.get()}}),e.html(t),r.angular("compile",function(){return{elements:e.get()}}),r.trigger(x,{pane:e[0]})},error:function(t,n){r.trigger(w,{pane:e[0],status:n,xhr:t})}}):e.removeClass("k-scrollable").html("<iframe src='"+t+"' frameborder='0' class='k-content-frame'>This page requires frames in order to show content</iframe>"))},_triggerAction:function(e,t){this.trigger(e,{pane:t[0]})||this[e](t[0])},_togglePane:function(t){var n,i=this,r=e(t.target);r.closest(".k-splitter")[0]==i.element[0]&&(n=r.children(".k-icon:not(.k-resize-handle)"),1===n.length&&(n.is(".k-collapse-prev")?i._triggerAction(_,r.prev()):n.is(".k-collapse-next")?i._triggerAction(_,r.next()):n.is(".k-expand-prev")?i._triggerAction(b,r.prev()):n.is(".k-expand-next")&&i._triggerAction(b,r.next())))},_arrowClick:function(t){var n=this;return function(i){var r,o=e(i.target);o.closest(".k-splitter")[0]==n.element[0]&&(r=o.is(".k-"+t+"-prev")?o.parent().prev():o.parent().next(),n._triggerAction(t,r))}},_updateSplitBar:function(e,t,n){var i=function(e,t){return t?"<div class='k-icon "+e+"' />":""},r=this.orientation,o=t.resizable!==!1&&n.resizable!==!1,a=t.collapsible,s=t.collapsed,l=n.collapsible,u=n.collapsed;e.addClass("k-splitbar k-state-default k-splitbar-"+r).attr("role","separator").attr("aria-expanded",!(s||u)).removeClass("k-splitbar-"+r+"-hover").toggleClass("k-splitbar-draggable-"+r,o&&!s&&!u).toggleClass("k-splitbar-static-"+r,!o&&!a&&!l).html(i("k-collapse-prev",a&&!s&&!u)+i("k-expand-prev",a&&s&&!u)+i("k-resize-handle",o)+i("k-collapse-next",l&&!u&&!s)+i("k-expand-next",l&&u&&!s)),o||a||l||e.removeAttr("tabindex")},_updateSplitBars:function(){var t=this;this.element.children(".k-splitbar").each(function(){var n=e(this),i=n.prevAll(A).first().data(D),r=n.nextAll(A).first().data(D);r&&t._updateSplitBar(n,i,r)})},_removeSplitBars:function(){this.element.children(".k-splitbar").remove()},_panes:function(){return this.element?this.element.children(A):e()},_resize:function(){var n,i,a,s,l,u,d,f,p,h,m=this,g=m.element,v=g.children(A),y=m.orientation==S,b=g.children(".k-splitbar"),_=b.length,x=y?"width":"height",w=g[x]();0===_?(_=v.length-1,v.slice(0,_).after("<div tabindex='0' class='k-splitbar' data-marker='"+m._marker+"' />"),m._updateSplitBars(),b=g.children(".k-splitbar")):m._updateSplitBars(),b.each(function(){w-=this[y?"offsetWidth":"offsetHeight"]}),n=0,i=0,a=e(),v.css({position:"absolute",top:0})[x](function(){var s,l=e(this),u=l.data(D)||{};if(l.removeClass("k-state-collapsed"),u.collapsed)s=u.collapsedSize?o(u.collapsedSize,w):0,l.css("overflow","hidden").addClass("k-state-collapsed");else{if(r(u.size))return a=a.add(this),t;s=o(u.size,w)}return i++,n+=s,s}),w-=n,s=a.length,l=Math.floor(w/s),a.slice(0,s-1).css(x,l).end().eq(s-1).css(x,w-(s-1)*l),u=0,d=y?"height":"width",f=y?"left":"top",p=y?"offsetWidth":"offsetHeight",0===s&&(h=v.filter(function(){return!(e(this).data(D)||{}).collapsed}).last(),h[x](w+h[0][p])),g.children().css(d,g[d]()).each(function(e,t){"script"!=t.tagName.toLowerCase()&&(t.style[f]=Math.floor(u)+"px",u+=t[p])}),m._detachEvents(),m._attachEvents(),c.resize(v),m.trigger(T)},toggle:function(e,n){var i,r=this;e=r.element.find(e),i=e.data(D),(n||i.collapsible)&&(1==arguments.length&&(n=i.collapsed===t?!1:i.collapsed),i.collapsed=!n,i.collapsed?e.css("overflow","hidden"):e.css("overflow",""),r.resize(!0))},collapse:function(e){this.toggle(e,!1)},expand:function(e){this.toggle(e,!0)},_addPane:function(e,t,n){var i=this;return n.length&&(i.options.panes.splice(t,0,e),i._initPane(n,e),i._removeSplitBars(),i.resize(!0)),n},append:function(t){t=t||{};var n=this,i=e("<div />").appendTo(n.element);return n._addPane(t,n.options.panes.length,i)},insertBefore:function(t,n){n=e(n),t=t||{};var i=this,r=i.wrapper.children(".k-pane").index(n),o=e("<div />").insertBefore(e(n));return i._addPane(t,r,o)},insertAfter:function(t,n){n=e(n),t=t||{};var i=this,r=i.wrapper.children(".k-pane").index(n),o=e("<div />").insertAfter(e(n));return i._addPane(t,r+1,o)},remove:function(t){t=e(t);var n=this;return t.length&&(c.destroy(t),t.each(function(t,i){n.options.panes.splice(n.wrapper.children(".k-pane").index(i),1),e(i).remove()}),n._removeSplitBars(),n.options.panes.length&&n.resize(!0)),n},size:a("size",!0),min:a("min"),max:a("max")});d.plugin(H),l={sizingProperty:"height",sizingDomProperty:"offsetHeight",alternateSizingProperty:"width",positioningProperty:"top",mousePositioningProperty:"pageY"},u={sizingProperty:"width",sizingDomProperty:"offsetWidth",alternateSizingProperty:"height",positioningProperty:"left",mousePositioningProperty:"pageX"},s.prototype={press:function(e){this._resizable.press(e)},move:function(e,t){this.pressed||(this.press(t),this.pressed=!0),this._resizable.target||this._resizable.press(t),this._resizable.move(e)},end:function(){this._resizable.end(),this.pressed=!1},destroy:function(){this._resizable.destroy(),this._resizable=this._element=this.owner=null},isResizing:function(){return this._resizable.resizing},_createHint:function(t){var n=this;return e("<div class='k-ghost-splitbar k-ghost-splitbar-"+n.orientation+" k-state-default' />").css(n.alternateSizingProperty,t[n.alternateSizingProperty]())},_start:function(t){var n=this,r=e(t.currentTarget),o=r.prev(),a=r.next(),s=o.data(D),l=a.data(D),u=parseInt(o[0].style[n.positioningProperty],10),c=parseInt(a[0].style[n.positioningProperty],10)+a[0][n.sizingDomProperty]-r[0][n.sizingDomProperty],d=parseInt(n._element.css(n.sizingProperty),10),f=function(e){var t=parseInt(e,10);return(i(e)?t:d*t/100)||0},p=f(s.min),h=f(s.max)||c-u,m=f(l.min),g=f(l.max)||c-u;n.previousPane=o,n.nextPane=a,n._maxPosition=Math.min(c-m,u+h),n._minPosition=Math.max(u+p,c-g)},_max:function(){return this._maxPosition},_min:function(){return this._minPosition},_stop:function(t){var n,i,o,a,s,l,u,d,f=this,p=e(t.currentTarget),h=f.owner;return h._panes().children(".k-splitter-overlay").remove(),t.keyCode!==c.keys.ESC&&(n=t.position,i=p.prev(),o=p.next(),a=i.data(D),s=o.data(D),l=n-parseInt(i[0].style[f.positioningProperty],10),u=parseInt(o[0].style[f.positioningProperty],10)+o[0][f.sizingDomProperty]-n-p[0][f.sizingDomProperty],d=f._element.children(A).filter(function(){return r(e(this).data(D).size)}).length,(!r(a.size)||d>1)&&(r(a.size)&&d--,a.size=l+"px"),(!r(s.size)||d>1)&&(s.size=u+"px"),h.resize(!0)),!1}}}(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(_,f){f()});var Util={};var addFunc=function(cl,name,func){if(!cl.prototype[name]){Object.defineProperty(cl.prototype,name,{enumerable:false,value:func});}};addFunc(Array,'push8',function(num){"use strict";this.push(num&0xFF);});addFunc(Array,'push16',function(num){"use strict";this.push((num>>8)&0xFF,num&0xFF);});addFunc(Array,'push32',function(num){"use strict";this.push((num>>24)&0xFF,(num>>16)&0xFF,(num>>8)&0xFF,num&0xFF);});addFunc(Array,'map',function(fun){"use strict";var len=this.length;if(typeof fun!="function"){throw new TypeError();}
var res=new Array(len);var thisp=arguments[1];for(var i=0;i<len;i++){if(i in this){res[i]=fun.call(thisp,this[i],i,this);}}
return res;});addFunc(Array,'indexOf',function(elt){"use strict";var len=this.length>>>0;var from=Number(arguments[1])||0;from=(from<0)?Math.ceil(from):Math.floor(from);if(from<0){from+=len;}
for(;from<len;from++){if(from in this&&this[from]===elt){return from;}}
return-1;});if(!Object.keys){Object.keys=(function(){'use strict';var hasOwnProperty=Object.prototype.hasOwnProperty,hasDontEnumBug=!({toString:null}).propertyIsEnumerable('toString'),dontEnums=['toString','toLocaleString','valueOf','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','constructor'],dontEnumsLength=dontEnums.length;return function(obj){if(typeof obj!=='object'&&(typeof obj!=='function'||obj===null)){throw new TypeError('Object.keys called on non-object');}
var result=[],prop,i;for(prop in obj){if(hasOwnProperty.call(obj,prop)){result.push(prop);}}
if(hasDontEnumBug){for(i=0;i<dontEnumsLength;i++){if(hasOwnProperty.call(obj,dontEnums[i])){result.push(dontEnums[i]);}}}
return result;};})();}
addFunc(Function,'bind',function(oThis){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - "+"what is trying to be bound is not callable");}
var aArgs=Array.prototype.slice.call(arguments,1),fToBind=this,fNOP=function(){},fBound=function(){return fToBind.apply(this instanceof fNOP&&oThis?this:oThis,aArgs.concat(Array.prototype.slice.call(arguments)));};fNOP.prototype=this.prototype;fBound.prototype=new fNOP();return fBound;});window.requestAnimFrame=(function(){"use strict";return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){window.setTimeout(callback,1000/60);};})();Util._log_level='warn';Util.init_logging=function(level){"use strict";if(typeof level==='undefined'){level=Util._log_level;}else{Util._log_level=level;}
if(typeof window.console==="undefined"){if(typeof window.opera!=="undefined"){window.console={'log':window.opera.postError,'warn':window.opera.postError,'error':window.opera.postError};}else{window.console={'log':function(m){},'warn':function(m){},'error':function(m){}};}}
Util.Debug=Util.Info=Util.Warn=Util.Error=function(msg){};switch(level){case'debug':Util.Debug=function(msg){console.log(msg);};case'info':Util.Info=function(msg){console.log(msg);};case'warn':Util.Warn=function(msg){console.warn(msg);};case'error':Util.Error=function(msg){console.error(msg);};case'none':break;default:throw new Error("invalid logging type '"+level+"'");}};Util.get_logging=function(){return Util._log_level;};Util.init_logging();Util.make_property=function(proto,name,mode,type){"use strict";var getter;if(type==='arr'){getter=function(idx){if(typeof idx!=='undefined'){return this['_'+name][idx];}else{return this['_'+name];}};}else{getter=function(){return this['_'+name];};}
var make_setter=function(process_val){if(process_val){return function(val,idx){if(typeof idx!=='undefined'){this['_'+name][idx]=process_val(val);}else{this['_'+name]=process_val(val);}};}else{return function(val,idx){if(typeof idx!=='undefined'){this['_'+name][idx]=val;}else{this['_'+name]=val;}};}};var setter;if(type==='bool'){setter=make_setter(function(val){if(!val||(val in{'0':1,'no':1,'false':1})){return false;}else{return true;}});}else if(type==='int'){setter=make_setter(function(val){return parseInt(val,10);});}else if(type==='float'){setter=make_setter(parseFloat);}else if(type==='str'){setter=make_setter(String);}else if(type==='func'){setter=make_setter(function(val){if(!val){return function(){};}else{return val;}});}else if(type==='arr'||type==='dom'||type=='raw'){setter=make_setter();}else{throw new Error('Unknown property type '+type);}
if(typeof proto['get_'+name]==='undefined'){proto['get_'+name]=getter;}
if(typeof proto['set_'+name]==='undefined'){if(mode==='rw'){proto['set_'+name]=setter;}else if(mode==='wo'){proto['set_'+name]=function(val,idx){if(typeof this['_'+name]!=='undefined'){throw new Error(name+" can only be set once");}
setter.call(this,val,idx);};}}
proto['_raw_set_'+name]=function(val,idx){setter.call(this,val,idx);};};Util.make_properties=function(constructor,arr){"use strict";for(var i=0;i<arr.length;i++){Util.make_property(constructor.prototype,arr[i][0],arr[i][1],arr[i][2]);}};Util.set_defaults=function(obj,conf,defaults){var defaults_keys=Object.keys(defaults);var conf_keys=Object.keys(conf);var keys_obj={};var i;for(i=0;i<defaults_keys.length;i++){keys_obj[defaults_keys[i]]=1;}
for(i=0;i<conf_keys.length;i++){keys_obj[conf_keys[i]]=1;}
var keys=Object.keys(keys_obj);for(i=0;i<keys.length;i++){var setter=obj['_raw_set_'+keys[i]];if(!setter){Util.Warn('Invalid property '+keys[i]);continue;}
if(keys[i]in conf){setter.call(obj,conf[keys[i]]);}else{setter.call(obj,defaults[keys[i]]);}}};Util.decodeUTF8=function(utf8string){"use strict";return decodeURIComponent(escape(utf8string));};Util.get_include_uri=function(){return(typeof INCLUDE_URI!=="undefined")?INCLUDE_URI:"include/";};Util._loading_scripts=[];Util._pending_scripts=[];Util.load_scripts=function(files){"use strict";var head=document.getElementsByTagName('head')[0],script,ls=Util._loading_scripts,ps=Util._pending_scripts;var loadFunc=function(e){while(ls.length>0&&(ls[0].readyState==='loaded'||ls[0].readyState==='complete')){var s=ls.shift();head.appendChild(s);}
if(!this.readyState||(Util.Engine.presto&&this.readyState==='loaded')||this.readyState==='complete'){if(ps.indexOf(this)>=0){this.onload=this.onreadystatechange=null;ps.splice(ps.indexOf(this),1);if(ps.length===0&&window.onscriptsload){window.onscriptsload();}}}};for(var f=0;f<files.length;f++){script=document.createElement('script');script.type='text/javascript';script.src=Util.get_include_uri()+files[f];script.onload=script.onreadystatechange=loadFunc;if(Util.Engine.trident){ls.push(script);}else{script.async=false;head.appendChild(script);}
ps.push(script);}};Util.getPosition=function(obj){"use strict";var objPosition=obj.getBoundingClientRect();return{'x':objPosition.left+window.pageXOffset,'y':objPosition.top+window.pageYOffset,'width':objPosition.width,'height':objPosition.height};};Util.getEventPosition=function(e,obj,scale){"use strict";var evt,docX,docY,pos;evt=(e?e:window.event);evt=(evt.changedTouches?evt.changedTouches[0]:evt.touches?evt.touches[0]:evt);if(evt.pageX||evt.pageY){docX=evt.pageX;docY=evt.pageY;}else if(evt.clientX||evt.clientY){docX=evt.clientX+document.body.scrollLeft+
document.documentElement.scrollLeft;docY=evt.clientY+document.body.scrollTop+
document.documentElement.scrollTop;}
pos=Util.getPosition(obj);if(typeof scale==="undefined"){scale=1;}
var realx=docX-pos.x;var realy=docY-pos.y;var x=Math.max(Math.min(realx,pos.width-1),0);var y=Math.max(Math.min(realy,pos.height-1),0);return{'x':x/scale,'y':y/scale,'realx':realx/scale,'realy':realy/scale};};Util.addEvent=function(obj,evType,fn){"use strict";if(obj.attachEvent){var r=obj.attachEvent("on"+evType,fn);return r;}else if(obj.addEventListener){obj.addEventListener(evType,fn,false);return true;}else{throw new Error("Handler could not be attached");}};Util.removeEvent=function(obj,evType,fn){"use strict";if(obj.detachEvent){var r=obj.detachEvent("on"+evType,fn);return r;}else if(obj.removeEventListener){obj.removeEventListener(evType,fn,false);return true;}else{throw new Error("Handler could not be removed");}};Util.stopEvent=function(e){"use strict";if(e.stopPropagation){e.stopPropagation();}
else{e.cancelBubble=true;}
if(e.preventDefault){e.preventDefault();}
else{e.returnValue=false;}};Util._cursor_uris_supported=null;Util.browserSupportsCursorURIs=function(){if(Util._cursor_uris_supported===null){try{var target=document.createElement('canvas');target.style.cursor='url("data:image/x-icon;base64,AAACAAEACAgAAAIAAgA4AQAAFgAAACgAAAAIAAAAEAAAAAEAIAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AAAAAAAAAAAAAAAAAAAAAA==") 2 2, default';if(target.style.cursor){Util.Info("Data URI scheme cursor supported");Util._cursor_uris_supported=true;}else{Util.Warn("Data URI scheme cursor not supported");Util._cursor_uris_supported=false;}}catch(exc){Util.Error("Data URI scheme cursor test exception: "+exc);Util._cursor_uris_supported=false;}}
return Util._cursor_uris_supported;};Util.Features={xpath:!!(document.evaluate),air:!!(window.runtime),query:!!(document.querySelector)};(function(){"use strict";var detectPresto=function(){return!!window.opera;};var detectTrident=function(){if(!window.ActiveXObject){return false;}else{if(window.XMLHttpRequest){return(document.querySelectorAll)?6:5;}else{return 4;}}};var detectInitialWebkit=function(){try{if(navigator.taintEnabled){return false;}else{if(Util.Features.xpath){return(Util.Features.query)?525:420;}else{return 419;}}}catch(e){return false;}};var detectActualWebkit=function(initial_ver){var re=/WebKit\/([0-9\.]*) /;var str_ver=(navigator.userAgent.match(re)||['',initial_ver])[1];return parseFloat(str_ver,10);};var detectGecko=function(){if(!document.getBoxObjectFor&&window.mozInnerScreenX==null){return false;}else{return(document.getElementsByClassName)?19:18;}};Util.Engine={'presto':detectPresto(),'trident':detectTrident(),'webkit':detectInitialWebkit(),'gecko':detectGecko(),};if(Util.Engine.webkit){Util.Engine.webkit=detectActualWebkit(Util.Engine.webkit);}})();Util.Flash=(function(){"use strict";var v,version;try{v=navigator.plugins['Shockwave Flash'].description;}catch(err1){try{v=new ActiveXObject('ShockwaveFlash.ShockwaveFlash').GetVariable('$version');}catch(err2){v='0 r0';}}
version=v.match(/\d+/g);return{version:parseInt(version[0]||0+'.'+version[1],10)||0,build:parseInt(version[2],10)||0};}());var WebUtil={},$D;if(!window.$D){window.$D=function(id){if(document.getElementById){return document.getElementById(id);}else if(document.all){return document.all[id];}else if(document.layers){return document.layers[id];}
return undefined;};}
WebUtil.init_logging=function(level){"use strict";if(typeof level!=="undefined"){Util._log_level=level;}else{var param=document.location.href.match(/logging=([A-Za-z0-9\._\-]*)/);Util._log_level=(param||['',Util._log_level])[1];}
Util.init_logging();};WebUtil.dirObj=function(obj,depth,parent){"use strict";if(!depth){depth=2;}
if(!parent){parent="";}
var msg="";for(var i in obj){if((depth>1)&&(typeof obj[i]==="object")){msg+=WebUtil.dirObj(obj[i],depth-1,parent+"."+i);}else{var val="";if(typeof(obj[i])==="undefined"){val="undefined";}else{val=obj[i].toString().replace("\n"," ");}
if(val.length>30){val=val.substr(0,30)+"...";}
msg+=parent+"."+i+": "+val+"\n";}}
return msg;};WebUtil.getQueryVar=function(name,defVal){"use strict";var re=new RegExp('.*[?&]'+name+'=([^&#]*)'),match=document.location.href.match(re);if(typeof defVal==='undefined'){defVal=null;}
if(match){return decodeURIComponent(match[1]);}else{return defVal;}};WebUtil.createCookie=function(name,value,days){"use strict";var date,expires;if(days){date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));expires="; expires="+date.toGMTString();}else{expires="";}
var secure;if(document.location.protocol==="https:"){secure="; secure";}else{secure="";}
document.cookie=name+"="+value+expires+"; path=/"+secure;};WebUtil.readCookie=function(name,defaultValue){"use strict";var nameEQ=name+"=",ca=document.cookie.split(';');for(var i=0;i<ca.length;i+=1){var c=ca[i];while(c.charAt(0)===' '){c=c.substring(1,c.length);}
if(c.indexOf(nameEQ)===0){return c.substring(nameEQ.length,c.length);}}
return(typeof defaultValue!=='undefined')?defaultValue:null;};WebUtil.eraseCookie=function(name){"use strict";WebUtil.createCookie(name,"",-1);};WebUtil.initSettings=function(callback){"use strict";var callbackArgs=Array.prototype.slice.call(arguments,1);if(window.chrome&&window.chrome.storage){window.chrome.storage.sync.get(function(cfg){WebUtil.settings=cfg;console.log(WebUtil.settings);if(callback){callback.apply(this,callbackArgs);}});}else{if(callback){callback.apply(this,callbackArgs);}}};WebUtil.writeSetting=function(name,value){"use strict";if(window.chrome&&window.chrome.storage){if(WebUtil.settings[name]!==value){WebUtil.settings[name]=value;window.chrome.storage.sync.set(WebUtil.settings);}}else{localStorage.setItem(name,value);}};WebUtil.readSetting=function(name,defaultValue){"use strict";var value;if(window.chrome&&window.chrome.storage){value=WebUtil.settings[name];}else{value=localStorage.getItem(name);}
if(typeof value==="undefined"){value=null;}
if(value===null&&typeof defaultValue!==undefined){return defaultValue;}else{return value;}};WebUtil.eraseSetting=function(name){"use strict";if(window.chrome&&window.chrome.storage){window.chrome.storage.sync.remove(name);delete WebUtil.settings[name];}else{localStorage.removeItem(name);}};WebUtil.getStylesheets=function(){"use strict";var links=document.getElementsByTagName("link");var sheets=[];for(var i=0;i<links.length;i+=1){if(links[i].title&&links[i].rel.toUpperCase().indexOf("STYLESHEET")>-1){sheets.push(links[i]);}}
return sheets;};WebUtil.selectStylesheet=function(sheet){"use strict";if(typeof sheet==='undefined'){sheet='default';}
var sheets=WebUtil.getStylesheets();for(var i=0;i<sheets.length;i+=1){var link=sheets[i];if(link.title===sheet){Util.Debug("Using stylesheet "+sheet);link.disabled=false;}else{link.disabled=true;}}
return sheet;};var Base64={toBase64Table:'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='.split(''),base64Pad:'=',encode:function(data){"use strict";var result='';var toBase64Table=Base64.toBase64Table;var length=data.length;var lengthpad=(length%3);for(var i=0;i<(length-2);i+=3){result+=toBase64Table[data[i]>>2];result+=toBase64Table[((data[i]&0x03)<<4)+(data[i+1]>>4)];result+=toBase64Table[((data[i+1]&0x0f)<<2)+(data[i+2]>>6)];result+=toBase64Table[data[i+2]&0x3f];}
var j=0;if(lengthpad===2){j=length-lengthpad;result+=toBase64Table[data[j]>>2];result+=toBase64Table[((data[j]&0x03)<<4)+(data[j+1]>>4)];result+=toBase64Table[(data[j+1]&0x0f)<<2];result+=toBase64Table[64];}else if(lengthpad===1){j=length-lengthpad;result+=toBase64Table[data[j]>>2];result+=toBase64Table[(data[j]&0x03)<<4];result+=toBase64Table[64];result+=toBase64Table[64];}
return result;},toBinaryTable:[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1],decode:function(data,offset){"use strict";offset=typeof(offset)!=='undefined'?offset:0;var toBinaryTable=Base64.toBinaryTable;var base64Pad=Base64.base64Pad;var result,result_length;var leftbits=0;var leftdata=0;var data_length=data.indexOf('=')-offset;if(data_length<0){data_length=data.length-offset;}
result_length=(data_length>>2)*3+Math.floor((data_length%4)/1.5);result=new Array(result_length);for(var idx=0,i=offset;i<data.length;i++){var c=toBinaryTable[data.charCodeAt(i)&0x7f];var padding=(data.charAt(i)===base64Pad);if(c===-1){console.error("Illegal character code "+data.charCodeAt(i)+" at position "+i);continue;}
leftdata=(leftdata<<6)|c;leftbits+=6;if(leftbits>=8){leftbits-=8;if(!padding){result[idx++]=(leftdata>>leftbits)&0xff;}
leftdata&=(1<<leftbits)-1;}}
if(leftbits){err=new Error('Corrupted base64 string');err.name='Base64-Error';throw err;}
return result;}};if(window.WebSocket&&!window.WEB_SOCKET_FORCE_FLASH){Websock_native=true;}else if(window.MozWebSocket&&!window.WEB_SOCKET_FORCE_FLASH){Websock_native=true;window.WebSocket=window.MozWebSocket;}else{Websock_native=false;(function(){window.WEB_SOCKET_SWF_LOCATION=Util.get_include_uri()+"web-socket-js/WebSocketMain.swf";if(Util.Engine.trident){Util.Debug("Forcing uncached load of WebSocketMain.swf");window.WEB_SOCKET_SWF_LOCATION+="?"+Math.random();}
Util.load_scripts(["web-socket-js/swfobject.js","web-socket-js/web_socket.js"]);})();}
function Websock(){"use strict";this._websocket=null;this._rQ=[];this._rQi=0;this._rQmax=10000;this._sQ=[];this._mode='base64';this.maxBufferedAmount=200;this._eventHandlers={'message':function(){},'open':function(){},'close':function(){},'error':function(){}};}
(function(){"use strict";Websock.prototype={get_sQ:function(){return this._sQ;},get_rQ:function(){return this._rQ;},get_rQi:function(){return this._rQi;},set_rQi:function(val){this._rQi=val;},rQlen:function(){return this._rQ.length-this._rQi;},rQpeek8:function(){return this._rQ[this._rQi];},rQshift8:function(){return this._rQ[this._rQi++];},rQskip8:function(){this._rQi++;},rQskipBytes:function(num){this._rQi+=num;},rQunshift8:function(num){if(this._rQi===0){this._rQ.unshift(num);}else{this._rQi--;this._rQ[this._rQi]=num;}},rQshift16:function(){return(this._rQ[this._rQi++]<<8)+
this._rQ[this._rQi++];},rQshift32:function(){return(this._rQ[this._rQi++]<<24)+
(this._rQ[this._rQi++]<<16)+
(this._rQ[this._rQi++]<<8)+
this._rQ[this._rQi++];},rQshiftStr:function(len){if(typeof(len)==='undefined'){len=this.rQlen();}
var arr=this._rQ.slice(this._rQi,this._rQi+len);this._rQi+=len;return String.fromCharCode.apply(null,arr);},rQshiftBytes:function(len){if(typeof(len)==='undefined'){len=this.rQlen();}
this._rQi+=len;return this._rQ.slice(this._rQi-len,this._rQi);},rQslice:function(start,end){if(end){return this._rQ.slice(this._rQi+start,this._rQi+end);}else{return this._rQ.slice(this._rQi+start);}},rQwait:function(msg,num,goback){var rQlen=this._rQ.length-this._rQi;if(rQlen<num){if(goback){if(this._rQi<goback){throw new Error("rQwait cannot backup "+goback+" bytes");}
this._rQi-=goback;}
return true;}
return false;},flush:function(){if(this._websocket.bufferedAmount!==0){Util.Debug("bufferedAmount: "+this._websocket.bufferedAmount);}
if(this._websocket.bufferedAmount<this.maxBufferedAmount){if(this._sQ.length>0){this._websocket.send(this._encode_message());this._sQ=[];}
return true;}else{Util.Info("Delaying send, bufferedAmount: "+
this._websocket.bufferedAmount);return false;}},send:function(arr){this._sQ=this._sQ.concat(arr);return this.flush();},send_string:function(str){this.send(str.split('').map(function(chr){return chr.charCodeAt(0);}));},off:function(evt){this._eventHandlers[evt]=function(){};},on:function(evt,handler){this._eventHandlers[evt]=handler;},init:function(protocols,ws_schema){this._rQ=[];this._rQi=0;this._sQ=[];this._websocket=null;var bt=false;if(('Uint8Array'in window)&&('set'in Uint8Array.prototype)){bt=true;}
var wsbt=false;try{if(bt&&('binaryType'in WebSocket.prototype||!!(new WebSocket(ws_schema+'://.').binaryType))){Util.Info("Detected binaryType support in WebSockets");wsbt=true;}}catch(exc){}
if(typeof(protocols)==="undefined"){if(wsbt){protocols=['binary','base64'];}else{protocols='base64';}}
if(!wsbt){if(protocols==='binary'){throw new Error('WebSocket binary sub-protocol requested but not supported');}
if(typeof(protocols)==='object'){var new_protocols=[];for(var i=0;i<protocols.length;i++){if(protocols[i]==='binary'){Util.Error('Skipping unsupported WebSocket binary sub-protocol');}else{new_protocols.push(protocols[i]);}}
if(new_protocols.length>0){protocols=new_protocols;}else{throw new Error("Only WebSocket binary sub-protocol was requested and is not supported.");}}}
return protocols;},open:function(uri,protocols){var ws_schema=uri.match(/^([a-z]+):\/\//)[1];protocols=this.init(protocols,ws_schema);this._websocket=new WebSocket(uri,protocols);if(protocols.indexOf('binary')>=0){this._websocket.binaryType='arraybuffer';}
this._websocket.onmessage=this._recv_message.bind(this);this._websocket.onopen=(function(){Util.Debug('>> WebSock.onopen');if(this._websocket.protocol){this._mode=this._websocket.protocol;Util.Info("Server choose sub-protocol: "+this._websocket.protocol);}else{this._mode='base64';Util.Error('Server select no sub-protocol!: '+this._websocket.protocol);}
this._eventHandlers.open();Util.Debug("<< WebSock.onopen");}).bind(this);this._websocket.onclose=(function(e){Util.Debug(">> WebSock.onclose");this._eventHandlers.close(e);Util.Debug("<< WebSock.onclose");}).bind(this);this._websocket.onerror=(function(e){Util.Debug(">> WebSock.onerror: "+e);this._eventHandlers.error(e);Util.Debug("<< WebSock.onerror: "+e);}).bind(this);},close:function(){if(this._websocket){if((this._websocket.readyState===WebSocket.OPEN)||(this._websocket.readyState===WebSocket.CONNECTING)){Util.Info("Closing WebSocket connection");this._websocket.close();}
this._websocket.onmessage=function(e){return;};}},_encode_message:function(){if(this._mode==='binary'){return(new Uint8Array(this._sQ)).buffer;}else{return Base64.encode(this._sQ);}},_decode_message:function(data){if(this._mode==='binary'){var u8=new Uint8Array(data);for(var i=0;i<u8.length;i++){this._rQ.push(u8[i]);}}else{this._rQ=this._rQ.concat(Base64.decode(data,0));}},_recv_message:function(e){try{this._decode_message(e.data);if(this.rQlen()>0){this._eventHandlers.message();if(this._rQ.length>this._rQmax){this._rQ=this._rQ.slice(this._rQi);this._rQi=0;}}else{Util.Debug("Ignoring empty message");}}catch(exc){var exception_str="";if(exc.name){exception_str+="\n    name: "+exc.name+"\n";exception_str+="    message: "+exc.message+"\n";}
if(typeof exc.description!=='undefined'){exception_str+="    description: "+exc.description+"\n";}
if(typeof exc.stack!=='undefined'){exception_str+=exc.stack;}
if(exception_str.length>0){Util.Error("recv_message, caught exception: "+exception_str);}else{Util.Error("recv_message, caught exception: "+exc);}
if(typeof exc.name!=='undefined'){this._eventHandlers.error(exc.name+": "+exc.message);}else{this._eventHandlers.error(exc);}}}};})();function DES(passwd){"use strict";var PC2=[13,16,10,23,0,4,2,27,14,5,20,9,22,18,11,3,25,7,15,6,26,19,12,1,40,51,30,36,46,54,29,39,50,44,32,47,43,48,38,55,33,52,45,41,49,35,28,31],totrot=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],z=0x0,a,b,c,d,e,f,SP1,SP2,SP3,SP4,SP5,SP6,SP7,SP8,keys=[];a=1<<16;b=1<<24;c=a|b;d=1<<2;e=1<<10;f=d|e;SP1=[c|e,z|z,a|z,c|f,c|d,a|f,z|d,a|z,z|e,c|e,c|f,z|e,b|f,c|d,b|z,z|d,z|f,b|e,b|e,a|e,a|e,c|z,c|z,b|f,a|d,b|d,b|d,a|d,z|z,z|f,a|f,b|z,a|z,c|f,z|d,c|z,c|e,b|z,b|z,z|e,c|d,a|z,a|e,b|d,z|e,z|d,b|f,a|f,c|f,a|d,c|z,b|f,b|d,z|f,a|f,c|e,z|f,b|e,b|e,z|z,a|d,a|e,z|z,c|d];a=1<<20;b=1<<31;c=a|b;d=1<<5;e=1<<15;f=d|e;SP2=[c|f,b|e,z|e,a|f,a|z,z|d,c|d,b|f,b|d,c|f,c|e,b|z,b|e,a|z,z|d,c|d,a|e,a|d,b|f,z|z,b|z,z|e,a|f,c|z,a|d,b|d,z|z,a|e,z|f,c|e,c|z,z|f,z|z,a|f,c|d,a|z,b|f,c|z,c|e,z|e,c|z,b|e,z|d,c|f,a|f,z|d,z|e,b|z,z|f,c|e,a|z,b|d,a|d,b|f,b|d,a|d,a|e,z|z,b|e,z|f,b|z,c|d,c|f,a|e];a=1<<17;b=1<<27;c=a|b;d=1<<3;e=1<<9;f=d|e;SP3=[z|f,c|e,z|z,c|d,b|e,z|z,a|f,b|e,a|d,b|d,b|d,a|z,c|f,a|d,c|z,z|f,b|z,z|d,c|e,z|e,a|e,c|z,c|d,a|f,b|f,a|e,a|z,b|f,z|d,c|f,z|e,b|z,c|e,b|z,a|d,z|f,a|z,c|e,b|e,z|z,z|e,a|d,c|f,b|e,b|d,z|e,z|z,c|d,b|f,a|z,b|z,c|f,z|d,a|f,a|e,b|d,c|z,b|f,z|f,c|z,a|f,z|d,c|d,a|e];a=1<<13;b=1<<23;c=a|b;d=1<<0;e=1<<7;f=d|e;SP4=[c|d,a|f,a|f,z|e,c|e,b|f,b|d,a|d,z|z,c|z,c|z,c|f,z|f,z|z,b|e,b|d,z|d,a|z,b|z,c|d,z|e,b|z,a|d,a|e,b|f,z|d,a|e,b|e,a|z,c|e,c|f,z|f,b|e,b|d,c|z,c|f,z|f,z|z,z|z,c|z,a|e,b|e,b|f,z|d,c|d,a|f,a|f,z|e,c|f,z|f,z|d,a|z,b|d,a|d,c|e,b|f,a|d,a|e,b|z,c|d,z|e,b|z,a|z,c|e];a=1<<25;b=1<<30;c=a|b;d=1<<8;e=1<<19;f=d|e;SP5=[z|d,a|f,a|e,c|d,z|e,z|d,b|z,a|e,b|f,z|e,a|d,b|f,c|d,c|e,z|f,b|z,a|z,b|e,b|e,z|z,b|d,c|f,c|f,a|d,c|e,b|d,z|z,c|z,a|f,a|z,c|z,z|f,z|e,c|d,z|d,a|z,b|z,a|e,c|d,b|f,a|d,b|z,c|e,a|f,b|f,z|d,a|z,c|e,c|f,z|f,c|z,c|f,a|e,z|z,b|e,c|z,z|f,a|d,b|d,z|e,z|z,b|e,a|f,b|d];a=1<<22;b=1<<29;c=a|b;d=1<<4;e=1<<14;f=d|e;SP6=[b|d,c|z,z|e,c|f,c|z,z|d,c|f,a|z,b|e,a|f,a|z,b|d,a|d,b|e,b|z,z|f,z|z,a|d,b|f,z|e,a|e,b|f,z|d,c|d,c|d,z|z,a|f,c|e,z|f,a|e,c|e,b|z,b|e,z|d,c|d,a|e,c|f,a|z,z|f,b|d,a|z,b|e,b|z,z|f,b|d,c|f,a|e,c|z,a|f,c|e,z|z,c|d,z|d,z|e,c|z,a|f,z|e,a|d,b|f,z|z,c|e,b|z,a|d,b|f];a=1<<21;b=1<<26;c=a|b;d=1<<1;e=1<<11;f=d|e;SP7=[a|z,c|d,b|f,z|z,z|e,b|f,a|f,c|e,c|f,a|z,z|z,b|d,z|d,b|z,c|d,z|f,b|e,a|f,a|d,b|e,b|d,c|z,c|e,a|d,c|z,z|e,z|f,c|f,a|e,z|d,b|z,a|e,b|z,a|e,a|z,b|f,b|f,c|d,c|d,z|d,a|d,b|z,b|e,a|z,c|e,z|f,a|f,c|e,z|f,b|d,c|f,c|z,a|e,z|z,z|d,c|f,z|z,a|f,c|z,z|e,b|d,b|e,z|e,a|d];a=1<<18;b=1<<28;c=a|b;d=1<<6;e=1<<12;f=d|e;SP8=[b|f,z|e,a|z,c|f,b|z,b|f,z|d,b|z,a|d,c|z,c|f,a|e,c|e,a|f,z|e,z|d,c|z,b|d,b|e,z|f,a|e,a|d,c|d,c|e,z|f,z|z,z|z,c|d,b|d,b|e,a|f,a|z,a|f,a|z,c|e,z|e,z|d,c|d,z|e,a|f,b|e,z|d,b|d,c|z,c|d,b|z,a|z,b|f,z|z,c|f,a|d,b|d,c|z,b|e,b|f,z|z,c|f,a|e,a|e,z|f,z|f,a|d,b|z,c|e];function setKeys(keyBlock){var i,j,l,m,n,o,pc1m=[],pcr=[],kn=[],raw0,raw1,rawi,KnLi;for(j=0,l=56;j<56;++j,l-=8){l+=l<-5?65:l<-3?31:l<-1?63:l===27?35:0;m=l&0x7;pc1m[j]=((keyBlock[l>>>3]&(1<<m))!==0)?1:0;}
for(i=0;i<16;++i){m=i<<1;n=m+1;kn[m]=kn[n]=0;for(o=28;o<59;o+=28){for(j=o-28;j<o;++j){l=j+totrot[i];if(l<o){pcr[j]=pc1m[l];}else{pcr[j]=pc1m[l-28];}}}
for(j=0;j<24;++j){if(pcr[PC2[j]]!==0){kn[m]|=1<<(23-j);}
if(pcr[PC2[j+24]]!==0){kn[n]|=1<<(23-j);}}}
for(i=0,rawi=0,KnLi=0;i<16;++i){raw0=kn[rawi++];raw1=kn[rawi++];keys[KnLi]=(raw0&0x00fc0000)<<6;keys[KnLi]|=(raw0&0x00000fc0)<<10;keys[KnLi]|=(raw1&0x00fc0000)>>>10;keys[KnLi]|=(raw1&0x00000fc0)>>>6;++KnLi;keys[KnLi]=(raw0&0x0003f000)<<12;keys[KnLi]|=(raw0&0x0000003f)<<16;keys[KnLi]|=(raw1&0x0003f000)>>>4;keys[KnLi]|=(raw1&0x0000003f);++KnLi;}}
function enc8(text){var i=0,b=text.slice(),fval,keysi=0,l,r,x;l=b[i++]<<24|b[i++]<<16|b[i++]<<8|b[i++];r=b[i++]<<24|b[i++]<<16|b[i++]<<8|b[i++];x=((l>>>4)^r)&0x0f0f0f0f;r^=x;l^=(x<<4);x=((l>>>16)^r)&0x0000ffff;r^=x;l^=(x<<16);x=((r>>>2)^l)&0x33333333;l^=x;r^=(x<<2);x=((r>>>8)^l)&0x00ff00ff;l^=x;r^=(x<<8);r=(r<<1)|((r>>>31)&1);x=(l^r)&0xaaaaaaaa;l^=x;r^=x;l=(l<<1)|((l>>>31)&1);for(i=0;i<8;++i){x=(r<<28)|(r>>>4);x^=keys[keysi++];fval=SP7[x&0x3f];fval|=SP5[(x>>>8)&0x3f];fval|=SP3[(x>>>16)&0x3f];fval|=SP1[(x>>>24)&0x3f];x=r^keys[keysi++];fval|=SP8[x&0x3f];fval|=SP6[(x>>>8)&0x3f];fval|=SP4[(x>>>16)&0x3f];fval|=SP2[(x>>>24)&0x3f];l^=fval;x=(l<<28)|(l>>>4);x^=keys[keysi++];fval=SP7[x&0x3f];fval|=SP5[(x>>>8)&0x3f];fval|=SP3[(x>>>16)&0x3f];fval|=SP1[(x>>>24)&0x3f];x=l^keys[keysi++];fval|=SP8[x&0x0000003f];fval|=SP6[(x>>>8)&0x3f];fval|=SP4[(x>>>16)&0x3f];fval|=SP2[(x>>>24)&0x3f];r^=fval;}
r=(r<<31)|(r>>>1);x=(l^r)&0xaaaaaaaa;l^=x;r^=x;l=(l<<31)|(l>>>1);x=((l>>>8)^r)&0x00ff00ff;r^=x;l^=(x<<8);x=((l>>>2)^r)&0x33333333;r^=x;l^=(x<<2);x=((r>>>16)^l)&0x0000ffff;l^=x;r^=(x<<16);x=((r>>>4)^l)&0x0f0f0f0f;l^=x;r^=(x<<4);x=[r,l];for(i=0;i<8;i++){b[i]=(x[i>>>2]>>>(8*(3-(i%4))))%256;if(b[i]<0){b[i]+=256;}}
return b;}
function encrypt(t){return enc8(t.slice(0,8)).concat(enc8(t.slice(8,16)));}
setKeys(passwd);return{'encrypt':encrypt};}
var keysyms=(function(){"use strict";var keynames=null;var codepoints={"32":32,"33":33,"34":34,"35":35,"36":36,"37":37,"38":38,"39":39,"40":40,"41":41,"42":42,"43":43,"44":44,"45":45,"46":46,"47":47,"48":48,"49":49,"50":50,"51":51,"52":52,"53":53,"54":54,"55":55,"56":56,"57":57,"58":58,"59":59,"60":60,"61":61,"62":62,"63":63,"64":64,"65":65,"66":66,"67":67,"68":68,"69":69,"70":70,"71":71,"72":72,"73":73,"74":74,"75":75,"76":76,"77":77,"78":78,"79":79,"80":80,"81":81,"82":82,"83":83,"84":84,"85":85,"86":86,"87":87,"88":88,"89":89,"90":90,"91":91,"92":92,"93":93,"94":94,"95":95,"96":96,"97":97,"98":98,"99":99,"100":100,"101":101,"102":102,"103":103,"104":104,"105":105,"106":106,"107":107,"108":108,"109":109,"110":110,"111":111,"112":112,"113":113,"114":114,"115":115,"116":116,"117":117,"118":118,"119":119,"120":120,"121":121,"122":122,"123":123,"124":124,"125":125,"126":126,"160":160,"161":161,"162":162,"163":163,"164":164,"165":165,"166":166,"167":167,"168":168,"169":169,"170":170,"171":171,"172":172,"173":173,"174":174,"175":175,"176":176,"177":177,"178":178,"179":179,"180":180,"181":181,"182":182,"183":183,"184":184,"185":185,"186":186,"187":187,"188":188,"189":189,"190":190,"191":191,"192":192,"193":193,"194":194,"195":195,"196":196,"197":197,"198":198,"199":199,"200":200,"201":201,"202":202,"203":203,"204":204,"205":205,"206":206,"207":207,"208":208,"209":209,"210":210,"211":211,"212":212,"213":213,"214":214,"215":215,"216":216,"217":217,"218":218,"219":219,"220":220,"221":221,"222":222,"223":223,"224":224,"225":225,"226":226,"227":227,"228":228,"229":229,"230":230,"231":231,"232":232,"233":233,"234":234,"235":235,"236":236,"237":237,"238":238,"239":239,"240":240,"241":241,"242":242,"243":243,"244":244,"245":245,"246":246,"247":247,"248":248,"249":249,"250":250,"251":251,"252":252,"253":253,"254":254,"255":255,"256":960,"257":992,"258":451,"259":483,"260":417,"261":433,"262":454,"263":486,"264":710,"265":742,"266":709,"267":741,"268":456,"269":488,"270":463,"271":495,"272":464,"273":496,"274":938,"275":954,"278":972,"279":1004,"280":458,"281":490,"282":460,"283":492,"284":728,"285":760,"286":683,"287":699,"288":725,"289":757,"290":939,"291":955,"292":678,"293":694,"294":673,"295":689,"296":933,"297":949,"298":975,"299":1007,"300":16777516,"301":16777517,"302":967,"303":999,"304":681,"305":697,"308":684,"309":700,"310":979,"311":1011,"312":930,"313":453,"314":485,"315":934,"316":950,"317":421,"318":437,"321":419,"322":435,"323":465,"324":497,"325":977,"326":1009,"327":466,"328":498,"330":957,"331":959,"332":978,"333":1010,"336":469,"337":501,"338":5052,"339":5053,"340":448,"341":480,"342":931,"343":947,"344":472,"345":504,"346":422,"347":438,"348":734,"349":766,"350":426,"351":442,"352":425,"353":441,"354":478,"355":510,"356":427,"357":443,"358":940,"359":956,"360":989,"361":1021,"362":990,"363":1022,"364":733,"365":765,"366":473,"367":505,"368":475,"369":507,"370":985,"371":1017,"372":16777588,"373":16777589,"374":16777590,"375":16777591,"376":5054,"377":428,"378":444,"379":431,"380":447,"381":430,"382":446,"399":16777615,"402":2294,"415":16777631,"416":16777632,"417":16777633,"431":16777647,"432":16777648,"437":16777653,"438":16777654,"439":16777655,"466":16777681,"486":16777702,"487":16777703,"601":16777817,"629":16777845,"658":16777874,"711":439,"728":418,"729":511,"731":434,"733":445,"901":1966,"902":1953,"904":1954,"905":1955,"906":1956,"908":1959,"910":1960,"911":1963,"912":1974,"913":1985,"914":1986,"915":1987,"916":1988,"917":1989,"918":1990,"919":1991,"920":1992,"921":1993,"922":1994,"923":1995,"924":1996,"925":1997,"926":1998,"927":1999,"928":2000,"929":2001,"931":2002,"932":2004,"933":2005,"934":2006,"935":2007,"936":2008,"937":2009,"938":1957,"939":1961,"940":1969,"941":1970,"942":1971,"943":1972,"944":1978,"945":2017,"946":2018,"947":2019,"948":2020,"949":2021,"950":2022,"951":2023,"952":2024,"953":2025,"954":2026,"955":2027,"956":2028,"957":2029,"958":2030,"959":2031,"960":2032,"961":2033,"962":2035,"963":2034,"964":2036,"965":2037,"966":2038,"967":2039,"968":2040,"969":2041,"970":1973,"971":1977,"972":1975,"973":1976,"974":1979,"1025":1715,"1026":1713,"1027":1714,"1028":1716,"1029":1717,"1030":1718,"1031":1719,"1032":1720,"1033":1721,"1034":1722,"1035":1723,"1036":1724,"1038":1726,"1039":1727,"1040":1761,"1041":1762,"1042":1783,"1043":1767,"1044":1764,"1045":1765,"1046":1782,"1047":1786,"1048":1769,"1049":1770,"1050":1771,"1051":1772,"1052":1773,"1053":1774,"1054":1775,"1055":1776,"1056":1778,"1057":1779,"1058":1780,"1059":1781,"1060":1766,"1061":1768,"1062":1763,"1063":1790,"1064":1787,"1065":1789,"1066":1791,"1067":1785,"1068":1784,"1069":1788,"1070":1760,"1071":1777,"1072":1729,"1073":1730,"1074":1751,"1075":1735,"1076":1732,"1077":1733,"1078":1750,"1079":1754,"1080":1737,"1081":1738,"1082":1739,"1083":1740,"1084":1741,"1085":1742,"1086":1743,"1087":1744,"1088":1746,"1089":1747,"1090":1748,"1091":1749,"1092":1734,"1093":1736,"1094":1731,"1095":1758,"1096":1755,"1097":1757,"1098":1759,"1099":1753,"1100":1752,"1101":1756,"1102":1728,"1103":1745,"1105":1699,"1106":1697,"1107":1698,"1108":1700,"1109":1701,"1110":1702,"1111":1703,"1112":1704,"1113":1705,"1114":1706,"1115":1707,"1116":1708,"1118":1710,"1119":1711,"1168":1725,"1169":1709,"1170":16778386,"1171":16778387,"1174":16778390,"1175":16778391,"1178":16778394,"1179":16778395,"1180":16778396,"1181":16778397,"1186":16778402,"1187":16778403,"1198":16778414,"1199":16778415,"1200":16778416,"1201":16778417,"1202":16778418,"1203":16778419,"1206":16778422,"1207":16778423,"1208":16778424,"1209":16778425,"1210":16778426,"1211":16778427,"1240":16778456,"1241":16778457,"1250":16778466,"1251":16778467,"1256":16778472,"1257":16778473,"1262":16778478,"1263":16778479,"1329":16778545,"1330":16778546,"1331":16778547,"1332":16778548,"1333":16778549,"1334":16778550,"1335":16778551,"1336":16778552,"1337":16778553,"1338":16778554,"1339":16778555,"1340":16778556,"1341":16778557,"1342":16778558,"1343":16778559,"1344":16778560,"1345":16778561,"1346":16778562,"1347":16778563,"1348":16778564,"1349":16778565,"1350":16778566,"1351":16778567,"1352":16778568,"1353":16778569,"1354":16778570,"1355":16778571,"1356":16778572,"1357":16778573,"1358":16778574,"1359":16778575,"1360":16778576,"1361":16778577,"1362":16778578,"1363":16778579,"1364":16778580,"1365":16778581,"1366":16778582,"1370":16778586,"1371":16778587,"1372":16778588,"1373":16778589,"1374":16778590,"1377":16778593,"1378":16778594,"1379":16778595,"1380":16778596,"1381":16778597,"1382":16778598,"1383":16778599,"1384":16778600,"1385":16778601,"1386":16778602,"1387":16778603,"1388":16778604,"1389":16778605,"1390":16778606,"1391":16778607,"1392":16778608,"1393":16778609,"1394":16778610,"1395":16778611,"1396":16778612,"1397":16778613,"1398":16778614,"1399":16778615,"1400":16778616,"1401":16778617,"1402":16778618,"1403":16778619,"1404":16778620,"1405":16778621,"1406":16778622,"1407":16778623,"1408":16778624,"1409":16778625,"1410":16778626,"1411":16778627,"1412":16778628,"1413":16778629,"1414":16778630,"1415":16778631,"1417":16778633,"1418":16778634,"1488":3296,"1489":3297,"1490":3298,"1491":3299,"1492":3300,"1493":3301,"1494":3302,"1495":3303,"1496":3304,"1497":3305,"1498":3306,"1499":3307,"1500":3308,"1501":3309,"1502":3310,"1503":3311,"1504":3312,"1505":3313,"1506":3314,"1507":3315,"1508":3316,"1509":3317,"1510":3318,"1511":3319,"1512":3320,"1513":3321,"1514":3322,"1548":1452,"1563":1467,"1567":1471,"1569":1473,"1570":1474,"1571":1475,"1572":1476,"1573":1477,"1574":1478,"1575":1479,"1576":1480,"1577":1481,"1578":1482,"1579":1483,"1580":1484,"1581":1485,"1582":1486,"1583":1487,"1584":1488,"1585":1489,"1586":1490,"1587":1491,"1588":1492,"1589":1493,"1590":1494,"1591":1495,"1592":1496,"1593":1497,"1594":1498,"1600":1504,"1601":1505,"1602":1506,"1603":1507,"1604":1508,"1605":1509,"1606":1510,"1607":1511,"1608":1512,"1609":1513,"1610":1514,"1611":1515,"1612":1516,"1613":1517,"1614":1518,"1615":1519,"1616":1520,"1617":1521,"1618":1522,"1619":16778835,"1620":16778836,"1621":16778837,"1632":16778848,"1633":16778849,"1634":16778850,"1635":16778851,"1636":16778852,"1637":16778853,"1638":16778854,"1639":16778855,"1640":16778856,"1641":16778857,"1642":16778858,"1648":16778864,"1657":16778873,"1662":16778878,"1670":16778886,"1672":16778888,"1681":16778897,"1688":16778904,"1700":16778916,"1705":16778921,"1711":16778927,"1722":16778938,"1726":16778942,"1729":16778945,"1740":16778956,"1746":16778962,"1748":16778964,"1776":16778992,"1777":16778993,"1778":16778994,"1779":16778995,"1780":16778996,"1781":16778997,"1782":16778998,"1783":16778999,"1784":16779000,"1785":16779001,"3458":16780674,"3459":16780675,"3461":16780677,"3462":16780678,"3463":16780679,"3464":16780680,"3465":16780681,"3466":16780682,"3467":16780683,"3468":16780684,"3469":16780685,"3470":16780686,"3471":16780687,"3472":16780688,"3473":16780689,"3474":16780690,"3475":16780691,"3476":16780692,"3477":16780693,"3478":16780694,"3482":16780698,"3483":16780699,"3484":16780700,"3485":16780701,"3486":16780702,"3487":16780703,"3488":16780704,"3489":16780705,"3490":16780706,"3491":16780707,"3492":16780708,"3493":16780709,"3494":16780710,"3495":16780711,"3496":16780712,"3497":16780713,"3498":16780714,"3499":16780715,"3500":16780716,"3501":16780717,"3502":16780718,"3503":16780719,"3504":16780720,"3505":16780721,"3507":16780723,"3508":16780724,"3509":16780725,"3510":16780726,"3511":16780727,"3512":16780728,"3513":16780729,"3514":16780730,"3515":16780731,"3517":16780733,"3520":16780736,"3521":16780737,"3522":16780738,"3523":16780739,"3524":16780740,"3525":16780741,"3526":16780742,"3530":16780746,"3535":16780751,"3536":16780752,"3537":16780753,"3538":16780754,"3539":16780755,"3540":16780756,"3542":16780758,"3544":16780760,"3545":16780761,"3546":16780762,"3547":16780763,"3548":16780764,"3549":16780765,"3550":16780766,"3551":16780767,"3570":16780786,"3571":16780787,"3572":16780788,"3585":3489,"3586":3490,"3587":3491,"3588":3492,"3589":3493,"3590":3494,"3591":3495,"3592":3496,"3593":3497,"3594":3498,"3595":3499,"3596":3500,"3597":3501,"3598":3502,"3599":3503,"3600":3504,"3601":3505,"3602":3506,"3603":3507,"3604":3508,"3605":3509,"3606":3510,"3607":3511,"3608":3512,"3609":3513,"3610":3514,"3611":3515,"3612":3516,"3613":3517,"3614":3518,"3615":3519,"3616":3520,"3617":3521,"3618":3522,"3619":3523,"3620":3524,"3621":3525,"3622":3526,"3623":3527,"3624":3528,"3625":3529,"3626":3530,"3627":3531,"3628":3532,"3629":3533,"3630":3534,"3631":3535,"3632":3536,"3633":3537,"3634":3538,"3635":3539,"3636":3540,"3637":3541,"3638":3542,"3639":3543,"3640":3544,"3641":3545,"3642":3546,"3647":3551,"3648":3552,"3649":3553,"3650":3554,"3651":3555,"3652":3556,"3653":3557,"3654":3558,"3655":3559,"3656":3560,"3657":3561,"3658":3562,"3659":3563,"3660":3564,"3661":3565,"3664":3568,"3665":3569,"3666":3570,"3667":3571,"3668":3572,"3669":3573,"3670":3574,"3671":3575,"3672":3576,"3673":3577,"4304":16781520,"4305":16781521,"4306":16781522,"4307":16781523,"4308":16781524,"4309":16781525,"4310":16781526,"4311":16781527,"4312":16781528,"4313":16781529,"4314":16781530,"4315":16781531,"4316":16781532,"4317":16781533,"4318":16781534,"4319":16781535,"4320":16781536,"4321":16781537,"4322":16781538,"4323":16781539,"4324":16781540,"4325":16781541,"4326":16781542,"4327":16781543,"4328":16781544,"4329":16781545,"4330":16781546,"4331":16781547,"4332":16781548,"4333":16781549,"4334":16781550,"4335":16781551,"4336":16781552,"4337":16781553,"4338":16781554,"4339":16781555,"4340":16781556,"4341":16781557,"4342":16781558,"7682":16784898,"7683":16784899,"7690":16784906,"7691":16784907,"7710":16784926,"7711":16784927,"7734":16784950,"7735":16784951,"7744":16784960,"7745":16784961,"7766":16784982,"7767":16784983,"7776":16784992,"7777":16784993,"7786":16785002,"7787":16785003,"7808":16785024,"7809":16785025,"7810":16785026,"7811":16785027,"7812":16785028,"7813":16785029,"7818":16785034,"7819":16785035,"7840":16785056,"7841":16785057,"7842":16785058,"7843":16785059,"7844":16785060,"7845":16785061,"7846":16785062,"7847":16785063,"7848":16785064,"7849":16785065,"7850":16785066,"7851":16785067,"7852":16785068,"7853":16785069,"7854":16785070,"7855":16785071,"7856":16785072,"7857":16785073,"7858":16785074,"7859":16785075,"7860":16785076,"7861":16785077,"7862":16785078,"7863":16785079,"7864":16785080,"7865":16785081,"7866":16785082,"7867":16785083,"7868":16785084,"7869":16785085,"7870":16785086,"7871":16785087,"7872":16785088,"7873":16785089,"7874":16785090,"7875":16785091,"7876":16785092,"7877":16785093,"7878":16785094,"7879":16785095,"7880":16785096,"7881":16785097,"7882":16785098,"7883":16785099,"7884":16785100,"7885":16785101,"7886":16785102,"7887":16785103,"7888":16785104,"7889":16785105,"7890":16785106,"7891":16785107,"7892":16785108,"7893":16785109,"7894":16785110,"7895":16785111,"7896":16785112,"7897":16785113,"7898":16785114,"7899":16785115,"7900":16785116,"7901":16785117,"7902":16785118,"7903":16785119,"7904":16785120,"7905":16785121,"7906":16785122,"7907":16785123,"7908":16785124,"7909":16785125,"7910":16785126,"7911":16785127,"7912":16785128,"7913":16785129,"7914":16785130,"7915":16785131,"7916":16785132,"7917":16785133,"7918":16785134,"7919":16785135,"7920":16785136,"7921":16785137,"7922":16785138,"7923":16785139,"7924":16785140,"7925":16785141,"7926":16785142,"7927":16785143,"7928":16785144,"7929":16785145,"8194":2722,"8195":2721,"8196":2723,"8197":2724,"8199":2725,"8200":2726,"8201":2727,"8202":2728,"8210":2747,"8211":2730,"8212":2729,"8213":1967,"8215":3295,"8216":2768,"8217":2769,"8218":2813,"8220":2770,"8221":2771,"8222":2814,"8224":2801,"8225":2802,"8226":2790,"8229":2735,"8230":2734,"8240":2773,"8242":2774,"8243":2775,"8248":2812,"8254":1150,"8304":16785520,"8308":16785524,"8309":16785525,"8310":16785526,"8311":16785527,"8312":16785528,"8313":16785529,"8320":16785536,"8321":16785537,"8322":16785538,"8323":16785539,"8324":16785540,"8325":16785541,"8326":16785542,"8327":16785543,"8328":16785544,"8329":16785545,"8352":16785568,"8353":16785569,"8354":16785570,"8355":16785571,"8356":16785572,"8357":16785573,"8358":16785574,"8359":16785575,"8360":16785576,"8361":3839,"8362":16785578,"8363":16785579,"8364":8364,"8453":2744,"8470":1712,"8471":2811,"8478":2772,"8482":2761,"8531":2736,"8532":2737,"8533":2738,"8534":2739,"8535":2740,"8536":2741,"8537":2742,"8538":2743,"8539":2755,"8540":2756,"8541":2757,"8542":2758,"8592":2299,"8593":2300,"8594":2301,"8595":2302,"8658":2254,"8660":2253,"8706":2287,"8709":16785925,"8711":2245,"8712":16785928,"8713":16785929,"8715":16785931,"8728":3018,"8730":2262,"8731":16785947,"8732":16785948,"8733":2241,"8734":2242,"8743":2270,"8744":2271,"8745":2268,"8746":2269,"8747":2239,"8748":16785964,"8749":16785965,"8756":2240,"8757":16785973,"8764":2248,"8771":2249,"8773":16785992,"8775":16785991,"8800":2237,"8801":2255,"8802":16786018,"8803":16786019,"8804":2236,"8805":2238,"8834":2266,"8835":2267,"8866":3068,"8867":3036,"8868":3010,"8869":3022,"8968":3027,"8970":3012,"8981":2810,"8992":2212,"8993":2213,"9109":3020,"9115":2219,"9117":2220,"9118":2221,"9120":2222,"9121":2215,"9123":2216,"9124":2217,"9126":2218,"9128":2223,"9132":2224,"9143":2209,"9146":2543,"9147":2544,"9148":2546,"9149":2547,"9225":2530,"9226":2533,"9227":2537,"9228":2531,"9229":2532,"9251":2732,"9252":2536,"9472":2211,"9474":2214,"9484":2210,"9488":2539,"9492":2541,"9496":2538,"9500":2548,"9508":2549,"9516":2551,"9524":2550,"9532":2542,"9618":2529,"9642":2791,"9643":2785,"9644":2779,"9645":2786,"9646":2783,"9647":2767,"9650":2792,"9651":2787,"9654":2781,"9655":2765,"9660":2793,"9661":2788,"9664":2780,"9665":2764,"9670":2528,"9675":2766,"9679":2782,"9702":2784,"9734":2789,"9742":2809,"9747":2762,"9756":2794,"9758":2795,"9792":2808,"9794":2807,"9827":2796,"9829":2798,"9830":2797,"9837":2806,"9839":2805,"10003":2803,"10007":2804,"10013":2777,"10016":2800,"10216":2748,"10217":2750,"10240":16787456,"10241":16787457,"10242":16787458,"10243":16787459,"10244":16787460,"10245":16787461,"10246":16787462,"10247":16787463,"10248":16787464,"10249":16787465,"10250":16787466,"10251":16787467,"10252":16787468,"10253":16787469,"10254":16787470,"10255":16787471,"10256":16787472,"10257":16787473,"10258":16787474,"10259":16787475,"10260":16787476,"10261":16787477,"10262":16787478,"10263":16787479,"10264":16787480,"10265":16787481,"10266":16787482,"10267":16787483,"10268":16787484,"10269":16787485,"10270":16787486,"10271":16787487,"10272":16787488,"10273":16787489,"10274":16787490,"10275":16787491,"10276":16787492,"10277":16787493,"10278":16787494,"10279":16787495,"10280":16787496,"10281":16787497,"10282":16787498,"10283":16787499,"10284":16787500,"10285":16787501,"10286":16787502,"10287":16787503,"10288":16787504,"10289":16787505,"10290":16787506,"10291":16787507,"10292":16787508,"10293":16787509,"10294":16787510,"10295":16787511,"10296":16787512,"10297":16787513,"10298":16787514,"10299":16787515,"10300":16787516,"10301":16787517,"10302":16787518,"10303":16787519,"10304":16787520,"10305":16787521,"10306":16787522,"10307":16787523,"10308":16787524,"10309":16787525,"10310":16787526,"10311":16787527,"10312":16787528,"10313":16787529,"10314":16787530,"10315":16787531,"10316":16787532,"10317":16787533,"10318":16787534,"10319":16787535,"10320":16787536,"10321":16787537,"10322":16787538,"10323":16787539,"10324":16787540,"10325":16787541,"10326":16787542,"10327":16787543,"10328":16787544,"10329":16787545,"10330":16787546,"10331":16787547,"10332":16787548,"10333":16787549,"10334":16787550,"10335":16787551,"10336":16787552,"10337":16787553,"10338":16787554,"10339":16787555,"10340":16787556,"10341":16787557,"10342":16787558,"10343":16787559,"10344":16787560,"10345":16787561,"10346":16787562,"10347":16787563,"10348":16787564,"10349":16787565,"10350":16787566,"10351":16787567,"10352":16787568,"10353":16787569,"10354":16787570,"10355":16787571,"10356":16787572,"10357":16787573,"10358":16787574,"10359":16787575,"10360":16787576,"10361":16787577,"10362":16787578,"10363":16787579,"10364":16787580,"10365":16787581,"10366":16787582,"10367":16787583,"10368":16787584,"10369":16787585,"10370":16787586,"10371":16787587,"10372":16787588,"10373":16787589,"10374":16787590,"10375":16787591,"10376":16787592,"10377":16787593,"10378":16787594,"10379":16787595,"10380":16787596,"10381":16787597,"10382":16787598,"10383":16787599,"10384":16787600,"10385":16787601,"10386":16787602,"10387":16787603,"10388":16787604,"10389":16787605,"10390":16787606,"10391":16787607,"10392":16787608,"10393":16787609,"10394":16787610,"10395":16787611,"10396":16787612,"10397":16787613,"10398":16787614,"10399":16787615,"10400":16787616,"10401":16787617,"10402":16787618,"10403":16787619,"10404":16787620,"10405":16787621,"10406":16787622,"10407":16787623,"10408":16787624,"10409":16787625,"10410":16787626,"10411":16787627,"10412":16787628,"10413":16787629,"10414":16787630,"10415":16787631,"10416":16787632,"10417":16787633,"10418":16787634,"10419":16787635,"10420":16787636,"10421":16787637,"10422":16787638,"10423":16787639,"10424":16787640,"10425":16787641,"10426":16787642,"10427":16787643,"10428":16787644,"10429":16787645,"10430":16787646,"10431":16787647,"10432":16787648,"10433":16787649,"10434":16787650,"10435":16787651,"10436":16787652,"10437":16787653,"10438":16787654,"10439":16787655,"10440":16787656,"10441":16787657,"10442":16787658,"10443":16787659,"10444":16787660,"10445":16787661,"10446":16787662,"10447":16787663,"10448":16787664,"10449":16787665,"10450":16787666,"10451":16787667,"10452":16787668,"10453":16787669,"10454":16787670,"10455":16787671,"10456":16787672,"10457":16787673,"10458":16787674,"10459":16787675,"10460":16787676,"10461":16787677,"10462":16787678,"10463":16787679,"10464":16787680,"10465":16787681,"10466":16787682,"10467":16787683,"10468":16787684,"10469":16787685,"10470":16787686,"10471":16787687,"10472":16787688,"10473":16787689,"10474":16787690,"10475":16787691,"10476":16787692,"10477":16787693,"10478":16787694,"10479":16787695,"10480":16787696,"10481":16787697,"10482":16787698,"10483":16787699,"10484":16787700,"10485":16787701,"10486":16787702,"10487":16787703,"10488":16787704,"10489":16787705,"10490":16787706,"10491":16787707,"10492":16787708,"10493":16787709,"10494":16787710,"10495":16787711,"12289":1188,"12290":1185,"12300":1186,"12301":1187,"12443":1246,"12444":1247,"12449":1191,"12450":1201,"12451":1192,"12452":1202,"12453":1193,"12454":1203,"12455":1194,"12456":1204,"12457":1195,"12458":1205,"12459":1206,"12461":1207,"12463":1208,"12465":1209,"12467":1210,"12469":1211,"12471":1212,"12473":1213,"12475":1214,"12477":1215,"12479":1216,"12481":1217,"12483":1199,"12484":1218,"12486":1219,"12488":1220,"12490":1221,"12491":1222,"12492":1223,"12493":1224,"12494":1225,"12495":1226,"12498":1227,"12501":1228,"12504":1229,"12507":1230,"12510":1231,"12511":1232,"12512":1233,"12513":1234,"12514":1235,"12515":1196,"12516":1236,"12517":1197,"12518":1237,"12519":1198,"12520":1238,"12521":1239,"12522":1240,"12523":1241,"12524":1242,"12525":1243,"12527":1244,"12530":1190,"12531":1245,"12539":1189,"12540":1200};function lookup(k){return k?{keysym:k,keyname:keynames?keynames[k]:k}:undefined;}
return{fromUnicode:function(u){return lookup(codepoints[u]);},lookup:lookup};})();var kbdUtil=(function(){"use strict";function substituteCodepoint(cp){var substitutions={0x218:0x15e,0x219:0x15f,0x21a:0x162,0x21b:0x163};var sub=substitutions[cp];return sub?sub:cp;}
function isMac(){return navigator&&!!(/mac/i).exec(navigator.platform);}
function isWindows(){return navigator&&!!(/win/i).exec(navigator.platform);}
function isLinux(){return navigator&&!!(/linux/i).exec(navigator.platform);}
function hasShortcutModifier(charModifier,currentModifiers){var mods={};for(var key in currentModifiers){if(parseInt(key)!==XK_Shift_L){mods[key]=currentModifiers[key];}}
var sum=0;for(var k in currentModifiers){if(mods[k]){++sum;}}
if(hasCharModifier(charModifier,mods)){return sum>charModifier.length;}
else{return sum>0;}}
function hasCharModifier(charModifier,currentModifiers){if(charModifier.length===0){return false;}
for(var i=0;i<charModifier.length;++i){if(!currentModifiers[charModifier[i]]){return false;}}
return true;}
function ModifierSync(charModifier){if(!charModifier){if(isMac()){charModifier=[XK_Alt_L];}
else if(isWindows()){charModifier=[XK_Alt_L,XK_Control_L];}
else if(isLinux()){charModifier=[XK_ISO_Level3_Shift];}
else{charModifier=[];}}
var state={};state[XK_Control_L]=false;state[XK_Alt_L]=false;state[XK_ISO_Level3_Shift]=false;state[XK_Shift_L]=false;state[XK_Meta_L]=false;function sync(evt,keysym){var result=[];function syncKey(keysym){return{keysym:keysyms.lookup(keysym),type:state[keysym]?'keydown':'keyup'};}
if(evt.ctrlKey!==undefined&&evt.ctrlKey!==state[XK_Control_L]&&keysym!==XK_Control_L){state[XK_Control_L]=evt.ctrlKey;result.push(syncKey(XK_Control_L));}
if(evt.altKey!==undefined&&evt.altKey!==state[XK_Alt_L]&&keysym!==XK_Alt_L){state[XK_Alt_L]=evt.altKey;result.push(syncKey(XK_Alt_L));}
if(evt.altGraphKey!==undefined&&evt.altGraphKey!==state[XK_ISO_Level3_Shift]&&keysym!==XK_ISO_Level3_Shift){state[XK_ISO_Level3_Shift]=evt.altGraphKey;result.push(syncKey(XK_ISO_Level3_Shift));}
if(evt.shiftKey!==undefined&&evt.shiftKey!==state[XK_Shift_L]&&keysym!==XK_Shift_L){state[XK_Shift_L]=evt.shiftKey;result.push(syncKey(XK_Shift_L));}
if(evt.metaKey!==undefined&&evt.metaKey!==state[XK_Meta_L]&&keysym!==XK_Meta_L){state[XK_Meta_L]=evt.metaKey;result.push(syncKey(XK_Meta_L));}
return result;}
function syncKeyEvent(evt,down){var obj=getKeysym(evt);var keysym=obj?obj.keysym:null;if(keysym!==null&&state[keysym]!==undefined){state[keysym]=down;}
return sync(evt,keysym);}
return{keydown:function(evt){return syncKeyEvent(evt,true);},keyup:function(evt){return syncKeyEvent(evt,false);},syncAny:function(evt){return sync(evt);},hasShortcutModifier:function(){return hasShortcutModifier(charModifier,state);},activeCharModifier:function(){return hasCharModifier(charModifier,state)?charModifier:null;}};}
function getKey(evt){if('keyCode'in evt&&'key'in evt){return evt.key+':'+evt.keyCode;}
else if('keyCode'in evt){return evt.keyCode;}
else{return evt.key;}}
function getKeysym(evt){var codepoint;if(evt.char&&evt.char.length===1){codepoint=evt.char.charCodeAt();}
else if(evt.charCode){codepoint=evt.charCode;}
else if(evt.keyCode&&evt.type==='keypress'){codepoint=evt.keyCode;}
if(codepoint){var res=keysyms.fromUnicode(substituteCodepoint(codepoint));if(res){return res;}}
if(evt.keyCode){return keysyms.lookup(keysymFromKeyCode(evt.keyCode,evt.shiftKey));}
if(evt.which){return keysyms.lookup(keysymFromKeyCode(evt.which,evt.shiftKey));}
return null;}
function keysymFromKeyCode(keycode,shiftPressed){if(typeof(keycode)!=='number'){return null;}
if(keycode>=0x30&&keycode<=0x39){return keycode;}
if(keycode>=0x41&&keycode<=0x5a){return shiftPressed?keycode:keycode+32;}
if(keycode>=0x60&&keycode<=0x69){return XK_KP_0+(keycode-0x60);}
switch(keycode){case 0x20:return XK_space;case 0x6a:return XK_KP_Multiply;case 0x6b:return XK_KP_Add;case 0x6c:return XK_KP_Separator;case 0x6d:return XK_KP_Subtract;case 0x6e:return XK_KP_Decimal;case 0x6f:return XK_KP_Divide;case 0xbb:return XK_plus;case 0xbc:return XK_comma;case 0xbd:return XK_minus;case 0xbe:return XK_period;}
return nonCharacterKey({keyCode:keycode});}
function nonCharacterKey(evt){if(!evt.keyCode){return null;}
var keycode=evt.keyCode;if(keycode>=0x70&&keycode<=0x87){return XK_F1+keycode-0x70;}
switch(keycode){case 8:return XK_BackSpace;case 13:return XK_Return;case 9:return XK_Tab;case 27:return XK_Escape;case 46:return XK_Delete;case 36:return XK_Home;case 35:return XK_End;case 33:return XK_Page_Up;case 34:return XK_Page_Down;case 45:return XK_Insert;case 37:return XK_Left;case 38:return XK_Up;case 39:return XK_Right;case 40:return XK_Down;case 16:return XK_Shift_L;case 17:return XK_Control_L;case 18:return XK_Alt_L;case 224:return XK_Meta_L;case 225:return XK_ISO_Level3_Shift;case 91:return XK_Super_L;case 92:return XK_Super_R;case 93:return XK_Menu;default:return null;}}
return{hasShortcutModifier:hasShortcutModifier,hasCharModifier:hasCharModifier,ModifierSync:ModifierSync,getKey:getKey,getKeysym:getKeysym,keysymFromKeyCode:keysymFromKeyCode,nonCharacterKey:nonCharacterKey,substituteCodepoint:substituteCodepoint};})();function KeyEventDecoder(modifierState,next){"use strict";function sendAll(evts){for(var i=0;i<evts.length;++i){next(evts[i]);}}
function process(evt,type){var result={type:type};var keyId=kbdUtil.getKey(evt);if(keyId){result.keyId=keyId;}
var keysym=kbdUtil.getKeysym(evt);var hasModifier=modifierState.hasShortcutModifier()||!!modifierState.activeCharModifier();if(keysym&&(type!=='keydown'||kbdUtil.nonCharacterKey(evt)||hasModifier)){result.keysym=keysym;}
var isShift=evt.keyCode===0x10||evt.key==='Shift';var suppress=!isShift&&(type!=='keydown'||modifierState.hasShortcutModifier()||!!kbdUtil.nonCharacterKey(evt));var stall=type==='keydown'&&modifierState.activeCharModifier()&&!kbdUtil.nonCharacterKey(evt);var active=modifierState.activeCharModifier();if(active&&keysym){var isCharModifier=false;for(var i=0;i<active.length;++i){if(active[i]===keysym.keysym){isCharModifier=true;}}
if(type==='keypress'&&!isCharModifier){result.escape=modifierState.activeCharModifier();}}
if(stall){next({type:'stall'});}
next(result);return suppress;}
return{keydown:function(evt){sendAll(modifierState.keydown(evt));return process(evt,'keydown');},keypress:function(evt){return process(evt,'keypress');},keyup:function(evt){sendAll(modifierState.keyup(evt));return process(evt,'keyup');},syncModifiers:function(evt){sendAll(modifierState.syncAny(evt));},releaseAll:function(){next({type:'releaseall'});}};}
function VerifyCharModifier(next){"use strict";var queue=[];var timer=null;function process(){if(timer){return;}
var delayProcess=function(){clearTimeout(timer);timer=null;process();};while(queue.length!==0){var cur=queue[0];queue=queue.splice(1);switch(cur.type){case'stall':timer=setTimeout(delayProcess,5);return;case'keydown':if(queue.length!==0&&queue[0].type==='keypress'){if(queue[0].escape&&(!cur.keysym||cur.keysym.keysym!==queue[0].keysym.keysym)){cur.escape=queue[0].escape;}
cur.keysym=queue[0].keysym;queue=queue.splice(1);}
break;}
if(cur.type!=='stall'){next(cur);}}}
return function(evt){queue.push(evt);process();};}
function TrackKeyState(next){"use strict";var state=[];return function(evt){var last=state.length!==0?state[state.length-1]:null;switch(evt.type){case'keydown':if(!last||!evt.keyId||last.keyId!==evt.keyId){last={keyId:evt.keyId,keysyms:{}};state.push(last);}
if(evt.keysym){last.keysyms[evt.keysym.keysym]=evt.keysym;last.ignoreKeyPress=true;next(evt);}
break;case'keypress':if(!last){last={keyId:evt.keyId,keysyms:{}};state.push(last);}
if(!evt.keysym){console.log('keypress with no keysym:',evt);}
if(evt.keysym&&!last.ignoreKeyPress){last.keysyms[evt.keysym.keysym]=evt.keysym;evt.type='keydown';next(evt);}
break;case'keyup':if(state.length===0){return;}
var idx=null;for(var i=0;i!==state.length;++i){if(state[i].keyId===evt.keyId){idx=i;break;}}
if(idx===null){idx=state.length-1;}
var item=state.splice(idx,1)[0];var clone=(function(){function Clone(){}
return function(obj){Clone.prototype=obj;return new Clone();};}());for(var key in item.keysyms){var out=clone(evt);out.keysym=item.keysyms[key];next(out);}
break;case'releaseall':for(var i=0;i<state.length;++i){for(var key in state[i].keysyms){var keysym=state[i].keysyms[key];next({keyId:0,keysym:keysym,type:'keyup'});}}
state=[];}};}
function EscapeModifiers(next){"use strict";return function(evt){if(evt.type!=='keydown'||evt.escape===undefined){next(evt);return;}
for(var i=0;i<evt.escape.length;++i){next({type:'keyup',keyId:0,keysym:keysyms.lookup(evt.escape[i])});}
next(evt);for(var i=0;i<evt.escape.length;++i){next({type:'keydown',keyId:0,keysym:keysyms.lookup(evt.escape[i])});}};}
var Keyboard,Mouse;(function(){"use strict";Keyboard=function(defaults){this._keyDownList=[];Util.set_defaults(this,defaults,{'target':document,'focused':true});this._handler=new KeyEventDecoder(kbdUtil.ModifierSync(),VerifyCharModifier(TrackKeyState(EscapeModifiers(this._handleRfbEvent.bind(this)))));this._eventHandlers={'keyup':this._handleKeyUp.bind(this),'keydown':this._handleKeyDown.bind(this),'keypress':this._handleKeyPress.bind(this),'blur':this._allKeysUp.bind(this)};};Keyboard.prototype={_handleRfbEvent:function(e){if(this._onKeyPress){Util.Debug("onKeyPress "+(e.type=='keydown'?"down":"up")+", keysym: "+e.keysym.keysym+"("+e.keysym.keyname+")");this._onKeyPress(e.keysym.keysym,e.type=='keydown');}},_handleKeyDown:function(e){if(!this._focused){return true;}
if(this._handler.keydown(e)){Util.stopEvent(e);return false;}else{return true;}},_handleKeyPress:function(e){if(!this._focused){return true;}
if(this._handler.keypress(e)){Util.stopEvent(e);return false;}else{return true;}},_handleKeyUp:function(e){if(!this._focused){return true;}
if(this._handler.keyup(e)){Util.stopEvent(e);return false;}else{return true;}},_allKeysUp:function(){Util.Debug(">> Keyboard.allKeysUp");this._handler.releaseAll();Util.Debug("<< Keyboard.allKeysUp");},grab:function(){var c=this._target;Util.addEvent(c,'keydown',this._eventHandlers.keydown);Util.addEvent(c,'keyup',this._eventHandlers.keyup);Util.addEvent(c,'keypress',this._eventHandlers.keypress);Util.addEvent(window,'blur',this._eventHandlers.blur);},ungrab:function(){var c=this._target;Util.removeEvent(c,'keydown',this._eventHandlers.keydown);Util.removeEvent(c,'keyup',this._eventHandlers.keyup);Util.removeEvent(c,'keypress',this._eventHandlers.keypress);Util.removeEvent(window,'blur',this._eventHandlers.blur);this._allKeysUp();},sync:function(e){this._handler.syncModifiers(e);}};Util.make_properties(Keyboard,[['target','wo','dom'],['focused','rw','bool'],['onKeyPress','rw','func']]);Mouse=function(defaults){this._mouseCaptured=false;this._doubleClickTimer=null;this._lastTouchPos=null;Util.set_defaults(this,defaults,{'target':document,'focused':true,'scale':1.0,'touchButton':1});this._eventHandlers={'mousedown':this._handleMouseDown.bind(this),'mouseup':this._handleMouseUp.bind(this),'mousemove':this._handleMouseMove.bind(this),'mousewheel':this._handleMouseWheel.bind(this),'mousedisable':this._handleMouseDisable.bind(this)};};Mouse.prototype={_captureMouse:function(){if(this._target.setCapture){this._target.setCapture();}
this._mouseCaptured=true;},_releaseMouse:function(){if(this._target.releaseCapture){this._target.releaseCapture();}
this._mouseCaptured=false;},_resetDoubleClickTimer:function(){this._doubleClickTimer=null;},_handleMouseButton:function(e,down){if(!this._focused){return true;}
if(this._notify){this._notify(e);}
var evt=(e?e:window.event);var pos=Util.getEventPosition(e,this._target,this._scale);var bmask;if(e.touches||e.changedTouches){if(down==1){if(this._doubleClickTimer===null){this._lastTouchPos=pos;}else{clearTimeout(this._doubleClickTimer);var xs=this._lastTouchPos.x-pos.x;var ys=this._lastTouchPos.y-pos.y;var d=Math.sqrt((xs*xs)+(ys*ys));if(d<20*window.devicePixelRatio){pos=this._lastTouchPos;}}
this._doubleClickTimer=setTimeout(this._resetDoubleClickTimer.bind(this),500);}
bmask=this._touchButton;}else if(evt.which){bmask=1<<evt.button;}else{bmask=(evt.button&0x1)+
(evt.button&0x2)*2+
(evt.button&0x4)/2;}
if(this._onMouseButton){Util.Debug("onMouseButton "+(down?"down":"up")+", x: "+pos.x+", y: "+pos.y+", bmask: "+bmask);this._onMouseButton(pos.x,pos.y,down,bmask);}
Util.stopEvent(e);return false;},_handleMouseDown:function(e){this._captureMouse();this._handleMouseButton(e,1);},_handleMouseUp:function(e){if(!this._mouseCaptured){return;}
this._handleMouseButton(e,0);this._releaseMouse();},_handleMouseWheel:function(e){if(!this._focused){return true;}
if(this._notify){this._notify(e);}
var evt=(e?e:window.event);var pos=Util.getEventPosition(e,this._target,this._scale);var wheelData=evt.detail?evt.detail*-1:evt.wheelDelta/40;var bmask;if(wheelData>0){bmask=1<<3;}else{bmask=1<<4;}
if(this._onMouseButton){this._onMouseButton(pos.x,pos.y,1,bmask);this._onMouseButton(pos.x,pos.y,0,bmask);}
Util.stopEvent(e);return false;},_handleMouseMove:function(e){if(!this._focused){return true;}
if(this._notify){this._notify(e);}
var evt=(e?e:window.event);var pos=Util.getEventPosition(e,this._target,this._scale);if(this._onMouseMove){this._onMouseMove(pos.x,pos.y);}
Util.stopEvent(e);return false;},_handleMouseDisable:function(e){if(!this._focused){return true;}
var evt=(e?e:window.event);var pos=Util.getEventPosition(e,this._target,this._scale);if((pos.realx>=0)&&(pos.realy>=0)&&(pos.realx<this._target.offsetWidth)&&(pos.realy<this._target.offsetHeight)){Util.stopEvent(e);return false;}
return true;},grab:function(){var c=this._target;if('ontouchstart'in document.documentElement){Util.addEvent(c,'touchstart',this._eventHandlers.mousedown);Util.addEvent(window,'touchend',this._eventHandlers.mouseup);Util.addEvent(c,'touchend',this._eventHandlers.mouseup);Util.addEvent(c,'touchmove',this._eventHandlers.mousemove);}else{Util.addEvent(c,'mousedown',this._eventHandlers.mousedown);Util.addEvent(window,'mouseup',this._eventHandlers.mouseup);Util.addEvent(c,'mouseup',this._eventHandlers.mouseup);Util.addEvent(c,'mousemove',this._eventHandlers.mousemove);Util.addEvent(c,(Util.Engine.gecko)?'DOMMouseScroll':'mousewheel',this._eventHandlers.mousewheel);}
Util.addEvent(document,'click',this._eventHandlers.mousedisable);Util.addEvent(document.body,'contextmenu',this._eventHandlers.mousedisable);},ungrab:function(){var c=this._target;if('ontouchstart'in document.documentElement){Util.removeEvent(c,'touchstart',this._eventHandlers.mousedown);Util.removeEvent(window,'touchend',this._eventHandlers.mouseup);Util.removeEvent(c,'touchend',this._eventHandlers.mouseup);Util.removeEvent(c,'touchmove',this._eventHandlers.mousemove);}else{Util.removeEvent(c,'mousedown',this._eventHandlers.mousedown);Util.removeEvent(window,'mouseup',this._eventHandlers.mouseup);Util.removeEvent(c,'mouseup',this._eventHandlers.mouseup);Util.removeEvent(c,'mousemove',this._eventHandlers.mousemove);Util.removeEvent(c,(Util.Engine.gecko)?'DOMMouseScroll':'mousewheel',this._eventHandlers.mousewheel);}
Util.removeEvent(document,'click',this._eventHandlers.mousedisable);Util.removeEvent(document.body,'contextmenu',this._eventHandlers.mousedisable);}};Util.make_properties(Mouse,[['target','ro','dom'],['notify','ro','func'],['focused','rw','bool'],['scale','rw','float'],['onMouseButton','rw','func'],['onMouseMove','rw','func'],['touchButton','rw','int']]);})();var Display;(function(){"use strict";Display=function(defaults){this._drawCtx=null;this._c_forceCanvas=false;this._renderQ=[];this._fb_width=0;this._fb_height=0;this._maxWidth=0;this._maxHeight=0;this._viewportLoc={'x':0,'y':0,'w':0,'h':0};this._cleanRect={'x1':0,'y1':0,'x2':-1,'y2':-1};this._prevDrawStyle="";this._tile=null;this._tile16x16=null;this._tile_x=0;this._tile_y=0;Util.set_defaults(this,defaults,{'true_color':true,'colourMap':[],'scale':1.0,'viewport':false,'render_mode':''});Util.Debug(">> Display.constructor");if(!this._target){throw new Error("Target must be set");}
if(typeof this._target==='string'){throw new Error('target must be a DOM element');}
if(!this._target.getContext){throw new Error("no getContext method");}
if(!this._drawCtx){this._drawCtx=this._target.getContext('2d');}
Util.Debug("User Agent: "+navigator.userAgent);if(Util.Engine.gecko){Util.Debug("Browser: gecko "+Util.Engine.gecko);}
if(Util.Engine.webkit){Util.Debug("Browser: webkit "+Util.Engine.webkit);}
if(Util.Engine.trident){Util.Debug("Browser: trident "+Util.Engine.trident);}
if(Util.Engine.presto){Util.Debug("Browser: presto "+Util.Engine.presto);}
this.clear();if('createImageData'in this._drawCtx){this._render_mode='canvas rendering';}else{throw new Error("Canvas does not support createImageData");}
if(this._prefer_js===null){Util.Info("Prefering javascript operations");this._prefer_js=true;}
if(this._cursor_uri||this._cursor_uri===null||this._cursor_uri===undefined){this._cursor_uri=Util.browserSupportsCursorURIs();}
Util.Debug("<< Display.constructor");};Display.prototype={viewportChangePos:function(deltaX,deltaY){var vp=this._viewportLoc;if(!this._viewport){deltaX=-vp.w;deltaY=-vp.h;}
var vx2=vp.x+vp.w-1;var vy2=vp.y+vp.h-1;if(deltaX<0&&vp.x+deltaX<0){deltaX=-vp.x;}
if(vx2+deltaX>=this._fb_width){deltaX-=vx2+deltaX-this._fb_width+1;}
if(vp.y+deltaY<0){deltaY=-vp.y;}
if(vy2+deltaY>=this._fb_height){deltaY-=(vy2+deltaY-this._fb_height+1);}
if(deltaX===0&&deltaY===0){return;}
Util.Debug("viewportChange deltaX: "+deltaX+", deltaY: "+deltaY);vp.x+=deltaX;vx2+=deltaX;vp.y+=deltaY;vy2+=deltaY;var cr=this._cleanRect;if(vp.x>cr.x1){cr.x1=vp.x;}
if(vx2<cr.x2){cr.x2=vx2;}
if(vp.y>cr.y1){cr.y1=vp.y;}
if(vy2<cr.y2){cr.y2=vy2;}
var x1,w;if(deltaX<0){x1=0;w=-deltaX;}else{x1=vp.w-deltaX;w=deltaX;}
var y1,h;if(deltaY<0){y1=0;h=-deltaY;}else{y1=vp.h-deltaY;h=deltaY;}
var saveStyle=this._drawCtx.fillStyle;var canvas=this._target;this._drawCtx.fillStyle="rgb(255,255,255)";if(deltaX!==0){this._drawCtx.drawImage(canvas,0,0,vp.w,vp.h,-deltaX,0,vp.w,vp.h);this._drawCtx.fillRect(x1,0,w,vp.h);}
if(deltaY!==0){this._drawCtx.drawImage(canvas,0,0,vp.w,vp.h,0,-deltaY,vp.w,vp.h);this._drawCtx.fillRect(0,y1,vp.w,h);}
this._drawCtx.fillStyle=saveStyle;},viewportChangeSize:function(width,height){if(typeof(width)==="undefined"||typeof(height)==="undefined"){Util.Debug("Setting viewport to full display region");width=this._fb_width;height=this._fb_height;}
var vp=this._viewportLoc;if(vp.w!==width||vp.h!==height){if(this._viewport){if(this._maxWidth!==0&&width>this._maxWidth){width=this._maxWidth;}
if(this._maxHeight!==0&&height>this._maxHeight){height=this._maxHeight;}}
var cr=this._cleanRect;if(width<vp.w&&cr.x2>vp.x+width-1){cr.x2=vp.x+width-1;}
if(height<vp.h&&cr.y2>vp.y+height-1){cr.y2=vp.y+height-1;}
vp.w=width;vp.h=height;var canvas=this._target;if(canvas.width!==width||canvas.height!==height){var saveImg=null;if(vp.w>0&&vp.h>0&&canvas.width>0&&canvas.height>0){var img_width=canvas.width<vp.w?canvas.width:vp.w;var img_height=canvas.height<vp.h?canvas.height:vp.h;saveImg=this._drawCtx.getImageData(0,0,img_width,img_height);}
if(canvas.width!==width){canvas.width=width;}
if(canvas.height!==height){canvas.height=height;}
if(this._viewport){canvas.style.height=height+'px';canvas.style.width=width+'px';}
if(saveImg){this._drawCtx.putImageData(saveImg,0,0);}}}},getCleanDirtyReset:function(){var vp=this._viewportLoc;var cr=this._cleanRect;var cleanBox={'x':cr.x1,'y':cr.y1,'w':cr.x2-cr.x1+1,'h':cr.y2-cr.y1+1};var dirtyBoxes=[];if(cr.x1>=cr.x2||cr.y1>=cr.y2){dirtyBoxes.push({'x':vp.x,'y':vp.y,'w':vp.w,'h':vp.h});}else{var vx2=vp.x+vp.w-1;var vy2=vp.y+vp.h-1;if(vp.x<cr.x1){dirtyBoxes.push({'x':vp.x,'y':vp.y,'w':cr.x1-vp.x+1,'h':vp.h});}
if(vx2>cr.x2){dirtyBoxes.push({'x':cr.x2+1,'y':vp.y,'w':vx2-cr.x2,'h':vp.h});}
if(vp.y<cr.y1){dirtyBoxes.push({'x':cr.x1,'y':vp.y,'w':cr.x2-cr.x1+1,'h':cr.y1-vp.y});}
if(vy2>cr.y2){dirtyBoxes.push({'x':cr.x1,'y':cr.y2+1,'w':cr.x2-cr.x1+1,'h':vy2-cr.y2});}}
this._cleanRect={'x1':vp.x,'y1':vp.y,'x2':vp.x+vp.w-1,'y2':vp.y+vp.h-1};return{'cleanBox':cleanBox,'dirtyBoxes':dirtyBoxes};},absX:function(x){return x+this._viewportLoc.x;},absY:function(y){return y+this._viewportLoc.y;},resize:function(width,height){this._prevDrawStyle="";this._fb_width=width;this._fb_height=height;this._rescale(this._scale);this.viewportChangeSize();},clear:function(){if(this._logo){this.resize(this._logo.width,this._logo.height);this.blitStringImage(this._logo.data,0,0);}else{if(Util.Engine.trident===6){this._drawCtx.clearRect(0,0,this._viewportLoc.w,this._viewportLoc.h);}
this.resize(240,20);this._drawCtx.clearRect(0,0,this._viewportLoc.w,this._viewportLoc.h);}
this._renderQ=[];},fillRect:function(x,y,width,height,color){this._setFillColor(color);this._drawCtx.fillRect(x-this._viewportLoc.x,y-this._viewportLoc.y,width,height);},copyImage:function(old_x,old_y,new_x,new_y,w,h){var x1=old_x-this._viewportLoc.x;var y1=old_y-this._viewportLoc.y;var x2=new_x-this._viewportLoc.x;var y2=new_y-this._viewportLoc.y;this._drawCtx.drawImage(this._target,x1,y1,w,h,x2,y2,w,h);},startTile:function(x,y,width,height,color){this._tile_x=x;this._tile_y=y;if(width===16&&height===16){this._tile=this._tile16x16;}else{this._tile=this._drawCtx.createImageData(width,height);}
if(this._prefer_js){var bgr;if(this._true_color){bgr=color;}else{bgr=this._colourMap[color[0]];}
var red=bgr[2];var green=bgr[1];var blue=bgr[0];var data=this._tile.data;for(var i=0;i<width*height*4;i+=4){data[i]=red;data[i+1]=green;data[i+2]=blue;data[i+3]=255;}}else{this.fillRect(x,y,width,height,color);}},subTile:function(x,y,w,h,color){if(this._prefer_js){var bgr;if(this._true_color){bgr=color;}else{bgr=this._colourMap[color[0]];}
var red=bgr[2];var green=bgr[1];var blue=bgr[0];var xend=x+w;var yend=y+h;var data=this._tile.data;var width=this._tile.width;for(var j=y;j<yend;j++){for(var i=x;i<xend;i++){var p=(i+(j*width))*4;data[p]=red;data[p+1]=green;data[p+2]=blue;data[p+3]=255;}}}else{this.fillRect(this._tile_x+x,this._tile_y+y,w,h,color);}},finishTile:function(){if(this._prefer_js){this._drawCtx.putImageData(this._tile,this._tile_x-this._viewportLoc.x,this._tile_y-this._viewportLoc.y);}},blitImage:function(x,y,width,height,arr,offset){if(this._true_color){this._bgrxImageData(x,y,this._viewportLoc.x,this._viewportLoc.y,width,height,arr,offset);}else{this._cmapImageData(x,y,this._viewportLoc.x,this._viewportLoc.y,width,height,arr,offset);}},blitRgbImage:function(x,y,width,height,arr,offset){if(this._true_color){this._rgbImageData(x,y,this._viewportLoc.x,this._viewportLoc.y,width,height,arr,offset);}else{this._cmapImageData(x,y,this._viewportLoc.x,this._viewportLoc.y,width,height,arr,offset);}},blitStringImage:function(str,x,y){var img=new Image();img.onload=function(){this._drawCtx.drawImage(img,x-this._viewportLoc.x,y-this._viewportLoc.y);}.bind(this);img.src=str;return img;},drawImage:function(img,x,y){this._drawCtx.drawImage(img,x-this._viewportLoc.x,y-this._viewportLoc.y);},renderQ_push:function(action){this._renderQ.push(action);if(this._renderQ.length===1){this._scan_renderQ();}},changeCursor:function(pixels,mask,hotx,hoty,w,h){if(this._cursor_uri===false){Util.Warn("changeCursor called but no cursor data URI support");return;}
if(this._true_color){Display.changeCursor(this._target,pixels,mask,hotx,hoty,w,h);}else{Display.changeCursor(this._target,pixels,mask,hotx,hoty,w,h,this._colourMap);}},defaultCursor:function(){this._target.style.cursor="default";},disableLocalCursor:function(){this._target.style.cursor="none";},clippingDisplay:function(){var vp=this._viewportLoc;var fbClip=this._fb_width>vp.w||this._fb_height>vp.h;var limitedVp=this._maxWidth!==0&&this._maxHeight!==0;var clipping=false;if(limitedVp){clipping=vp.w>this._maxWidth||vp.h>this._maxHeight;}
return fbClip||(limitedVp&&clipping);},get_context:function(){return this._drawCtx;},set_scale:function(scale){this._rescale(scale);},set_width:function(w){this._fb_width=w;},get_width:function(){return this._fb_width;},set_height:function(h){this._fb_height=h;},get_height:function(){return this._fb_height;},autoscale:function(containerWidth,containerHeight,downscaleOnly){var targetAspectRatio=containerWidth/containerHeight;var fbAspectRatio=this._fb_width/this._fb_height;var scaleRatio;if(fbAspectRatio>=targetAspectRatio){scaleRatio=containerWidth/this._fb_width;}else{scaleRatio=containerHeight/this._fb_height;}
var targetW,targetH;if(scaleRatio>1.0&&downscaleOnly){targetW=this._fb_width;targetH=this._fb_height;scaleRatio=1.0;}else if(fbAspectRatio>=targetAspectRatio){targetW=containerWidth;targetH=Math.round(containerWidth/fbAspectRatio);}else{targetW=Math.round(containerHeight*fbAspectRatio);targetH=containerHeight;}
this._target.style.width=targetW+'px';this._target.style.height=targetH+'px';this._scale=scaleRatio;return scaleRatio;},_rescale:function(factor){this._scale=factor;var w;var h;if(this._viewport&&this._maxWidth!==0&&this._maxHeight!==0){w=Math.min(this._fb_width,this._maxWidth);h=Math.min(this._fb_height,this._maxHeight);}else{w=this._fb_width;h=this._fb_height;}
this._target.style.width=Math.round(factor*w)+'px';this._target.style.height=Math.round(factor*h)+'px';},_setFillColor:function(color){var bgr;if(this._true_color){bgr=color;}else{bgr=this._colourMap[color[0]];}
var newStyle='rgb('+bgr[2]+','+bgr[1]+','+bgr[0]+')';if(newStyle!==this._prevDrawStyle){this._drawCtx.fillStyle=newStyle;this._prevDrawStyle=newStyle;}},_rgbImageData:function(x,y,vx,vy,width,height,arr,offset){var img=this._drawCtx.createImageData(width,height);var data=img.data;for(var i=0,j=offset;i<width*height*4;i+=4,j+=3){data[i]=arr[j];data[i+1]=arr[j+1];data[i+2]=arr[j+2];data[i+3]=255;}
this._drawCtx.putImageData(img,x-vx,y-vy);},_bgrxImageData:function(x,y,vx,vy,width,height,arr,offset){var img=this._drawCtx.createImageData(width,height);var data=img.data;for(var i=0,j=offset;i<width*height*4;i+=4,j+=4){data[i]=arr[j+2];data[i+1]=arr[j+1];data[i+2]=arr[j];data[i+3]=255;}
this._drawCtx.putImageData(img,x-vx,y-vy);},_cmapImageData:function(x,y,vx,vy,width,height,arr,offset){var img=this._drawCtx.createImageData(width,height);var data=img.data;var cmap=this._colourMap;for(var i=0,j=offset;i<width*height*4;i+=4,j++){var bgr=cmap[arr[j]];data[i]=bgr[2];data[i+1]=bgr[1];data[i+2]=bgr[0];data[i+3]=255;}
this._drawCtx.putImageData(img,x-vx,y-vy);},_scan_renderQ:function(){var ready=true;while(ready&&this._renderQ.length>0){var a=this._renderQ[0];switch(a.type){case'copy':this.copyImage(a.old_x,a.old_y,a.x,a.y,a.width,a.height);break;case'fill':this.fillRect(a.x,a.y,a.width,a.height,a.color);break;case'blit':this.blitImage(a.x,a.y,a.width,a.height,a.data,0);break;case'blitRgb':this.blitRgbImage(a.x,a.y,a.width,a.height,a.data,0);break;case'img':if(a.img.complete){this.drawImage(a.img,a.x,a.y);}else{ready=false;}
break;}
if(ready){this._renderQ.shift();}}
if(this._renderQ.length>0){requestAnimFrame(this._scan_renderQ.bind(this));}},};Util.make_properties(Display,[['target','wo','dom'],['context','ro','raw'],['logo','rw','raw'],['true_color','rw','bool'],['colourMap','rw','arr'],['scale','rw','float'],['viewport','rw','bool'],['width','rw','int'],['height','rw','int'],['maxWidth','rw','int'],['maxHeight','rw','int'],['render_mode','ro','str'],['prefer_js','rw','str'],['cursor_uri','rw','raw']]);Display.changeCursor=function(target,pixels,mask,hotx,hoty,w0,h0,cmap){var w=w0;var h=h0;if(h<w){h=w;}else{w=h;}
var cur=[];cur.push16le=function(num){this.push(num&0xFF,(num>>8)&0xFF);};cur.push32le=function(num){this.push(num&0xFF,(num>>8)&0xFF,(num>>16)&0xFF,(num>>24)&0xFF);};var IHDRsz=40;var RGBsz=w*h*4;var XORsz=Math.ceil((w*h)/8.0);var ANDsz=Math.ceil((w*h)/8.0);cur.push16le(0);cur.push16le(2);cur.push16le(1);cur.push(w);cur.push(h);cur.push(0);cur.push(0);cur.push16le(hotx);cur.push16le(hoty);cur.push32le(IHDRsz+RGBsz+XORsz+ANDsz);cur.push32le(22);cur.push32le(IHDRsz);cur.push32le(w);cur.push32le(h*2);cur.push16le(1);cur.push16le(32);cur.push32le(0);cur.push32le(XORsz+ANDsz);cur.push32le(0);cur.push32le(0);cur.push32le(0);cur.push32le(0);var y,x;for(y=h-1;y>=0;y--){for(x=0;x<w;x++){if(x>=w0||y>=h0){cur.push(0);cur.push(0);cur.push(0);cur.push(0);}else{var idx=y*Math.ceil(w0/8)+Math.floor(x/8);var alpha=(mask[idx]<<(x%8))&0x80?255:0;if(cmap){idx=(w0*y)+x;var rgb=cmap[pixels[idx]];cur.push(rgb[2]);cur.push(rgb[1]);cur.push(rgb[0]);cur.push(alpha);}else{idx=((w0*y)+x)*4;cur.push(pixels[idx+2]);cur.push(pixels[idx+1]);cur.push(pixels[idx]);cur.push(alpha);}}}}
for(y=0;y<h;y++){for(x=0;x<Math.ceil(w/8);x++){cur.push(0);}}
for(y=0;y<h;y++){for(x=0;x<Math.ceil(w/8);x++){cur.push(0);}}
var url='data:image/x-icon;base64,'+Base64.encode(cur);target.style.cursor='url('+url+')'+hotx+' '+hoty+', default';};})();var tinf;function JSUnzip(){this.getInt=function(offset,size){switch(size){case 4:return(this.data.charCodeAt(offset+3)&0xff)<<24|(this.data.charCodeAt(offset+2)&0xff)<<16|(this.data.charCodeAt(offset+1)&0xff)<<8|(this.data.charCodeAt(offset+0)&0xff);break;case 2:return(this.data.charCodeAt(offset+1)&0xff)<<8|(this.data.charCodeAt(offset+0)&0xff);break;default:return this.data.charCodeAt(offset)&0xff;break;}};this.getDOSDate=function(dosdate,dostime){var day=dosdate&0x1f;var month=((dosdate>>5)&0xf)-1;var year=1980+((dosdate>>9)&0x7f)
var second=(dostime&0x1f)*2;var minute=(dostime>>5)&0x3f;hour=(dostime>>11)&0x1f;return new Date(year,month,day,hour,minute,second);}
this.open=function(data){this.data=data;this.files=[];if(this.data.length<22)
return{'status':false,'error':'Invalid data'};var endOfCentralDirectory=this.data.length-22;while(endOfCentralDirectory>=0&&this.getInt(endOfCentralDirectory,4)!=0x06054b50)
--endOfCentralDirectory;if(endOfCentralDirectory<0)
return{'status':false,'error':'Invalid data'};if(this.getInt(endOfCentralDirectory+4,2)!=0||this.getInt(endOfCentralDirectory+6,2)!=0)
return{'status':false,'error':'No multidisk support'};var entriesInThisDisk=this.getInt(endOfCentralDirectory+8,2);var centralDirectoryOffset=this.getInt(endOfCentralDirectory+16,4);var globalCommentLength=this.getInt(endOfCentralDirectory+20,2);this.comment=this.data.slice(endOfCentralDirectory+22,endOfCentralDirectory+22+globalCommentLength);var fileOffset=centralDirectoryOffset;for(var i=0;i<entriesInThisDisk;++i){if(this.getInt(fileOffset+0,4)!=0x02014b50)
return{'status':false,'error':'Invalid data'};if(this.getInt(fileOffset+6,2)>20)
return{'status':false,'error':'Unsupported version'};if(this.getInt(fileOffset+8,2)&1)
return{'status':false,'error':'Encryption not implemented'};var compressionMethod=this.getInt(fileOffset+10,2);if(compressionMethod!=0&&compressionMethod!=8)
return{'status':false,'error':'Unsupported compression method'};var lastModFileTime=this.getInt(fileOffset+12,2);var lastModFileDate=this.getInt(fileOffset+14,2);var lastModifiedDate=this.getDOSDate(lastModFileDate,lastModFileTime);var crc=this.getInt(fileOffset+16,4);var compressedSize=this.getInt(fileOffset+20,4);var uncompressedSize=this.getInt(fileOffset+24,4);var fileNameLength=this.getInt(fileOffset+28,2);var extraFieldLength=this.getInt(fileOffset+30,2);var fileCommentLength=this.getInt(fileOffset+32,2);var relativeOffsetOfLocalHeader=this.getInt(fileOffset+42,4);var fileName=this.data.slice(fileOffset+46,fileOffset+46+fileNameLength);var fileComment=this.data.slice(fileOffset+46+fileNameLength+extraFieldLength,fileOffset+46+fileNameLength+extraFieldLength+fileCommentLength);if(this.getInt(relativeOffsetOfLocalHeader+0,4)!=0x04034b50)
return{'status':false,'error':'Invalid data'};var localFileNameLength=this.getInt(relativeOffsetOfLocalHeader+26,2);var localExtraFieldLength=this.getInt(relativeOffsetOfLocalHeader+28,2);var localFileContent=relativeOffsetOfLocalHeader+30+localFileNameLength+localExtraFieldLength;this.files[fileName]={'fileComment':fileComment,'compressionMethod':compressionMethod,'compressedSize':compressedSize,'uncompressedSize':uncompressedSize,'localFileContent':localFileContent,'lastModifiedDate':lastModifiedDate};fileOffset+=46+fileNameLength+extraFieldLength+fileCommentLength;}
return{'status':true}};this.read=function(fileName){var fileInfo=this.files[fileName];if(fileInfo){if(fileInfo.compressionMethod==8){if(!tinf){tinf=new TINF();tinf.init();}
var result=tinf.uncompress(this.data,fileInfo.localFileContent);if(result.status==tinf.OK)
return{'status':true,'data':result.data};else
return{'status':false,'error':result.error};}else{return{'status':true,'data':this.data.slice(fileInfo.localFileContent,fileInfo.localFileContent+fileInfo.uncompressedSize)};}}
return{'status':false,'error':"File '"+fileName+"' doesn't exist in zip"};};};"use strict";function TINF(){this.OK=0;this.DATA_ERROR=(-3);this.WINDOW_SIZE=32768;this.TREE=function(){this.table=new Array(16);this.trans=new Array(288);};this.DATA=function(that){this.source='';this.sourceIndex=0;this.tag=0;this.bitcount=0;this.dest=[];this.history=[];this.ltree=new that.TREE();this.dtree=new that.TREE();};this.sltree=new this.TREE();this.sdtree=new this.TREE();this.length_bits=new Array(30);this.length_base=new Array(30);this.dist_bits=new Array(30);this.dist_base=new Array(30);this.clcidx=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];this.build_bits_base=function(bits,base,delta,first)
{var i,sum;for(i=0;i<delta;++i)bits[i]=0;for(i=0;i<30-delta;++i)bits[i+delta]=Math.floor(i/delta);for(sum=first,i=0;i<30;++i)
{base[i]=sum;sum+=1<<bits[i];}}
this.build_fixed_trees=function(lt,dt)
{var i;for(i=0;i<7;++i)lt.table[i]=0;lt.table[7]=24;lt.table[8]=152;lt.table[9]=112;for(i=0;i<24;++i)lt.trans[i]=256+i;for(i=0;i<144;++i)lt.trans[24+i]=i;for(i=0;i<8;++i)lt.trans[24+144+i]=280+i;for(i=0;i<112;++i)lt.trans[24+144+8+i]=144+i;for(i=0;i<5;++i)dt.table[i]=0;dt.table[5]=32;for(i=0;i<32;++i)dt.trans[i]=i;}
this.build_tree=function(t,lengths,loffset,num)
{var offs=new Array(16);var i,sum;for(i=0;i<16;++i)t.table[i]=0;for(i=0;i<num;++i)t.table[lengths[loffset+i]]++;t.table[0]=0;for(sum=0,i=0;i<16;++i)
{offs[i]=sum;sum+=t.table[i];}
for(i=0;i<num;++i)
{if(lengths[loffset+i])t.trans[offs[lengths[loffset+i]]++]=i;}}
this.getbit=function(d)
{var bit;if(!d.bitcount--)
{d.tag=d.source[d.sourceIndex++]&0xff;d.bitcount=7;}
bit=d.tag&0x01;d.tag>>=1;return bit;}
function read_bits_direct(source,bitcount,tag,idx,num)
{var val=0;while(bitcount<24){tag=tag|(source[idx++]&0xff)<<bitcount;bitcount+=8;}
val=tag&(0xffff>>(16-num));tag>>=num;bitcount-=num;return[bitcount,tag,idx,val];}
this.read_bits=function(d,num,base)
{if(!num)
return base;var ret=read_bits_direct(d.source,d.bitcount,d.tag,d.sourceIndex,num);d.bitcount=ret[0];d.tag=ret[1];d.sourceIndex=ret[2];return ret[3]+base;}
this.decode_symbol=function(d,t)
{while(d.bitcount<16){d.tag=d.tag|(d.source[d.sourceIndex++]&0xff)<<d.bitcount;d.bitcount+=8;}
var sum=0,cur=0,len=0;do{cur=2*cur+((d.tag&(1<<len))>>len);++len;sum+=t.table[len];cur-=t.table[len];}while(cur>=0);d.tag>>=len;d.bitcount-=len;return t.trans[sum+cur];}
this.decode_trees=function(d,lt,dt)
{var code_tree=new this.TREE();var lengths=new Array(288+32);var hlit,hdist,hclen;var i,num,length;hlit=this.read_bits(d,5,257);hdist=this.read_bits(d,5,1);hclen=this.read_bits(d,4,4);for(i=0;i<19;++i)lengths[i]=0;for(i=0;i<hclen;++i)
{var clen=this.read_bits(d,3,0);lengths[this.clcidx[i]]=clen;}
this.build_tree(code_tree,lengths,0,19);for(num=0;num<hlit+hdist;)
{var sym=this.decode_symbol(d,code_tree);switch(sym)
{case 16:{var prev=lengths[num-1];for(length=this.read_bits(d,2,3);length;--length)
{lengths[num++]=prev;}}
break;case 17:for(length=this.read_bits(d,3,3);length;--length)
{lengths[num++]=0;}
break;case 18:for(length=this.read_bits(d,7,11);length;--length)
{lengths[num++]=0;}
break;default:lengths[num++]=sym;break;}}
this.build_tree(lt,lengths,0,hlit);this.build_tree(dt,lengths,hlit,hdist);}
this.inflate_block_data=function(d,lt,dt)
{var ddest=d.dest;var ddestlength=ddest.length;while(1)
{var sym=this.decode_symbol(d,lt);if(sym==256)
{return this.OK;}
if(sym<256)
{ddest[ddestlength++]=sym;d.history.push(sym);}else{var length,dist,offs;var i;sym-=257;length=this.read_bits(d,this.length_bits[sym],this.length_base[sym]);dist=this.decode_symbol(d,dt);offs=d.history.length-this.read_bits(d,this.dist_bits[dist],this.dist_base[dist]);if(offs<0)
throw("Invalid zlib offset "+offs);for(i=offs;i<offs+length;++i){ddest[ddestlength++]=d.history[i];d.history.push(d.history[i]);}}}}
this.inflate_uncompressed_block=function(d)
{var length,invlength;var i;if(d.bitcount>7){var overflow=Math.floor(d.bitcount/8);d.sourceIndex-=overflow;d.bitcount=0;d.tag=0;}
length=d.source[d.sourceIndex+1];length=256*length+d.source[d.sourceIndex];invlength=d.source[d.sourceIndex+3];invlength=256*invlength+d.source[d.sourceIndex+2];if(length!=(~invlength&0x0000ffff))return this.DATA_ERROR;d.sourceIndex+=4;for(i=length;i;--i){d.history.push(d.source[d.sourceIndex]);d.dest[d.dest.length]=d.source[d.sourceIndex++];}
d.bitcount=0;return this.OK;}
this.inflate_fixed_block=function(d)
{return this.inflate_block_data(d,this.sltree,this.sdtree);}
this.inflate_dynamic_block=function(d)
{this.decode_trees(d,d.ltree,d.dtree);return this.inflate_block_data(d,d.ltree,d.dtree);}
this.init=function()
{this.build_fixed_trees(this.sltree,this.sdtree);this.build_bits_base(this.length_bits,this.length_base,4,3);this.build_bits_base(this.dist_bits,this.dist_base,2,1);this.length_bits[28]=0;this.length_base[28]=258;this.reset();}
this.reset=function()
{this.d=new this.DATA(this);delete this.header;}
this.uncompress=function(source,offset)
{var d=this.d;var bfinal;d.source=source;d.sourceIndex=offset;d.bitcount=0;d.dest=[];if(typeof this.header=='undefined'){this.header=this.read_bits(d,16,0);}
var blocks=0;do{var btype;var res;bfinal=this.getbit(d);btype=this.read_bits(d,2,0);switch(btype)
{case 0:res=this.inflate_uncompressed_block(d);break;case 1:res=this.inflate_fixed_block(d);break;case 2:res=this.inflate_dynamic_block(d);break;default:return{'status':this.DATA_ERROR};}
if(res!=this.OK)return{'status':this.DATA_ERROR};blocks++;}while(!bfinal&&d.sourceIndex<d.source.length);d.history=d.history.slice(-this.WINDOW_SIZE);return{'status':this.OK,'data':d.dest};}};var RFB;(function(){"use strict";RFB=function(defaults){if(!defaults){defaults={};}
this._rfb_host='';this._rfb_port=5900;this._rfb_password='';this._rfb_path='';this._rfb_state='disconnected';this._rfb_version=0;this._rfb_max_version=3.8;this._rfb_auth_scheme='';this._rfb_tightvnc=false;this._rfb_xvp_ver=0;this._encodings=[['COPYRECT',0x01],['TIGHT',0x07],['TIGHT_PNG',-260],['HEXTILE',0x05],['RRE',0x02],['RAW',0x00],['DesktopSize',-223],['Cursor',-239],['JPEG_quality_med',-26],['compress_hi',-247],['last_rect',-224],['xvp',-309],['ExtendedDesktopSize',-308]];this._encHandlers={};this._encNames={};this._encStats={};this._sock=null;this._display=null;this._keyboard=null;this._mouse=null;this._sendTimer=null;this._disconnTimer=null;this._msgTimer=null;this._FBU={rects:0,subrects:0,lines:0,tiles:0,bytes:0,x:0,y:0,width:0,height:0,encoding:0,subencoding:-1,background:null,zlib:[]};this._fb_Bpp=4;this._fb_depth=3;this._fb_width=0;this._fb_height=0;this._fb_name="";this._rre_chunk_sz=100;this._timing={last_fbu:0,fbu_total:0,fbu_total_cnt:0,full_fbu_total:0,full_fbu_cnt:0,fbu_rt_start:0,fbu_rt_total:0,fbu_rt_cnt:0,pixels:0};this._supportsSetDesktopSize=false;this._screen_id=0;this._screen_flags=0;this._mouse_buttonMask=0;this._mouse_arr=[];this._viewportDragging=false;this._viewportDragPos={};Util.set_defaults(this,defaults,{'target':'null','focusContainer':document,'encrypt':false,'true_color':true,'local_cursor':false,'shared':true,'view_only':false,'xvp_password_sep':'@','disconnectTimeout':3,'wsProtocols':['binary','base64'],'repeaterID':'','viewportDrag':false,'onUpdateState':function(){},'onPasswordRequired':function(){},'onClipboard':function(){},'onBell':function(){},'onFBUReceive':function(){},'onFBUComplete':function(){},'onFBResize':function(){},'onDesktopName':function(){},'onXvpInit':function(){},});Util.Debug(">> RFB.constructor");Object.keys(RFB.encodingHandlers).forEach(function(encName){this._encHandlers[encName]=RFB.encodingHandlers[encName].bind(this);}.bind(this));for(var i=0;i<this._encodings.length;i++){this._encHandlers[this._encodings[i][1]]=this._encHandlers[this._encodings[i][0]];this._encNames[this._encodings[i][1]]=this._encodings[i][0];this._encStats[this._encodings[i][1]]=[0,0];}
try{this._display=new Display({target:this._target});}catch(exc){Util.Error("Display exception: "+exc);throw exc;}
this._keyboard=new Keyboard({target:this._focusContainer,onKeyPress:this._handleKeyPress.bind(this)});this._mouse=new Mouse({target:this._target,onMouseButton:this._handleMouseButton.bind(this),onMouseMove:this._handleMouseMove.bind(this),notify:this._keyboard.sync.bind(this._keyboard)});this._sock=new Websock();this._sock.on('message',this._handle_message.bind(this));this._sock.on('open',function(){if(this._rfb_state==='connect'){this._updateState('ProtocolVersion',"Starting VNC handshake");}else{this._fail("Got unexpected WebSocket connection");}}.bind(this));this._sock.on('close',function(e){Util.Warn("WebSocket on-close event");var msg="";if(e.code){msg=" (code: "+e.code;if(e.reason){msg+=", reason: "+e.reason;}
msg+=")";}
if(this._rfb_state==='disconnect'){this._updateState('disconnected','VNC disconnected'+msg);}else if(this._rfb_state==='ProtocolVersion'){this._fail('Failed to connect to server'+msg);}else if(this._rfb_state in{'failed':1,'disconnected':1}){Util.Error("Received onclose while disconnected"+msg);}else{this._fail("Server disconnected"+msg);}
this._sock.off('close');}.bind(this));this._sock.on('error',function(e){Util.Warn("WebSocket on-error event");});this._init_vars();var rmode=this._display.get_render_mode();if(Websock_native){Util.Info("Using native WebSockets");this._updateState('loaded','noVNC ready: native WebSockets, '+rmode);}else{Util.Warn("Using web-socket-js bridge.  Flash version: "+Util.Flash.version);if(!Util.Flash||Util.Flash.version<9){this._cleanupSocket('fatal');throw new Exception("WebSockets or <a href='http://get.adobe.com/flashplayer'>Adobe Flash</a> is required");}else if(document.location.href.substr(0,7)==='file://'){this._cleanupSocket('fatal');throw new Exception("'file://' URL is incompatible with Adobe Flash");}else{this._updateState('loaded','noVNC ready: WebSockets emulation, '+rmode);}}
Util.Debug("<< RFB.constructor");};RFB.prototype={connect:function(host,port,password,path){this._rfb_host=host;this._rfb_port=port;this._rfb_password=(password!==undefined)?password:"";this._rfb_path=(path!==undefined)?path:"";if(!this._rfb_host||!this._rfb_port){return this._fail("Must set host and port");}
this._updateState('connect');},disconnect:function(){this._updateState('disconnect','Disconnecting');this._sock.off('error');this._sock.off('message');this._sock.off('open');},sendPassword:function(passwd){this._rfb_password=passwd;this._rfb_state='Authentication';setTimeout(this._init_msg.bind(this),1);},sendCtrlAltDel:function(){if(this._rfb_state!=='normal'||this._view_only){return false;}
Util.Info("Sending Ctrl-Alt-Del");var arr=[];arr=arr.concat(RFB.messages.keyEvent(XK_Control_L,1));arr=arr.concat(RFB.messages.keyEvent(XK_Alt_L,1));arr=arr.concat(RFB.messages.keyEvent(XK_Delete,1));arr=arr.concat(RFB.messages.keyEvent(XK_Delete,0));arr=arr.concat(RFB.messages.keyEvent(XK_Alt_L,0));arr=arr.concat(RFB.messages.keyEvent(XK_Control_L,0));this._sock.send(arr);},xvpOp:function(ver,op){if(this._rfb_xvp_ver<ver){return false;}
Util.Info("Sending XVP operation "+op+" (version "+ver+")");this._sock.send_string("\xFA\x00"+String.fromCharCode(ver)+String.fromCharCode(op));return true;},xvpShutdown:function(){return this.xvpOp(1,2);},xvpReboot:function(){return this.xvpOp(1,3);},xvpReset:function(){return this.xvpOp(1,4);},sendKey:function(code,down){if(this._rfb_state!=="normal"||this._view_only){return false;}
var arr=[];if(typeof down!=='undefined'){Util.Info("Sending key code ("+(down?"down":"up")+"): "+code);arr=arr.concat(RFB.messages.keyEvent(code,down?1:0));}else{Util.Info("Sending key code (down + up): "+code);arr=arr.concat(RFB.messages.keyEvent(code,1));arr=arr.concat(RFB.messages.keyEvent(code,0));}
this._sock.send(arr);},clipboardPasteFrom:function(text){if(this._rfb_state!=='normal'){return;}
this._sock.send(RFB.messages.clientCutText(text));},setDesktopSize:function(width,height){if(this._rfb_state!=="normal"){return;}
if(this._supportsSetDesktopSize){var arr=[251];arr.push8(0);arr.push16(width);arr.push16(height);arr.push8(1);arr.push8(0);arr.push32(this._screen_id);arr.push16(0);arr.push16(0);arr.push16(width);arr.push16(height);arr.push32(this._screen_flags);this._sock.send(arr);}},_connect:function(){Util.Debug(">> RFB.connect");var uri;if(typeof UsingSocketIO!=='undefined'){uri='http';}else{uri=this._encrypt?'wss':'ws';}
uri+='://'+this._rfb_host+':'+this._rfb_port+'/'+this._rfb_path;Util.Info("connecting to "+uri);this._sock.open(uri,this._wsProtocols);Util.Debug("<< RFB.connect");},_init_vars:function(){this._sock.init();this._FBU.rects=0;this._FBU.subrects=0;this._FBU.lines=0;this._FBU.tiles=0;this._FBU.zlibs=[];this._mouse_buttonMask=0;this._mouse_arr=[];this._rfb_tightvnc=false;var i;for(i=0;i<this._encodings.length;i++){this._encStats[this._encodings[i][1]][0]=0;}
for(i=0;i<4;i++){this._FBU.zlibs[i]=new TINF();this._FBU.zlibs[i].init();}},_print_stats:function(){Util.Info("Encoding stats for this connection:");var i,s;for(i=0;i<this._encodings.length;i++){s=this._encStats[this._encodings[i][1]];if(s[0]+s[1]>0){Util.Info("    "+this._encodings[i][0]+": "+s[0]+" rects");}}
Util.Info("Encoding stats since page load:");for(i=0;i<this._encodings.length;i++){s=this._encStats[this._encodings[i][1]];Util.Info("    "+this._encodings[i][0]+": "+s[1]+" rects");}},_cleanupSocket:function(state){if(this._sendTimer){clearInterval(this._sendTimer);this._sendTimer=null;}
if(this._msgTimer){clearInterval(this._msgTimer);this._msgTimer=null;}
if(this._display&&this._display.get_context()){this._keyboard.ungrab();this._mouse.ungrab();if(state!=='connect'&&state!=='loaded'){this._display.defaultCursor();}
if(Util.get_logging()!=='debug'||state==='loaded'){this._display.clear();}}
this._sock.close();},_updateState:function(state,statusMsg){var oldstate=this._rfb_state;if(state===oldstate){Util.Debug("Already in state '"+state+"', ignoring");}
if(state in{'disconnected':1,'loaded':1,'connect':1,'disconnect':1,'failed':1,'fatal':1}){this._cleanupSocket(state);}
if(oldstate==='fatal'){Util.Error('Fatal error, cannot continue');}
var cmsg=typeof(statusMsg)!=='undefined'?(" Msg: "+statusMsg):"";var fullmsg="New state '"+state+"', was '"+oldstate+"'."+cmsg;if(state==='failed'||state==='fatal'){Util.Error(cmsg);}else{Util.Warn(cmsg);}
if(oldstate==='failed'&&state==='disconnected'){this._rfb_state='failed';}else{this._rfb_state=state;}
if(this._disconnTimer&&this._rfb_state!=='disconnect'){Util.Debug("Clearing disconnect timer");clearTimeout(this._disconnTimer);this._disconnTimer=null;this._sock.off('close');}
switch(state){case'normal':if(oldstate==='disconnected'||oldstate==='failed'){Util.Error("Invalid transition from 'disconnected' or 'failed' to 'normal'");}
break;case'connect':this._init_vars();this._connect();break;case'disconnect':this._disconnTimer=setTimeout(function(){this._fail("Disconnect timeout");}.bind(this),this._disconnectTimeout*1000);this._print_stats();break;case'failed':if(oldstate==='disconnected'){Util.Error("Invalid transition from 'disconnected' to 'failed'");}else if(oldstate==='normal'){Util.Error("Error while connected.");}else if(oldstate==='init'){Util.Error("Error while initializing.");}
setTimeout(function(){this._updateState('disconnected');}.bind(this),50);break;default:}
if(oldstate==='failed'&&state==='disconnected'){this._onUpdateState(this,state,oldstate);}else{this._onUpdateState(this,state,oldstate,statusMsg);}},_fail:function(msg){this._updateState('failed',msg);return false;},_handle_message:function(){if(this._sock.rQlen()===0){Util.Warn("handle_message called on an empty receive queue");return;}
switch(this._rfb_state){case'disconnected':case'failed':Util.Error("Got data while disconnected");break;case'normal':if(this._normal_msg()&&this._sock.rQlen()>0){if(this._msgTimer===null){Util.Debug("More data to process, creating timer");this._msgTimer=setTimeout(function(){this._msgTimer=null;this._handle_message();}.bind(this),10);}else{Util.Debug("More data to process, existing timer");}}
break;default:this._init_msg();break;}},_checkEvents:function(){if(this._rfb_state==='normal'&&!this._viewportDragging&&this._mouse_arr.length>0){this._sock.send(this._mouse_arr);this._mouse_arr=[];}},_handleKeyPress:function(keysym,down){if(this._view_only){return;}
this._sock.send(RFB.messages.keyEvent(keysym,down));},_handleMouseButton:function(x,y,down,bmask){if(down){this._mouse_buttonMask|=bmask;}else{this._mouse_buttonMask^=bmask;}
if(this._viewportDrag){if(down&&!this._viewportDragging){this._viewportDragging=true;this._viewportDragPos={'x':x,'y':y};return;}else{this._viewportDragging=false;}}
if(this._view_only){return;}
this._mouse_arr=this._mouse_arr.concat(RFB.messages.pointerEvent(this._display.absX(x),this._display.absY(y),this._mouse_buttonMask));this._sock.send(this._mouse_arr);this._mouse_arr=[];},_handleMouseMove:function(x,y){if(this._viewportDragging){var deltaX=this._viewportDragPos.x-x;var deltaY=this._viewportDragPos.y-y;this._viewportDragPos={'x':x,'y':y};this._display.viewportChangePos(deltaX,deltaY);return;}
if(this._view_only){return;}
this._mouse_arr=this._mouse_arr.concat(RFB.messages.pointerEvent(this._display.absX(x),this._display.absY(y),this._mouse_buttonMask));this._checkEvents();},_negotiate_protocol_version:function(){if(this._sock.rQlen()<12){return this._fail("Incomplete protocol version");}
var sversion=this._sock.rQshiftStr(12).substr(4,7);Util.Info("Server ProtocolVersion: "+sversion);var is_repeater=0;switch(sversion){case"000.000":is_repeater=1;break;case"003.003":case"003.006":case"003.889":this._rfb_version=3.3;break;case"003.007":this._rfb_version=3.7;break;case"003.008":case"004.000":case"004.001":this._rfb_version=3.8;break;default:return this._fail("Invalid server version "+sversion);}
if(is_repeater){var repeaterID=this._repeaterID;while(repeaterID.length<250){repeaterID+="\0";}
this._sock.send_string(repeaterID);return true;}
if(this._rfb_version>this._rfb_max_version){this._rfb_version=this._rfb_max_version;}
this._sendTimer=setInterval(this._sock.flush.bind(this._sock),50);var cversion="00"+parseInt(this._rfb_version,10)+".00"+((this._rfb_version*10)%10);this._sock.send_string("RFB "+cversion+"\n");this._updateState('Security','Sent ProtocolVersion: '+cversion);},_negotiate_security:function(){if(this._rfb_version>=3.7){var num_types=this._sock.rQshift8();if(this._sock.rQwait("security type",num_types,1)){return false;}
if(num_types===0){var strlen=this._sock.rQshift32();var reason=this._sock.rQshiftStr(strlen);return this._fail("Security failure: "+reason);}
this._rfb_auth_scheme=0;var types=this._sock.rQshiftBytes(num_types);Util.Debug("Server security types: "+types);for(var i=0;i<types.length;i++){if(types[i]>this._rfb_auth_scheme&&(types[i]<=16||types[i]==22)){this._rfb_auth_scheme=types[i];}}
if(this._rfb_auth_scheme===0){return this._fail("Unsupported security types: "+types);}
this._sock.send([this._rfb_auth_scheme]);}else{if(this._sock.rQwait("security scheme",4)){return false;}
this._rfb_auth_scheme=this._sock.rQshift32();}
this._updateState('Authentication','Authenticating using scheme: '+this._rfb_auth_scheme);return this._init_msg();},_negotiate_xvp_auth:function(){var xvp_sep=this._xvp_password_sep;var xvp_auth=this._rfb_password.split(xvp_sep);if(xvp_auth.length<3){this._updateState('password','XVP credentials required (user'+xvp_sep+'target'+xvp_sep+'password) -- got only '+this._rfb_password);this._onPasswordRequired(this);return false;}
var xvp_auth_str=String.fromCharCode(xvp_auth[0].length)+
String.fromCharCode(xvp_auth[1].length)+
xvp_auth[0]+
xvp_auth[1];this._sock.send_string(xvp_auth_str);this._rfb_password=xvp_auth.slice(2).join(xvp_sep);this._rfb_auth_scheme=2;return this._negotiate_authentication();},_negotiate_std_vnc_auth:function(){if(this._rfb_password.length===0){this._updateState('password',"Password Required");this._onPasswordRequired(this);}
if(this._sock.rQwait("auth challenge",16)){return false;}
var challenge=this._sock.rQshiftBytes(16);var response=RFB.genDES(this._rfb_password,challenge);this._sock.send(response);this._updateState("SecurityResult");return true;},_negotiate_tight_tunnels:function(numTunnels){var clientSupportedTunnelTypes={0:{vendor:'TGHT',signature:'NOTUNNEL'}};var serverSupportedTunnelTypes={};for(var i=0;i<numTunnels;i++){var cap_code=this._sock.rQshift32();var cap_vendor=this._sock.rQshiftStr(4);var cap_signature=this._sock.rQshiftStr(8);serverSupportedTunnelTypes[cap_code]={vendor:cap_vendor,signature:cap_signature};}
if(serverSupportedTunnelTypes[0]){if(serverSupportedTunnelTypes[0].vendor!=clientSupportedTunnelTypes[0].vendor||serverSupportedTunnelTypes[0].signature!=clientSupportedTunnelTypes[0].signature){return this._fail("Client's tunnel type had the incorrect vendor or signature");}
this._sock.send([0,0,0,0]);return false;}else{return this._fail("Server wanted tunnels, but doesn't support the notunnel type");}},_negotiate_tight_auth:function(){if(!this._rfb_tightvnc){if(this._sock.rQwait("num tunnels",4)){return false;}
var numTunnels=this._sock.rQshift32();if(numTunnels>0&&this._sock.rQwait("tunnel capabilities",16*numTunnels,4)){return false;}
this._rfb_tightvnc=true;if(numTunnels>0){this._negotiate_tight_tunnels(numTunnels);return false;}}
if(this._sock.rQwait("sub auth count",4)){return false;}
var subAuthCount=this._sock.rQshift32();if(this._sock.rQwait("sub auth capabilities",16*subAuthCount,4)){return false;}
var clientSupportedTypes={'STDVNOAUTH__':1,'STDVVNCAUTH_':2};var serverSupportedTypes=[];for(var i=0;i<subAuthCount;i++){var capNum=this._sock.rQshift32();var capabilities=this._sock.rQshiftStr(12);serverSupportedTypes.push(capabilities);}
for(var authType in clientSupportedTypes){if(serverSupportedTypes.indexOf(authType)!=-1){this._sock.send([0,0,0,clientSupportedTypes[authType]]);switch(authType){case'STDVNOAUTH__':this._updateState('SecurityResult');return true;case'STDVVNCAUTH_':this._rfb_auth_scheme=2;return this._init_msg();default:return this._fail("Unsupported tiny auth scheme: "+authType);}}}
this._fail("No supported sub-auth types!");},_negotiate_authentication:function(){switch(this._rfb_auth_scheme){case 0:if(this._sock.rQwait("auth reason",4)){return false;}
var strlen=this._sock.rQshift32();var reason=this._sock.rQshiftStr(strlen);return this._fail("Auth failure: "+reason);case 1:if(this._rfb_version>=3.8){this._updateState('SecurityResult');return true;}
this._updateState('ClientInitialisation',"No auth required");return this._init_msg();case 22:return this._negotiate_xvp_auth();case 2:return this._negotiate_std_vnc_auth();case 16:return this._negotiate_tight_auth();default:return this._fail("Unsupported auth scheme: "+this._rfb_auth_scheme);}},_handle_security_result:function(){if(this._sock.rQwait('VNC auth response ',4)){return false;}
switch(this._sock.rQshift32()){case 0:this._updateState('ClientInitialisation','Authentication OK');return this._init_msg();case 1:if(this._rfb_version>=3.8){var length=this._sock.rQshift32();if(this._sock.rQwait("SecurityResult reason",length,8)){return false;}
var reason=this._sock.rQshiftStr(length);return this._fail(reason);}else{return this._fail("Authentication failure");}
return false;case 2:return this._fail("Too many auth attempts");}},_negotiate_server_init:function(){if(this._sock.rQwait("server initialization",24)){return false;}
this._fb_width=this._sock.rQshift16();this._fb_height=this._sock.rQshift16();var bpp=this._sock.rQshift8();var depth=this._sock.rQshift8();var big_endian=this._sock.rQshift8();var true_color=this._sock.rQshift8();var red_max=this._sock.rQshift16();var green_max=this._sock.rQshift16();var blue_max=this._sock.rQshift16();var red_shift=this._sock.rQshift8();var green_shift=this._sock.rQshift8();var blue_shift=this._sock.rQshift8();this._sock.rQskipBytes(3);var name_length=this._sock.rQshift32();if(this._sock.rQwait('server init name',name_length,24)){return false;}
this._fb_name=Util.decodeUTF8(this._sock.rQshiftStr(name_length));if(this._rfb_tightvnc){if(this._sock.rQwait('TightVNC extended server init header',8,24+name_length)){return false;}
var numServerMessages=this._sock.rQshift16();var numClientMessages=this._sock.rQshift16();var numEncodings=this._sock.rQshift16();this._sock.rQskipBytes(2);var totalMessagesLength=(numServerMessages+numClientMessages+numEncodings)*16;if(this._sock.rQwait('TightVNC extended server init header',totalMessagesLength,32+name_length)){return false;}
var i;for(i=0;i<numServerMessages;i++){var srvMsg=this._sock.rQshiftStr(16);}
for(i=0;i<numClientMessages;i++){var clientMsg=this._sock.rQshiftStr(16);}
for(i=0;i<numEncodings;i++){var encoding=this._sock.rQshiftStr(16);}}
Util.Info("Screen: "+this._fb_width+"x"+this._fb_height+", bpp: "+bpp+", depth: "+depth+", big_endian: "+big_endian+", true_color: "+true_color+", red_max: "+red_max+", green_max: "+green_max+", blue_max: "+blue_max+", red_shift: "+red_shift+", green_shift: "+green_shift+", blue_shift: "+blue_shift);if(big_endian!==0){Util.Warn("Server native endian is not little endian");}
if(red_shift!==16){Util.Warn("Server native red-shift is not 16");}
if(blue_shift!==0){Util.Warn("Server native blue-shift is not 0");}
this._onDesktopName(this,this._fb_name);if(this._true_color&&this._fb_name==="Intel(r) AMT KVM"){Util.Warn("Intel AMT KVM only supports 8/16 bit depths.  Disabling true color");this._true_color=false;}
this._display.set_true_color(this._true_color);this._display.resize(this._fb_width,this._fb_height);this._onFBResize(this,this._fb_width,this._fb_height);this._keyboard.grab();this._mouse.grab();if(this._true_color){this._fb_Bpp=4;this._fb_depth=3;}else{this._fb_Bpp=1;this._fb_depth=1;}
var response=RFB.messages.pixelFormat(this._fb_Bpp,this._fb_depth,this._true_color);response=response.concat(RFB.messages.clientEncodings(this._encodings,this._local_cursor,this._true_color));response=response.concat(RFB.messages.fbUpdateRequests(this._display.getCleanDirtyReset(),this._fb_width,this._fb_height));this._timing.fbu_rt_start=(new Date()).getTime();this._timing.pixels=0;this._sock.send(response);this._checkEvents();if(this._encrypt){this._updateState('normal','Connected (encrypted) to: '+this._fb_name);}else{this._updateState('normal','Connected (unencrypted) to: '+this._fb_name);}},_init_msg:function(){switch(this._rfb_state){case'ProtocolVersion':return this._negotiate_protocol_version();case'Security':return this._negotiate_security();case'Authentication':return this._negotiate_authentication();case'SecurityResult':return this._handle_security_result();case'ClientInitialisation':this._sock.send([this._shared?1:0]);this._updateState('ServerInitialisation',"Authentication OK");return true;case'ServerInitialisation':return this._negotiate_server_init();}},_handle_set_colour_map_msg:function(){Util.Debug("SetColorMapEntries");this._sock.rQskip8();var first_colour=this._sock.rQshift16();var num_colours=this._sock.rQshift16();if(this._sock.rQwait('SetColorMapEntries',num_colours*6,6)){return false;}
for(var c=0;c<num_colours;c++){var red=parseInt(this._sock.rQshift16()/256,10);var green=parseInt(this._sock.rQshift16()/256,10);var blue=parseInt(this._sock.rQshift16()/256,10);this._display.set_colourMap([blue,green,red],first_colour+c);}
Util.Debug("colourMap: "+this._display.get_colourMap());Util.Info("Registered "+num_colours+" colourMap entries");return true;},_handle_server_cut_text:function(){Util.Debug("ServerCutText");if(this._sock.rQwait("ServerCutText header",7,1)){return false;}
this._sock.rQskipBytes(3);var length=this._sock.rQshift32();if(this._sock.rQwait("ServerCutText",length,8)){return false;}
var text=this._sock.rQshiftStr(length);this._onClipboard(this,text);return true;},_handle_xvp_msg:function(){if(this._sock.rQwait("XVP version and message",3,1)){return false;}
this._sock.rQskip8();var xvp_ver=this._sock.rQshift8();var xvp_msg=this._sock.rQshift8();switch(xvp_msg){case 0:this._updateState(this._rfb_state,"Operation Failed");break;case 1:this._rfb_xvp_ver=xvp_ver;Util.Info("XVP extensions enabled (version "+this._rfb_xvp_ver+")");this._onXvpInit(this._rfb_xvp_ver);break;default:this._fail("Disconnected: illegal server XVP message "+xvp_msg);break;}
return true;},_normal_msg:function(){var msg_type;if(this._FBU.rects>0){msg_type=0;}else{msg_type=this._sock.rQshift8();}
switch(msg_type){case 0:var ret=this._framebufferUpdate();if(ret){this._sock.send(RFB.messages.fbUpdateRequests(this._display.getCleanDirtyReset(),this._fb_width,this._fb_height));}
return ret;case 1:return this._handle_set_colour_map_msg();case 2:Util.Debug("Bell");this._onBell(this);return true;case 3:return this._handle_server_cut_text();case 250:return this._handle_xvp_msg();default:this._fail("Disconnected: illegal server message type "+msg_type);Util.Debug("sock.rQslice(0, 30): "+this._sock.rQslice(0,30));return true;}},_framebufferUpdate:function(){var ret=true;var now;if(this._FBU.rects===0){if(this._sock.rQwait("FBU header",3,1)){return false;}
this._sock.rQskip8();this._FBU.rects=this._sock.rQshift16();this._FBU.bytes=0;this._timing.cur_fbu=0;if(this._timing.fbu_rt_start>0){now=(new Date()).getTime();Util.Info("First FBU latency: "+(now-this._timing.fbu_rt_start));}}
while(this._FBU.rects>0){if(this._rfb_state!=="normal"){return false;}
if(this._sock.rQwait("FBU",this._FBU.bytes)){return false;}
if(this._FBU.bytes===0){if(this._sock.rQwait("rect header",12)){return false;}
var hdr=this._sock.rQshiftBytes(12);this._FBU.x=(hdr[0]<<8)+hdr[1];this._FBU.y=(hdr[2]<<8)+hdr[3];this._FBU.width=(hdr[4]<<8)+hdr[5];this._FBU.height=(hdr[6]<<8)+hdr[7];this._FBU.encoding=parseInt((hdr[8]<<24)+(hdr[9]<<16)+
(hdr[10]<<8)+hdr[11],10);this._onFBUReceive(this,{'x':this._FBU.x,'y':this._FBU.y,'width':this._FBU.width,'height':this._FBU.height,'encoding':this._FBU.encoding,'encodingName':this._encNames[this._FBU.encoding]});if(!this._encNames[this._FBU.encoding]){this._fail("Disconnected: unsupported encoding "+
this._FBU.encoding);return false;}}
this._timing.last_fbu=(new Date()).getTime();ret=this._encHandlers[this._FBU.encoding]();now=(new Date()).getTime();this._timing.cur_fbu+=(now-this._timing.last_fbu);if(ret){this._encStats[this._FBU.encoding][0]++;this._encStats[this._FBU.encoding][1]++;this._timing.pixels+=this._FBU.width*this._FBU.height;}
if(this._timing.pixels>=(this._fb_width*this._fb_height)){if((this._FBU.width===this._fb_width&&this._FBU.height===this._fb_height)||this._timing.fbu_rt_start>0){this._timing.full_fbu_total+=this._timing.cur_fbu;this._timing.full_fbu_cnt++;Util.Info("Timing of full FBU, curr: "+
this._timing.cur_fbu+", total: "+
this._timing.full_fbu_total+", cnt: "+
this._timing.full_fbu_cnt+", avg: "+
(this._timing.full_fbu_total/this._timing.full_fbu_cnt));}
if(this._timing.fbu_rt_start>0){var fbu_rt_diff=now-this._timing.fbu_rt_start;this._timing.fbu_rt_total+=fbu_rt_diff;this._timing.fbu_rt_cnt++;Util.Info("full FBU round-trip, cur: "+
fbu_rt_diff+", total: "+
this._timing.fbu_rt_total+", cnt: "+
this._timing.fbu_rt_cnt+", avg: "+
(this._timing.fbu_rt_total/this._timing.fbu_rt_cnt));this._timing.fbu_rt_start=0;}}
if(!ret){return ret;}}
this._onFBUComplete(this,{'x':this._FBU.x,'y':this._FBU.y,'width':this._FBU.width,'height':this._FBU.height,'encoding':this._FBU.encoding,'encodingName':this._encNames[this._FBU.encoding]});return true;},};Util.make_properties(RFB,[['target','wo','dom'],['focusContainer','wo','dom'],['encrypt','rw','bool'],['true_color','rw','bool'],['local_cursor','rw','bool'],['shared','rw','bool'],['view_only','rw','bool'],['xvp_password_sep','rw','str'],['disconnectTimeout','rw','int'],['wsProtocols','rw','arr'],['repeaterID','rw','str'],['viewportDrag','rw','bool'],['onUpdateState','rw','func'],['onPasswordRequired','rw','func'],['onClipboard','rw','func'],['onBell','rw','func'],['onFBUReceive','rw','func'],['onFBUComplete','rw','func'],['onFBResize','rw','func'],['onDesktopName','rw','func'],['onXvpInit','rw','func'],]);RFB.prototype.set_local_cursor=function(cursor){if(!cursor||(cursor in{'0':1,'no':1,'false':1})){this._local_cursor=false;this._display.disableLocalCursor();}else{if(this._display.get_cursor_uri()){this._local_cursor=true;}else{Util.Warn("Browser does not support local cursor");this._display.disableLocalCursor();}}};RFB.prototype.get_display=function(){return this._display;};RFB.prototype.get_keyboard=function(){return this._keyboard;};RFB.prototype.get_mouse=function(){return this._mouse;};RFB.messages={keyEvent:function(keysym,down){var arr=[4];arr.push8(down);arr.push16(0);arr.push32(keysym);return arr;},pointerEvent:function(x,y,mask){var arr=[5];arr.push8(mask);arr.push16(x);arr.push16(y);return arr;},clientCutText:function(text){var arr=[6];arr.push8(0);arr.push8(0);arr.push8(0);arr.push32(text.length);var n=text.length;for(var i=0;i<n;i++){arr.push(text.charCodeAt(i));}
return arr;},pixelFormat:function(bpp,depth,true_color){var arr=[0];arr.push8(0);arr.push8(0);arr.push8(0);arr.push8(bpp*8);arr.push8(depth*8);arr.push8(0);arr.push8(true_color?1:0);arr.push16(255);arr.push16(255);arr.push16(255);arr.push8(16);arr.push8(8);arr.push8(0);arr.push8(0);arr.push8(0);arr.push8(0);return arr;},clientEncodings:function(encodings,local_cursor,true_color){var i,encList=[];for(i=0;i<encodings.length;i++){if(encodings[i][0]==="Cursor"&&!local_cursor){Util.Debug("Skipping Cursor pseudo-encoding");}else if(encodings[i][0]==="TIGHT"&&!true_color){Util.Warn("Skipping tight as it is only supported with true color");}else{encList.push(encodings[i][1]);}}
var arr=[2];arr.push8(0);arr.push16(encList.length);for(i=0;i<encList.length;i++){arr.push32(encList[i]);}
return arr;},fbUpdateRequests:function(cleanDirty,fb_width,fb_height){var arr=[];var cb=cleanDirty.cleanBox;var w,h;if(cb.w>0&&cb.h>0){w=typeof cb.w==="undefined"?fb_width:cb.w;h=typeof cb.h==="undefined"?fb_height:cb.h;arr=arr.concat(RFB.messages.fbUpdateRequest(1,cb.x,cb.y,w,h));}
for(var i=0;i<cleanDirty.dirtyBoxes.length;i++){var db=cleanDirty.dirtyBoxes[i];w=typeof db.w==="undefined"?fb_width:db.w;h=typeof db.h==="undefined"?fb_height:db.h;arr=arr.concat(RFB.messages.fbUpdateRequest(0,db.x,db.y,w,h));}
return arr;},fbUpdateRequest:function(incremental,x,y,w,h){if(typeof(x)==="undefined"){x=0;}
if(typeof(y)==="undefined"){y=0;}
var arr=[3];arr.push8(incremental);arr.push16(x);arr.push16(y);arr.push16(w);arr.push16(h);return arr;}};RFB.genDES=function(password,challenge){var passwd=[];for(var i=0;i<password.length;i++){passwd.push(password.charCodeAt(i));}
return(new DES(passwd)).encrypt(challenge);};RFB.extract_data_uri=function(arr){return";base64,"+Base64.encode(arr);};RFB.encodingHandlers={RAW:function(){if(this._FBU.lines===0){this._FBU.lines=this._FBU.height;}
this._FBU.bytes=this._FBU.width*this._fb_Bpp;if(this._sock.rQwait("RAW",this._FBU.bytes)){return false;}
var cur_y=this._FBU.y+(this._FBU.height-this._FBU.lines);var curr_height=Math.min(this._FBU.lines,Math.floor(this._sock.rQlen()/(this._FBU.width*this._fb_Bpp)));this._display.blitImage(this._FBU.x,cur_y,this._FBU.width,curr_height,this._sock.get_rQ(),this._sock.get_rQi());this._sock.rQskipBytes(this._FBU.width*curr_height*this._fb_Bpp);this._FBU.lines-=curr_height;if(this._FBU.lines>0){this._FBU.bytes=this._FBU.width*this._fb_Bpp;}else{this._FBU.rects--;this._FBU.bytes=0;}
return true;},COPYRECT:function(){this._FBU.bytes=4;if(this._sock.rQwait("COPYRECT",4)){return false;}
this._display.renderQ_push({'type':'copy','old_x':this._sock.rQshift16(),'old_y':this._sock.rQshift16(),'x':this._FBU.x,'y':this._FBU.y,'width':this._FBU.width,'height':this._FBU.height});this._FBU.rects--;this._FBU.bytes=0;return true;},RRE:function(){var color;if(this._FBU.subrects===0){this._FBU.bytes=4+this._fb_Bpp;if(this._sock.rQwait("RRE",4+this._fb_Bpp)){return false;}
this._FBU.subrects=this._sock.rQshift32();color=this._sock.rQshiftBytes(this._fb_Bpp);this._display.fillRect(this._FBU.x,this._FBU.y,this._FBU.width,this._FBU.height,color);}
while(this._FBU.subrects>0&&this._sock.rQlen()>=(this._fb_Bpp+8)){color=this._sock.rQshiftBytes(this._fb_Bpp);var x=this._sock.rQshift16();var y=this._sock.rQshift16();var width=this._sock.rQshift16();var height=this._sock.rQshift16();this._display.fillRect(this._FBU.x+x,this._FBU.y+y,width,height,color);this._FBU.subrects--;}
if(this._FBU.subrects>0){var chunk=Math.min(this._rre_chunk_sz,this._FBU.subrects);this._FBU.bytes=(this._fb_Bpp+8)*chunk;}else{this._FBU.rects--;this._FBU.bytes=0;}
return true;},HEXTILE:function(){var rQ=this._sock.get_rQ();var rQi=this._sock.get_rQi();if(this._FBU.tiles===0){this._FBU.tiles_x=Math.ceil(this._FBU.width/16);this._FBU.tiles_y=Math.ceil(this._FBU.height/16);this._FBU.total_tiles=this._FBU.tiles_x*this._FBU.tiles_y;this._FBU.tiles=this._FBU.total_tiles;}
while(this._FBU.tiles>0){this._FBU.bytes=1;if(this._sock.rQwait("HEXTILE subencoding",this._FBU.bytes)){return false;}
var subencoding=rQ[rQi];if(subencoding>30){this._fail("Disconnected: illegal hextile subencoding "+subencoding);return false;}
var subrects=0;var curr_tile=this._FBU.total_tiles-this._FBU.tiles;var tile_x=curr_tile%this._FBU.tiles_x;var tile_y=Math.floor(curr_tile/this._FBU.tiles_x);var x=this._FBU.x+tile_x*16;var y=this._FBU.y+tile_y*16;var w=Math.min(16,(this._FBU.x+this._FBU.width)-x);var h=Math.min(16,(this._FBU.y+this._FBU.height)-y);if(subencoding&0x01){this._FBU.bytes+=w*h*this._fb_Bpp;}else{if(subencoding&0x02){this._FBU.bytes+=this._fb_Bpp;}
if(subencoding&0x04){this._FBU.bytes+=this._fb_Bpp;}
if(subencoding&0x08){this._FBU.bytes++;if(this._sock.rQwait("hextile subrects header",this._FBU.bytes)){return false;}
subrects=rQ[rQi+this._FBU.bytes-1];if(subencoding&0x10){this._FBU.bytes+=subrects*(this._fb_Bpp+2);}else{this._FBU.bytes+=subrects*2;}}}
if(this._sock.rQwait("hextile",this._FBU.bytes)){return false;}
this._FBU.subencoding=rQ[rQi];rQi++;if(this._FBU.subencoding===0){if(this._FBU.lastsubencoding&0x01){Util.Debug("     Ignoring blank after RAW");}else{this._display.fillRect(x,y,w,h,this._FBU.background);}}else if(this._FBU.subencoding&0x01){this._display.blitImage(x,y,w,h,rQ,rQi);rQi+=this._FBU.bytes-1;}else{if(this._FBU.subencoding&0x02){this._FBU.background=rQ.slice(rQi,rQi+this._fb_Bpp);rQi+=this._fb_Bpp;}
if(this._FBU.subencoding&0x04){this._FBU.foreground=rQ.slice(rQi,rQi+this._fb_Bpp);rQi+=this._fb_Bpp;}
this._display.startTile(x,y,w,h,this._FBU.background);if(this._FBU.subencoding&0x08){subrects=rQ[rQi];rQi++;for(var s=0;s<subrects;s++){var color;if(this._FBU.subencoding&0x10){color=rQ.slice(rQi,rQi+this._fb_Bpp);rQi+=this._fb_Bpp;}else{color=this._FBU.foreground;}
var xy=rQ[rQi];rQi++;var sx=(xy>>4);var sy=(xy&0x0f);var wh=rQ[rQi];rQi++;var sw=(wh>>4)+1;var sh=(wh&0x0f)+1;this._display.subTile(sx,sy,sw,sh,color);}}
this._display.finishTile();}
this._sock.set_rQi(rQi);this._FBU.lastsubencoding=this._FBU.subencoding;this._FBU.bytes=0;this._FBU.tiles--;}
if(this._FBU.tiles===0){this._FBU.rects--;}
return true;},getTightCLength:function(arr){var header=1,data=0;data+=arr[0]&0x7f;if(arr[0]&0x80){header++;data+=(arr[1]&0x7f)<<7;if(arr[1]&0x80){header++;data+=arr[2]<<14;}}
return[header,data];},display_tight:function(isTightPNG){if(this._fb_depth===1){this._fail("Tight protocol handler only implements true color mode");}
this._FBU.bytes=1;if(this._sock.rQwait("TIGHT compression-control",this._FBU.bytes)){return false;}
var checksum=function(data){var sum=0;for(var i=0;i<data.length;i++){sum+=data[i];if(sum>65536)sum-=65536;}
return sum;};var resetStreams=0;var streamId=-1;var decompress=function(data){for(var i=0;i<4;i++){if((resetStreams>>i)&1){this._FBU.zlibs[i].reset();Util.Info("Reset zlib stream "+i);}}
var uncompressed=this._FBU.zlibs[streamId].uncompress(data,0);if(uncompressed.status!==0){Util.Error("Invalid data in zlib stream");}
return uncompressed.data;}.bind(this);var indexedToRGB=function(data,numColors,palette,width,height){var dest=[];var x,y,dp,sp;if(numColors===2){var w=Math.floor((width+7)/8);var w1=Math.floor(width/8);for(y=0;y<height;y++){var b;for(x=0;x<w1;x++){for(b=7;b>=0;b--){dp=(y*width+x*8+7-b)*3;sp=(data[y*w+x]>>b&1)*3;dest[dp]=palette[sp];dest[dp+1]=palette[sp+1];dest[dp+2]=palette[sp+2];}}
for(b=7;b>=8-width%8;b--){dp=(y*width+x*8+7-b)*3;sp=(data[y*w+x]>>b&1)*3;dest[dp]=palette[sp];dest[dp+1]=palette[sp+1];dest[dp+2]=palette[sp+2];}}}else{for(y=0;y<height;y++){for(x=0;x<width;x++){dp=(y*width+x)*3;sp=data[y*width+x]*3;dest[dp]=palette[sp];dest[dp+1]=palette[sp+1];dest[dp+2]=palette[sp+2];}}}
return dest;}.bind(this);var rQ=this._sock.get_rQ();var rQi=this._sock.get_rQi();var cmode,clength,data;var handlePalette=function(){var numColors=rQ[rQi+2]+1;var paletteSize=numColors*this._fb_depth;this._FBU.bytes+=paletteSize;if(this._sock.rQwait("TIGHT palette "+cmode,this._FBU.bytes)){return false;}
var bpp=(numColors<=2)?1:8;var rowSize=Math.floor((this._FBU.width*bpp+7)/8);var raw=false;if(rowSize*this._FBU.height<12){raw=true;clength=[0,rowSize*this._FBU.height];}else{clength=RFB.encodingHandlers.getTightCLength(this._sock.rQslice(3+paletteSize,3+paletteSize+3));}
this._FBU.bytes+=clength[0]+clength[1];if(this._sock.rQwait("TIGHT "+cmode,this._FBU.bytes)){return false;}
this._sock.rQskipBytes(3);var palette=this._sock.rQshiftBytes(paletteSize);this._sock.rQskipBytes(clength[0]);if(raw){data=this._sock.rQshiftBytes(clength[1]);}else{data=decompress(this._sock.rQshiftBytes(clength[1]));}
var rgb=indexedToRGB(data,numColors,palette,this._FBU.width,this._FBU.height);this._display.renderQ_push({'type':'blitRgb','data':rgb,'x':this._FBU.x,'y':this._FBU.y,'width':this._FBU.width,'height':this._FBU.height});return true;}.bind(this);var handleCopy=function(){var raw=false;var uncompressedSize=this._FBU.width*this._FBU.height*this._fb_depth;if(uncompressedSize<12){raw=true;clength=[0,uncompressedSize];}else{clength=RFB.encodingHandlers.getTightCLength(this._sock.rQslice(1,4));}
this._FBU.bytes=1+clength[0]+clength[1];if(this._sock.rQwait("TIGHT "+cmode,this._FBU.bytes)){return false;}
this._sock.rQshiftBytes(1+clength[0]);if(raw){data=this._sock.rQshiftBytes(clength[1]);}else{data=decompress(this._sock.rQshiftBytes(clength[1]));}
this._display.renderQ_push({'type':'blitRgb','data':data,'x':this._FBU.x,'y':this._FBU.y,'width':this._FBU.width,'height':this._FBU.height});return true;}.bind(this);var ctl=this._sock.rQpeek8();resetStreams=ctl&0xF;ctl=ctl>>4;streamId=ctl&0x3;if(ctl===0x08)cmode="fill";else if(ctl===0x09)cmode="jpeg";else if(ctl===0x0A)cmode="png";else if(ctl&0x04)cmode="filter";else if(ctl<0x04)cmode="copy";else return this._fail("Illegal tight compression received, ctl: "+ctl);if(isTightPNG&&(cmode==="filter"||cmode==="copy")){return this._fail("filter/copy received in tightPNG mode");}
switch(cmode){case"fill":this._FBU.bytes+=this._fb_depth;break;case"jpeg":this._FBU.bytes+=3;break;case"png":this._FBU.bytes+=3;break;case"filter":this._FBU.bytes+=2;break;case"copy":break;}
if(this._sock.rQwait("TIGHT "+cmode,this._FBU.bytes)){return false;}
switch(cmode){case"fill":this._sock.rQskip8();var color=this._sock.rQshiftBytes(this._fb_depth);this._display.renderQ_push({'type':'fill','x':this._FBU.x,'y':this._FBU.y,'width':this._FBU.width,'height':this._FBU.height,'color':[color[2],color[1],color[0]]});break;case"png":case"jpeg":clength=RFB.encodingHandlers.getTightCLength(this._sock.rQslice(1,4));this._FBU.bytes=1+clength[0]+clength[1];if(this._sock.rQwait("TIGHT "+cmode,this._FBU.bytes)){return false;}
this._sock.rQskipBytes(1+clength[0]);var img=new Image();img.src="data: image/"+cmode+
RFB.extract_data_uri(this._sock.rQshiftBytes(clength[1]));this._display.renderQ_push({'type':'img','img':img,'x':this._FBU.x,'y':this._FBU.y});img=null;break;case"filter":var filterId=rQ[rQi+1];if(filterId===1){if(!handlePalette()){return false;}}else{throw new Error("Unsupported tight subencoding received, filter: "+filterId);}
break;case"copy":if(!handleCopy()){return false;}
break;}
this._FBU.bytes=0;this._FBU.rects--;return true;},TIGHT:function(){return this._encHandlers.display_tight(false);},TIGHT_PNG:function(){return this._encHandlers.display_tight(true);},last_rect:function(){this._FBU.rects=0;return true;},handle_FB_resize:function(){this._fb_width=this._FBU.width;this._fb_height=this._FBU.height;this._display.resize(this._fb_width,this._fb_height);this._onFBResize(this,this._fb_width,this._fb_height);this._timing.fbu_rt_start=(new Date()).getTime();this._FBU.bytes=0;this._FBU.rects-=1;return true;},ExtendedDesktopSize:function(){this._FBU.bytes=1;if(this._sock.rQwait("ExtendedDesktopSize",this._FBU.bytes)){return false;}
this._supportsSetDesktopSize=true;var number_of_screens=this._sock.rQpeek8();this._FBU.bytes=4+(number_of_screens*16);if(this._sock.rQwait("ExtendedDesktopSize",this._FBU.bytes)){return false;}
this._sock.rQskipBytes(1);this._sock.rQskipBytes(3);for(var i=0;i<number_of_screens;i+=1){if(i==0){this._screen_id=this._sock.rQshiftBytes(4);this._sock.rQskipBytes(2);this._sock.rQskipBytes(2);this._sock.rQskipBytes(2);this._sock.rQskipBytes(2);this._screen_flags=this._sock.rQshiftBytes(4);}else{this._sock.rQskipBytes(16);}}
if(this._FBU.x==1&&this._FBU.y!=0){var msg="";switch(this._FBU.y){case 1:msg="Resize is administratively prohibited";break;case 2:msg="Out of resources";break;case 3:msg="Invalid screen layout";break;default:msg="Unknown reason";break;}
Util.Info("Server did not accept the resize request: "+msg);return true;}
this._encHandlers.handle_FB_resize();return true;},DesktopSize:function(){this._encHandlers.handle_FB_resize();return true;},Cursor:function(){Util.Debug(">> set_cursor");var x=this._FBU.x;var y=this._FBU.y;var w=this._FBU.width;var h=this._FBU.height;var pixelslength=w*h*this._fb_Bpp;var masklength=Math.floor((w+7)/8)*h;this._FBU.bytes=pixelslength+masklength;if(this._sock.rQwait("cursor encoding",this._FBU.bytes)){return false;}
this._display.changeCursor(this._sock.rQshiftBytes(pixelslength),this._sock.rQshiftBytes(masklength),x,y,w,h);this._FBU.bytes=0;this._FBU.rects--;Util.Debug("<< set_cursor");return true;},JPEG_quality_lo:function(){Util.Error("Server sent jpeg_quality pseudo-encoding");},compress_lo:function(){Util.Error("Server sent compress level pseudo-encoding");}};})();var XK_VoidSymbol=0xffffff,XK_BackSpace=0xff08,XK_Tab=0xff09,XK_Linefeed=0xff0a,XK_Clear=0xff0b,XK_Return=0xff0d,XK_Pause=0xff13,XK_Scroll_Lock=0xff14,XK_Sys_Req=0xff15,XK_Escape=0xff1b,XK_Delete=0xffff,XK_Home=0xff50,XK_Left=0xff51,XK_Up=0xff52,XK_Right=0xff53,XK_Down=0xff54,XK_Prior=0xff55,XK_Page_Up=0xff55,XK_Next=0xff56,XK_Page_Down=0xff56,XK_End=0xff57,XK_Begin=0xff58,XK_Select=0xff60,XK_Print=0xff61,XK_Execute=0xff62,XK_Insert=0xff63,XK_Undo=0xff65,XK_Redo=0xff66,XK_Menu=0xff67,XK_Find=0xff68,XK_Cancel=0xff69,XK_Help=0xff6a,XK_Break=0xff6b,XK_Mode_switch=0xff7e,XK_script_switch=0xff7e,XK_Num_Lock=0xff7f,XK_KP_Space=0xff80,XK_KP_Tab=0xff89,XK_KP_Enter=0xff8d,XK_KP_F1=0xff91,XK_KP_F2=0xff92,XK_KP_F3=0xff93,XK_KP_F4=0xff94,XK_KP_Home=0xff95,XK_KP_Left=0xff96,XK_KP_Up=0xff97,XK_KP_Right=0xff98,XK_KP_Down=0xff99,XK_KP_Prior=0xff9a,XK_KP_Page_Up=0xff9a,XK_KP_Next=0xff9b,XK_KP_Page_Down=0xff9b,XK_KP_End=0xff9c,XK_KP_Begin=0xff9d,XK_KP_Insert=0xff9e,XK_KP_Delete=0xff9f,XK_KP_Equal=0xffbd,XK_KP_Multiply=0xffaa,XK_KP_Add=0xffab,XK_KP_Separator=0xffac,XK_KP_Subtract=0xffad,XK_KP_Decimal=0xffae,XK_KP_Divide=0xffaf,XK_KP_0=0xffb0,XK_KP_1=0xffb1,XK_KP_2=0xffb2,XK_KP_3=0xffb3,XK_KP_4=0xffb4,XK_KP_5=0xffb5,XK_KP_6=0xffb6,XK_KP_7=0xffb7,XK_KP_8=0xffb8,XK_KP_9=0xffb9,XK_F1=0xffbe,XK_F2=0xffbf,XK_F3=0xffc0,XK_F4=0xffc1,XK_F5=0xffc2,XK_F6=0xffc3,XK_F7=0xffc4,XK_F8=0xffc5,XK_F9=0xffc6,XK_F10=0xffc7,XK_F11=0xffc8,XK_L1=0xffc8,XK_F12=0xffc9,XK_L2=0xffc9,XK_F13=0xffca,XK_L3=0xffca,XK_F14=0xffcb,XK_L4=0xffcb,XK_F15=0xffcc,XK_L5=0xffcc,XK_F16=0xffcd,XK_L6=0xffcd,XK_F17=0xffce,XK_L7=0xffce,XK_F18=0xffcf,XK_L8=0xffcf,XK_F19=0xffd0,XK_L9=0xffd0,XK_F20=0xffd1,XK_L10=0xffd1,XK_F21=0xffd2,XK_R1=0xffd2,XK_F22=0xffd3,XK_R2=0xffd3,XK_F23=0xffd4,XK_R3=0xffd4,XK_F24=0xffd5,XK_R4=0xffd5,XK_F25=0xffd6,XK_R5=0xffd6,XK_F26=0xffd7,XK_R6=0xffd7,XK_F27=0xffd8,XK_R7=0xffd8,XK_F28=0xffd9,XK_R8=0xffd9,XK_F29=0xffda,XK_R9=0xffda,XK_F30=0xffdb,XK_R10=0xffdb,XK_F31=0xffdc,XK_R11=0xffdc,XK_F32=0xffdd,XK_R12=0xffdd,XK_F33=0xffde,XK_R13=0xffde,XK_F34=0xffdf,XK_R14=0xffdf,XK_F35=0xffe0,XK_R15=0xffe0,XK_Shift_L=0xffe1,XK_Shift_R=0xffe2,XK_Control_L=0xffe3,XK_Control_R=0xffe4,XK_Caps_Lock=0xffe5,XK_Shift_Lock=0xffe6,XK_Meta_L=0xffe7,XK_Meta_R=0xffe8,XK_Alt_L=0xffe9,XK_Alt_R=0xffea,XK_Super_L=0xffeb,XK_Super_R=0xffec,XK_Hyper_L=0xffed,XK_Hyper_R=0xffee,XK_ISO_Level3_Shift=0xfe03,XK_space=0x0020,XK_exclam=0x0021,XK_quotedbl=0x0022,XK_numbersign=0x0023,XK_dollar=0x0024,XK_percent=0x0025,XK_ampersand=0x0026,XK_apostrophe=0x0027,XK_quoteright=0x0027,XK_parenleft=0x0028,XK_parenright=0x0029,XK_asterisk=0x002a,XK_plus=0x002b,XK_comma=0x002c,XK_minus=0x002d,XK_period=0x002e,XK_slash=0x002f,XK_0=0x0030,XK_1=0x0031,XK_2=0x0032,XK_3=0x0033,XK_4=0x0034,XK_5=0x0035,XK_6=0x0036,XK_7=0x0037,XK_8=0x0038,XK_9=0x0039,XK_colon=0x003a,XK_semicolon=0x003b,XK_less=0x003c,XK_equal=0x003d,XK_greater=0x003e,XK_question=0x003f,XK_at=0x0040,XK_A=0x0041,XK_B=0x0042,XK_C=0x0043,XK_D=0x0044,XK_E=0x0045,XK_F=0x0046,XK_G=0x0047,XK_H=0x0048,XK_I=0x0049,XK_J=0x004a,XK_K=0x004b,XK_L=0x004c,XK_M=0x004d,XK_N=0x004e,XK_O=0x004f,XK_P=0x0050,XK_Q=0x0051,XK_R=0x0052,XK_S=0x0053,XK_T=0x0054,XK_U=0x0055,XK_V=0x0056,XK_W=0x0057,XK_X=0x0058,XK_Y=0x0059,XK_Z=0x005a,XK_bracketleft=0x005b,XK_backslash=0x005c,XK_bracketright=0x005d,XK_asciicircum=0x005e,XK_underscore=0x005f,XK_grave=0x0060,XK_quoteleft=0x0060,XK_a=0x0061,XK_b=0x0062,XK_c=0x0063,XK_d=0x0064,XK_e=0x0065,XK_f=0x0066,XK_g=0x0067,XK_h=0x0068,XK_i=0x0069,XK_j=0x006a,XK_k=0x006b,XK_l=0x006c,XK_m=0x006d,XK_n=0x006e,XK_o=0x006f,XK_p=0x0070,XK_q=0x0071,XK_r=0x0072,XK_s=0x0073,XK_t=0x0074,XK_u=0x0075,XK_v=0x0076,XK_w=0x0077,XK_x=0x0078,XK_y=0x0079,XK_z=0x007a,XK_braceleft=0x007b,XK_bar=0x007c,XK_braceright=0x007d,XK_asciitilde=0x007e,XK_nobreakspace=0x00a0,XK_exclamdown=0x00a1,XK_cent=0x00a2,XK_sterling=0x00a3,XK_currency=0x00a4,XK_yen=0x00a5,XK_brokenbar=0x00a6,XK_section=0x00a7,XK_diaeresis=0x00a8,XK_copyright=0x00a9,XK_ordfeminine=0x00aa,XK_guillemotleft=0x00ab,XK_notsign=0x00ac,XK_hyphen=0x00ad,XK_registered=0x00ae,XK_macron=0x00af,XK_degree=0x00b0,XK_plusminus=0x00b1,XK_twosuperior=0x00b2,XK_threesuperior=0x00b3,XK_acute=0x00b4,XK_mu=0x00b5,XK_paragraph=0x00b6,XK_periodcentered=0x00b7,XK_cedilla=0x00b8,XK_onesuperior=0x00b9,XK_masculine=0x00ba,XK_guillemotright=0x00bb,XK_onequarter=0x00bc,XK_onehalf=0x00bd,XK_threequarters=0x00be,XK_questiondown=0x00bf,XK_Agrave=0x00c0,XK_Aacute=0x00c1,XK_Acircumflex=0x00c2,XK_Atilde=0x00c3,XK_Adiaeresis=0x00c4,XK_Aring=0x00c5,XK_AE=0x00c6,XK_Ccedilla=0x00c7,XK_Egrave=0x00c8,XK_Eacute=0x00c9,XK_Ecircumflex=0x00ca,XK_Ediaeresis=0x00cb,XK_Igrave=0x00cc,XK_Iacute=0x00cd,XK_Icircumflex=0x00ce,XK_Idiaeresis=0x00cf,XK_ETH=0x00d0,XK_Eth=0x00d0,XK_Ntilde=0x00d1,XK_Ograve=0x00d2,XK_Oacute=0x00d3,XK_Ocircumflex=0x00d4,XK_Otilde=0x00d5,XK_Odiaeresis=0x00d6,XK_multiply=0x00d7,XK_Oslash=0x00d8,XK_Ooblique=0x00d8,XK_Ugrave=0x00d9,XK_Uacute=0x00da,XK_Ucircumflex=0x00db,XK_Udiaeresis=0x00dc,XK_Yacute=0x00dd,XK_THORN=0x00de,XK_Thorn=0x00de,XK_ssharp=0x00df,XK_agrave=0x00e0,XK_aacute=0x00e1,XK_acircumflex=0x00e2,XK_atilde=0x00e3,XK_adiaeresis=0x00e4,XK_aring=0x00e5,XK_ae=0x00e6,XK_ccedilla=0x00e7,XK_egrave=0x00e8,XK_eacute=0x00e9,XK_ecircumflex=0x00ea,XK_ediaeresis=0x00eb,XK_igrave=0x00ec,XK_iacute=0x00ed,XK_icircumflex=0x00ee,XK_idiaeresis=0x00ef,XK_eth=0x00f0,XK_ntilde=0x00f1,XK_ograve=0x00f2,XK_oacute=0x00f3,XK_ocircumflex=0x00f4,XK_otilde=0x00f5,XK_odiaeresis=0x00f6,XK_division=0x00f7,XK_oslash=0x00f8,XK_ooblique=0x00f8,XK_ugrave=0x00f9,XK_uacute=0x00fa,XK_ucircumflex=0x00fb,XK_udiaeresis=0x00fc,XK_yacute=0x00fd,XK_thorn=0x00fe,XK_ydiaeresis=0x00ff;"use strict";function PcViewer(id,websocket_url){var protocol,host,port,password,path;var rfb,resetting;function updateState(rfb,state,oldstate,msg){var level;var spinner=$("#spinner"+id);switch(state){case'failed':level="error";spinner.show();break;case'fatal':level="error";break;case'normal':level="normal";spinner.hide();rfb.get_display().autoscale(spinner.parent().width(),spinner.parent().height(),false);rfb.get_mouse().set_scale(rfb.get_display().get_scale());logEvent(parseInstance(path).sessionId,parseInstance(path).instanceId,'WS_CONNECT');break;case'disconnected':level="normal";spinner.show();break;case'loaded':level="normal";break;default:level="warn";break;}}
function parseInstance(path){var pieces=path.split("/");return{sessionId:pieces[1].split('.')[0],instanceId:pieces[1]}}
function parseUri(uri){var protocol,host,port,path;var pieces=uri.split(":");var otherPieces;protocol=pieces[0];if(pieces.length===2){otherPieces=pieces[1].substr(2).split("/");host=otherPieces.shift();port=null;}else{otherPieces=pieces[2].split("/").slice(1);host=pieces[1].substr(2);}
path=otherPieces.join("/");return[protocol,host,port,path];}
function reconnector(e){if(resetting){resetting=false;return resetting;}
$("#spinner"+id).show();window.setTimeout(function(){rfb.connect(host,port,password,path);},10000);}
function keyboardGrab(e){rfb.get_keyboard().grab();}
function keyboardUngrab(e){rfb.get_keyboard().ungrab();}
WebUtil.init_logging('none');var parsedUri=parseUri(websocket_url);protocol=parsedUri[0];host=parsedUri[1];port=parsedUri[2];path=parsedUri[3];password=null;if(!port){if(protocol=='wss'){port=443;}
else if(protocol=='ws'){port=80;}}
if((!host)||(!port)){updateState('failed',"Must specify host and port");return;}
try{rfb=new RFB({'target':$D('pcviewer_canvas'+id),'encrypt':(protocol==="wss"),'repeaterID':'','true_color':true,'local_cursor':false,'shared':true,'view_only':false,'onUpdateState':updateState});}catch(exc){updateState(null,'fatal',null,'Unable to create client -- '+exc);return;}
rfb.reconnect=function(websocket_url){var parsed=parseUri(websocket_url);path=parsed[3];this.connect(host,port,password,path);resetting=true;};rfb.connect(host,port,password,path);rfb._sock.on('close',reconnector);$('#modal').on('show.bs.modal',keyboardUngrab);$('#modal').on('hide.bs.modal',keyboardGrab);$('a[data-toggle="tab"]').on('show.bs.tab',function(e){var shown,hidden,thisRFB;shown=$(e.target).attr('href').slice(0,-4);hidden=$(e.relatedTarget).attr('href').slice(0,-4);thisRFB='#device'+id;if(shown===thisRFB){rfb.get_keyboard().grab();}
if(hidden===thisRFB){rfb.get_keyboard().ungrab();}});return rfb;}
(function(root,factory){if(typeof define==='function'&&define.amd){define([],factory);}else{root.CliViewer=factory();}}(this,function(){var requirejs,require,define;(function(undef){var main,req,makeMap,handlers,defined={},waiting={},config={},defining={},hasOwn=Object.prototype.hasOwnProperty,aps=[].slice,jsSuffixRegExp=/\.js$/;function hasProp(obj,prop){return hasOwn.call(obj,prop);}
function normalize(name,baseName){var nameParts,nameSegment,mapValue,foundMap,lastIndex,foundI,foundStarMap,starI,i,j,part,baseParts=baseName&&baseName.split("/"),map=config.map,starMap=(map&&map['*'])||{};if(name&&name.charAt(0)==="."){if(baseName){baseParts=baseParts.slice(0,baseParts.length-1);name=name.split('/');lastIndex=name.length-1;if(config.nodeIdCompat&&jsSuffixRegExp.test(name[lastIndex])){name[lastIndex]=name[lastIndex].replace(jsSuffixRegExp,'');}
name=baseParts.concat(name);for(i=0;i<name.length;i+=1){part=name[i];if(part==="."){name.splice(i,1);i-=1;}else if(part===".."){if(i===1&&(name[2]==='..'||name[0]==='..')){break;}else if(i>0){name.splice(i-1,2);i-=2;}}}
name=name.join("/");}else if(name.indexOf('./')===0){name=name.substring(2);}}
if((baseParts||starMap)&&map){nameParts=name.split('/');for(i=nameParts.length;i>0;i-=1){nameSegment=nameParts.slice(0,i).join("/");if(baseParts){for(j=baseParts.length;j>0;j-=1){mapValue=map[baseParts.slice(0,j).join('/')];if(mapValue){mapValue=mapValue[nameSegment];if(mapValue){foundMap=mapValue;foundI=i;break;}}}}
if(foundMap){break;}
if(!foundStarMap&&starMap&&starMap[nameSegment]){foundStarMap=starMap[nameSegment];starI=i;}}
if(!foundMap&&foundStarMap){foundMap=foundStarMap;foundI=starI;}
if(foundMap){nameParts.splice(0,foundI,foundMap);name=nameParts.join('/');}}
return name;}
function makeRequire(relName,forceSync){return function(){return req.apply(undef,aps.call(arguments,0).concat([relName,forceSync]));};}
function makeNormalize(relName){return function(name){return normalize(name,relName);};}
function makeLoad(depName){return function(value){defined[depName]=value;};}
function callDep(name){if(hasProp(waiting,name)){var args=waiting[name];delete waiting[name];defining[name]=true;main.apply(undef,args);}
if(!hasProp(defined,name)&&!hasProp(defining,name)){throw new Error('No '+name);}
return defined[name];}
function splitPrefix(name){var prefix,index=name?name.indexOf('!'):-1;if(index>-1){prefix=name.substring(0,index);name=name.substring(index+1,name.length);}
return[prefix,name];}
makeMap=function(name,relName){var plugin,parts=splitPrefix(name),prefix=parts[0];name=parts[1];if(prefix){prefix=normalize(prefix,relName);plugin=callDep(prefix);}
if(prefix){if(plugin&&plugin.normalize){name=plugin.normalize(name,makeNormalize(relName));}else{name=normalize(name,relName);}}else{name=normalize(name,relName);parts=splitPrefix(name);prefix=parts[0];name=parts[1];if(prefix){plugin=callDep(prefix);}}
return{f:prefix?prefix+'!'+name:name,n:name,pr:prefix,p:plugin};};function makeConfig(name){return function(){return(config&&config.config&&config.config[name])||{};};}
handlers={require:function(name){return makeRequire(name);},exports:function(name){var e=defined[name];if(typeof e!=='undefined'){return e;}else{return(defined[name]={});}},module:function(name){return{id:name,uri:'',exports:defined[name],config:makeConfig(name)};}};main=function(name,deps,callback,relName){var cjsModule,depName,ret,map,i,args=[],callbackType=typeof callback,usingExports;relName=relName||name;if(callbackType==='undefined'||callbackType==='function'){deps=!deps.length&&callback.length?['require','exports','module']:deps;for(i=0;i<deps.length;i+=1){map=makeMap(deps[i],relName);depName=map.f;if(depName==="require"){args[i]=handlers.require(name);}else if(depName==="exports"){args[i]=handlers.exports(name);usingExports=true;}else if(depName==="module"){cjsModule=args[i]=handlers.module(name);}else if(hasProp(defined,depName)||hasProp(waiting,depName)||hasProp(defining,depName)){args[i]=callDep(depName);}else if(map.p){map.p.load(map.n,makeRequire(relName,true),makeLoad(depName),{});args[i]=defined[depName];}else{throw new Error(name+' missing '+depName);}}
ret=callback?callback.apply(defined[name],args):undefined;if(name){if(cjsModule&&cjsModule.exports!==undef&&cjsModule.exports!==defined[name]){defined[name]=cjsModule.exports;}else if(ret!==undef||!usingExports){defined[name]=ret;}}}else if(name){defined[name]=callback;}};requirejs=require=req=function(deps,callback,relName,forceSync,alt){if(typeof deps==="string"){if(handlers[deps]){return handlers[deps](callback);}
return callDep(makeMap(deps,callback).f);}else if(!deps.splice){config=deps;if(config.deps){req(config.deps,config.callback);}
if(!callback){return;}
if(callback.splice){deps=callback;callback=relName;relName=null;}else{deps=undef;}}
callback=callback||function(){};if(typeof relName==='function'){relName=forceSync;forceSync=alt;}
if(forceSync){main(undef,deps,callback,relName);}else{setTimeout(function(){main(undef,deps,callback,relName);},4);}
return req;};req.config=function(cfg){return req(cfg);};requirejs._defined=defined;define=function(name,deps,callback){if(!deps.splice){callback=deps;deps=[];}
if(!hasProp(defined,name)&&!hasProp(waiting,name)){waiting[name]=[name,deps,callback];}};define.amd={jQuery:true};}());define("almond",function(){});define('level',[],function(){function Level(name,value){this.getName=function getName(){return name;};this.getValue=function getValue(){return value;};}
Level.prototype={constructor:Level,compareTo:function compareTo(level){var
thisValue=this.getValue(),thatValue=level.getValue();return(thisValue<thatValue)?-1:(thisValue>thatValue)?1:0;},toString:function toString(){return this.getName();},valueOf:function valueOf(){return this.getValue();}};return Level;});define('debug',['level'],function(Level){var _INSTANCE=null;function _init(){var _TARGETS={CONSOLE:true,SERVER:false},_LEVELS={NONE:new Level('None',0),FATAL:new Level('Fatal',1),ERROR:new Level('Error',2),WARNING:new Level('Warning',3),INFO:new Level('Info',4),DEBUG:new Level('Debug',5)},_globalLevelSet=false,_globalLevel=_LEVELS.NONE;function _assertLevel(level,localLevel){return(!!level&&level<=Math.min(localLevel,_globalLevel));};function _writeConsole(level,message){console.log("["+level.toString()+"]: "+message);};function _writeServer(level,message){};function _write(level,localLevel,message){var valid=_assertLevel(level,localLevel);if(valid&&message){if(_TARGETS.CONSOLE)_writeConsole(level,message);if(_TARGETS.SERVER)_writeServer();}
return valid;}
return{NONE:_LEVELS.NONE,FATAL:_LEVELS.FATAL,ERROR:_LEVELS.ERROR,WARNING:_LEVELS.WARNING,INFO:_LEVELS.INFO,DEBUG:_LEVELS.DEBUG,setGlobalLevel:function setGlobalLevel(level){if(_globalLevelSet)return;_globalLevel=level;_globalLevelSet=true;},getGlobalLevel:function getGlobalLevel(){return _globalLevel;},isGlobalLevelSet:function isGlobalLevelSet(){return _globalLevelSet;},setLocalLevel:function setLocalLevel(localLevel){if(!_globalLevelSet)return localLevel;return(localLevel<=_globalLevel)?localLevel:_globalLevel;},fatal:function fatal(localLevel,message){return _write(this.FATAL,localLevel,message);},error:function error(localLevel,message){return _write(this.ERROR,localLevel,message);},warning:function warning(localLevel,message){return _write(this.WARNING,localLevel,message);},info:function info(localLevel,message){return _write(this.INFO,localLevel,message);},debug:function debug(localLevel,message){return _write(this.DEBUG,localLevel,message);}};}
return(function(){if(!_INSTANCE)_INSTANCE=_init();return _INSTANCE;})();});define('kb/util',[],function(){var Util={};var addFunc=function(cl,name,func){if(!cl.prototype[name]){Object.defineProperty(cl.prototype,name,{enumerable:false,value:func});}};addFunc(Array,'push8',function(num){"use strict";this.push(num&0xFF);});addFunc(Array,'push16',function(num){"use strict";this.push((num>>8)&0xFF,num&0xFF);});addFunc(Array,'push32',function(num){"use strict";this.push((num>>24)&0xFF,(num>>16)&0xFF,(num>>8)&0xFF,num&0xFF);});addFunc(Array,'map',function(fun){"use strict";var len=this.length;if(typeof fun!="function"){throw new TypeError();}
var res=new Array(len);var thisp=arguments[1];for(var i=0;i<len;i++){if(i in this){res[i]=fun.call(thisp,this[i],i,this);}}
return res;});addFunc(Array,'indexOf',function(elt){"use strict";var len=this.length>>>0;var from=Number(arguments[1])||0;from=(from<0)?Math.ceil(from):Math.floor(from);if(from<0){from+=len;}
for(;from<len;from++){if(from in this&&this[from]===elt){return from;}}
return-1;});if(!Object.keys){Object.keys=(function(){'use strict';var hasOwnProperty=Object.prototype.hasOwnProperty,hasDontEnumBug=!({toString:null}).propertyIsEnumerable('toString'),dontEnums=['toString','toLocaleString','valueOf','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','constructor'],dontEnumsLength=dontEnums.length;return function(obj){if(typeof obj!=='object'&&(typeof obj!=='function'||obj===null)){throw new TypeError('Object.keys called on non-object');}
var result=[],prop,i;for(prop in obj){if(hasOwnProperty.call(obj,prop)){result.push(prop);}}
if(hasDontEnumBug){for(i=0;i<dontEnumsLength;i++){if(hasOwnProperty.call(obj,dontEnums[i])){result.push(dontEnums[i]);}}}
return result;};})();}
addFunc(Function,'bind',function(oThis){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - "+"what is trying to be bound is not callable");}
var aArgs=Array.prototype.slice.call(arguments,1),fToBind=this,fNOP=function(){},fBound=function(){return fToBind.apply(this instanceof fNOP&&oThis?this:oThis,aArgs.concat(Array.prototype.slice.call(arguments)));};fNOP.prototype=this.prototype;fBound.prototype=new fNOP();return fBound;});window.requestAnimFrame=(function(){"use strict";return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){window.setTimeout(callback,1000/60);};})();Util._log_level='warn';Util.init_logging=function(level){"use strict";if(typeof level==='undefined'){level=Util._log_level;}else{Util._log_level=level;}
if(typeof window.console==="undefined"){if(typeof window.opera!=="undefined"){window.console={'log':window.opera.postError,'warn':window.opera.postError,'error':window.opera.postError};}else{window.console={'log':function(m){},'warn':function(m){},'error':function(m){}};}}
Util.Debug=Util.Info=Util.Warn=Util.Error=function(msg){};switch(level){case'debug':Util.Debug=function(msg){console.log(msg);};case'info':Util.Info=function(msg){console.log(msg);};case'warn':Util.Warn=function(msg){console.warn(msg);};case'error':Util.Error=function(msg){console.error(msg);};case'none':break;default:throw new Error("invalid logging type '"+level+"'");}};Util.get_logging=function(){return Util._log_level;};Util.init_logging();Util.make_property=function(proto,name,mode,type){"use strict";var getter;if(type==='arr'){getter=function(idx){if(typeof idx!=='undefined'){return this['_'+name][idx];}else{return this['_'+name];}};}else{getter=function(){return this['_'+name];};}
var make_setter=function(process_val){if(process_val){return function(val,idx){if(typeof idx!=='undefined'){this['_'+name][idx]=process_val(val);}else{this['_'+name]=process_val(val);}};}else{return function(val,idx){if(typeof idx!=='undefined'){this['_'+name][idx]=val;}else{this['_'+name]=val;}};}};var setter;if(type==='bool'){setter=make_setter(function(val){if(!val||(val in{'0':1,'no':1,'false':1})){return false;}else{return true;}});}else if(type==='int'){setter=make_setter(function(val){return parseInt(val,10);});}else if(type==='float'){setter=make_setter(parseFloat);}else if(type==='str'){setter=make_setter(String);}else if(type==='func'){setter=make_setter(function(val){if(!val){return function(){};}else{return val;}});}else if(type==='arr'||type==='dom'||type=='raw'){setter=make_setter();}else{throw new Error('Unknown property type '+type);}
if(typeof proto['get_'+name]==='undefined'){proto['get_'+name]=getter;}
if(typeof proto['set_'+name]==='undefined'){if(mode==='rw'){proto['set_'+name]=setter;}else if(mode==='wo'){proto['set_'+name]=function(val,idx){if(typeof this['_'+name]!=='undefined'){throw new Error(name+" can only be set once");}
setter.call(this,val,idx);};}}
proto['_raw_set_'+name]=function(val,idx){setter.call(this,val,idx);};};Util.make_properties=function(constructor,arr){"use strict";for(var i=0;i<arr.length;i++){Util.make_property(constructor.prototype,arr[i][0],arr[i][1],arr[i][2]);}};Util.set_defaults=function(obj,conf,defaults){var defaults_keys=Object.keys(defaults);var conf_keys=Object.keys(conf);var keys_obj={};var i;for(i=0;i<defaults_keys.length;i++){keys_obj[defaults_keys[i]]=1;}
for(i=0;i<conf_keys.length;i++){keys_obj[conf_keys[i]]=1;}
var keys=Object.keys(keys_obj);for(i=0;i<keys.length;i++){var setter=obj['_raw_set_'+keys[i]];if(!setter){Util.Warn('Invalid property '+keys[i]);continue;}
if(keys[i]in conf){setter.call(obj,conf[keys[i]]);}else{setter.call(obj,defaults[keys[i]]);}}};Util.decodeUTF8=function(utf8string){"use strict";return decodeURIComponent(escape(utf8string));};Util.get_include_uri=function(){return(typeof INCLUDE_URI!=="undefined")?INCLUDE_URI:"include/";};Util._loading_scripts=[];Util._pending_scripts=[];Util.load_scripts=function(files){"use strict";var head=document.getElementsByTagName('head')[0],script,ls=Util._loading_scripts,ps=Util._pending_scripts;var loadFunc=function(e){while(ls.length>0&&(ls[0].readyState==='loaded'||ls[0].readyState==='complete')){var s=ls.shift();head.appendChild(s);}
if(!this.readyState||(Util.Engine.presto&&this.readyState==='loaded')||this.readyState==='complete'){if(ps.indexOf(this)>=0){this.onload=this.onreadystatechange=null;ps.splice(ps.indexOf(this),1);if(ps.length===0&&window.onscriptsload){window.onscriptsload();}}}};for(var f=0;f<files.length;f++){script=document.createElement('script');script.type='text/javascript';script.src=Util.get_include_uri()+files[f];script.onload=script.onreadystatechange=loadFunc;if(Util.Engine.trident){ls.push(script);}else{script.async=false;head.appendChild(script);}
ps.push(script);}};Util.getPosition=function(obj){"use strict";var objPosition=obj.getBoundingClientRect();return{'x':objPosition.left+window.pageXOffset,'y':objPosition.top+window.pageYOffset,'width':objPosition.width,'height':objPosition.height};};Util.getEventPosition=function(e,obj,scale){"use strict";var evt,docX,docY,pos;evt=(e?e:window.event);evt=(evt.changedTouches?evt.changedTouches[0]:evt.touches?evt.touches[0]:evt);if(evt.pageX||evt.pageY){docX=evt.pageX;docY=evt.pageY;}else if(evt.clientX||evt.clientY){docX=evt.clientX+document.body.scrollLeft+
document.documentElement.scrollLeft;docY=evt.clientY+document.body.scrollTop+
document.documentElement.scrollTop;}
pos=Util.getPosition(obj);if(typeof scale==="undefined"){scale=1;}
var realx=docX-pos.x;var realy=docY-pos.y;var x=Math.max(Math.min(realx,pos.width-1),0);var y=Math.max(Math.min(realy,pos.height-1),0);return{'x':x/scale,'y':y/scale,'realx':realx/scale,'realy':realy/scale};};Util.addEvent=function(obj,evType,fn){"use strict";if(obj.attachEvent){var r=obj.attachEvent("on"+evType,fn);return r;}else if(obj.addEventListener){obj.addEventListener(evType,fn,false);return true;}else{throw new Error("Handler could not be attached");}};Util.removeEvent=function(obj,evType,fn){"use strict";if(obj.detachEvent){var r=obj.detachEvent("on"+evType,fn);return r;}else if(obj.removeEventListener){obj.removeEventListener(evType,fn,false);return true;}else{throw new Error("Handler could not be removed");}};Util.stopEvent=function(e){"use strict";if(e.stopPropagation){e.stopPropagation();}
else{e.cancelBubble=true;}
if(e.preventDefault){e.preventDefault();}
else{e.returnValue=false;}};Util._cursor_uris_supported=null;Util.browserSupportsCursorURIs=function(){if(Util._cursor_uris_supported===null){try{var target=document.createElement('canvas');target.style.cursor='url("data:image/x-icon;base64,AAACAAEACAgAAAIAAgA4AQAAFgAAACgAAAAIAAAAEAAAAAEAIAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AAAAAAAAAAAAAAAAAAAAAA==") 2 2, default';if(target.style.cursor){Util.Info("Data URI scheme cursor supported");Util._cursor_uris_supported=true;}else{Util.Warn("Data URI scheme cursor not supported");Util._cursor_uris_supported=false;}}catch(exc){Util.Error("Data URI scheme cursor test exception: "+exc);Util._cursor_uris_supported=false;}}
return Util._cursor_uris_supported;};Util.Features={xpath:!!(document.evaluate),air:!!(window.runtime),query:!!(document.querySelector)};(function(){"use strict";var detectPresto=function(){return!!window.opera;};var detectTrident=function(){if(!window.ActiveXObject){return false;}else{if(window.XMLHttpRequest){return(document.querySelectorAll)?6:5;}else{return 4;}}};var detectInitialWebkit=function(){try{if(navigator.taintEnabled){return false;}else{if(Util.Features.xpath){return(Util.Features.query)?525:420;}else{return 419;}}}catch(e){return false;}};var detectActualWebkit=function(initial_ver){var re=/WebKit\/([0-9\.]*) /;var str_ver=(navigator.userAgent.match(re)||['',initial_ver])[1];return parseFloat(str_ver,10);};var detectGecko=function(){if(!document.getBoxObjectFor&&window.mozInnerScreenX==null){return false;}else{return(document.getElementsByClassName)?19:18;}};Util.Engine={'presto':detectPresto(),'trident':detectTrident(),'webkit':detectInitialWebkit(),'gecko':detectGecko(),};if(Util.Engine.webkit){Util.Engine.webkit=detectActualWebkit(Util.Engine.webkit);}})();Util.Flash=(function(){"use strict";var v,version;try{v=navigator.plugins['Shockwave Flash'].description;}catch(err1){try{v=new ActiveXObject('ShockwaveFlash.ShockwaveFlash').GetVariable('$version');}catch(err2){v='0 r0';}}
version=v.match(/\d+/g);return{version:parseInt(version[0]||0+'.'+version[1],10)||0,build:parseInt(version[2],10)||0};}());return Util;});define('kb/keysymdef',[],function(){var keysyms=(function(){"use strict";var keynames=null
var codepoints={"32":32,"33":33,"34":34,"35":35,"36":36,"37":37,"38":38,"39":39,"40":40,"41":41,"42":42,"43":43,"44":44,"45":45,"46":46,"47":47,"48":48,"49":49,"50":50,"51":51,"52":52,"53":53,"54":54,"55":55,"56":56,"57":57,"58":58,"59":59,"60":60,"61":61,"62":62,"63":63,"64":64,"65":65,"66":66,"67":67,"68":68,"69":69,"70":70,"71":71,"72":72,"73":73,"74":74,"75":75,"76":76,"77":77,"78":78,"79":79,"80":80,"81":81,"82":82,"83":83,"84":84,"85":85,"86":86,"87":87,"88":88,"89":89,"90":90,"91":91,"92":92,"93":93,"94":94,"95":95,"96":96,"97":97,"98":98,"99":99,"100":100,"101":101,"102":102,"103":103,"104":104,"105":105,"106":106,"107":107,"108":108,"109":109,"110":110,"111":111,"112":112,"113":113,"114":114,"115":115,"116":116,"117":117,"118":118,"119":119,"120":120,"121":121,"122":122,"123":123,"124":124,"125":125,"126":126,"160":160,"161":161,"162":162,"163":163,"164":164,"165":165,"166":166,"167":167,"168":168,"169":169,"170":170,"171":171,"172":172,"173":173,"174":174,"175":175,"176":176,"177":177,"178":178,"179":179,"180":180,"181":181,"182":182,"183":183,"184":184,"185":185,"186":186,"187":187,"188":188,"189":189,"190":190,"191":191,"192":192,"193":193,"194":194,"195":195,"196":196,"197":197,"198":198,"199":199,"200":200,"201":201,"202":202,"203":203,"204":204,"205":205,"206":206,"207":207,"208":208,"209":209,"210":210,"211":211,"212":212,"213":213,"214":214,"215":215,"216":216,"217":217,"218":218,"219":219,"220":220,"221":221,"222":222,"223":223,"224":224,"225":225,"226":226,"227":227,"228":228,"229":229,"230":230,"231":231,"232":232,"233":233,"234":234,"235":235,"236":236,"237":237,"238":238,"239":239,"240":240,"241":241,"242":242,"243":243,"244":244,"245":245,"246":246,"247":247,"248":248,"249":249,"250":250,"251":251,"252":252,"253":253,"254":254,"255":255,"256":960,"257":992,"258":451,"259":483,"260":417,"261":433,"262":454,"263":486,"264":710,"265":742,"266":709,"267":741,"268":456,"269":488,"270":463,"271":495,"272":464,"273":496,"274":938,"275":954,"278":972,"279":1004,"280":458,"281":490,"282":460,"283":492,"284":728,"285":760,"286":683,"287":699,"288":725,"289":757,"290":939,"291":955,"292":678,"293":694,"294":673,"295":689,"296":933,"297":949,"298":975,"299":1007,"300":16777516,"301":16777517,"302":967,"303":999,"304":681,"305":697,"308":684,"309":700,"310":979,"311":1011,"312":930,"313":453,"314":485,"315":934,"316":950,"317":421,"318":437,"321":419,"322":435,"323":465,"324":497,"325":977,"326":1009,"327":466,"328":498,"330":957,"331":959,"332":978,"333":1010,"336":469,"337":501,"338":5052,"339":5053,"340":448,"341":480,"342":931,"343":947,"344":472,"345":504,"346":422,"347":438,"348":734,"349":766,"350":426,"351":442,"352":425,"353":441,"354":478,"355":510,"356":427,"357":443,"358":940,"359":956,"360":989,"361":1021,"362":990,"363":1022,"364":733,"365":765,"366":473,"367":505,"368":475,"369":507,"370":985,"371":1017,"372":16777588,"373":16777589,"374":16777590,"375":16777591,"376":5054,"377":428,"378":444,"379":431,"380":447,"381":430,"382":446,"399":16777615,"402":2294,"415":16777631,"416":16777632,"417":16777633,"431":16777647,"432":16777648,"437":16777653,"438":16777654,"466":16777681,"486":16777702,"487":16777703,"601":16777817,"629":16777845,"711":439,"728":418,"729":511,"731":434,"733":445,"901":1966,"902":1953,"904":1954,"905":1955,"906":1956,"908":1959,"910":1960,"911":1963,"912":1974,"913":1985,"914":1986,"915":1987,"916":1988,"917":1989,"918":1990,"919":1991,"920":1992,"921":1993,"922":1994,"923":1995,"924":1996,"925":1997,"926":1998,"927":1999,"928":2000,"929":2001,"931":2002,"932":2004,"933":2005,"934":2006,"935":2007,"936":2008,"937":2009,"938":1957,"939":1961,"940":1969,"941":1970,"942":1971,"943":1972,"944":1978,"945":2017,"946":2018,"947":2019,"948":2020,"949":2021,"950":2022,"951":2023,"952":2024,"953":2025,"954":2026,"955":2027,"956":2028,"957":2029,"958":2030,"959":2031,"960":2032,"961":2033,"962":2035,"963":2034,"964":2036,"965":2037,"966":2038,"967":2039,"968":2040,"969":2041,"970":1973,"971":1977,"972":1975,"973":1976,"974":1979,"1025":1715,"1026":1713,"1027":1714,"1028":1716,"1029":1717,"1030":1718,"1031":1719,"1032":1720,"1033":1721,"1034":1722,"1035":1723,"1036":1724,"1038":1726,"1039":1727,"1040":1761,"1041":1762,"1042":1783,"1043":1767,"1044":1764,"1045":1765,"1046":1782,"1047":1786,"1048":1769,"1049":1770,"1050":1771,"1051":1772,"1052":1773,"1053":1774,"1054":1775,"1055":1776,"1056":1778,"1057":1779,"1058":1780,"1059":1781,"1060":1766,"1061":1768,"1062":1763,"1063":1790,"1064":1787,"1065":1789,"1066":1791,"1067":1785,"1068":1784,"1069":1788,"1070":1760,"1071":1777,"1072":1729,"1073":1730,"1074":1751,"1075":1735,"1076":1732,"1077":1733,"1078":1750,"1079":1754,"1080":1737,"1081":1738,"1082":1739,"1083":1740,"1084":1741,"1085":1742,"1086":1743,"1087":1744,"1088":1746,"1089":1747,"1090":1748,"1091":1749,"1092":1734,"1093":1736,"1094":1731,"1095":1758,"1096":1755,"1097":1757,"1098":1759,"1099":1753,"1100":1752,"1101":1756,"1102":1728,"1103":1745,"1105":1699,"1106":1697,"1107":1698,"1108":1700,"1109":1701,"1110":1702,"1111":1703,"1112":1704,"1113":1705,"1114":1706,"1115":1707,"1116":1708,"1118":1710,"1119":1711,"1168":1725,"1169":1709,"1170":16778386,"1171":16778387,"1174":16778390,"1175":16778391,"1178":16778394,"1179":16778395,"1180":16778396,"1181":16778397,"1186":16778402,"1187":16778403,"1198":16778414,"1199":16778415,"1200":16778416,"1201":16778417,"1202":16778418,"1203":16778419,"1206":16778422,"1207":16778423,"1208":16778424,"1209":16778425,"1210":16778426,"1211":16778427,"1240":16778456,"1241":16778457,"1250":16778466,"1251":16778467,"1256":16778472,"1257":16778473,"1262":16778478,"1263":16778479,"1329":16778545,"1330":16778546,"1331":16778547,"1332":16778548,"1333":16778549,"1334":16778550,"1335":16778551,"1336":16778552,"1337":16778553,"1338":16778554,"1339":16778555,"1340":16778556,"1341":16778557,"1342":16778558,"1343":16778559,"1344":16778560,"1345":16778561,"1346":16778562,"1347":16778563,"1348":16778564,"1349":16778565,"1350":16778566,"1351":16778567,"1352":16778568,"1353":16778569,"1354":16778570,"1355":16778571,"1356":16778572,"1357":16778573,"1358":16778574,"1359":16778575,"1360":16778576,"1361":16778577,"1362":16778578,"1363":16778579,"1364":16778580,"1365":16778581,"1366":16778582,"1370":16778586,"1371":16778587,"1372":16778588,"1373":16778589,"1374":16778590,"1377":16778593,"1378":16778594,"1379":16778595,"1380":16778596,"1381":16778597,"1382":16778598,"1383":16778599,"1384":16778600,"1385":16778601,"1386":16778602,"1387":16778603,"1388":16778604,"1389":16778605,"1390":16778606,"1391":16778607,"1392":16778608,"1393":16778609,"1394":16778610,"1395":16778611,"1396":16778612,"1397":16778613,"1398":16778614,"1399":16778615,"1400":16778616,"1401":16778617,"1402":16778618,"1403":16778619,"1404":16778620,"1405":16778621,"1406":16778622,"1407":16778623,"1408":16778624,"1409":16778625,"1410":16778626,"1411":16778627,"1412":16778628,"1413":16778629,"1414":16778630,"1415":16778631,"1417":16778633,"1418":16778634,"1488":3296,"1489":3297,"1490":3298,"1491":3299,"1492":3300,"1493":3301,"1494":3302,"1495":3303,"1496":3304,"1497":3305,"1498":3306,"1499":3307,"1500":3308,"1501":3309,"1502":3310,"1503":3311,"1504":3312,"1505":3313,"1506":3314,"1507":3315,"1508":3316,"1509":3317,"1510":3318,"1511":3319,"1512":3320,"1513":3321,"1514":3322,"1548":1452,"1563":1467,"1567":1471,"1569":1473,"1570":1474,"1571":1475,"1572":1476,"1573":1477,"1574":1478,"1575":1479,"1576":1480,"1577":1481,"1578":1482,"1579":1483,"1580":1484,"1581":1485,"1582":1486,"1583":1487,"1584":1488,"1585":1489,"1586":1490,"1587":1491,"1588":1492,"1589":1493,"1590":1494,"1591":1495,"1592":1496,"1593":1497,"1594":1498,"1600":1504,"1601":1505,"1602":1506,"1603":1507,"1604":1508,"1605":1509,"1606":1510,"1607":1511,"1608":1512,"1609":1513,"1610":1514,"1611":1515,"1612":1516,"1613":1517,"1614":1518,"1615":1519,"1616":1520,"1617":1521,"1618":1522,"1619":16778835,"1620":16778836,"1621":16778837,"1632":16778848,"1633":16778849,"1634":16778850,"1635":16778851,"1636":16778852,"1637":16778853,"1638":16778854,"1639":16778855,"1640":16778856,"1641":16778857,"1642":16778858,"1648":16778864,"1657":16778873,"1662":16778878,"1670":16778886,"1672":16778888,"1681":16778897,"1688":16778904,"1700":16778916,"1705":16778921,"1711":16778927,"1722":16778938,"1726":16778942,"1729":16778945,"1740":16778956,"1746":16778962,"1748":16778964,"1776":16778992,"1777":16778993,"1778":16778994,"1779":16778995,"1780":16778996,"1781":16778997,"1782":16778998,"1783":16778999,"1784":16779000,"1785":16779001,"3585":3489,"3586":3490,"3587":3491,"3588":3492,"3589":3493,"3590":3494,"3591":3495,"3592":3496,"3593":3497,"3594":3498,"3595":3499,"3596":3500,"3597":3501,"3598":3502,"3599":3503,"3600":3504,"3601":3505,"3602":3506,"3603":3507,"3604":3508,"3605":3509,"3606":3510,"3607":3511,"3608":3512,"3609":3513,"3610":3514,"3611":3515,"3612":3516,"3613":3517,"3614":3518,"3615":3519,"3616":3520,"3617":3521,"3618":3522,"3619":3523,"3620":3524,"3621":3525,"3622":3526,"3623":3527,"3624":3528,"3625":3529,"3626":3530,"3627":3531,"3628":3532,"3629":3533,"3630":3534,"3631":3535,"3632":3536,"3633":3537,"3634":3538,"3635":3539,"3636":3540,"3637":3541,"3638":3542,"3639":3543,"3640":3544,"3641":3545,"3642":3546,"3647":3551,"3648":3552,"3649":3553,"3650":3554,"3651":3555,"3652":3556,"3653":3557,"3654":3558,"3655":3559,"3656":3560,"3657":3561,"3658":3562,"3659":3563,"3660":3564,"3661":3565,"3664":3568,"3665":3569,"3666":3570,"3667":3571,"3668":3572,"3669":3573,"3670":3574,"3671":3575,"3672":3576,"3673":3577,"4304":16781520,"4305":16781521,"4306":16781522,"4307":16781523,"4308":16781524,"4309":16781525,"4310":16781526,"4311":16781527,"4312":16781528,"4313":16781529,"4314":16781530,"4315":16781531,"4316":16781532,"4317":16781533,"4318":16781534,"4319":16781535,"4320":16781536,"4321":16781537,"4322":16781538,"4323":16781539,"4324":16781540,"4325":16781541,"4326":16781542,"4327":16781543,"4328":16781544,"4329":16781545,"4330":16781546,"4331":16781547,"4332":16781548,"4333":16781549,"4334":16781550,"4335":16781551,"4336":16781552,"4337":16781553,"4338":16781554,"4339":16781555,"4340":16781556,"4341":16781557,"4342":16781558,"7682":16784898,"7683":16784899,"7690":16784906,"7691":16784907,"7710":16784926,"7711":16784927,"7734":16784950,"7735":16784951,"7744":16784960,"7745":16784961,"7766":16784982,"7767":16784983,"7776":16784992,"7777":16784993,"7786":16785002,"7787":16785003,"7808":16785024,"7809":16785025,"7810":16785026,"7811":16785027,"7812":16785028,"7813":16785029,"7818":16785034,"7819":16785035,"7840":16785056,"7841":16785057,"7842":16785058,"7843":16785059,"7844":16785060,"7845":16785061,"7846":16785062,"7847":16785063,"7848":16785064,"7849":16785065,"7850":16785066,"7851":16785067,"7852":16785068,"7853":16785069,"7854":16785070,"7855":16785071,"7856":16785072,"7857":16785073,"7858":16785074,"7859":16785075,"7860":16785076,"7861":16785077,"7862":16785078,"7863":16785079,"7864":16785080,"7865":16785081,"7866":16785082,"7867":16785083,"7868":16785084,"7869":16785085,"7870":16785086,"7871":16785087,"7872":16785088,"7873":16785089,"7874":16785090,"7875":16785091,"7876":16785092,"7877":16785093,"7878":16785094,"7879":16785095,"7880":16785096,"7881":16785097,"7882":16785098,"7883":16785099,"7884":16785100,"7885":16785101,"7886":16785102,"7887":16785103,"7888":16785104,"7889":16785105,"7890":16785106,"7891":16785107,"7892":16785108,"7893":16785109,"7894":16785110,"7895":16785111,"7896":16785112,"7897":16785113,"7898":16785114,"7899":16785115,"7900":16785116,"7901":16785117,"7902":16785118,"7903":16785119,"7904":16785120,"7905":16785121,"7906":16785122,"7907":16785123,"7908":16785124,"7909":16785125,"7910":16785126,"7911":16785127,"7912":16785128,"7913":16785129,"7914":16785130,"7915":16785131,"7916":16785132,"7917":16785133,"7918":16785134,"7919":16785135,"7920":16785136,"7921":16785137,"7922":16785138,"7923":16785139,"7924":16785140,"7925":16785141,"7926":16785142,"7927":16785143,"7928":16785144,"7929":16785145,"8194":2722,"8195":2721,"8196":2723,"8197":2724,"8199":2725,"8200":2726,"8201":2727,"8202":2728,"8210":2747,"8211":2730,"8212":2729,"8213":1967,"8215":3295,"8216":2768,"8217":2769,"8218":2813,"8220":2770,"8221":2771,"8222":2814,"8224":2801,"8225":2802,"8226":2790,"8229":2735,"8230":2734,"8242":2774,"8243":2775,"8248":2812,"8254":1150,"8352":16785568,"8353":16785569,"8354":16785570,"8355":16785571,"8356":16785572,"8357":16785573,"8358":16785574,"8359":16785575,"8360":16785576,"8361":3839,"8362":16785578,"8363":16785579,"8364":8364,"8453":2744,"8470":1712,"8471":2811,"8478":2772,"8482":2761,"8531":2736,"8532":2737,"8533":2738,"8534":2739,"8535":2740,"8536":2741,"8537":2742,"8538":2743,"8539":2755,"8540":2756,"8541":2757,"8542":2758,"8592":2299,"8593":2300,"8594":2301,"8595":2302,"8658":2254,"8660":2253,"8706":2287,"8711":2245,"8728":3018,"8730":2262,"8733":2241,"8734":2242,"8743":2270,"8744":2271,"8745":2268,"8746":2269,"8747":2239,"8756":2240,"8764":2248,"8771":2249,"8800":2237,"8801":2255,"8804":2236,"8805":2238,"8834":2266,"8835":2267,"8866":3036,"8867":3068,"8868":3022,"8869":3010,"8968":3027,"8970":3012,"8981":2810,"8992":2212,"8993":2213,"9109":3020,"9115":2219,"9117":2220,"9118":2221,"9120":2222,"9121":2215,"9123":2216,"9124":2217,"9126":2218,"9128":2223,"9132":2224,"9143":2209,"9146":2543,"9147":2544,"9148":2546,"9149":2547,"9225":2530,"9226":2533,"9227":2537,"9228":2531,"9229":2532,"9251":2732,"9252":2536,"9472":2211,"9474":2214,"9484":2210,"9488":2539,"9492":2541,"9496":2538,"9500":2548,"9508":2549,"9516":2551,"9524":2550,"9532":2542,"9618":2529,"9642":2791,"9643":2785,"9644":2779,"9645":2786,"9646":2783,"9647":2767,"9650":2792,"9651":2787,"9654":2781,"9655":2765,"9660":2793,"9661":2788,"9664":2780,"9665":2764,"9670":2528,"9675":2766,"9679":2782,"9702":2784,"9734":2789,"9742":2809,"9747":2762,"9756":2794,"9758":2795,"9792":2808,"9794":2807,"9827":2796,"9829":2798,"9830":2797,"9837":2806,"9839":2805,"10003":2803,"10007":2804,"10013":2777,"10016":2800,"10216":2748,"10217":2750,"12289":1188,"12290":1185,"12300":1186,"12301":1187,"12443":1246,"12444":1247,"12449":1191,"12450":1201,"12451":1192,"12452":1202,"12453":1193,"12454":1203,"12455":1194,"12456":1204,"12457":1195,"12458":1205,"12459":1206,"12461":1207,"12463":1208,"12465":1209,"12467":1210,"12469":1211,"12471":1212,"12473":1213,"12475":1214,"12477":1215,"12479":1216,"12481":1217,"12483":1199,"12484":1218,"12486":1219,"12488":1220,"12490":1221,"12491":1222,"12492":1223,"12493":1224,"12494":1225,"12495":1226,"12498":1227,"12501":1228,"12504":1229,"12507":1230,"12510":1231,"12511":1232,"12512":1233,"12513":1234,"12514":1235,"12515":1196,"12516":1236,"12517":1197,"12518":1237,"12519":1198,"12520":1238,"12521":1239,"12522":1240,"12523":1241,"12524":1242,"12525":1243,"12527":1244,"12530":1190,"12531":1245,"12539":1189,"12540":1200}
var utf8info={"32":32,"33":33,"34":34,"35":35,"36":36,"37":37,"38":38,"39":39,"40":40,"41":41,"42":42,"43":43,"44":44,"45":45,"46":46,"47":47,"48":48,"49":49,"50":50,"51":51,"52":52,"53":53,"54":54,"55":55,"56":56,"57":57,"58":58,"59":59,"60":60,"61":61,"62":62,"63":63,"64":64,"65":65,"66":66,"67":67,"68":68,"69":69,"70":70,"71":71,"72":72,"73":73,"74":74,"75":75,"76":76,"77":77,"78":78,"79":79,"80":80,"81":81,"82":82,"83":83,"84":84,"85":85,"86":86,"87":87,"88":88,"89":89,"90":90,"91":91,"92":92,"93":93,"94":94,"95":95,"96":96,"97":97,"98":98,"99":99,"100":100,"101":101,"102":102,"103":103,"104":104,"105":105,"106":106,"107":107,"108":108,"109":109,"110":110,"111":111,"112":112,"113":113,"114":114,"115":115,"116":116,"117":117,"118":118,"119":119,"120":120,"121":121,"122":122,"123":123,"124":124,"125":125,"126":126,"160":160,"161":161,"162":162,"163":163,"164":164,"165":165,"166":166,"167":167,"168":168,"169":169,"170":170,"171":171,"172":172,"173":173,"174":174,"175":175,"176":176,"177":177,"178":178,"179":179,"180":180,"181":181,"182":182,"183":183,"184":184,"185":185,"186":186,"187":187,"188":188,"189":189,"190":190,"191":191,"192":192,"193":193,"194":194,"195":195,"196":196,"197":197,"198":198,"199":199,"200":200,"201":201,"202":202,"203":203,"204":204,"205":205,"206":206,"207":207,"208":208,"209":209,"210":210,"211":211,"212":212,"213":213,"214":214,"215":215,"216":216,"217":217,"218":218,"219":219,"220":220,"221":221,"222":222,"223":223,"224":224,"225":225,"226":226,"227":227,"228":228,"229":229,"230":230,"231":231,"232":232,"233":233,"234":234,"235":235,"236":236,"237":237,"238":238,"239":239,"240":240,"241":241,"242":242,"243":243,"244":244,"245":245,"246":246,"247":247,"248":248,"249":249,"250":250,"251":251,"252":252,"253":253,"254":254,"255":255,"417":260,"418":728,"419":321,"421":317,"422":346,"425":352,"426":350,"427":356,"428":377,"430":381,"431":379,"433":261,"434":731,"435":322,"437":318,"438":347,"439":711,"441":353,"442":351,"443":357,"444":378,"445":733,"446":382,"447":380,"448":340,"451":258,"453":313,"454":262,"456":268,"458":280,"460":282,"463":270,"464":272,"465":323,"466":327,"469":336,"472":344,"473":366,"475":368,"478":354,"480":341,"483":259,"485":314,"486":263,"488":269,"490":281,"492":283,"495":271,"496":273,"497":324,"498":328,"501":337,"504":345,"505":367,"507":369,"510":355,"511":729,"673":294,"678":292,"681":304,"683":286,"684":308,"689":295,"694":293,"697":305,"699":287,"700":309,"709":266,"710":264,"725":288,"728":284,"733":364,"734":348,"741":267,"742":265,"757":289,"760":285,"765":365,"766":349,"930":312,"931":342,"933":296,"934":315,"938":274,"939":290,"940":358,"947":343,"949":297,"950":316,"954":275,"955":291,"956":359,"957":330,"959":331,"960":256,"967":302,"972":278,"975":298,"977":325,"978":332,"979":310,"985":370,"989":360,"990":362,"992":257,"999":303,"1004":279,"1007":299,"1009":326,"1010":333,"1011":311,"1017":371,"1021":361,"1022":363,"1150":8254,"1185":12290,"1186":12300,"1187":12301,"1188":12289,"1189":12539,"1190":12530,"1191":12449,"1192":12451,"1193":12453,"1194":12455,"1195":12457,"1196":12515,"1197":12517,"1198":12519,"1199":12483,"1200":12540,"1201":12450,"1202":12452,"1203":12454,"1204":12456,"1205":12458,"1206":12459,"1207":12461,"1208":12463,"1209":12465,"1210":12467,"1211":12469,"1212":12471,"1213":12473,"1214":12475,"1215":12477,"1216":12479,"1217":12481,"1218":12484,"1219":12486,"1220":12488,"1221":12490,"1222":12491,"1223":12492,"1224":12493,"1225":12494,"1226":12495,"1227":12498,"1228":12501,"1229":12504,"1230":12507,"1231":12510,"1232":12511,"1233":12512,"1234":12513,"1235":12514,"1236":12516,"1237":12518,"1238":12520,"1239":12521,"1240":12522,"1241":12523,"1242":12524,"1243":12525,"1244":12527,"1245":12531,"1246":12443,"1247":12444,"1424":1776,"1425":1777,"1426":1778,"1427":1779,"1428":1780,"1429":1781,"1430":1782,"1431":1783,"1432":1784,"1433":1785,"1445":1642,"1446":1648,"1447":1657,"1448":1662,"1449":1670,"1450":1672,"1451":1681,"1452":1548,"1454":1748,"1456":1632,"1457":1633,"1458":1634,"1459":1635,"1460":1636,"1461":1637,"1462":1638,"1463":1639,"1464":1640,"1465":1641,"1467":1563,"1471":1567,"1473":1569,"1474":1570,"1475":1571,"1476":1572,"1477":1573,"1478":1574,"1479":1575,"1480":1576,"1481":1577,"1482":1578,"1483":1579,"1484":1580,"1485":1581,"1486":1582,"1487":1583,"1488":1584,"1489":1585,"1490":1586,"1491":1587,"1492":1588,"1493":1589,"1494":1590,"1495":1591,"1496":1592,"1497":1593,"1498":1594,"1504":1600,"1505":1601,"1506":1602,"1507":1603,"1508":1604,"1509":1605,"1510":1606,"1511":1607,"1512":1608,"1513":1609,"1514":1610,"1515":1611,"1516":1612,"1517":1613,"1518":1614,"1519":1615,"1520":1616,"1521":1617,"1522":1618,"1523":1619,"1524":1620,"1525":1621,"1526":1688,"1527":1700,"1528":1705,"1529":1711,"1530":1722,"1531":1726,"1532":1740,"1533":1746,"1534":1729,"1664":1170,"1665":1174,"1666":1178,"1667":1180,"1668":1186,"1669":1198,"1670":1200,"1671":1202,"1672":1206,"1673":1208,"1674":1210,"1676":1240,"1677":1250,"1678":1256,"1679":1262,"1680":1171,"1681":1175,"1682":1179,"1683":1181,"1684":1187,"1685":1199,"1686":1201,"1687":1203,"1688":1207,"1689":1209,"1690":1211,"1692":1241,"1693":1251,"1694":1257,"1695":1263,"1697":1106,"1698":1107,"1699":1105,"1700":1108,"1701":1109,"1702":1110,"1703":1111,"1704":1112,"1705":1113,"1706":1114,"1707":1115,"1708":1116,"1709":1169,"1710":1118,"1711":1119,"1712":8470,"1713":1026,"1714":1027,"1715":1025,"1716":1028,"1717":1029,"1718":1030,"1719":1031,"1720":1032,"1721":1033,"1722":1034,"1723":1035,"1724":1036,"1725":1168,"1726":1038,"1727":1039,"1728":1102,"1729":1072,"1730":1073,"1731":1094,"1732":1076,"1733":1077,"1734":1092,"1735":1075,"1736":1093,"1737":1080,"1738":1081,"1739":1082,"1740":1083,"1741":1084,"1742":1085,"1743":1086,"1744":1087,"1745":1103,"1746":1088,"1747":1089,"1748":1090,"1749":1091,"1750":1078,"1751":1074,"1752":1100,"1753":1099,"1754":1079,"1755":1096,"1756":1101,"1757":1097,"1758":1095,"1759":1098,"1760":1070,"1761":1040,"1762":1041,"1763":1062,"1764":1044,"1765":1045,"1766":1060,"1767":1043,"1768":1061,"1769":1048,"1770":1049,"1771":1050,"1772":1051,"1773":1052,"1774":1053,"1775":1054,"1776":1055,"1777":1071,"1778":1056,"1779":1057,"1780":1058,"1781":1059,"1782":1046,"1783":1042,"1784":1068,"1785":1067,"1786":1047,"1787":1064,"1788":1069,"1789":1065,"1790":1063,"1791":1066,"1953":902,"1954":904,"1955":905,"1956":906,"1957":938,"1959":908,"1960":910,"1961":939,"1963":911,"1966":901,"1967":8213,"1969":940,"1970":941,"1971":942,"1972":943,"1973":970,"1974":912,"1975":972,"1976":973,"1977":971,"1978":944,"1979":974,"1985":913,"1986":914,"1987":915,"1988":916,"1989":917,"1990":918,"1991":919,"1992":920,"1993":921,"1994":922,"1995":923,"1996":924,"1997":925,"1998":926,"1999":927,"2000":928,"2001":929,"2002":931,"2004":932,"2005":933,"2006":934,"2007":935,"2008":936,"2009":937,"2017":945,"2018":946,"2019":947,"2020":948,"2021":949,"2022":950,"2023":951,"2024":952,"2025":953,"2026":954,"2027":955,"2028":956,"2029":957,"2030":958,"2031":959,"2032":960,"2033":961,"2034":963,"2035":962,"2036":964,"2037":965,"2038":966,"2039":967,"2040":968,"2041":969,"2209":9143,"2210":9484,"2211":9472,"2212":8992,"2213":8993,"2214":9474,"2215":9121,"2216":9123,"2217":9124,"2218":9126,"2219":9115,"2220":9117,"2221":9118,"2222":9120,"2223":9128,"2224":9132,"2225":null,"2226":null,"2227":null,"2228":null,"2229":null,"2230":null,"2231":null,"2236":8804,"2237":8800,"2238":8805,"2239":8747,"2240":8756,"2241":8733,"2242":8734,"2245":8711,"2248":8764,"2249":8771,"2253":8660,"2254":8658,"2255":8801,"2262":8730,"2266":8834,"2267":8835,"2268":8745,"2269":8746,"2270":8743,"2271":8744,"2287":8706,"2294":402,"2299":8592,"2300":8593,"2301":8594,"2302":8595,"2527":null,"2528":9670,"2529":9618,"2530":9225,"2531":9228,"2532":9229,"2533":9226,"2536":9252,"2537":9227,"2538":9496,"2539":9488,"2540":9484,"2541":9492,"2542":9532,"2543":9146,"2544":9147,"2545":9472,"2546":9148,"2547":9149,"2548":9500,"2549":9508,"2550":9524,"2551":9516,"2552":9474,"2721":8195,"2722":8194,"2723":8196,"2724":8197,"2725":8199,"2726":8200,"2727":8201,"2728":8202,"2729":8212,"2730":8211,"2732":9251,"2734":8230,"2735":8229,"2736":8531,"2737":8532,"2738":8533,"2739":8534,"2740":8535,"2741":8536,"2742":8537,"2743":8538,"2744":8453,"2747":8210,"2748":10216,"2749":46,"2750":10217,"2751":null,"2755":8539,"2756":8540,"2757":8541,"2758":8542,"2761":8482,"2762":9747,"2763":null,"2764":9665,"2765":9655,"2766":9675,"2767":9647,"2768":8216,"2769":8217,"2770":8220,"2771":8221,"2772":8478,"2774":8242,"2775":8243,"2777":10013,"2778":null,"2779":9644,"2780":9664,"2781":9654,"2782":9679,"2783":9646,"2784":9702,"2785":9643,"2786":9645,"2787":9651,"2788":9661,"2789":9734,"2790":8226,"2791":9642,"2792":9650,"2793":9660,"2794":9756,"2795":9758,"2796":9827,"2797":9830,"2798":9829,"2800":10016,"2801":8224,"2802":8225,"2803":10003,"2804":10007,"2805":9839,"2806":9837,"2807":9794,"2808":9792,"2809":9742,"2810":8981,"2811":8471,"2812":8248,"2813":8218,"2814":8222,"2815":null,"2979":60,"2982":62,"2984":8744,"2985":8743,"3008":175,"3010":8869,"3011":8745,"3012":8970,"3014":95,"3018":8728,"3020":9109,"3022":8868,"3023":9675,"3027":8968,"3030":8746,"3032":8835,"3034":8834,"3036":8866,"3068":8867,"3295":8215,"3296":1488,"3297":1489,"3298":1490,"3299":1491,"3300":1492,"3301":1493,"3302":1494,"3303":1495,"3304":1496,"3305":1497,"3306":1498,"3307":1499,"3308":1500,"3309":1501,"3310":1502,"3311":1503,"3312":1504,"3313":1505,"3314":1506,"3315":1507,"3316":1508,"3317":1509,"3318":1510,"3319":1511,"3320":1512,"3321":1513,"3322":1514,"3489":3585,"3490":3586,"3491":3587,"3492":3588,"3493":3589,"3494":3590,"3495":3591,"3496":3592,"3497":3593,"3498":3594,"3499":3595,"3500":3596,"3501":3597,"3502":3598,"3503":3599,"3504":3600,"3505":3601,"3506":3602,"3507":3603,"3508":3604,"3509":3605,"3510":3606,"3511":3607,"3512":3608,"3513":3609,"3514":3610,"3515":3611,"3516":3612,"3517":3613,"3518":3614,"3519":3615,"3520":3616,"3521":3617,"3522":3618,"3523":3619,"3524":3620,"3525":3621,"3526":3622,"3527":3623,"3528":3624,"3529":3625,"3530":3626,"3531":3627,"3532":3628,"3533":3629,"3534":3630,"3535":3631,"3536":3632,"3537":3633,"3538":3634,"3539":3635,"3540":3636,"3541":3637,"3542":3638,"3543":3639,"3544":3640,"3545":3641,"3546":3642,"3550":null,"3551":3647,"3552":3648,"3553":3649,"3554":3650,"3555":3651,"3556":3652,"3557":3653,"3558":3654,"3559":3655,"3560":3656,"3561":3657,"3562":3658,"3563":3659,"3564":3660,"3565":3661,"3568":3664,"3569":3665,"3570":3666,"3571":3667,"3572":3668,"3573":3669,"3574":3670,"3575":3671,"3576":3672,"3577":3673,"3745":null,"3746":null,"3747":null,"3748":null,"3749":null,"3750":null,"3751":null,"3752":null,"3753":null,"3754":null,"3755":null,"3756":null,"3757":null,"3758":null,"3759":null,"3760":null,"3761":null,"3762":null,"3763":null,"3764":null,"3765":null,"3766":null,"3767":null,"3768":null,"3769":null,"3770":null,"3771":null,"3772":null,"3773":null,"3774":null,"3775":null,"3776":null,"3777":null,"3778":null,"3779":null,"3780":null,"3781":null,"3782":null,"3783":null,"3784":null,"3785":null,"3786":null,"3787":null,"3788":null,"3789":null,"3790":null,"3791":null,"3792":null,"3793":null,"3794":null,"3795":null,"3796":null,"3797":null,"3798":null,"3799":null,"3800":null,"3801":null,"3802":null,"3803":null,"3804":null,"3805":null,"3806":null,"3807":null,"3808":null,"3809":null,"3810":null,"3811":null,"3812":null,"3813":null,"3814":null,"3815":null,"3816":null,"3817":null,"3818":null,"3819":null,"3820":null,"3821":null,"3822":null,"3823":null,"3824":null,"3825":null,"3826":null,"3827":null,"3828":null,"3829":null,"3830":null,"3831":null,"3832":null,"3833":null,"3834":null,"3839":8361,"4769":7682,"4770":7683,"4774":7690,"4776":7808,"4778":7810,"4779":7691,"4780":7922,"4784":7710,"4785":7711,"4788":7744,"4789":7745,"4791":7766,"4792":7809,"4793":7767,"4794":7811,"4795":7776,"4796":7923,"4797":7812,"4798":7813,"4799":7777,"4816":372,"4823":7786,"4830":374,"4848":373,"4855":7787,"4862":375,"5052":338,"5053":339,"5054":376,"5281":null,"5282":1415,"5283":1417,"5284":41,"5285":40,"5286":187,"5287":171,"5288":8212,"5289":46,"5290":1373,"5291":44,"5292":8211,"5293":1418,"5294":8230,"5295":1372,"5296":1371,"5297":1374,"5298":1329,"5299":1377,"5300":1330,"5301":1378,"5302":1331,"5303":1379,"5304":1332,"5305":1380,"5306":1333,"5307":1381,"5308":1334,"5309":1382,"5310":1335,"5311":1383,"5312":1336,"5313":1384,"5314":1337,"5315":1385,"5316":1338,"5317":1386,"5318":1339,"5319":1387,"5320":1340,"5321":1388,"5322":1341,"5323":1389,"5324":1342,"5325":1390,"5326":1343,"5327":1391,"5328":1344,"5329":1392,"5330":1345,"5331":1393,"5332":1346,"5333":1394,"5334":1347,"5335":1395,"5336":1348,"5337":1396,"5338":1349,"5339":1397,"5340":1350,"5341":1398,"5342":1351,"5343":1399,"5344":1352,"5345":1400,"5346":1353,"5347":1401,"5348":1354,"5349":1402,"5350":1355,"5351":1403,"5352":1356,"5353":1404,"5354":1357,"5355":1405,"5356":1358,"5357":1406,"5358":1359,"5359":1407,"5360":1360,"5361":1408,"5362":1361,"5363":1409,"5364":1362,"5365":1410,"5366":1363,"5367":1411,"5368":1364,"5369":1412,"5370":1365,"5371":1413,"5372":1366,"5373":1414,"5374":1370,"5375":167,"5584":4304,"5585":4305,"5586":4306,"5587":4307,"5588":4308,"5589":4309,"5590":4310,"5591":4311,"5592":4312,"5593":4313,"5594":4314,"5595":4315,"5596":4316,"5597":4317,"5598":4318,"5599":4319,"5600":4320,"5601":4321,"5602":4322,"5603":4323,"5604":4324,"5605":4325,"5606":4326,"5607":4327,"5608":4328,"5609":4329,"5610":4330,"5611":4331,"5612":4332,"5613":4333,"5614":4334,"5615":4335,"5616":4336,"5617":4337,"5618":4338,"5619":4339,"5620":4340,"5621":4341,"5622":4342,"5794":null,"5795":7818,"5797":null,"5798":300,"5799":null,"5800":null,"5801":437,"5802":486,"5807":415,"5810":null,"5811":7819,"5812":null,"5813":null,"5814":301,"5815":null,"5816":null,"5817":438,"5818":487,"5821":466,"5823":629,"5830":399,"5841":7734,"5842":null,"5843":null,"5857":7735,"5858":null,"5859":null,"5878":601,"7839":771,"7840":7840,"7841":7841,"7842":7842,"7843":7843,"7844":7844,"7845":7845,"7846":7846,"7847":7847,"7848":7848,"7849":7849,"7850":7850,"7851":7851,"7852":7852,"7853":7853,"7854":7854,"7855":7855,"7856":7856,"7857":7857,"7858":7858,"7859":7859,"7860":7860,"7861":7861,"7862":7862,"7863":7863,"7864":7864,"7865":7865,"7866":7866,"7867":7867,"7868":7868,"7869":7869,"7870":7870,"7871":7871,"7872":7872,"7873":7873,"7874":7874,"7875":7875,"7876":7876,"7877":7877,"7878":7878,"7879":7879,"7880":7880,"7881":7881,"7882":7882,"7883":7883,"7884":7884,"7885":7885,"7886":7886,"7887":7887,"7888":7888,"7889":7889,"7890":7890,"7891":7891,"7892":7892,"7893":7893,"7894":7894,"7895":7895,"7896":7896,"7897":7897,"7898":7898,"7899":7899,"7900":7900,"7901":7901,"7902":7902,"7903":7903,"7904":7904,"7905":7905,"7906":7906,"7907":7907,"7908":7908,"7909":7909,"7910":7910,"7911":7911,"7912":7912,"7913":7913,"7914":7914,"7915":7915,"7916":7916,"7917":7917,"7918":7918,"7919":7919,"7920":7920,"7921":7921,"7922":768,"7923":769,"7924":7924,"7925":7925,"7926":7926,"7927":7927,"7928":7928,"7929":7929,"7930":416,"7931":417,"7932":431,"7933":432,"7934":777,"7935":803,"8352":8352,"8353":8353,"8354":8354,"8355":8355,"8356":8356,"8357":8357,"8358":8358,"8359":8359,"8360":8360,"8361":8361,"8362":8362,"8363":8363,"8364":8364,"64769":null,"64770":null,"64771":null,"64772":null,"64773":null,"64774":null,"64775":null,"64776":null,"64777":null,"64778":null,"64779":null,"64780":null,"64781":null,"64782":null,"64783":null,"64784":null,"64785":null,"64786":null,"64787":null,"64788":null,"64789":null,"64790":null,"64791":null,"64792":null,"64793":null,"64794":null,"64795":null,"64796":null,"64797":null,"64798":null,"65025":null,"65026":null,"65027":null,"65028":null,"65029":null,"65030":null,"65031":null,"65032":null,"65033":null,"65034":null,"65035":null,"65036":null,"65037":null,"65038":null,"65039":null,"65056":null,"65057":null,"65058":null,"65059":null,"65060":null,"65061":null,"65062":null,"65063":null,"65064":null,"65065":null,"65066":null,"65067":null,"65068":null,"65069":null,"65070":null,"65071":null,"65072":null,"65073":null,"65074":null,"65075":null,"65076":null,"65104":null,"65105":null,"65106":null,"65107":null,"65108":null,"65109":null,"65110":null,"65111":null,"65112":null,"65113":null,"65114":null,"65115":null,"65116":null,"65117":null,"65118":null,"65119":null,"65120":null,"65121":null,"65122":null,"65136":null,"65137":null,"65138":null,"65139":null,"65140":null,"65141":null,"65142":null,"65143":null,"65144":null,"65145":null,"65146":null,"65232":null,"65233":null,"65234":null,"65236":null,"65237":null,"65248":null,"65249":null,"65250":null,"65251":null,"65252":null,"65253":null,"65254":null,"65255":null,"65256":null,"65257":null,"65258":null,"65259":null,"65260":null,"65261":null,"65262":null,"65263":null,"65264":null,"65265":null,"65266":null,"65267":null,"65268":null,"65269":null,"65270":null,"65271":null,"65272":null,"65273":null,"65274":null,"65275":null,"65276":null,"65277":null,"65288":null,"65289":null,"65290":null,"65291":null,"65293":null,"65299":null,"65300":null,"65301":null,"65307":null,"65312":null,"65313":null,"65314":null,"65315":null,"65316":null,"65317":null,"65318":null,"65319":null,"65320":null,"65321":null,"65322":null,"65323":null,"65324":null,"65325":null,"65326":null,"65327":null,"65328":null,"65329":null,"65330":null,"65331":null,"65332":null,"65333":null,"65334":null,"65335":null,"65336":null,"65337":null,"65338":null,"65339":null,"65340":null,"65341":null,"65342":null,"65343":null,"65360":null,"65361":null,"65362":null,"65363":null,"65364":null,"65365":null,"65366":null,"65367":null,"65368":null,"65376":null,"65377":null,"65378":null,"65379":null,"65381":null,"65382":null,"65383":null,"65384":null,"65385":null,"65386":null,"65387":null,"65406":null,"65407":null,"65408":null,"65417":null,"65421":null,"65425":null,"65426":null,"65427":null,"65428":null,"65429":null,"65430":null,"65431":null,"65432":null,"65433":null,"65434":null,"65435":null,"65436":null,"65437":null,"65438":null,"65439":null,"65450":null,"65451":null,"65452":null,"65453":null,"65454":null,"65455":null,"65456":null,"65457":null,"65458":null,"65459":null,"65460":null,"65461":null,"65462":null,"65463":null,"65464":null,"65465":null,"65469":null,"65470":null,"65471":null,"65472":null,"65473":null,"65474":null,"65475":null,"65476":null,"65477":null,"65478":null,"65479":null,"65480":null,"65481":null,"65482":null,"65483":null,"65484":null,"65485":null,"65486":null,"65487":null,"65488":null,"65489":null,"65490":null,"65491":null,"65492":null,"65493":null,"65494":null,"65495":null,"65496":null,"65497":null,"65498":null,"65499":null,"65500":null,"65501":null,"65502":null,"65503":null,"65504":null,"65505":null,"65506":null,"65507":null,"65508":null,"65509":null,"65510":null,"65511":null,"65512":null,"65513":null,"65514":null,"65515":null,"65516":null,"65517":null,"65518":null,"65535":null,"16777215":null}
function lookup(k){return k?{keysym:k,keyname:keynames?keynames[k]:k}:undefined;}
return{fromUnicode:function(u){return lookup(codepoints[u]);},toUnicode:function(k){return utf8info[k]?utf8info[k]:null;},lookup:lookup,XK_VoidSymbol:0xffffff,XK_BackSpace:0xff08,XK_Tab:0xff09,XK_Linefeed:0xff0a,XK_Clear:0xff0b,XK_Return:0xff0d,XK_Pause:0xff13,XK_Scroll_Lock:0xff14,XK_Sys_Req:0xff15,XK_Escape:0xff1b,XK_Delete:0xffff,XK_Home:0xff50,XK_Left:0xff51,XK_Up:0xff52,XK_Right:0xff53,XK_Down:0xff54,XK_Prior:0xff55,XK_Page_Up:0xff55,XK_Next:0xff56,XK_Page_Down:0xff56,XK_End:0xff57,XK_Begin:0xff58,XK_Select:0xff60,XK_Print:0xff61,XK_Execute:0xff62,XK_Insert:0xff63,XK_Undo:0xff65,XK_Redo:0xff66,XK_Menu:0xff67,XK_Find:0xff68,XK_Cancel:0xff69,XK_Help:0xff6a,XK_Break:0xff6b,XK_Mode_switch:0xff7e,XK_script_switch:0xff7e,XK_Num_Lock:0xff7f,XK_KP_Space:0xff80,XK_KP_Tab:0xff89,XK_KP_Enter:0xff8d,XK_KP_F1:0xff91,XK_KP_F2:0xff92,XK_KP_F3:0xff93,XK_KP_F4:0xff94,XK_KP_Home:0xff95,XK_KP_Left:0xff96,XK_KP_Up:0xff97,XK_KP_Right:0xff98,XK_KP_Down:0xff99,XK_KP_Prior:0xff9a,XK_KP_Page_Up:0xff9a,XK_KP_Next:0xff9b,XK_KP_Page_Down:0xff9b,XK_KP_End:0xff9c,XK_KP_Begin:0xff9d,XK_KP_Insert:0xff9e,XK_KP_Delete:0xff9f,XK_KP_Equal:0xffbd,XK_KP_Multiply:0xffaa,XK_KP_Add:0xffab,XK_KP_Separator:0xffac,XK_KP_Subtract:0xffad,XK_KP_Decimal:0xffae,XK_KP_Divide:0xffaf,XK_KP_0:0xffb0,XK_KP_1:0xffb1,XK_KP_2:0xffb2,XK_KP_3:0xffb3,XK_KP_4:0xffb4,XK_KP_5:0xffb5,XK_KP_6:0xffb6,XK_KP_7:0xffb7,XK_KP_8:0xffb8,XK_KP_9:0xffb9,XK_F1:0xffbe,XK_F2:0xffbf,XK_F3:0xffc0,XK_F4:0xffc1,XK_F5:0xffc2,XK_F6:0xffc3,XK_F7:0xffc4,XK_F8:0xffc5,XK_F9:0xffc6,XK_F10:0xffc7,XK_F11:0xffc8,XK_L1:0xffc8,XK_F12:0xffc9,XK_L2:0xffc9,XK_F13:0xffca,XK_L3:0xffca,XK_F14:0xffcb,XK_L4:0xffcb,XK_F15:0xffcc,XK_L5:0xffcc,XK_F16:0xffcd,XK_L6:0xffcd,XK_F17:0xffce,XK_L7:0xffce,XK_F18:0xffcf,XK_L8:0xffcf,XK_F19:0xffd0,XK_L9:0xffd0,XK_F20:0xffd1,XK_L10:0xffd1,XK_F21:0xffd2,XK_R1:0xffd2,XK_F22:0xffd3,XK_R2:0xffd3,XK_F23:0xffd4,XK_R3:0xffd4,XK_F24:0xffd5,XK_R4:0xffd5,XK_F25:0xffd6,XK_R5:0xffd6,XK_F26:0xffd7,XK_R6:0xffd7,XK_F27:0xffd8,XK_R7:0xffd8,XK_F28:0xffd9,XK_R8:0xffd9,XK_F29:0xffda,XK_R9:0xffda,XK_F30:0xffdb,XK_R10:0xffdb,XK_F31:0xffdc,XK_R11:0xffdc,XK_F32:0xffdd,XK_R12:0xffdd,XK_F33:0xffde,XK_R13:0xffde,XK_F34:0xffdf,XK_R14:0xffdf,XK_F35:0xffe0,XK_R15:0xffe0,XK_Shift_L:0xffe1,XK_Shift_R:0xffe2,XK_Control_L:0xffe3,XK_Control_R:0xffe4,XK_Caps_Lock:0xffe5,XK_Shift_Lock:0xffe6,XK_Meta_L:0xffe7,XK_Meta_R:0xffe8,XK_Alt_L:0xffe9,XK_Alt_R:0xffea,XK_Super_L:0xffeb,XK_Super_R:0xffec,XK_Hyper_L:0xffed,XK_Hyper_R:0xffee,XK_ISO_Level3_Shift:0xfe03,XK_space:0x0020,XK_exclam:0x0021,XK_quotedbl:0x0022,XK_numbersign:0x0023,XK_dollar:0x0024,XK_percent:0x0025,XK_ampersand:0x0026,XK_apostrophe:0x0027,XK_quoteright:0x0027,XK_parenleft:0x0028,XK_parenright:0x0029,XK_asterisk:0x002a,XK_plus:0x002b,XK_comma:0x002c,XK_minus:0x002d,XK_period:0x002e,XK_slash:0x002f,XK_0:0x0030,XK_1:0x0031,XK_2:0x0032,XK_3:0x0033,XK_4:0x0034,XK_5:0x0035,XK_6:0x0036,XK_7:0x0037,XK_8:0x0038,XK_9:0x0039,XK_colon:0x003a,XK_semicolon:0x003b,XK_less:0x003c,XK_equal:0x003d,XK_greater:0x003e,XK_question:0x003f,XK_at:0x0040,XK_A:0x0041,XK_B:0x0042,XK_C:0x0043,XK_D:0x0044,XK_E:0x0045,XK_F:0x0046,XK_G:0x0047,XK_H:0x0048,XK_I:0x0049,XK_J:0x004a,XK_K:0x004b,XK_L:0x004c,XK_M:0x004d,XK_N:0x004e,XK_O:0x004f,XK_P:0x0050,XK_Q:0x0051,XK_R:0x0052,XK_S:0x0053,XK_T:0x0054,XK_U:0x0055,XK_V:0x0056,XK_W:0x0057,XK_X:0x0058,XK_Y:0x0059,XK_Z:0x005a,XK_bracketleft:0x005b,XK_backslash:0x005c,XK_bracketright:0x005d,XK_asciicircum:0x005e,XK_underscore:0x005f,XK_grave:0x0060,XK_quoteleft:0x0060,XK_a:0x0061,XK_b:0x0062,XK_c:0x0063,XK_d:0x0064,XK_e:0x0065,XK_f:0x0066,XK_g:0x0067,XK_h:0x0068,XK_i:0x0069,XK_j:0x006a,XK_k:0x006b,XK_l:0x006c,XK_m:0x006d,XK_n:0x006e,XK_o:0x006f,XK_p:0x0070,XK_q:0x0071,XK_r:0x0072,XK_s:0x0073,XK_t:0x0074,XK_u:0x0075,XK_v:0x0076,XK_w:0x0077,XK_x:0x0078,XK_y:0x0079,XK_z:0x007a,XK_braceleft:0x007b,XK_bar:0x007c,XK_braceright:0x007d,XK_asciitilde:0x007e,XK_nobreakspace:0x00a0,XK_exclamdown:0x00a1,XK_cent:0x00a2,XK_sterling:0x00a3,XK_currency:0x00a4,XK_yen:0x00a5,XK_brokenbar:0x00a6,XK_section:0x00a7,XK_diaeresis:0x00a8,XK_copyright:0x00a9,XK_ordfeminine:0x00aa,XK_guillemotleft:0x00ab,XK_notsign:0x00ac,XK_hyphen:0x00ad,XK_registered:0x00ae,XK_macron:0x00af,XK_degree:0x00b0,XK_plusminus:0x00b1,XK_twosuperior:0x00b2,XK_threesuperior:0x00b3,XK_acute:0x00b4,XK_mu:0x00b5,XK_paragraph:0x00b6,XK_periodcentered:0x00b7,XK_cedilla:0x00b8,XK_onesuperior:0x00b9,XK_masculine:0x00ba,XK_guillemotright:0x00bb,XK_onequarter:0x00bc,XK_onehalf:0x00bd,XK_threequarters:0x00be,XK_questiondown:0x00bf,XK_Agrave:0x00c0,XK_Aacute:0x00c1,XK_Acircumflex:0x00c2,XK_Atilde:0x00c3,XK_Adiaeresis:0x00c4,XK_Aring:0x00c5,XK_AE:0x00c6,XK_Ccedilla:0x00c7,XK_Egrave:0x00c8,XK_Eacute:0x00c9,XK_Ecircumflex:0x00ca,XK_Ediaeresis:0x00cb,XK_Igrave:0x00cc,XK_Iacute:0x00cd,XK_Icircumflex:0x00ce,XK_Idiaeresis:0x00cf,XK_ETH:0x00d0,XK_Eth:0x00d0,XK_Ntilde:0x00d1,XK_Ograve:0x00d2,XK_Oacute:0x00d3,XK_Ocircumflex:0x00d4,XK_Otilde:0x00d5,XK_Odiaeresis:0x00d6,XK_multiply:0x00d7,XK_Oslash:0x00d8,XK_Ooblique:0x00d8,XK_Ugrave:0x00d9,XK_Uacute:0x00da,XK_Ucircumflex:0x00db,XK_Udiaeresis:0x00dc,XK_Yacute:0x00dd,XK_THORN:0x00de,XK_Thorn:0x00de,XK_ssharp:0x00df,XK_agrave:0x00e0,XK_aacute:0x00e1,XK_acircumflex:0x00e2,XK_atilde:0x00e3,XK_adiaeresis:0x00e4,XK_aring:0x00e5,XK_ae:0x00e6,XK_ccedilla:0x00e7,XK_egrave:0x00e8,XK_eacute:0x00e9,XK_ecircumflex:0x00ea,XK_ediaeresis:0x00eb,XK_igrave:0x00ec,XK_iacute:0x00ed,XK_icircumflex:0x00ee,XK_idiaeresis:0x00ef,XK_eth:0x00f0,XK_ntilde:0x00f1,XK_ograve:0x00f2,XK_oacute:0x00f3,XK_ocircumflex:0x00f4,XK_otilde:0x00f5,XK_odiaeresis:0x00f6,XK_division:0x00f7,XK_oslash:0x00f8,XK_ooblique:0x00f8,XK_ugrave:0x00f9,XK_uacute:0x00fa,XK_ucircumflex:0x00fb,XK_udiaeresis:0x00fc,XK_yacute:0x00fd,XK_thorn:0x00fe,XK_ydiaeresis:0x00ff};})();return keysyms});define('kb/keyboard',['kb/keysymdef'],function(keysyms){var kbdUtil=(function(){"use strict";function substituteCodepoint(cp){var substitutions={0x218:0x15e,0x219:0x15f,0x21a:0x162,0x21b:0x163};var sub=substitutions[cp];return sub?sub:cp;}
function isMac(){return navigator&&!!(/mac/i).exec(navigator.platform);}
function isWindows(){return navigator&&!!(/win/i).exec(navigator.platform);}
function isLinux(){return navigator&&!!(/linux/i).exec(navigator.platform);}
function hasShortcutModifier(charModifier,currentModifiers){var mods={};for(var key in currentModifiers){if(parseInt(key)!==keysyms.XK_Shift_L){mods[key]=currentModifiers[key];}}
var sum=0;for(var k in currentModifiers){if(mods[k]){++sum;}}
if(hasCharModifier(charModifier,mods)){return sum>charModifier.length;}
else{return sum>0;}}
function hasCharModifier(charModifier,currentModifiers){if(charModifier.length===0){return false;}
for(var i=0;i<charModifier.length;++i){if(!currentModifiers[charModifier[i]]){return false;}}
return true;}
function ModifierSync(charModifier){if(!charModifier){if(isMac()){charModifier=[keysyms.XK_Alt_L];}
else if(isWindows()){charModifier=[keysyms.XK_Alt_L,keysyms.XK_Control_L];}
else if(isLinux()){charModifier=[keysyms.XK_ISO_Level3_Shift];}
else{charModifier=[];}}
var state={};state[keysyms.XK_Control_L]=false;state[keysyms.XK_Alt_L]=false;state[keysyms.XK_ISO_Level3_Shift]=false;state[keysyms.XK_Shift_L]=false;state[keysyms.XK_Meta_L]=false;function sync(evt,keysym){var result=[];function syncKey(keysym){return{keysym:keysyms.lookup(keysym),type:state[keysym]?'keydown':'keyup'};}
if(evt.ctrlKey!==undefined&&evt.ctrlKey!==state[keysyms.XK_Control_L]&&keysym!==keysyms.XK_Control_L){state[keysyms.XK_Control_L]=evt.ctrlKey;result.push(syncKey(keysyms.XK_Control_L));}
if(evt.altKey!==undefined&&evt.altKey!==state[keysyms.XK_Alt_L]&&keysym!==keysyms.XK_Alt_L){state[keysyms.XK_Alt_L]=evt.altKey;result.push(syncKey(keysyms.XK_Alt_L));}
if(evt.altGraphKey!==undefined&&evt.altGraphKey!==state[keysyms.XK_ISO_Level3_Shift]&&keysym!==keysyms.XK_ISO_Level3_Shift){state[keysyms.XK_ISO_Level3_Shift]=evt.altGraphKey;result.push(syncKey(keysyms.XK_ISO_Level3_Shift));}
if(evt.shiftKey!==undefined&&evt.shiftKey!==state[keysyms.XK_Shift_L]&&keysym!==keysyms.XK_Shift_L){state[keysyms.XK_Shift_L]=evt.shiftKey;result.push(syncKey(keysyms.XK_Shift_L));}
if(evt.metaKey!==undefined&&evt.metaKey!==state[keysyms.XK_Meta_L]&&keysym!==keysyms.XK_Meta_L){state[keysyms.XK_Meta_L]=evt.metaKey;result.push(syncKey(keysyms.XK_Meta_L));}
return result;}
function syncKeyEvent(evt,down){var obj=getKeysym(evt);var keysym=obj?obj.keysym:null;if(keysym!==null&&state[keysym]!==undefined){state[keysym]=down;}
return sync(evt,keysym);}
return{keydown:function(evt){return syncKeyEvent(evt,true);},keyup:function(evt){return syncKeyEvent(evt,false);},syncAny:function(evt){return sync(evt);},hasShortcutModifier:function(){return hasShortcutModifier(charModifier,state);},activeCharModifier:function(){return hasCharModifier(charModifier,state)?charModifier:null;}};}
function getKey(evt){if('keyCode'in evt&&'key'in evt){return evt.key+':'+evt.keyCode;}
else if('keyCode'in evt){return evt.keyCode;}
else{return evt.key;}}
function getKeysym(evt){var codepoint;if(evt.char&&evt.char.length===1){codepoint=evt.char.charCodeAt();}
else if(evt.charCode){codepoint=evt.charCode;}
else if(evt.keyCode&&evt.type==='keypress'){codepoint=evt.keyCode;}
if(codepoint){var res=keysyms.fromUnicode(substituteCodepoint(codepoint));if(res){return res;}}
if(evt.keyCode){return keysyms.lookup(keysymFromKeyCode(evt.keyCode,evt.shiftKey));}
if(evt.which){return keysyms.lookup(keysymFromKeyCode(evt.which,evt.shiftKey));}
return null;}
function keysymFromKeyCode(keycode,shiftPressed){if(typeof(keycode)!=='number'){return null;}
if(keycode>=0x30&&keycode<=0x39){return keycode;}
if(keycode>=0x41&&keycode<=0x5a){return shiftPressed?keycode:keycode+32;}
if(keycode>=0x60&&keycode<=0x69){return keysyms.XK_KP_0+(keycode-0x60);}
switch(keycode){case 0x20:return keysyms.XK_space;case 0x6a:return keysyms.XK_KP_Multiply;case 0x6b:return keysyms.XK_KP_Add;case 0x6c:return keysyms.XK_KP_Separator;case 0x6d:return keysyms.XK_KP_Subtract;case 0x6e:return keysyms.XK_KP_Decimal;case 0x6f:return keysyms.XK_KP_Divide;case 0xbb:return keysyms.XK_plus;case 0xbc:return keysyms.XK_comma;case 0xbd:return keysyms.XK_minus;case 0xbe:return keysyms.XK_period;}
return nonCharacterKey({keyCode:keycode});}
function nonCharacterKey(evt){if(!evt.keyCode){return null;}
var keycode=evt.keyCode;if(keycode>=0x70&&keycode<=0x87){return keysyms.XK_F1+keycode-0x70;}
switch(keycode){case 8:return keysyms.XK_BackSpace;case 13:return keysyms.XK_Return;case 9:return keysyms.XK_Tab;case 27:return keysyms.XK_Escape;case 46:return keysyms.XK_Delete;case 36:return keysyms.XK_Home;case 35:return keysyms.XK_End;case 33:return keysyms.XK_Page_Up;case 34:return keysyms.XK_Page_Down;case 45:return keysyms.XK_Insert;case 37:return keysyms.XK_Left;case 38:return keysyms.XK_Up;case 39:return keysyms.XK_Right;case 40:return keysyms.XK_Down;case 16:return keysyms.XK_Shift_L;case 17:return keysyms.XK_Control_L;case 18:return keysyms.XK_Alt_L;case 224:return keysyms.XK_Meta_L;case 225:return keysyms.XK_ISO_Level3_Shift;case 91:return keysyms.XK_Super_L;case 92:return keysyms.XK_Super_R;case 93:return keysyms.XK_Menu;default:return null;}}
return{hasShortcutModifier:hasShortcutModifier,hasCharModifier:hasCharModifier,ModifierSync:ModifierSync,getKey:getKey,getKeysym:getKeysym,keysymFromKeyCode:keysymFromKeyCode,nonCharacterKey:nonCharacterKey,substituteCodepoint:substituteCodepoint};})();kbdUtil.KeyEventDecoder=function KeyEventDecoder(modifierState,next){"use strict";function KeyEventLight(event){this.altKey=event.altKey;this.charCode=event.charCode;this.ctrlKey=event.ctrlKey;this.eventPhase=event.eventPhase;this.keyCode=event.keyCode;this.keyId=event.keyId;this.keyIdentifier=event.keyIdentifier;this.location=event.location;this.keysym=null;this.metaKey=event.metaKey;this.repeat=event.repeat;this.returnValue=event.returnValue;this.shiftKey=event.shiftKey;this.timeStamp=event.timeStamp;this.type=event.type;this.which=event.which;}
function sendAll(evts){for(var i=0;i<evts.length;++i){next(evts[i]);}}
function process(evt,type){var result=new KeyEventLight(evt);var keyId=kbdUtil.getKey(evt);if(keyId){result.keyId=keyId;}
var keysym=kbdUtil.getKeysym(evt);var hasModifier=modifierState.hasShortcutModifier()||!!modifierState.activeCharModifier();if(keysym&&(type!=='keydown'||kbdUtil.nonCharacterKey(evt)||hasModifier)){result.keysym=keysym;}
var isShift=evt.keyCode===0x10||evt.key==='Shift';var suppress=!isShift&&(type!=='keydown'||modifierState.hasShortcutModifier()||!!kbdUtil.nonCharacterKey(evt));var stall=type==='keydown'&&modifierState.activeCharModifier()&&!kbdUtil.nonCharacterKey(evt);var active=modifierState.activeCharModifier();if(active&&keysym){var isCharModifier=false;for(var i=0;i<active.length;++i){if(active[i]===keysym.keysym){isCharModifier=true;}}
if(type==='keypress'&&!isCharModifier){result.escape=modifierState.activeCharModifier();}}
if(stall){next({type:'stall'});}
next(result);return suppress;}
return{keydown:function(evt){sendAll(modifierState.keydown(evt));return process(evt,'keydown');},keypress:function(evt){return process(evt,'keypress');},keyup:function(evt){sendAll(modifierState.keyup(evt));return process(evt,'keyup');},syncModifiers:function(evt){sendAll(modifierState.syncAny(evt));},releaseAll:function(){next({type:'releaseall'});}};};kbdUtil.VerifyCharModifier=function VerifyCharModifier(next){"use strict";var queue=[];var timer=null;function process(){if(timer){return;}
var delayProcess=function(){clearTimeout(timer);timer=null;process();};while(queue.length!==0){var cur=queue[0];queue=queue.splice(1);switch(cur.type){case'stall':timer=setTimeout(delayProcess,5);return;case'keydown':if(queue.length!==0&&queue[0].type==='keypress'){if(queue[0].escape&&(!cur.keysym||cur.keysym.keysym!==queue[0].keysym.keysym)){cur.escape=queue[0].escape;}
cur.keysym=queue[0].keysym;queue=queue.splice(1);}
break;}
if(cur.type!=='stall'){next(cur);}}}
return function(evt){queue.push(evt);process();};};kbdUtil.TrackKeyState=function TrackKeyState(next){"use strict";var state=[];return function(evt){var last=state.length!==0?state[state.length-1]:null;switch(evt.type){case'keydown':if(!last||!evt.keyId||last.keyId!==evt.keyId){last={keyId:evt.keyId,keysyms:{}};state.push(last);}
if(evt.keysym){last.keysyms[evt.keysym.keysym]=evt.keysym;last.ignoreKeyPress=true;next(evt);}
break;case'keypress':if(!last){last={keyId:evt.keyId,keysyms:{}};state.push(last);}
if(!evt.keysym){}
if(evt.keysym&&!last.ignoreKeyPress){last.keysyms[evt.keysym.keysym]=evt.keysym;evt.type='keydown';next(evt);}
break;case'keyup':if(state.length===0){return;}
var idx=null;for(var i=0;i!==state.length;++i){if(state[i].keyId===evt.keyId){idx=i;break;}}
if(idx===null){idx=state.length-1;}
var item=state.splice(idx,1)[0];var clone=(function(){function Clone(){}
return function(obj){Clone.prototype=obj;return new Clone();};}());for(var key in item.keysyms){var out=clone(evt);out.keysym=item.keysyms[key];next(out);}
break;case'releaseall':for(var i=0;i<state.length;++i){for(var key in state[i].keysyms){var keysym=state[i].keysyms[key];next({keyId:0,keysym:keysym,type:'keyup'});}}
state=[];}};}
kbdUtil.EscapeModifiers=function EscapeModifiers(next){"use strict";return function(evt){evt.keysym.utf8=keysyms.toUnicode(evt.keysym.keysym);next(evt);};}
return kbdUtil;});define('kb/input',['kb/util','kb/keyboard'],function(Util,kbdUtil){"use strict";var Keyboard,Mouse;Keyboard=function(defaults){this._keyDownList=[];Util.set_defaults(this,defaults,{'target':document,'focused':true});this._handler=new kbdUtil.KeyEventDecoder(kbdUtil.ModifierSync(),kbdUtil.VerifyCharModifier(kbdUtil.TrackKeyState(kbdUtil.EscapeModifiers(this._handleRfbEvent.bind(this)))));this._eventHandlers={'keyup':this._handleKeyUp.bind(this),'keydown':this._handleKeyDown.bind(this),'keypress':this._handleKeyPress.bind(this),'blur':this._allKeysUp.bind(this)};};Keyboard.prototype={_handleRfbEvent:function(e){if(this._onKeyPress){this._onKeyPress(e);}},_handleKeyDown:function(e){if(!this._focused){return true;}
if(this._handler.keydown(e)){Util.stopEvent(e);return false;}else{return true;}},_handleKeyPress:function(e){if(!this._focused){return true;}
if(this._handler.keypress(e)){Util.stopEvent(e);return false;}else{return true;}},_handleKeyUp:function(e){if(!this._focused){return true;}
if(this._handler.keyup(e)){Util.stopEvent(e);return false;}else{return true;}},_allKeysUp:function(){Util.Debug(">> Keyboard.allKeysUp");this._handler.releaseAll();Util.Debug("<< Keyboard.allKeysUp");},grab:function(){var c=this._target;Util.addEvent(c,'keydown',this._eventHandlers.keydown);Util.addEvent(c,'keyup',this._eventHandlers.keyup);Util.addEvent(c,'keypress',this._eventHandlers.keypress);Util.addEvent(window,'blur',this._eventHandlers.blur);},ungrab:function(){var c=this._target;Util.removeEvent(c,'keydown',this._eventHandlers.keydown);Util.removeEvent(c,'keyup',this._eventHandlers.keyup);Util.removeEvent(c,'keypress',this._eventHandlers.keypress);Util.removeEvent(window,'blur',this._eventHandlers.blur);this._allKeysUp();},sync:function(e){this._handler.syncModifiers(e);}};Util.make_properties(Keyboard,[['target','wo','dom'],['focused','rw','bool'],['onKeyPress','rw','func']]);return Keyboard;});define('terminal',['debug','kb/input'],function(Debug,Keyboard){'use strict';var DBUG_LVL=Debug.setLocalLevel(Debug.WARNING);function EventEmitter(){this._events=this._events||{};}
EventEmitter.prototype.addListener=function(type,listener){this._events[type]=this._events[type]||[];this._events[type].push(listener);};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.removeListener=function(type,listener){if(!this._events[type])return;var obj=this._events[type],i=obj.length;while(i--){if(obj[i]===listener||obj[i].listener===listener){obj.splice(i,1);return;}}};EventEmitter.prototype.off=EventEmitter.prototype.removeListener;EventEmitter.prototype.removeAllListeners=function(type){if(this._events[type])delete this._events[type];};EventEmitter.prototype.once=function(type,listener){function on(){var args=Array.prototype.slice.call(arguments);this.removeListener(type,on);return listener.apply(this,args);}
on.listener=listener;return this.on(type,on);};EventEmitter.prototype.emit=function(type){if(!this._events[type])return;var args=Array.prototype.slice.call(arguments,1),obj=this._events[type],l=obj.length,i=0;for(;i<l;i++){obj[i].apply(this,args);}};EventEmitter.prototype.listeners=function(type){return this._events[type]=this._events[type]||[];};var normal=0,escaped=1,csi=2,osc=3,charset=4,dcs=5,ignore=6;function Terminal(options){var self=this;if(!(this instanceof Terminal)){return new Terminal(arguments[0],arguments[1],arguments[2]);}
EventEmitter.call(this);if(typeof options==='number'){options={cols:arguments[0],rows:arguments[1],handler:arguments[2]};}
options=options||{};each(keys(Terminal.defaults),function(key){if(options[key]==null){options[key]=Terminal.options[key];if(Terminal[key]!==Terminal.defaults[key]){options[key]=Terminal[key];}}
self[key]=options[key];});if(options.colors.length===8){options.colors=options.colors.concat(Terminal._colors.slice(8));}else if(options.colors.length===16){options.colors=options.colors.concat(Terminal._colors.slice(16));}else if(options.colors.length===10){options.colors=options.colors.slice(0,-2).concat(Terminal._colors.slice(8,-2),options.colors.slice(-2));}else if(options.colors.length===18){options.colors=options.colors.slice(0,-2).concat(Terminal._colors.slice(16,-2),options.colors.slice(-2));}
this.colors=options.colors;this.options=options;this.parent=null;this.cols=options.cols||options.geometry[0];this.rows=options.rows||options.geometry[1];if(options.handler){this.on('data',options.handler);}
this.ybase=0;this.ydisp=0;this.x=0;this.y=0;this.cursorState=0;this.cursorHidden=false;this.convertEol;this.state=0;this.queue='';this.scrollTop=0;this.scrollBottom=this.rows-1;this.applicationKeypad=false;this.applicationCursor=false;this.originMode=false;this.insertMode=false;this.wraparoundMode=false;this.normal=null;this.prefixMode=false;this.selectMode=false;this.visualMode=false;this.searchMode=false;this.searchDown;this.entry='';this.entryPrefix='Search: ';this._real;this._selected;this._textarea;this.charset=null;this.gcharset=null;this.glevel=0;this.charsets=[null];this.keyboard;this.decLocator;this.x10Mouse;this.vt200Mouse;this.vt300Mouse;this.normalMouse;this.mouseEvents;this.sendFocus;this.utfMouse;this.sgrMouse;this.urxvtMouse;this.element;this.children;this.refreshStart;this.refreshEnd;this.savedX;this.savedY;this.savedCols;this.readable=true;this.writable=true;this.defAttr=(0<<18)|(257<<9)|(256<<0);this.curAttr=this.defAttr;this.params=[];this.currentParam=0;this.prefix='';this.postfix='';this.lines=[];var i=this.rows;while(i--){this.lines.push(this.blankLine());}
this.tabs;this.setupStops();}
inherits(Terminal,EventEmitter);Terminal.prototype.eraseAttr=function(){return(this.defAttr&~0x1ff)|(this.curAttr&0x1ff);};Terminal.tangoColors=['#2e3436','#cc0000','#4e9a06','#c4a000','#3465a4','#75507b','#06989a','#d3d7cf','#555753','#ef2929','#8ae234','#fce94f','#729fcf','#ad7fa8','#34e2e2','#eeeeec'];Terminal.xtermColors=['#000000','#cd0000','#00cd00','#cdcd00','#0000ee','#cd00cd','#00cdcd','#e5e5e5','#7f7f7f','#ff0000','#00ff00','#ffff00','#5c5cff','#ff00ff','#00ffff','#ffffff'];Terminal.colors=(function(){var colors=Terminal.tangoColors.slice(),r=[0x00,0x5f,0x87,0xaf,0xd7,0xff],i;i=0;for(;i<216;i++){out(r[(i/36)%6|0],r[(i/6)%6|0],r[i%6]);}
i=0;for(;i<24;i++){r=8+i*10;out(r,r,r);}
function out(r,g,b){colors.push('#'+hex(r)+hex(g)+hex(b));}
function hex(c){c=c.toString(16);return c.length<2?'0'+c:c;}
return colors;})();Terminal.colors[256]='#000000';Terminal.colors[257]='#f0f0f0';Terminal._colors=Terminal.colors.slice();Terminal.vcolors=(function(){var out=[],colors=Terminal.colors,i=0,color;for(;i<256;i++){color=parseInt(colors[i].substring(1),16);out.push([(color>>16)&0xff,(color>>8)&0xff,color&0xff]);}
return out;})();Terminal.defaults={colors:Terminal.colors,convertEol:false,termName:'xterm',geometry:[80,24],cursorBlink:true,visualBell:false,popOnBell:false,scrollback:1000,screenKeys:false,debug:false,useStyle:false};Terminal.options={};each(keys(Terminal.defaults),function(key){Terminal[key]=Terminal.defaults[key];Terminal.options[key]=Terminal.defaults[key];});Terminal.focus=null;Terminal.prototype.focus=function(){if(Terminal.focus===this)return;if(Terminal.focus)Terminal.focus.blur();if(this.sendFocus)this.send('\x1b[I');this.showCursor();Terminal.focus=this;if(this.keyboard)this.keyboard._focused=true;};Terminal.prototype.blur=function(){if(Terminal.focus!==this)return;this.cursorState=0;this.refresh(this.y,this.y);if(this.sendFocus)this.send('\x1b[O');Terminal.focus=null;if(this.keyboard)this.keyboard._focused=false;};Terminal.prototype.initGlobal=function(){var document=this.document;Terminal._boundDocs=Terminal._boundDocs||[];if(~indexOf(Terminal._boundDocs,document)){return;}
Terminal._boundDocs.push(document);Terminal.bindPaste(document);Terminal.bindKeys(document);Terminal.bindCopy(document);if(this.isMobile){this.fixMobile(document);}
if(this.useStyle){Terminal.insertStyle(document,this.colors[256],this.colors[257]);}};Terminal.bindPaste=function(document){var window=document.defaultView;on(window,'paste',function(ev){var term=Terminal.focus;if(!term)return;if(ev.clipboardData){term.send(ev.clipboardData.getData('text/plain'));}else if(term.context.clipboardData){term.send(term.context.clipboardData.getData('Text'));}
term.element.contentEditable='inherit';return cancel(ev);});};Terminal.bindKeys=function(document){on(document,'mousedown',function(ev){if(!Terminal.focus)return;var el=ev.target||ev.srcElement;if(!el)return;do{if(el===Terminal.focus.element)return;}while(el=el.parentNode);Terminal.focus.blur();});};Terminal.bindCopy=function(document){var window=document.defaultView;on(window,'copy',function(ev){var term=Terminal.focus;if(!term)return;if(!term._selected)return;var textarea=term.getCopyTextarea();var text=term.grabText(term._selected.x1,term._selected.x2,term._selected.y1,term._selected.y2);term.emit('copy',text);textarea.focus();textarea.textContent=text;textarea.value=text;textarea.setSelectionRange(0,text.length);setTimeout(function(){term.element.focus();term.focus();},1);});};Terminal.prototype.fixMobile=function(document){var self=this;var textarea=document.createElement('textarea');textarea.style.position='absolute';textarea.style.left='-32000px';textarea.style.top='-32000px';textarea.style.width='0px';textarea.style.height='0px';textarea.style.opacity='0';textarea.style.backgroundColor='transparent';textarea.style.borderStyle='none';textarea.style.outlineStyle='none';textarea.autocapitalize='none';textarea.autocorrect='off';document.getElementsByTagName('body')[0].appendChild(textarea);Terminal._textarea=textarea;setTimeout(function(){textarea.focus();},1000);if(this.isAndroid){on(textarea,'change',function(){var value=textarea.textContent||textarea.value;textarea.value='';textarea.textContent='';self.send(value+'\r');});}};Terminal.insertStyle=function(document,bg,fg){var style=document.getElementById('term-style');if(style)return;var head=document.getElementsByTagName('head')[0];if(!head)return;var style=document.createElement('style');style.id='term-style';style.innerHTML=''
+'.terminal {\n'
+'  float: left;\n'
+'  border: '+bg+' solid 5px;\n'
+'  font-family: "DejaVu Sans Mono", "Liberation Mono", monospace;\n'
+'  font-size: 11px;\n'
+'  color: '+fg+';\n'
+'  background: '+bg+';\n'
+'  white-space: nowrap;\n'
+'}\n'
+'\n'
+'.terminal-cursor {\n'
+'  color: '+bg+';\n'
+'  background: '+fg+';\n'
+'}\n';head.insertBefore(style,head.firstChild);};Terminal.prototype.open=function(parent){var self=this,i=0,div;this.parent=parent||this.parent;if(!this.parent){throw new Error('Terminal requires a parent element.');}
this.context=this.parent.ownerDocument.defaultView;this.document=this.parent.ownerDocument;this.body=this.document.getElementsByTagName('body')[0];if(this.context.navigator&&this.context.navigator.userAgent){this.isMac=!!~this.context.navigator.userAgent.indexOf('Mac');this.isIpad=!!~this.context.navigator.userAgent.indexOf('iPad');this.isIphone=!!~this.context.navigator.userAgent.indexOf('iPhone');this.isAndroid=!!~this.context.navigator.userAgent.indexOf('Android');this.isMobile=this.isIpad||this.isIphone||this.isAndroid;this.isMSIE=!!~this.context.navigator.userAgent.indexOf('MSIE');}
this.element=this.document.createElement('div');this.element.className='terminal';this.element.style.outline='none';this.element.setAttribute('tabindex',0);this.element.setAttribute('spellcheck','false');this.element.style.backgroundColor=this.colors[256];this.element.style.color=this.colors[257];this.children=[];for(;i<this.rows;i++){div=this.document.createElement('div');this.element.appendChild(div);this.children.push(div);}
this.parent.appendChild(this.element);this.refresh(0,this.rows-1);this.initGlobal();this.keyboard=new Keyboard({target:this.element,onKeyPress:function(ev){if(ev.type=='keydown')Terminal.focus.keyDown(ev);}});this.keyboard.grab();this.focus();this.startBlink();on(this.element,'focus',function(){self.focus();if(self.isMobile)Terminal._textarea.focus();});on(this.element,'mousedown',function(){self.focus();});on(this.element,'mousedown',function(ev){var button=ev.button!=null?+ev.button:ev.which!=null?ev.which-1:null;if(self.isMSIE){button=button===1?0:button===4?1:button;}
if(button!==2)return;self.element.contentEditable='true';},true);on(this.element,'mouseup',function(ev){var button=ev.button!=null?+ev.button:ev.which!=null?ev.which-1:null;if(self.isMSIE){button=button===1?0:button===4?1:button;}
if(button!==2)return;setTimeout(function(){self.element.contentEditable='inherit';},1);},true);this.bindMouse();if(Terminal.brokenBold==null){Terminal.brokenBold=isBoldBroken(this.document);}
setTimeout(function(){self.element.focus();},100);};Terminal.prototype.bindMouse=function(){var el=this.element,self=this,pressed=32;var wheelEvent='onmousewheel'in this.context?'mousewheel':'DOMMouseScroll';function sendButton(ev){var button,pos;button=getButton(ev);pos=getCoords(ev);if(!pos)return;sendEvent(button,pos);switch(ev.type){case'mousedown':pressed=button;break;case'mouseup':pressed=32;break;case wheelEvent:break;}}
function sendMove(ev){var button=pressed,pos;pos=getCoords(ev);if(!pos)return;button+=32;sendEvent(button,pos);}
function encode(data,ch){if(!self.utfMouse){if(ch===255)return data.push(0);if(ch>127)ch=127;data.push(ch);}else{if(ch===2047)return data.push(0);if(ch<127){data.push(ch);}else{if(ch>2047)ch=2047;data.push(0xC0|(ch>>6));data.push(0x80|(ch&0x3F));}}}
function sendEvent(button,pos){if(self.vt300Mouse){button&=3;pos.x-=32;pos.y-=32;var data='\x1b[24';if(button===0)data+='1';else if(button===1)data+='3';else if(button===2)data+='5';else if(button===3)return;else data+='0';data+='~['+pos.x+','+pos.y+']\r';self.send(data);return;}
if(self.decLocator){button&=3;pos.x-=32;pos.y-=32;if(button===0)button=2;else if(button===1)button=4;else if(button===2)button=6;else if(button===3)button=3;self.send('\x1b['
+button
+';'
+(button===3?4:0)
+';'
+pos.y
+';'
+pos.x
+';'
+(pos.page||0)
+'&w');return;}
if(self.urxvtMouse){pos.x-=32;pos.y-=32;pos.x++;pos.y++;self.send('\x1b['+button+';'+pos.x+';'+pos.y+'M');return;}
if(self.sgrMouse){pos.x-=32;pos.y-=32;self.send('\x1b[<'
+((button&3)===3?button&~3:button)
+';'
+pos.x
+';'
+pos.y
+((button&3)===3?'m':'M'));return;}
var data=[];encode(data,button);encode(data,pos.x);encode(data,pos.y);self.send('\x1b[M'+String.fromCharCode.apply(String,data));}
function getButton(ev){var button,shift,meta,ctrl,mod;switch(ev.type){case'mousedown':button=ev.button!=null?+ev.button:ev.which!=null?ev.which-1:null;if(self.isMSIE){button=button===1?0:button===4?1:button;}
break;case'mouseup':button=3;break;case'DOMMouseScroll':button=ev.detail<0?64:65;break;case'mousewheel':button=ev.wheelDeltaY>0?64:65;break;}
shift=ev.shiftKey?4:0;meta=ev.metaKey?8:0;ctrl=ev.ctrlKey?16:0;mod=shift|meta|ctrl;if(self.vt200Mouse){mod&=ctrl;}else if(!self.normalMouse){mod=0;}
button=(32+(mod<<2))+button;return button;}
function getCoords(ev){var x,y,w,h,el;if(ev.pageX==null)return;x=ev.pageX;y=ev.pageY;el=self.element;while(el&&el!==self.document.documentElement){x-=el.offsetLeft;y-=el.offsetTop;el='offsetParent'in el?el.offsetParent:el.parentNode;}
w=self.element.clientWidth;h=self.element.clientHeight;x=Math.round((x/w)*self.cols);y=Math.round((y/h)*self.rows);if(x<0)x=0;if(x>self.cols)x=self.cols;if(y<0)y=0;if(y>self.rows)y=self.rows;x+=32;y+=32;return{x:x,y:y,type:ev.type===wheelEvent?'mousewheel':ev.type};}
on(el,'mousedown',function(ev){if(!self.mouseEvents)return;sendButton(ev);self.focus();if(self.vt200Mouse){sendButton({__proto__:ev,type:'mouseup'});return cancel(ev);}
if(self.normalMouse)on(self.document,'mousemove',sendMove);if(!self.x10Mouse){on(self.document,'mouseup',function up(ev){sendButton(ev);if(self.normalMouse)off(self.document,'mousemove',sendMove);off(self.document,'mouseup',up);return cancel(ev);});}
return cancel(ev);});on(el,wheelEvent,function(ev){if(!self.mouseEvents)return;if(self.x10Mouse||self.vt300Mouse||self.decLocator)return;sendButton(ev);return cancel(ev);});on(el,wheelEvent,function(ev){if(self.mouseEvents)return;if(self.applicationKeypad)return;if(ev.type==='DOMMouseScroll'){self.scrollDisp(ev.detail<0?-5:5);}else{self.scrollDisp(ev.wheelDeltaY>0?-5:5);}
return cancel(ev);});};Terminal.prototype.destroy=function(){this.readable=false;this.writable=false;this._events={};this.handler=function(){};this.write=function(){};if(this.element.parentNode){this.element.parentNode.removeChild(this.element);}};Terminal.prototype.refresh=function(start,end){var x,y,i,line,out,ch,width,data,attr,bg,fg,flags,row,deferDomRendering=false;width=this.cols;y=start;if(end>=this.lines.length){this.log('`end` is too large. Most likely a bad CSR.');end=this.lines.length-1;}
for(;y<=end;y++){row=y+this.ydisp;line=this.lines[row];out='';if(y===this.y&&this.cursorState&&(this.ydisp===this.ybase||this.selectMode)&&!this.cursorHidden){x=this.x;}else{x=-1;}
attr=this.defAttr;i=0;for(;i<width;i++){data=line[i][0];ch=line[i][1];if(i===x)data=-1;if(data!==attr){if(attr!==this.defAttr){out+='</span>';}
if(data!==this.defAttr){if(data===-1){out+='<span class="reverse-video terminal-cursor">';}else{out+='<span style="';bg=data&0x1ff;fg=(data>>9)&0x1ff;flags=data>>18;if(flags&1){if(!Terminal.brokenBold){out+='font-weight:bold;';}
if(fg<8)fg+=8;}
if(flags&2){out+='text-decoration:underline;';}
if(flags&4){if(flags&2){out=out.slice(0,-1);out+=' blink;';}else{out+='text-decoration:blink;';}}
if(flags&8){bg=(data>>9)&0x1ff;fg=data&0x1ff;if((flags&1)&&fg<8)fg+=8;}
if(flags&16){out+='visibility:hidden;';}
if(bg!==256){out+='background-color:'
+this.colors[bg]
+';';}
if(fg!==257){out+='color:'
+this.colors[fg]
+';';}
out+='">';}}}
switch(ch){case'&':out+='&amp;';break;case'<':out+='&lt;';break;case'>':out+='&gt;';break;default:if(ch<=' '){out+='&nbsp;';}else{if(isWide(ch))i++;out+=ch;}
break;}
attr=data;}
if(attr!==this.defAttr){out+='</span>';}
this.children[y].innerHTML=out;}};Terminal.prototype._cursorBlink=function(){if(Terminal.focus!==this)return;this.cursorState^=1;this.refresh(this.y,this.y);};Terminal.prototype.showCursor=function(){if(!this.cursorState){this.cursorState=1;this.refresh(this.y,this.y);}else{}};Terminal.prototype.startBlink=function(){if(!this.cursorBlink)return;var self=this;this._blinker=function(){self._cursorBlink();};this._blink=setInterval(this._blinker,500);};Terminal.prototype.refreshBlink=function(){if(!this.cursorBlink)return;clearInterval(this._blink);this._blink=setInterval(this._blinker,500);};Terminal.prototype.scroll=function(){var row;if(++this.ybase===this.scrollback){this.ybase=this.ybase/2|0;this.lines=this.lines.slice(-(this.ybase+this.rows)+1);}
this.ydisp=this.ybase;row=this.ybase+this.rows-1;row-=this.rows-1-this.scrollBottom;if(row===this.lines.length){this.lines.push(this.blankLine());}else{this.lines.splice(row,0,this.blankLine());}
if(this.scrollTop!==0){if(this.ybase!==0){this.ybase--;this.ydisp=this.ybase;}
this.lines.splice(this.ybase+this.scrollTop,1);}
this.updateRange(this.scrollTop);this.updateRange(this.scrollBottom);};Terminal.prototype.scrollDisp=function(disp){this.ydisp+=disp;if(this.ydisp>this.ybase){this.ydisp=this.ybase;}else if(this.ydisp<0){this.ydisp=0;}
this.refresh(0,this.rows-1);};Terminal.prototype.write=function(data){var l=data.length,i=0,j,cs,ch;this.refreshStart=this.y;this.refreshEnd=this.y;if(this.ybase!==this.ydisp){this.ydisp=this.ybase;this.maxRange();}
for(;i<l;i++){ch=data[i];switch(this.state){case normal:switch(ch){case'\x07':this.bell();break;case'\n':case'\x0b':case'\x0c':if(this.convertEol){this.x=0;}
this.y++;if(this.y>this.scrollBottom){this.y--;this.scroll();}
break;case'\r':this.x=0;break;case'\x08':if(this.x>0){this.x--;}
break;case'\t':this.x=this.nextStop();break;case'\x0e':this.setgLevel(1);break;case'\x0f':this.setgLevel(0);break;case'\x1b':this.state=escaped;break;default:if(ch>=' '){if(this.charset&&this.charset[ch]){ch=this.charset[ch];}
if(this.x>=this.cols){this.x=0;this.y++;if(this.y>this.scrollBottom){this.y--;this.scroll();}}
this.lines[this.y+this.ybase][this.x]=[this.curAttr,ch];this.x++;this.updateRange(this.y);if(isWide(ch)){j=this.y+this.ybase;if(this.cols<2||this.x>=this.cols){this.lines[j][this.x-1]=[this.curAttr,' '];break;}
this.lines[j][this.x]=[this.curAttr,' '];this.x++;}}
break;}
break;case escaped:switch(ch){case'[':this.params=[];this.currentParam=0;this.state=csi;break;case']':this.params=[];this.currentParam=0;this.state=osc;break;case'P':this.params=[];this.currentParam=0;this.state=dcs;break;case'_':this.state=ignore;break;case'^':this.state=ignore;break;case'c':this.reset();break;case'E':this.x=0;;case'D':this.index();break;case'M':this.reverseIndex();break;case'%':this.setgLevel(0);this.setgCharset(0,Terminal.charsets.US);this.state=normal;i++;break;case'(':case')':case'*':case'+':case'-':case'.':switch(ch){case'(':this.gcharset=0;break;case')':this.gcharset=1;break;case'*':this.gcharset=2;break;case'+':this.gcharset=3;break;case'-':this.gcharset=1;break;case'.':this.gcharset=2;break;}
this.state=charset;break;case'/':this.gcharset=3;this.state=charset;i--;break;case'N':break;case'O':break;case'n':this.setgLevel(2);break;case'o':this.setgLevel(3);break;case'|':this.setgLevel(3);break;case'}':this.setgLevel(2);break;case'~':this.setgLevel(1);break;case'7':this.saveCursor();this.state=normal;break;case'8':this.restoreCursor();this.state=normal;break;case'#':this.state=normal;i++;break;case'H':this.tabSet();break;case'=':this.log('Serial port requested application keypad.');this.applicationKeypad=true;this.state=normal;break;case'>':this.log('Switching back to normal keypad.');this.applicationKeypad=false;this.state=normal;break;default:this.state=normal;this.error('Unknown ESC control: %s.',ch);break;}
break;case charset:switch(ch){case'0':cs=Terminal.charsets.SCLD;break;case'A':cs=Terminal.charsets.UK;break;case'B':cs=Terminal.charsets.US;break;case'4':cs=Terminal.charsets.Dutch;break;case'C':case'5':cs=Terminal.charsets.Finnish;break;case'R':cs=Terminal.charsets.French;break;case'Q':cs=Terminal.charsets.FrenchCanadian;break;case'K':cs=Terminal.charsets.German;break;case'Y':cs=Terminal.charsets.Italian;break;case'E':case'6':cs=Terminal.charsets.NorwegianDanish;break;case'Z':cs=Terminal.charsets.Spanish;break;case'H':case'7':cs=Terminal.charsets.Swedish;break;case'=':cs=Terminal.charsets.Swiss;break;case'/':cs=Terminal.charsets.ISOLatin;i++;break;default:cs=Terminal.charsets.US;break;}
this.setgCharset(this.gcharset,cs);this.gcharset=null;this.state=normal;break;case osc:if(ch==='\x1b'||ch==='\x07'){if(ch==='\x1b')i++;this.params.push(this.currentParam);switch(this.params[0]){case 0:case 1:case 2:if(this.params[1]){this.title=this.params[1];this.handleTitle(this.title);}
break;case 3:break;case 4:case 5:break;case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:break;case 46:break;case 50:break;case 51:break;case 52:break;case 104:case 105:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:break;}
this.params=[];this.currentParam=0;this.state=normal;}else{if(!this.params.length){if(ch>='0'&&ch<='9'){this.currentParam=this.currentParam*10+ch.charCodeAt(0)-48;}else if(ch===';'){this.params.push(this.currentParam);this.currentParam='';}}else{this.currentParam+=ch;}}
break;case csi:if(ch==='?'||ch==='>'||ch==='!'){this.prefix=ch;break;}
if(ch>='0'&&ch<='9'){this.currentParam=this.currentParam*10+ch.charCodeAt(0)-48;break;}
if(ch==='$'||ch==='"'||ch===' '||ch==='\''){this.postfix=ch;break;}
this.params.push(this.currentParam);this.currentParam=0;if(ch===';')break;this.state=normal;switch(ch){case'A':this.cursorUp(this.params);break;case'B':this.cursorDown(this.params);break;case'C':this.cursorForward(this.params);break;case'D':this.cursorBackward(this.params);break;case'H':this.cursorPos(this.params);break;case'J':this.eraseInDisplay(this.params);break;case'K':this.eraseInLine(this.params);break;case'm':if(!this.prefix){this.charAttributes(this.params);}
break;case'n':if(!this.prefix){this.deviceStatus(this.params);}
break;case'@':this.insertChars(this.params);break;case'E':this.cursorNextLine(this.params);break;case'F':this.cursorPrecedingLine(this.params);break;case'G':this.cursorCharAbsolute(this.params);break;case'L':this.insertLines(this.params);break;case'M':this.deleteLines(this.params);break;case'P':this.deleteChars(this.params);break;case'X':this.eraseChars(this.params);break;case'`':this.charPosAbsolute(this.params);break;case'a':this.HPositionRelative(this.params);break;case'c':this.sendDeviceAttributes(this.params);break;case'd':this.linePosAbsolute(this.params);break;case'e':this.VPositionRelative(this.params);break;case'f':this.HVPosition(this.params);break;case'h':this.setMode(this.params);break;case'l':this.resetMode(this.params);break;case'r':this.setScrollRegion(this.params);break;case's':this.saveCursor(this.params);break;case'u':this.restoreCursor(this.params);break;case'I':this.cursorForwardTab(this.params);break;case'S':this.scrollUp(this.params);break;case'T':if(this.params.length<2&&!this.prefix){this.scrollDown(this.params);}
break;case'Z':this.cursorBackwardTab(this.params);break;case'b':this.repeatPrecedingCharacter(this.params);break;case'g':this.tabClear(this.params);break;case'p':switch(this.prefix){case'!':this.softReset(this.params);break;}
break;default:this.error('Unknown CSI code: %s.',ch);break;}
this.prefix='';this.postfix='';break;case dcs:if(ch==='\x1b'||ch==='\x07'){if(ch==='\x1b')i++;switch(this.prefix){case'':break;case'$q':var pt=this.currentParam,valid=false;switch(pt){case'"q':pt='0"q';break;case'"p':pt='61"p';break;case'r':pt=''
+(this.scrollTop+1)
+';'
+(this.scrollBottom+1)
+'r';break;case'm':pt='0m';break;default:this.error('Unknown DCS Pt: %s.',pt);pt='';break;}
this.send('\x1bP'+ +valid+'$r'+pt+'\x1b\\');break;case'+p':break;case'+q':var pt=this.currentParam,valid=false;this.send('\x1bP'+ +valid+'+r'+pt+'\x1b\\');break;default:this.error('Unknown DCS prefix: %s.',this.prefix);break;}
this.currentParam=0;this.prefix='';this.state=normal;}else if(!this.currentParam){if(!this.prefix&&ch!=='$'&&ch!=='+'){this.currentParam=ch;}else if(this.prefix.length===2){this.currentParam=ch;}else{this.prefix+=ch;}}else{this.currentParam+=ch;}
break;case ignore:if(ch==='\x1b'||ch==='\x07'){if(ch==='\x1b')i++;this.state=normal;}
break;}}
this.updateRange(this.y);this.refresh(this.refreshStart,this.refreshEnd);};Terminal.prototype.writeln=function(data){this.write(data+'\r\n');};Terminal.prototype.keyDown=function(ev){var self=this,key=null;switch(ev.keysym.keysym){case 0xff08:if(ev.shiftKey){key='\x08';break;}
key='\x7f';break;case 0xff09:if(ev.shiftKey){key='\x1b[Z';break;}
key='\t';break;case 0xff0d:key='\r';break;case 0xff1b:key='\x1b';break;case 0xff51:if(this.applicationCursor){key='\x1bOD';break;}
key='\x1b[D';break;case 0xff53:if(this.applicationCursor){key='\x1bOC';break;}
key='\x1b[C';break;case 0xff52:if(this.applicationCursor){key='\x1bOA';break;}
if(ev.ctrlKey){this.scrollDisp(-1);return cancel(ev);}else{key='\x1b[A';}
break;case 0xff54:if(this.applicationCursor){key='\x1bOB';break;}
if(ev.ctrlKey){this.scrollDisp(1);return cancel(ev);}else{key='\x1b[B';}
break;case 0xffff:key='\x1b[3~';break;case 0xff63:key='\x1b[2~';break;case 0xff50:if(this.applicationKeypad){key='\x1bOH';break;}
key='\x1bOH';break;case 0xff57:if(this.applicationKeypad){key='\x1bOF';break;}
key='\x1bOF';break;case 0xff55:if(ev.shiftKey){this.scrollDisp(-(this.rows-1));return cancel(ev);}else{key='\x1b[5~';}
break;case 0xff56:if(ev.shiftKey){this.scrollDisp(this.rows-1);return cancel(ev);}else{key='\x1b[6~';}
break;case 0xffbe:key='\x1bOP';break;case 0xffbf:key='\x1bOQ';break;case 0xffc0:key='\x1bOR';break;case 0xffc1:key='\x1bOS';break;case 0xffc2:key='\x1b[15~';break;case 0xffc3:key='\x1b[17~';break;case 0xffc4:key='\x1b[18~';break;case 0xffc5:key='\x1b[19~';break;case 0xffc6:key='\x1b[20~';break;case 0xffc7:key='\x1b[21~';break;case 0xffc8:key='\x1b[23~';break;case 0xffc9:key='\x1b[24~';break;default:if(ev.ctrlKey){if(ev.altKey)break;if(ev.keyCode>=65&&ev.keyCode<=90){if(this.screenKeys){if(!this.prefixMode&&!this.selectMode&&ev.keyCode===65){this.enterPrefix();return cancel(ev);}}
if(this.prefixMode&&ev.keyCode===86){this.leavePrefix();return;}
if((this.prefixMode||this.selectMode)&&ev.keyCode===67){if(this.visualMode){setTimeout(function(){self.leaveVisual();},1);}
return;}
key=String.fromCharCode(ev.keyCode-64);}else if(ev.keyCode===32){key=String.fromCharCode(0);}else if(ev.keyCode>=51&&ev.keyCode<=55){key=String.fromCharCode(ev.keyCode-51+27);}else if(ev.keyCode===56){key=String.fromCharCode(127);}else if(ev.keyCode===219){key=String.fromCharCode(27);}else if(ev.keyCode===221){key=String.fromCharCode(29);}}else if((!this.isMac&&ev.altKey)||(this.isMac&&ev.metaKey)){if(ev.keyCode>=65&&ev.keyCode<=90){key='\x1b'+String.fromCharCode(ev.keyCode+32);}else if(ev.keyCode===192){key='\x1b`';}else if(ev.keyCode>=48&&ev.keyCode<=57){key='\x1b'+(ev.keyCode-48);}}
break;}
if(key===null&&ev.keysym.utf8!==null){key=String.fromCharCode(ev.keysym.utf8);}
if(this.prefixMode){this.leavePrefix();return cancel(ev);}
if(this.selectMode){this.keySelect(ev,key);return cancel(ev);}
this.emit('keydown',key,ev);this.emit('key',key,ev);this.showCursor();if(key)this.handler(key);};Terminal.prototype.setgLevel=function(g){this.glevel=g;this.charset=this.charsets[g];};Terminal.prototype.setgCharset=function(g,charset){this.charsets[g]=charset;if(this.glevel===g){this.charset=charset;}};Terminal.prototype.send=function(data){var self=this;if(!this.queue){setTimeout(function(){self.handler(self.queue);self.queue='';},1);}
this.queue+=data;};Terminal.prototype.bell=function(){this.emit('bell');if(!this.visualBell)return;var self=this;this.element.style.borderColor='white';setTimeout(function(){self.element.style.borderColor='';},10);if(this.popOnBell)this.focus();};Terminal.prototype.log=function(){if(!this.debug)return;if(!this.context.console||!this.context.console.log)return;var args=Array.prototype.slice.call(arguments);this.context.console.log.apply(this.context.console,args);};Terminal.prototype.error=function(){if(!this.debug)return;if(!this.context.console||!this.context.console.error)return;var args=Array.prototype.slice.call(arguments);this.context.console.error.apply(this.context.console,args);};Terminal.prototype.resize=function(x,y){var line,el,i,j,ch;if(x<1)x=1;if(y<1)y=1;j=this.cols;if(j<x){ch=[this.defAttr,' '];i=this.lines.length;while(i--){while(this.lines[i].length<x){this.lines[i].push(ch);}}}else if(j>x){i=this.lines.length;while(i--){while(this.lines[i].length>x){this.lines[i].pop();}}}
this.setupStops(j);this.cols=x;j=this.rows;if(j<y){el=this.element;while(j++<y){if(this.lines.length<y+this.ybase){this.lines.push(this.blankLine());}
if(this.children.length<y){line=this.document.createElement('div');el.appendChild(line);this.children.push(line);}}}else if(j>y){while(j-->y){if(this.lines.length>y+this.ybase){this.lines.pop();}
if(this.children.length>y){el=this.children.pop();if(!el)continue;el.parentNode.removeChild(el);}}}
this.rows=y;if(this.y>=y)this.y=y-1;if(this.x>=x)this.x=x-1;this.scrollTop=0;this.scrollBottom=y-1;this.refresh(0,this.rows-1);this.normal=null;};Terminal.prototype.updateRange=function(y){if(y<this.refreshStart)this.refreshStart=y;if(y>this.refreshEnd)this.refreshEnd=y;};Terminal.prototype.maxRange=function(){this.refreshStart=0;this.refreshEnd=this.rows-1;};Terminal.prototype.setupStops=function(i){if(i!=null){if(!this.tabs[i]){i=this.prevStop(i);}}else{this.tabs={};i=0;}
for(;i<this.cols;i+=8){this.tabs[i]=true;}};Terminal.prototype.prevStop=function(x){if(x==null)x=this.x;while(!this.tabs[--x]&&x>0);return x>=this.cols?this.cols-1:x<0?0:x;};Terminal.prototype.nextStop=function(x){if(x==null)x=this.x;while(!this.tabs[++x]&&x<this.cols);return x>=this.cols?this.cols-1:x<0?0:x;};Terminal.prototype.eraseRight=function(x,y){var line=this.lines[this.ybase+y],ch=[this.eraseAttr(),' '];for(;x<this.cols;x++){line[x]=ch;}
this.updateRange(y);};Terminal.prototype.eraseLeft=function(x,y){var line=this.lines[this.ybase+y],ch=[this.eraseAttr(),' '];x++;while(x--)line[x]=ch;this.updateRange(y);};Terminal.prototype.eraseLine=function(y){this.eraseRight(0,y);};Terminal.prototype.blankLine=function(cur){var attr=cur?this.eraseAttr():this.defAttr;var ch=[attr,' '],line=[],i=0;for(;i<this.cols;i++){line[i]=ch;}
return line;};Terminal.prototype.ch=function(cur){return cur?[this.eraseAttr(),' ']:[this.defAttr,' '];};Terminal.prototype.is=function(term){var name=this.termName;return(name+'').indexOf(term)===0;};Terminal.prototype.handler=function(data){this.emit('data',this.id,data);};Terminal.prototype.handleTitle=function(title){this.emit('title',title);};Terminal.prototype.index=function(){this.y++;if(this.y>this.scrollBottom){this.y--;this.scroll();}
this.state=normal;};Terminal.prototype.reverseIndex=function(){var j;this.y--;if(this.y<this.scrollTop){this.y++;this.lines.splice(this.y+this.ybase,0,this.blankLine(true));j=this.rows-1-this.scrollBottom;this.lines.splice(this.rows-1+this.ybase-j+1,1);this.updateRange(this.scrollTop);this.updateRange(this.scrollBottom);}
this.state=normal;};Terminal.prototype.reset=function(){this.options.rows=this.rows;this.options.cols=this.cols;Terminal.call(this,this.options);this.refresh(0,this.rows-1);};Terminal.prototype.tabSet=function(){this.tabs[this.x]=true;this.state=normal;};Terminal.prototype.cursorUp=function(params){var param=params[0];if(param<1)param=1;this.y-=param;if(this.y<0)this.y=0;};Terminal.prototype.cursorDown=function(params){var param=params[0];if(param<1)param=1;this.y+=param;if(this.y>=this.rows){this.y=this.rows-1;}};Terminal.prototype.cursorForward=function(params){var param=params[0];if(param<1)param=1;this.x+=param;if(this.x>=this.cols){this.x=this.cols-1;}};Terminal.prototype.cursorBackward=function(params){var param=params[0];if(param<1)param=1;this.x-=param;if(this.x<0)this.x=0;};Terminal.prototype.cursorPos=function(params){var row,col;row=params[0]-1;if(params.length>=2){col=params[1]-1;}else{col=0;}
if(row<0){row=0;}else if(row>=this.rows){row=this.rows-1;}
if(col<0){col=0;}else if(col>=this.cols){col=this.cols-1;}
this.x=col;this.y=row;};Terminal.prototype.eraseInDisplay=function(params){var j;switch(params[0]){case 0:this.eraseRight(this.x,this.y);j=this.y+1;for(;j<this.rows;j++){this.eraseLine(j);}
break;case 1:this.eraseLeft(this.x,this.y);j=this.y;while(j--){this.eraseLine(j);}
break;case 2:j=this.rows;while(j--)this.eraseLine(j);break;case 3:;break;}};Terminal.prototype.eraseInLine=function(params){switch(params[0]){case 0:this.eraseRight(this.x,this.y);break;case 1:this.eraseLeft(this.x,this.y);break;case 2:this.eraseLine(this.y);break;}};Terminal.prototype.charAttributes=function(params){if(params.length===1&&params[0]===0){this.curAttr=this.defAttr;return;}
var l=params.length,i=0,flags=this.curAttr>>18,fg=(this.curAttr>>9)&0x1ff,bg=this.curAttr&0x1ff,p;for(;i<l;i++){p=params[i];if(p>=30&&p<=37){fg=p-30;}else if(p>=40&&p<=47){bg=p-40;}else if(p>=90&&p<=97){p+=8;fg=p-90;}else if(p>=100&&p<=107){p+=8;bg=p-100;}else if(p===0){flags=this.defAttr>>18;fg=(this.defAttr>>9)&0x1ff;bg=this.defAttr&0x1ff;}else if(p===1){flags|=1;}else if(p===4){flags|=2;}else if(p===5){flags|=4;}else if(p===7){flags|=8;}else if(p===8){flags|=16;}else if(p===22){flags&=~1;}else if(p===24){flags&=~2;}else if(p===25){flags&=~4;}else if(p===27){flags&=~8;}else if(p===28){flags&=~16;}else if(p===39){fg=(this.defAttr>>9)&0x1ff;}else if(p===49){bg=this.defAttr&0x1ff;}else if(p===38){if(params[i+1]===2){i+=2;fg=matchColor(params[i]&0xff,params[i+1]&0xff,params[i+2]&0xff);if(fg===-1)fg=0x1ff;i+=2;}else if(params[i+1]===5){i+=2;p=params[i]&0xff;fg=p;}}else if(p===48){if(params[i+1]===2){i+=2;bg=matchColor(params[i]&0xff,params[i+1]&0xff,params[i+2]&0xff);if(bg===-1)bg=0x1ff;i+=2;}else if(params[i+1]===5){i+=2;p=params[i]&0xff;bg=p;}}else if(p===100){fg=(this.defAttr>>9)&0x1ff;bg=this.defAttr&0x1ff;}else{this.error('Unknown SGR attribute: %d.',p);}}
this.curAttr=(flags<<18)|(fg<<9)|bg;};Terminal.prototype.deviceStatus=function(params){if(!this.prefix){switch(params[0]){case 5:this.send('\x1b[0n');break;case 6:this.send('\x1b['
+(this.y+1)
+';'
+(this.x+1)
+'R');break;}}else if(this.prefix==='?'){switch(params[0]){case 6:this.send('\x1b[?'
+(this.y+1)
+';'
+(this.x+1)
+'R');break;case 15:break;case 25:break;case 26:break;case 53:break;}}};Terminal.prototype.insertChars=function(params){var param,row,j,ch;param=params[0];if(param<1)param=1;row=this.y+this.ybase;j=this.x;ch=[this.eraseAttr(),' '];while(param--&&j<this.cols){this.lines[row].splice(j++,0,ch);this.lines[row].pop();}};Terminal.prototype.cursorNextLine=function(params){var param=params[0];if(param<1)param=1;this.y+=param;if(this.y>=this.rows){this.y=this.rows-1;}
this.x=0;};Terminal.prototype.cursorPrecedingLine=function(params){var param=params[0];if(param<1)param=1;this.y-=param;if(this.y<0)this.y=0;this.x=0;};Terminal.prototype.cursorCharAbsolute=function(params){var param=params[0];if(param<1)param=1;this.x=param-1;};Terminal.prototype.insertLines=function(params){var param,row,j;param=params[0];if(param<1)param=1;row=this.y+this.ybase;j=this.rows-1-this.scrollBottom;j=this.rows-1+this.ybase-j+1;while(param--){this.lines.splice(row,0,this.blankLine(true));this.lines.splice(j,1);}
this.updateRange(this.y);this.updateRange(this.scrollBottom);};Terminal.prototype.deleteLines=function(params){var param,row,j;param=params[0];if(param<1)param=1;row=this.y+this.ybase;j=this.rows-1-this.scrollBottom;j=this.rows-1+this.ybase-j;while(param--){this.lines.splice(j+1,0,this.blankLine(true));this.lines.splice(row,1);}
this.updateRange(this.y);this.updateRange(this.scrollBottom);};Terminal.prototype.deleteChars=function(params){var param,row,ch;param=params[0];if(param<1)param=1;row=this.y+this.ybase;ch=[this.eraseAttr(),' '];while(param--){this.lines[row].splice(this.x,1);this.lines[row].push(ch);}};Terminal.prototype.eraseChars=function(params){var param,row,j,ch;param=params[0];if(param<1)param=1;row=this.y+this.ybase;j=this.x;ch=[this.eraseAttr(),' '];while(param--&&j<this.cols){this.lines[row][j++]=ch;}};Terminal.prototype.charPosAbsolute=function(params){var param=params[0];if(param<1)param=1;this.x=param-1;if(this.x>=this.cols){this.x=this.cols-1;}};Terminal.prototype.HPositionRelative=function(params){var param=params[0];if(param<1)param=1;this.x+=param;if(this.x>=this.cols){this.x=this.cols-1;}};Terminal.prototype.sendDeviceAttributes=function(params){if(params[0]>0)return;if(!this.prefix){if(this.is('xterm')||this.is('rxvt-unicode')||this.is('screen')){this.send('\x1b[?1;2c');}else if(this.is('linux')){this.send('\x1b[?6c');}}else if(this.prefix==='>'){if(this.is('xterm')){this.send('\x1b[>0;276;0c');}else if(this.is('rxvt-unicode')){this.send('\x1b[>85;95;0c');}else if(this.is('linux')){this.send(params[0]+'c');}else if(this.is('screen')){this.send('\x1b[>83;40003;0c');}}};Terminal.prototype.linePosAbsolute=function(params){var param=params[0];if(param<1)param=1;this.y=param-1;if(this.y>=this.rows){this.y=this.rows-1;}};Terminal.prototype.VPositionRelative=function(params){var param=params[0];if(param<1)param=1;this.y+=param;if(this.y>=this.rows){this.y=this.rows-1;}};Terminal.prototype.HVPosition=function(params){if(params[0]<1)params[0]=1;if(params[1]<1)params[1]=1;this.y=params[0]-1;if(this.y>=this.rows){this.y=this.rows-1;}
this.x=params[1]-1;if(this.x>=this.cols){this.x=this.cols-1;}};Terminal.prototype.setMode=function(params){if(typeof params==='object'){var l=params.length,i=0;for(;i<l;i++){this.setMode(params[i]);}
return;}
if(!this.prefix){switch(params){case 4:this.insertMode=true;break;case 20:break;}}else if(this.prefix==='?'){switch(params){case 1:this.applicationCursor=true;break;case 2:this.setgCharset(0,Terminal.charsets.US);this.setgCharset(1,Terminal.charsets.US);this.setgCharset(2,Terminal.charsets.US);this.setgCharset(3,Terminal.charsets.US);break;case 3:this.savedCols=this.cols;this.resize(132,this.rows);break;case 6:this.originMode=true;break;case 7:this.wraparoundMode=true;break;case 12:break;case 66:this.log('Serial port requested application keypad.');this.applicationKeypad=true;break;case 9:case 1000:case 1002:case 1003:this.x10Mouse=params===9;this.vt200Mouse=params===1000;this.normalMouse=params>1000;this.mouseEvents=true;this.element.style.cursor='default';this.log('Binding to mouse events.');break;case 1004:this.sendFocus=true;break;case 1005:this.utfMouse=true;break;case 1006:this.sgrMouse=true;break;case 1015:this.urxvtMouse=true;break;case 25:this.cursorHidden=false;break;case 1049:;case 47:case 1047:if(!this.normal){var normal={lines:this.lines,ybase:this.ybase,ydisp:this.ydisp,x:this.x,y:this.y,scrollTop:this.scrollTop,scrollBottom:this.scrollBottom,tabs:this.tabs};this.reset();this.normal=normal;this.showCursor();}
break;}}};Terminal.prototype.resetMode=function(params){if(typeof params==='object'){var l=params.length,i=0;for(;i<l;i++){this.resetMode(params[i]);}
return;}
if(!this.prefix){switch(params){case 4:this.insertMode=false;break;case 20:break;}}else if(this.prefix==='?'){switch(params){case 1:this.applicationCursor=false;break;case 3:if(this.cols===132&&this.savedCols){this.resize(this.savedCols,this.rows);}
delete this.savedCols;break;case 6:this.originMode=false;break;case 7:this.wraparoundMode=false;break;case 12:break;case 66:this.log('Switching back to normal keypad.');this.applicationKeypad=false;break;case 9:case 1000:case 1002:case 1003:this.x10Mouse=false;this.vt200Mouse=false;this.normalMouse=false;this.mouseEvents=false;this.element.style.cursor='';break;case 1004:this.sendFocus=false;break;case 1005:this.utfMouse=false;break;case 1006:this.sgrMouse=false;break;case 1015:this.urxvtMouse=false;break;case 25:this.cursorHidden=true;break;case 1049:;case 47:case 1047:if(this.normal){this.lines=this.normal.lines;this.ybase=this.normal.ybase;this.ydisp=this.normal.ydisp;this.x=this.normal.x;this.y=this.normal.y;this.scrollTop=this.normal.scrollTop;this.scrollBottom=this.normal.scrollBottom;this.tabs=this.normal.tabs;this.normal=null;this.refresh(0,this.rows-1);this.showCursor();}
break;}}};Terminal.prototype.setScrollRegion=function(params){if(this.prefix)return;this.scrollTop=(params[0]||1)-1;this.scrollBottom=(params[1]||this.rows)-1;this.x=0;this.y=0;};Terminal.prototype.saveCursor=function(params){this.savedX=this.x;this.savedY=this.y;};Terminal.prototype.restoreCursor=function(params){this.x=this.savedX||0;this.y=this.savedY||0;};Terminal.prototype.cursorForwardTab=function(params){var param=params[0]||1;while(param--){this.x=this.nextStop();}};Terminal.prototype.scrollUp=function(params){var param=params[0]||1;while(param--){this.lines.splice(this.ybase+this.scrollTop,1);this.lines.splice(this.ybase+this.scrollBottom,0,this.blankLine());}
this.updateRange(this.scrollTop);this.updateRange(this.scrollBottom);};Terminal.prototype.scrollDown=function(params){var param=params[0]||1;while(param--){this.lines.splice(this.ybase+this.scrollBottom,1);this.lines.splice(this.ybase+this.scrollTop,0,this.blankLine());}
this.updateRange(this.scrollTop);this.updateRange(this.scrollBottom);};Terminal.prototype.initMouseTracking=function(params){};Terminal.prototype.resetTitleModes=function(params){;};Terminal.prototype.cursorBackwardTab=function(params){var param=params[0]||1;while(param--){this.x=this.prevStop();}};Terminal.prototype.repeatPrecedingCharacter=function(params){var param=params[0]||1,line=this.lines[this.ybase+this.y],ch=line[this.x-1]||[this.defAttr,' '];while(param--)line[this.x++]=ch;};Terminal.prototype.tabClear=function(params){var param=params[0];if(param<=0){delete this.tabs[this.x];}else if(param===3){this.tabs={};}};Terminal.prototype.mediaCopy=function(params){;};Terminal.prototype.setResources=function(params){;};Terminal.prototype.disableModifiers=function(params){;};Terminal.prototype.setPointerMode=function(params){;};Terminal.prototype.softReset=function(params){this.cursorHidden=false;this.insertMode=false;this.originMode=false;this.wraparoundMode=false;this.applicationKeypad=false;this.applicationCursor=false;this.scrollTop=0;this.scrollBottom=this.rows-1;this.curAttr=this.defAttr;this.x=this.y=0;this.charset=null;this.glevel=0;this.charsets=[null];};Terminal.prototype.requestAnsiMode=function(params){;};Terminal.prototype.requestPrivateMode=function(params){;};Terminal.prototype.setConformanceLevel=function(params){;};Terminal.prototype.loadLEDs=function(params){;};Terminal.prototype.setCursorStyle=function(params){;};Terminal.prototype.setCharProtectionAttr=function(params){;};Terminal.prototype.restorePrivateValues=function(params){;};Terminal.prototype.setAttrInRectangle=function(params){var t=params[0],l=params[1],b=params[2],r=params[3],attr=params[4];var line,i;for(;t<b+1;t++){line=this.lines[this.ybase+t];for(i=l;i<r;i++){line[i]=[attr,line[i][1]];}}
this.updateRange(params[0]);this.updateRange(params[2]);};Terminal.prototype.savePrivateValues=function(params){;};Terminal.prototype.manipulateWindow=function(params){;};Terminal.prototype.reverseAttrInRectangle=function(params){;};Terminal.prototype.setTitleModeFeature=function(params){;};Terminal.prototype.setWarningBellVolume=function(params){;};Terminal.prototype.setMarginBellVolume=function(params){;};Terminal.prototype.copyRectangle=function(params){;};Terminal.prototype.enableFilterRectangle=function(params){;};Terminal.prototype.requestParameters=function(params){;};Terminal.prototype.selectChangeExtent=function(params){;};Terminal.prototype.fillRectangle=function(params){var ch=params[0],t=params[1],l=params[2],b=params[3],r=params[4];var line,i;for(;t<b+1;t++){line=this.lines[this.ybase+t];for(i=l;i<r;i++){line[i]=[line[i][0],String.fromCharCode(ch)];}}
this.updateRange(params[1]);this.updateRange(params[3]);};Terminal.prototype.enableLocatorReporting=function(params){var val=params[0]>0;};Terminal.prototype.eraseRectangle=function(params){var t=params[0],l=params[1],b=params[2],r=params[3];var line,i,ch;ch=[this.eraseAttr(),' '];for(;t<b+1;t++){line=this.lines[this.ybase+t];for(i=l;i<r;i++){line[i]=ch;}}
this.updateRange(params[0]);this.updateRange(params[2]);};Terminal.prototype.setLocatorEvents=function(params){;};Terminal.prototype.selectiveEraseRectangle=function(params){;};Terminal.prototype.requestLocatorPosition=function(params){;};Terminal.prototype.insertColumns=function(){var param=params[0],l=this.ybase+this.rows,ch=[this.eraseAttr(),' '],i;while(param--){for(i=this.ybase;i<l;i++){this.lines[i].splice(this.x+1,0,ch);this.lines[i].pop();}}
this.maxRange();};Terminal.prototype.deleteColumns=function(){var param=params[0],l=this.ybase+this.rows,ch=[this.eraseAttr(),' '],i;while(param--){for(i=this.ybase;i<l;i++){this.lines[i].splice(this.x,1);this.lines[i].push(ch);}}
this.maxRange();};Terminal.prototype.enterPrefix=function(){this.prefixMode=true;};Terminal.prototype.leavePrefix=function(){this.prefixMode=false;};Terminal.prototype.enterSelect=function(){this._real={x:this.x,y:this.y,ydisp:this.ydisp,ybase:this.ybase,cursorHidden:this.cursorHidden,lines:this.copyBuffer(this.lines),write:this.write};this.write=function(){};this.selectMode=true;this.visualMode=false;this.cursorHidden=false;this.refresh(this.y,this.y);};Terminal.prototype.leaveSelect=function(){this.x=this._real.x;this.y=this._real.y;this.ydisp=this._real.ydisp;this.ybase=this._real.ybase;this.cursorHidden=this._real.cursorHidden;this.lines=this._real.lines;this.write=this._real.write;delete this._real;this.selectMode=false;this.visualMode=false;this.refresh(0,this.rows-1);};Terminal.prototype.enterVisual=function(){this._real.preVisual=this.copyBuffer(this.lines);this.selectText(this.x,this.x,this.ydisp+this.y,this.ydisp+this.y);this.visualMode=true;};Terminal.prototype.leaveVisual=function(){this.lines=this._real.preVisual;delete this._real.preVisual;delete this._selected;this.visualMode=false;this.refresh(0,this.rows-1);};Terminal.prototype.enterSearch=function(down){this.entry='';this.searchMode=true;this.searchDown=down;this._real.preSearch=this.copyBuffer(this.lines);this._real.preSearchX=this.x;this._real.preSearchY=this.y;var bottom=this.ydisp+this.rows-1;for(var i=0;i<this.entryPrefix.length;i++){this.lines[bottom][i]=[(this.defAttr&~0x1ff)|4,this.entryPrefix[i]];}
this.y=this.rows-1;this.x=this.entryPrefix.length;this.refresh(this.rows-1,this.rows-1);};Terminal.prototype.leaveSearch=function(){this.searchMode=false;if(this._real.preSearch){this.lines=this._real.preSearch;this.x=this._real.preSearchX;this.y=this._real.preSearchY;delete this._real.preSearch;delete this._real.preSearchX;delete this._real.preSearchY;}
this.refresh(this.rows-1,this.rows-1);};Terminal.prototype.copyBuffer=function(lines){var lines=lines||this.lines,out=[];for(var y=0;y<lines.length;y++){out[y]=[];for(var x=0;x<lines[y].length;x++){out[y][x]=[lines[y][x][0],lines[y][x][1]];}}
return out;};Terminal.prototype.getCopyTextarea=function(text){var textarea=this._copyTextarea,document=this.document;if(!textarea){textarea=document.createElement('textarea');textarea.style.position='absolute';textarea.style.left='-32000px';textarea.style.top='-32000px';textarea.style.width='0px';textarea.style.height='0px';textarea.style.opacity='0';textarea.style.backgroundColor='transparent';textarea.style.borderStyle='none';textarea.style.outlineStyle='none';document.getElementsByTagName('body')[0].appendChild(textarea);this._copyTextarea=textarea;}
return textarea;};Terminal.prototype.copyText=function(text){var self=this,textarea=this.getCopyTextarea();this.emit('copy',text);textarea.focus();textarea.textContent=text;textarea.value=text;textarea.setSelectionRange(0,text.length);setTimeout(function(){self.element.focus();self.focus();},1);};Terminal.prototype.selectText=function(x1,x2,y1,y2){var ox1,ox2,oy1,oy2,tmp,x,y,xl,attr;if(this._selected){ox1=this._selected.x1;ox2=this._selected.x2;oy1=this._selected.y1;oy2=this._selected.y2;if(oy2<oy1){tmp=ox2;ox2=ox1;ox1=tmp;tmp=oy2;oy2=oy1;oy1=tmp;}
if(ox2<ox1&&oy1===oy2){tmp=ox2;ox2=ox1;ox1=tmp;}
for(y=oy1;y<=oy2;y++){x=0;xl=this.cols-1;if(y===oy1){x=ox1;}
if(y===oy2){xl=ox2;}
for(;x<=xl;x++){if(this.lines[y][x].old!=null){attr=this.lines[y][x].old;delete this.lines[y][x].old;this.lines[y][x]=[attr,this.lines[y][x][1]];}}}
y1=this._selected.y1;x1=this._selected.x1;}
y1=Math.max(y1,0);y1=Math.min(y1,this.ydisp+this.rows-1);y2=Math.max(y2,0);y2=Math.min(y2,this.ydisp+this.rows-1);this._selected={x1:x1,x2:x2,y1:y1,y2:y2};if(y2<y1){tmp=x2;x2=x1;x1=tmp;tmp=y2;y2=y1;y1=tmp;}
if(x2<x1&&y1===y2){tmp=x2;x2=x1;x1=tmp;}
for(y=y1;y<=y2;y++){x=0;xl=this.cols-1;if(y===y1){x=x1;}
if(y===y2){xl=x2;}
for(;x<=xl;x++){attr=this.lines[y][x][0];this.lines[y][x]=[(attr&~0x1ff)|((0x1ff<<9)|4),this.lines[y][x][1]];this.lines[y][x].old=attr;}}
y1=y1-this.ydisp;y2=y2-this.ydisp;y1=Math.max(y1,0);y1=Math.min(y1,this.rows-1);y2=Math.max(y2,0);y2=Math.min(y2,this.rows-1);this.refresh(0,this.rows-1);};Terminal.prototype.grabText=function(x1,x2,y1,y2){var out='',buf='',ch,x,y,xl,tmp;if(y2<y1){tmp=x2;x2=x1;x1=tmp;tmp=y2;y2=y1;y1=tmp;}
if(x2<x1&&y1===y2){tmp=x2;x2=x1;x1=tmp;}
for(y=y1;y<=y2;y++){x=0;xl=this.cols-1;if(y===y1){x=x1;}
if(y===y2){xl=x2;}
for(;x<=xl;x++){ch=this.lines[y][x][1];if(ch===' '){buf+=ch;continue;}
if(buf){out+=buf;buf='';}
out+=ch;if(isWide(ch))x++;}
buf='';out+='\n';}
for(x=x2,y=y2;x<this.cols;x++){if(this.lines[y][x][1]!==' '){out=out.slice(0,-1);break;}}
return out;};Terminal.prototype.keyPrefix=function(ev,key){if(key==='k'||key==='&'){this.destroy();}else if(key==='p'||key===']'){this.emit('request paste');}else if(key==='c'){this.emit('request create');}else if(key>='0'&&key<='9'){key=+key-1;if(!~key)key=9;this.emit('request term',key);}else if(key==='n'){this.emit('request term next');}else if(key==='P'){this.emit('request term previous');}else if(key===':'){this.emit('request command mode');}else if(key==='['){this.enterSelect();}};Terminal.prototype.keySelect=function(ev,key){this.showCursor();if(this.searchMode||key==='n'||key==='N'){return this.keySearch(ev,key);}
if(key==='\x04'){var y=this.ydisp+this.y;if(this.ydisp===this.ybase){this.y=Math.min(this.y+(this.rows-1)/2|0,this.rows-1);this.refresh(0,this.rows-1);}else{this.scrollDisp((this.rows-1)/2|0);}
if(this.visualMode){this.selectText(this.x,this.x,y,this.ydisp+this.y);}
return;}
if(key==='\x15'){var y=this.ydisp+this.y;if(this.ydisp===0){this.y=Math.max(this.y-(this.rows-1)/2|0,0);this.refresh(0,this.rows-1);}else{this.scrollDisp(-(this.rows-1)/2|0);}
if(this.visualMode){this.selectText(this.x,this.x,y,this.ydisp+this.y);}
return;}
if(key==='\x06'){var y=this.ydisp+this.y;this.scrollDisp(this.rows-1);if(this.visualMode){this.selectText(this.x,this.x,y,this.ydisp+this.y);}
return;}
if(key==='\x02'){var y=this.ydisp+this.y;this.scrollDisp(-(this.rows-1));if(this.visualMode){this.selectText(this.x,this.x,y,this.ydisp+this.y);}
return;}
if(key==='k'||key==='\x1b[A'){var y=this.ydisp+this.y;this.y--;if(this.y<0){this.y=0;this.scrollDisp(-1);}
if(this.visualMode){this.selectText(this.x,this.x,y,this.ydisp+this.y);}else{this.refresh(this.y,this.y+1);}
return;}
if(key==='j'||key==='\x1b[B'){var y=this.ydisp+this.y;this.y++;if(this.y>=this.rows){this.y=this.rows-1;this.scrollDisp(1);}
if(this.visualMode){this.selectText(this.x,this.x,y,this.ydisp+this.y);}else{this.refresh(this.y-1,this.y);}
return;}
if(key==='h'||key==='\x1b[D'){var x=this.x;this.x--;if(this.x<0){this.x=0;}
if(this.visualMode){this.selectText(x,this.x,this.ydisp+this.y,this.ydisp+this.y);}else{this.refresh(this.y,this.y);}
return;}
if(key==='l'||key==='\x1b[C'){var x=this.x;this.x++;if(this.x>=this.cols){this.x=this.cols-1;}
if(this.visualMode){this.selectText(x,this.x,this.ydisp+this.y,this.ydisp+this.y);}else{this.refresh(this.y,this.y);}
return;}
if(key==='v'||key===' '){if(!this.visualMode){this.enterVisual();}else{this.leaveVisual();}
return;}
if(key==='y'){if(this.visualMode){var text=this.grabText(this._selected.x1,this._selected.x2,this._selected.y1,this._selected.y2);this.copyText(text);this.leaveVisual();}
return;}
if(key==='q'||key==='\x1b'){if(this.visualMode){this.leaveVisual();}else{this.leaveSelect();}
return;}
if(key==='w'||key==='W'){var ox=this.x;var oy=this.y;var oyd=this.ydisp;var x=this.x;var y=this.y;var yb=this.ydisp;var saw_space=false;for(;;){var line=this.lines[yb+y];while(x<this.cols){if(line[x][1]<=' '){saw_space=true;}else if(saw_space){break;}
x++;}
if(x>=this.cols)x=this.cols-1;if(x===this.cols-1&&line[x][1]<=' '){x=0;if(++y>=this.rows){y--;if(++yb>this.ybase){yb=this.ybase;x=this.x;break;}}
continue;}
break;}
this.x=x,this.y=y;this.scrollDisp(-this.ydisp+yb);if(this.visualMode){this.selectText(ox,this.x,oy+oyd,this.ydisp+this.y);}
return;}
if(key==='b'||key==='B'){var ox=this.x;var oy=this.y;var oyd=this.ydisp;var x=this.x;var y=this.y;var yb=this.ydisp;for(;;){var line=this.lines[yb+y];var saw_space=x>0&&line[x][1]>' '&&line[x-1][1]>' ';while(x>=0){if(line[x][1]<=' '){if(saw_space&&(x+1<this.cols&&line[x+1][1]>' ')){x++;break;}else{saw_space=true;}}
x--;}
if(x<0)x=0;if(x===0&&(line[x][1]<=' '||!saw_space)){x=this.cols-1;if(--y<0){y++;if(--yb<0){yb++;x=0;break;}}
continue;}
break;}
this.x=x,this.y=y;this.scrollDisp(-this.ydisp+yb);if(this.visualMode){this.selectText(ox,this.x,oy+oyd,this.ydisp+this.y);}
return;}
if(key==='e'||key==='E'){var x=this.x+1;var y=this.y;var yb=this.ydisp;if(x>=this.cols)x--;for(;;){var line=this.lines[yb+y];while(x<this.cols){if(line[x][1]<=' '){x++;}else{break;}}
while(x<this.cols){if(line[x][1]<=' '){if(x-1>=0&&line[x-1][1]>' '){x--;break;}}
x++;}
if(x>=this.cols)x=this.cols-1;if(x===this.cols-1&&line[x][1]<=' '){x=0;if(++y>=this.rows){y--;if(++yb>this.ybase){yb=this.ybase;break;}}
continue;}
break;}
this.x=x,this.y=y;this.scrollDisp(-this.ydisp+yb);if(this.visualMode){this.selectText(ox,this.x,oy+oyd,this.ydisp+this.y);}
return;}
if(key==='^'||key==='0'){var ox=this.x;if(key==='0'){this.x=0;}else if(key==='^'){var line=this.lines[this.ydisp+this.y];var x=0;while(x<this.cols){if(line[x][1]>' '){break;}
x++;}
if(x>=this.cols)x=this.cols-1;this.x=x;}
if(this.visualMode){this.selectText(ox,this.x,this.ydisp+this.y,this.ydisp+this.y);}else{this.refresh(this.y,this.y);}
return;}
if(key==='$'){var ox=this.x;var line=this.lines[this.ydisp+this.y];var x=this.cols-1;while(x>=0){if(line[x][1]>' '){if(this.visualMode&&x<this.cols-1)x++;break;}
x--;}
if(x<0)x=0;this.x=x;if(this.visualMode){this.selectText(ox,this.x,this.ydisp+this.y,this.ydisp+this.y);}else{this.refresh(this.y,this.y);}
return;}
if(key==='g'||key==='G'){var ox=this.x;var oy=this.y;var oyd=this.ydisp;if(key==='g'){this.x=0,this.y=0;this.scrollDisp(-this.ydisp);}else if(key==='G'){this.x=0,this.y=this.rows-1;this.scrollDisp(this.ybase);}
if(this.visualMode){this.selectText(ox,this.x,oy+oyd,this.ydisp+this.y);}
return;}
if(key==='H'||key==='M'||key==='L'){var ox=this.x;var oy=this.y;if(key==='H'){this.x=0,this.y=0;}else if(key==='M'){this.x=0,this.y=this.rows/2|0;}else if(key==='L'){this.x=0,this.y=this.rows-1;}
if(this.visualMode){this.selectText(ox,this.x,this.ydisp+oy,this.ydisp+this.y);}else{this.refresh(oy,oy);this.refresh(this.y,this.y);}
return;}
if(key==='{'||key==='}'){var ox=this.x;var oy=this.y;var oyd=this.ydisp;var line;var saw_full=false;var found=false;var first_is_space=-1;var y=this.y+(key==='{'?-1:1);var yb=this.ydisp;var i;if(key==='{'){if(y<0){y++;if(yb>0)yb--;}}else if(key==='}'){if(y>=this.rows){y--;if(yb<this.ybase)yb++;}}
for(;;){line=this.lines[yb+y];for(i=0;i<this.cols;i++){if(line[i][1]>' '){if(first_is_space===-1){first_is_space=0;}
saw_full=true;break;}else if(i===this.cols-1){if(first_is_space===-1){first_is_space=1;}else if(first_is_space===0){found=true;}else if(first_is_space===1){if(saw_full)found=true;}
break;}}
if(found)break;if(key==='{'){y--;if(y<0){y++;if(yb>0)yb--;else break;}}else if(key==='}'){y++;if(y>=this.rows){y--;if(yb<this.ybase)yb++;else break;}}}
if(!found){if(key==='{'){y=0;yb=0;}else if(key==='}'){y=this.rows-1;yb=this.ybase;}}
this.x=0,this.y=y;this.scrollDisp(-this.ydisp+yb);if(this.visualMode){this.selectText(ox,this.x,oy+oyd,this.ydisp+this.y);}
return;}
if(key==='/'||key==='?'){if(!this.visualMode){this.enterSearch(key==='/');}
return;}
return false;};Terminal.prototype.keySearch=function(ev,key){if(key==='\x1b'){this.leaveSearch();return;}
if(key==='\r'||(!this.searchMode&&(key==='n'||key==='N'))){this.leaveSearch();var entry=this.entry;if(!entry){this.refresh(0,this.rows-1);return;}
var ox=this.x;var oy=this.y;var oyd=this.ydisp;var line;var found=false;var wrapped=false;var x=this.x+1;var y=this.ydisp+this.y;var yb,i;var up=key==='N'?this.searchDown:!this.searchDown;for(;;){line=this.lines[y];while(x<this.cols){for(i=0;i<entry.length;i++){if(x+i>=this.cols)break;if(line[x+i][1]!==entry[i]){break;}else if(line[x+i][1]===entry[i]&&i===entry.length-1){found=true;break;}}
if(found)break;x+=i+1;}
if(found)break;x=0;if(!up){y++;if(y>this.ybase+this.rows-1){if(wrapped)break;wrapped=true;y=0;}}else{y--;if(y<0){if(wrapped)break;wrapped=true;y=this.ybase+this.rows-1;}}}
if(found){if(y-this.ybase<0){yb=y;y=0;if(yb>this.ybase){y=yb-this.ybase;yb=this.ybase;}}else{yb=this.ybase;y-=this.ybase;}
this.x=x,this.y=y;this.scrollDisp(-this.ydisp+yb);if(this.visualMode){this.selectText(ox,this.x,oy+oyd,this.ydisp+this.y);}
return;}
this.refresh(0,this.rows-1);return;}
if(key==='\b'||key==='\x7f'){if(this.entry.length===0)return;var bottom=this.ydisp+this.rows-1;this.entry=this.entry.slice(0,-1);var i=this.entryPrefix.length+this.entry.length;this.lines[bottom][i]=[this.lines[bottom][i][0],' '];this.x--;this.refresh(this.rows-1,this.rows-1);this.refresh(this.y,this.y);return;}
if(key.length===1&&key>=' '&&key<='~'){var bottom=this.ydisp+this.rows-1;this.entry+=key;var i=this.entryPrefix.length+this.entry.length-1;this.lines[bottom][i]=[(this.defAttr&~0x1ff)|4,key];this.x++;this.refresh(this.rows-1,this.rows-1);this.refresh(this.y,this.y);return;}
return false;};Terminal.charsets={};Terminal.charsets.SCLD={'`':'\u25c6','a':'\u2592','b':'\u0009','c':'\u000c','d':'\u000d','e':'\u000a','f':'\u00b0','g':'\u00b1','h':'\u2424','i':'\u000b','j':'\u2518','k':'\u2510','l':'\u250c','m':'\u2514','n':'\u253c','o':'\u23ba','p':'\u23bb','q':'\u2500','r':'\u23bc','s':'\u23bd','t':'\u251c','u':'\u2524','v':'\u2534','w':'\u252c','x':'\u2502','y':'\u2264','z':'\u2265','{':'\u03c0','|':'\u2260','}':'\u00a3','~':'\u00b7'};Terminal.charsets.UK=null;Terminal.charsets.US=null;Terminal.charsets.Dutch=null;Terminal.charsets.Finnish=null;Terminal.charsets.French=null;Terminal.charsets.FrenchCanadian=null;Terminal.charsets.German=null;Terminal.charsets.Italian=null;Terminal.charsets.NorwegianDanish=null;Terminal.charsets.Spanish=null;Terminal.charsets.Swedish=null;Terminal.charsets.Swiss=null;Terminal.charsets.ISOLatin=null;function on(el,type,handler,capture){el.addEventListener(type,handler,capture||false);}
function off(el,type,handler,capture){el.removeEventListener(type,handler,capture||false);}
function cancel(ev){if(ev.preventDefault)ev.preventDefault();ev.returnValue=false;if(ev.stopPropagation)ev.stopPropagation();ev.cancelBubble=true;return false;}
function inherits(child,parent){function f(){this.constructor=child;}
f.prototype=parent.prototype;child.prototype=new f;}
function isBoldBroken(document){var body=document.getElementsByTagName('body')[0];var el=document.createElement('span');el.innerHTML='hello world';body.appendChild(el);var w1=el.scrollWidth;el.style.fontWeight='bold';var w2=el.scrollWidth;body.removeChild(el);return w1!==w2;}
function indexOf(obj,el){var i=obj.length;while(i--){if(obj[i]===el)return i;}
return-1;}
function isWide(ch){if(ch<='\uff00')return false;return(ch>='\uff01'&&ch<='\uffbe')||(ch>='\uffc2'&&ch<='\uffc7')||(ch>='\uffca'&&ch<='\uffcf')||(ch>='\uffd2'&&ch<='\uffd7')||(ch>='\uffda'&&ch<='\uffdc')||(ch>='\uffe0'&&ch<='\uffe6')||(ch>='\uffe8'&&ch<='\uffee');}
function matchColor(r1,g1,b1){var hash=(r1<<16)|(g1<<8)|b1;if(matchColor._cache[hash]!=null){return matchColor._cache[hash];}
var ldiff=Infinity,li=-1,i=0,c,r2,g2,b2,diff;for(;i<Terminal.vcolors.length;i++){c=Terminal.vcolors[i];r2=c[0];g2=c[1];b2=c[2];diff=matchColor.distance(r1,g1,b1,r2,g2,b2);if(diff===0){li=i;break;}
if(diff<ldiff){ldiff=diff;li=i;}}
return matchColor._cache[hash]=li;}
matchColor._cache={};matchColor.distance=function(r1,g1,b1,r2,g2,b2){return Math.pow(30*(r1-r2),2)
+Math.pow(59*(g1-g2),2)
+Math.pow(11*(b1-b2),2);};function each(obj,iter,con){if(obj.forEach)return obj.forEach(iter,con);for(var i=0;i<obj.length;i++){iter.call(con,obj[i],i,obj);}}
function keys(obj){if(Object.keys)return Object.keys(obj);var key,keys=[];for(key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){keys.push(key);}}
return keys;}
Terminal.EventEmitter=EventEmitter;Terminal.inherits=inherits;Terminal.on=on;Terminal.off=off;Terminal.cancel=cancel;return Terminal;});(function(global,factory){if(typeof define==='function'&&define.amd){define('reconnecting_websocket',[],factory);}else if(typeof module!=='undefined'&&module.exports){module.exports=factory();}else{global.ReconnectingWebSocket=factory();}})(this,function(){function ReconnectingWebSocket(url,protocols){this.debug=false;this.reconnectInterval=1000;this.reconnectDecay=1.5;this.reconnectAttempts=0;this.timeoutInterval=120000;this.url=url;this.readyState=WebSocket.CONNECTING;this.protocol=null;var self=this;var ws;var forcedClose=false;var timedOut=false;var eventTarget=document.createElement('div');eventTarget.addEventListener('open',function(event){self.onopen(event);});eventTarget.addEventListener('close',function(event){self.onclose(event);});eventTarget.addEventListener('connecting',function(event){self.onconnecting(event);});eventTarget.addEventListener('message',function(event){self.onmessage(event);});eventTarget.addEventListener('error',function(event){self.onerror(event);});this.addEventListener=eventTarget.addEventListener.bind(eventTarget);this.removeEventListener=eventTarget.removeEventListener.bind(eventTarget);this.dispatchEvent=eventTarget.dispatchEvent.bind(eventTarget);function newEvent(name){var e;if(document.all||document.documentMode){e=document.createEvent('Event');e.initEvent(name,true,true);}else{e=new Event(name);}
return e;}
function connect(reconnectAttempt){ws=new WebSocket(self.url,protocols||[]);ws.binaryType='arraybuffer';if(!reconnectAttempt){eventTarget.dispatchEvent(newEvent('connecting'));}
if(self.debug||ReconnectingWebSocket.debugAll){console.debug('ReconnectingWebSocket','attempt-connect',self.url);}
var localWs=ws;var timeout=setTimeout(function(){if(self.debug||ReconnectingWebSocket.debugAll){console.debug('ReconnectingWebSocket','connection-timeout',self.url);}
timedOut=true;localWs.close();timedOut=false;},self.timeoutInterval);ws.onopen=function(event){clearTimeout(timeout);if(self.debug||ReconnectingWebSocket.debugAll){console.debug('ReconnectingWebSocket','onopen',self.url);}
self.protocol=ws.protocol;self.readyState=WebSocket.OPEN;self.reconnectAttempts=0;var e=newEvent('open');e.isReconnect=reconnectAttempt;reconnectAttempt=false;eventTarget.dispatchEvent(e);};ws.onclose=function(event){clearTimeout(timeout);ws=null;if(forcedClose){self.readyState=WebSocket.CLOSED;self.onclose(event);eventTarget.dispatchEvent(newEvent('close'));}else{self.readyState=WebSocket.CONNECTING;eventTarget.dispatchEvent(newEvent('connecting'));if(!reconnectAttempt&&!timedOut){if(self.debug||ReconnectingWebSocket.debugAll){console.debug('ReconnectingWebSocket','onclose',self.url);}
eventTarget.dispatchEvent(newEvent('close'));}
setTimeout(function(){self.reconnectAttempts++;connect(true);},self.reconnectInterval*Math.pow(self.reconnectDecay,self.reconnectAttempts));}};ws.onmessage=function(event){if(self.debug||ReconnectingWebSocket.debugAll){console.debug('ReconnectingWebSocket','onmessage',self.url,event.data);}
var e=newEvent('message');e.data=event.data;eventTarget.dispatchEvent(e);};ws.onerror=function(event){if(self.debug||ReconnectingWebSocket.debugAll){console.debug('ReconnectingWebSocket','onerror',self.url,event);}
eventTarget.dispatchEvent(newEvent('event'));};}
connect(false);this.send=function(data){if(ws){if(self.debug||ReconnectingWebSocket.debugAll){console.debug('ReconnectingWebSocket','send',self.url,data);}
return ws.send(data);}else{throw'INVALID_STATE_ERR : Pausing to reconnect websocket';}};this.close=function(code,reason){forcedClose=true;if(ws){ws.close(code,reason);}};this.refresh=function(){if(ws){ws.close();}};this.setBinaryType=function(type){type=type.toLowerCase();switch(type){case'arraybuffer':case'blob':ws.binaryType=type;break;default:ws.binaryType='arraybuffer';break;}}}
ReconnectingWebSocket.prototype.onopen=function(event){};ReconnectingWebSocket.prototype.onclose=function(event){};ReconnectingWebSocket.prototype.onconnecting=function(event){};ReconnectingWebSocket.prototype.onmessage=function(event){};ReconnectingWebSocket.prototype.onerror=function(event){};ReconnectingWebSocket.debugAll=false;ReconnectingWebSocket.CONNECTING=WebSocket.CONNECTING;ReconnectingWebSocket.OPEN=WebSocket.OPEN;ReconnectingWebSocket.CLOSING=WebSocket.CLOSING;ReconnectingWebSocket.CLOSED=WebSocket.CLOSED;return ReconnectingWebSocket;});define('font_metrics',[],function(){function FontMetrics(fontFamily,fontSize){this.parent=$('body')[0];this.family=null;this.size=null;this.sizeValue=null;this.sizeUnits=null;this.maxChar=null;this.maxCharWidth=null;this.maxCharHeight=null;this.setSize(fontSize);this.setFamily(fontFamily);}
FontMetrics._TEST_MAX_CHARS_=['W','M'];FontMetrics._TEST_ELMNT_ID_='__FONT_METRICS__';FontMetrics._TEST_ELEMENT_=null;FontMetrics.prototype.setParent=function setParent(parent){this.parent=$(parent)[0];};FontMetrics.prototype.setFamily=function setFamily(fontFamily){this.family=fontFamily;var maxCharInfo=this._getMaxCharInfo();this.maxChar=maxCharInfo.char;this.maxCharWidth=maxCharInfo.width;this.maxCharHeight=maxCharInfo.height;};FontMetrics.prototype.getFamily=function getFamily(){return this.family;};FontMetrics.prototype.setSize=function setSize(fontSize){var sizeInfo=/^(\d+)\.?\d*\s*(\w+)$/.exec(fontSize);if(!sizeInfo)throw new Error('FontMetrics can not use invalid font size '+fontSize);this.sizeValue=sizeInfo[1];this.sizeUnits=(this._isValidUnits(sizeInfo[2]))?sizeInfo[2]:'px';this.size=''+this.sizeValue+this.sizeUnits;};FontMetrics.prototype.getSize=function setSize(){return this.size;};FontMetrics.prototype.getSizeValue=function getSizeValue(){return this.sizeValue;};FontMetrics.prototype.getSizeUnits=function getSizeUnits(){return this.sizeUnits;};FontMetrics.prototype.getMaxChar=function getMaxChar(){return this.maxChar;};FontMetrics.prototype.getMaxCharWidth=function getMaxCharWidth(){return this.maxCharWidth;};FontMetrics.prototype.getMaxCharHeight=function getMaxCharHeight(){return this.maxCharHeight;};FontMetrics.prototype.getStringDimensions=function getStringDimensions(string){this._initTest();this._setTestHtml(string);return this._getTestResults();};FontMetrics.prototype.getMaxStringDimensions=function getMaxStringDimensions(numChars){var string='';for(;string.length<numChars;string+=this.maxChar){}
return this.getStringDimensions(string);};FontMetrics.prototype.toString=function toString(){return'Font Metrics:\n'+'  Family:   '+this.family+'\n'+'  Size:     '+this.size+'\n'+'    Value:  '+this.sizeValue+'\n'+'    Units:  '+this.sizeUnits+'\n'+'  Max Char: '+this.maxChar+'\n'+'    width:  '+this.maxCharWidth+' pixels\n'+'    height: '+this.maxCharHeight+' pixels';};FontMetrics.prototype._initTestElement=function _initTestElement(){var jqObj=$('#'+FontMetrics._TEST_ELMNT_ID_);if(jqObj.length===0){jqObj=jQuery('<span />',{id:FontMetrics._TEST_ELMNT_ID_,css:{position:'absolute',top:-16384,left:-16384,backgroundColor:'red',margin:'0px',padding:'0px',borderStyle:'none',outlineStyle:'none'}}).appendTo(this.parent);}
else{jqObj=jqObj.detach();jqObj.appendTo(this.parent);}
FontMetrics._TEST_ELEMENT_=jqObj[0];};FontMetrics.prototype._initTest=function _initTest(){this._initTestElement();$(FontMetrics._TEST_ELEMENT_).css({fontFamily:this.family,fontSize:this.size});};FontMetrics.prototype._setTestHtml=function _setTestHtml(html){$(FontMetrics._TEST_ELEMENT_).html(html);};FontMetrics.prototype._getTestResults=function _getTestResults(){return{width:$(FontMetrics._TEST_ELEMENT_).width(),height:$(FontMetrics._TEST_ELEMENT_).height()};};FontMetrics.prototype._getMaxCharInfo=function _getMaxCharInfo(){var dims=null,max={char:null,width:-1,height:-1};this._initTest();for(var i=0;i<FontMetrics._TEST_MAX_CHARS_.length;i++){this._setTestHtml(FontMetrics._TEST_MAX_CHARS_[i]);dims=this._getTestResults();if(dims.width>max.width){max.char=FontMetrics._TEST_MAX_CHARS_[i];max.width=dims.width;max.height=dims.height;}}
return max;};FontMetrics.prototype._isValidUnits=function _isValidUnits(units){var validUnits=false;switch(units){case'px':case'pt':validUnits=true;break;case'em':case'%':default:validUnits=false;break;}
return validUnits;};FontMetrics.prototype.constructor=FontMetrics;return FontMetrics;});!function(root,factory){if(typeof define==='function'&&define.amd){define('color_filter',['debug'],factory);}else{factory(root.jQuery);}}(this,function(Debug){var DBUG_LVL=Debug.setLocalLevel(Debug.ERROR);var REGEX_RGBA=/(\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d.?\d*)/;var defaults={color:[0,0,0],opacity:0.5,zIndex:900};function ColorFilter(element,options){var self=this;this.target=element.get(0);this.parent=this.target.parentNode;options=$.extend(true,{},defaults,options);this.element=document.createElement('div');this.element.className='color_filter';this.element.style.position='absolute';var rect=this.target.getBoundingClientRect();this._setPosition(rect.left,rect.top);this._setSize(rect.width,rect.height);this._setZIndex(options.zIndex);this.element.style.backgroundColor='rgba('+options.color+', '
+options.opacity+' )';this.parent.appendChild(this.element);this.setColor=function setColor(color){this._setColor(color);};this.setOpacity=function setOpacity(alpha){this._setOpacity(alpha);};this.setPosition=function setPosition(x,y){this._setPosition(x,y);};this.setSize=function setSize(width,hight){this._setSize(width,height);};this.setZIndex=function setZIndex(zIndex){this._setZIndex(zIndex);};this.resize=function recenter(){this._resize();};this.show=function show(){this._show();};this.hide=function hide(){this._hide();};}
ColorFilter.prototype={constructor:ColorFilter,_getColor:function _getColor(){return(REGEX_RGBA.exec(this.element.style.backgroundColor)).slice(1,4);},_setColor:function _setColor(rgb){this.element.style.backgroundColor='rgba( '+rgb+', '+this._getOpacity()+' )';},_getOpacity:function _getOpacity(){return(REGEX_RGBA.exec(this.element.style.backgroundColor))[4];},_setOpacity:function _setOpacity(alpha){this.element.style.backgroundColor='rgba( '+this._getColor()+', '+alpha+'  )';},_setPosition:function _setPosition(x,y){this.element.style.left=x+'px';this.element.style.top=y+'px';},_setSize:function _setSize(width,height){this.element.style.width=width+'px';this.element.style.height=height+'px';},_setZIndex:function _setZIndex(zIndex){this.element.style.zIndex=zIndex;},_resize:function _resize(){var pRect=this.parent.getBoundingClientRect(),tRect=this.target.getBoundingClientRect(),x=tRect.left-pRect.left,y=tRect.top-pRect.top;this._setPosition(x,y);this._setSize(tRect.width,tRect.height);},_show:function _show(){this.element.style.display='block';},_hide:function _hide(){this.element.style.display='none';}};$.fn.colorFilter=function(options){return this.each(function(){var $this=$(this);$this.data('colorFilter',new ColorFilter($this,options));});};$.fn.colorFilter.defaults=defaults;$.fn.colorFilter.ColorFilter=ColorFilter;});!function(root,factory){if(typeof define==='function'&&define.amd){define('spinner',['debug'],factory);}else{factory(root.jQuery);}}(this,function(Debug){var DBUG_LVL=Debug.setLocalLevel(Debug.ERROR);var defaults={speed:0.6,radius:30,thickness:6,style:'dotted',color:[240,240,240],zIndex:1000};function Spinner(element,options){var self=this;this._createCssKeyframes();this.target=element.get(0);this.parent=this.target.parentNode;options=$.extend(true,{},defaults,options);this.element=document.createElement('div');this.element.className='spinner';this.element.style.position='absolute';this._setRadius(options.radius);this._setZIndex(options.zIndex);this._setSpeed(options.speed);this._setColor(options.color);this._setStyle(options.style);this._setThickness(options.thickness);this.element.style.borderTopLeftRadius='50%';this.element.style.borderTopRightRadius='50%';this.element.style.borderBottomLeftRadius='50%';this.element.style.borderBottomRightRadius='50%';this.parent.appendChild(this.element);this._recenter();this.setSpeed=function setSpeed(speed){this._setSpeed(speed);};this.setRadius=function setRadius(radius){this._setRadius(radius);};this.setColor=function setColor(color){this._setColor(color);};this.setStyle=function setStyle(style){this._setStyle(style);};this.setThickness=function setThickness(thickness){this._setThickness(thickness);};this.setPosition=function setPosition(x,y){this._setPosition(x,y);};this.setZIndex=function setZIndex(zIndex){this._setZIndex(zIndex);};this.recenter=function recenter(){this._recenter();};this.show=function show(){this._show();};this.hide=function hide(){this._hide();};}
Spinner.STYLE=null;Spinner.prototype={constructor:Spinner,_createCssKeyframes:function _createCssKeyframes(){if(Spinner.STYLE!==null)return;var self=this;var head=(document.getElementsByTagName('head'))[0];Spinner.STYLE=document.createElement('style');Spinner.STYLE.id='spinner-keyframes';Spinner.STYLE.innerHTML='\n'
+'@-webkit-keyframes rotation \n{'
+'  from { -webkit-transform : rotate( 0deg );   }\n'
+'  to   { -webkit-transform : rotate( 359deg ); }\n'
+'}\n'
+'@-moz-keyframes rotation {\n'
+'  from { -moz-transform : rotate( 0deg );   }\n'
+'  to   { -moz-transform : rotate( 359deg ); }\n'
+'}\n'
+'@-o-keyframes rotation {\n'
+'  from { -o-transform : rotate( 0deg );   }\n'
+'  to   { -o-transform : rotate( 359deg ); }\n'
+'}\n'
+'@keyframes rotation {\n'
+'  from { transform : rotate( 0deg );   }\n'
+'  to   { transform : rotate( 359deg ); }\n'
+'}\n';head.insertBefore(Spinner.STYLE,head.firstChild);},_setSpeed:function _setSpeed(speed){this.speed=speed;var styles=window.getComputedStyle(document.documentElement,''),pre=(Array.prototype.slice.call(styles).join('').match(/-(moz|webkit|ms)-/)||(styles.OLink===''&&['','o']))[1],prop=pre+'AnimationDuration';if(prop in this.element.style){Debug.debug(DBUG_LVL,'Setting speed using: '+prop);this.element.style[pre+'AnimationName']='rotation';this.element.style[pre+'AnimationDuration']=speed+'s';this.element.style[pre+'AnimationIterationCount']='infinite';this.element.style[pre+'AnimationTimingFunction']='linear';}
else{this.element.style['animationName']='rotation';this.element.style['animationDuration']=speed+'s';this.element.style['animationIterationCount']='infinite';this.element.style['animationTimingFunction']='linear';}},_setRadius:function _setRadius(radius){this.radius=radius;this.element.style.width=(this.radius*2)+'px';this.element.style.height=(this.radius*2)+'px';},_setColor:function _setColor(rgb){this.element.style.borderLeftColor='rgba( '+rgb.toString()+', 0.8  )';this.element.style.borderBottomColor='rgba( '+rgb.toString()+', 0.15  )';this.element.style.borderRightColor='rgba( '+rgb.toString()+', 0.15 )';this.element.style.borderTopColor='rgba( '+rgb.toString()+', 0.15  )';},_setStyle:function _setStyle(style){this.element.style.borderLeftStyle=style;this.element.style.borderBottomStyle=style;this.element.style.borderRightStyle=style;this.element.style.borderTopStyle=style;},_setThickness:function _setThickness(thickness){this.element.style.borderLeftWidth=thickness+'px';this.element.style.borderBottomWidth=thickness+'px';this.element.style.borderRightWidth=thickness+'px';this.element.style.borderTopWidth=thickness+'px';},_setPosition:function _setPosition(x,y){this.element.style.left=x+'px';this.element.style.top=y+'px';},_setZIndex:function _setZIndex(zIndex){this.element.style.zIndex=zIndex;},_recenter:function _recenter(){var pRect=this.parent.getBoundingClientRect(),tRect=this.target.getBoundingClientRect(),eRect=this.element.getBoundingClientRect(),ox=tRect.left-pRect.left,oy=tRect.top-pRect.top;x=(tRect.width/2)-(eRect.width/2)+ox,y=(tRect.height/2)-(eRect.height/2)+oy;this._setPosition(x,y);},_show:function _show(){this.element.style.display='block';},_hide:function _hide(){this.element.style.display='none';}};$.fn.spinner=function(options){return this.each(function(){var $this=$(this);$this.data('spinner',new Spinner($this,options));});};$.fn.spinner.defaults=defaults;$.fn.spinner.Spinner=Spinner;});define('app/cli_viewer',['terminal','reconnecting_websocket','font_metrics','color_filter','spinner','debug'],function(Terminal,ReconnectingWebSocket,FontMetrics,ColorFilter,Spinner,Debug){var DBUG_LVL=Debug.setLocalLevel(Debug.WARNING);var HOSTED=true;function isHosted(){return HOSTED;}
function CliViewer(parent,id,uri,conf){var self=this;Terminal.call(this,{useStyle:true,visualBell:true});this.parent=parent;this.id=id;this.webSocketUri=uri;this.resizeGeomUri=/^wss/.test(this.webSocketUri)?'https://':'http://';this.resizeGeomUri+=(/^w[s]{1,2}:\/\/(.*\/)\w+$/g.exec(this.webSocketUri))[1]+'resize';Debug.debug(DBUG_LVL,this.resizeGeomUri);this.resizeMode=CliViewer.ResizeModes.DEFAULT;this.bellEnabled=false;this.socket=null;this.connect(this.webSocketUri);this._initSize();$(this.element).colorFilter({color:[0,0,0],zIndex:990});this.colorFilter=$(this.element).data('colorFilter');this.colorFilter.resize();$(this.element).spinner({speed:0.6,style:'solid',zIndex:1000});this.spinner=$(this.element).data('spinner');this.spinner.recenter();this.keepAliveInterval;}
CliViewer.KEEP_ALIVE_FREQ=15000;CliViewer._MIN_PIXEL_WIDTH_=80;CliViewer._MIN_PIXEL_HEIGHT_=40;CliViewer.ResizeModes={NONE:0,GEOM:1,FONT:2,DEFAULT:2};CliViewer._BELL_AUDIO_SRC_='../audio/ding.mp3';CliViewer.prototype=new Terminal({useStyle:true,visualBell:true});CliViewer.prototype.connect=function connect(uri){var self=this;if(isHosted()){this.socket=new ReconnectingWebSocket(uri,'binary');this.socket.reconnectInterval=5000;this.socket.reconnectDecay=1;}
else{this.socket=new Websocket(uri,'binary');}
this.socket.binaryType="arraybuffer";this.on('data',function(id,data){if(id===self.element.id){self.ondata(data);}});this.on('bell',function(id,data){if(id===self.element.id){self.onbell();}});this.socket.onopen=function(event){self.onopen(event);};this.socket.onclose=function(event){self.onclose(event);};this.socket.onmessage=function(event){self.onmessage(event);};this.socket.onerror=function(event){self.onerror(event);};this.open(this.parent);this.element.id=this.id;};CliViewer.prototype.disconnect=function disconnect(){this.socket.close(1000,'Disconnecting...');};CliViewer.prototype.reconnect=function reconnect(ws_uri){this.webSocketUri=ws_uri;this.socket.url=ws_uri;this.blur();var i=this.lines.length;this.lines=[];this.insertLines([i]);this.refresh(0,this.rows-1);this.x=0;this.y=0;this.focus();};CliViewer.prototype.ondata=function ondata(data){this.socket.send(data);};CliViewer.prototype.onbell=function onbell(){if(!this.isBellEnabled())return;if(this.bellAudio&&!this.bellAudio.ended)this.bellAudio.pause();bellAudio=new Audio(CliViewer._BELL_AUDIO_SRC_);bellAudio.play();};CliViewer.prototype.onopen=function onopen(event){if(this.spinner)this.spinner.hide();if(this.colorFilter)this.colorFilter.hide();};CliViewer.prototype.onclose=function onclose(event){if(this.keepAliveInterval)clearInterval(this.keepAliveInterval);if(this.colorFilter)this.colorFilter.show();if(this.spinner)this.spinner.show();};CliViewer.prototype.onmessage=function onmessage(event){this.write(event.data);};CliViewer.prototype.onerror=function onerror(event){(event);};CliViewer.prototype._initBell=function _initBell(){this.bellAudio=new Audio(CliViewer._BELL_AUDIO_SRC_);setTimeout(function(){self.enableBell(true);},500);};CliViewer.prototype.enableBell=function enableBell(enable){this.bellEnabled=enable;};CliViewer.prototype.isBellEnabled=function isBellEnabled(){return this.bellEnabled;};CliViewer.prototype.setBackgroundColor=function setBackgroundColor(color){$(this.element).css('backgroundColor',color);};CliViewer.prototype.getBackgroundColor=function setBackgroundColor(){return $(this.element).css('backgroundColor');};CliViewer.prototype.setForegroundColor=function setForegroundColor(color){$(this.element).css('color',color);};CliViewer.prototype.getForegroundColor=function getForegroundColor(){return $(this.element).css('color');};CliViewer.prototype.setResizeMode=function setResizeMode(mode){switch(mode){case CliViewer.ResizeModes.NONE:case CliViewer.ResizeModes.GEOM:case CliViewer.ResizeModes.FONT:this.resizeMode=mode;break;default:this.resizeMode=CliViewer.ResizeModes.DEFAULT;break;}
this.setSize(this.getParentWidth(),this.getParentHeight());};CliViewer.prototype.getResizeMode=function getResizeMode(){return this.resizeMode;};CliViewer.prototype.setGeometry=function setGeometry(cols,rows){$.post(this.resizeGeomUri,{w:cols,h:rows});this.resize(cols,rows);};CliViewer.prototype.getFontMetrics=function getFontMetrics(){var jqObj=$(this.element),family=jqObj.css('fontFamily'),size=jqObj.css('fontSize');return new FontMetrics(family,size);};CliViewer.prototype.setFontSize=function setFontSize(fontSize){$(this.element).css('font-size',fontSize);this.getFontMetrics();};CliViewer.prototype.getFontSize=function getFontSize(){return $(this.element).css('font-size');};CliViewer.prototype.getCols=function getCols(){return this.cols;};CliViewer.prototype.getRows=function getRows(){return this.rows;};CliViewer.prototype.getParentWidth=function getParentWidth(){return $(this.parent).width();};CliViewer.prototype.getParentHeight=function getParentHeight(){return $(this.parent).height();};CliViewer.prototype._initSize=function _initSize(){var
nCols=this.getCols(),nRows=this.getRows(),font=this.getFontMetrics();this.lastWidth=nCols*font.maxCharWidth;this.lastHeight=nRows*font.maxCharHeight;Debug.debug(DBUG_LVL,'Terminal Size: '+this.lastWidth+' x '+this.lastHeight+' pixels');Debug.debug(DBUG_LVL,font+'');this.setSize(this.getParentWidth(),this.getParentHeight());};CliViewer.prototype.setSize=function setSize(width,height){var _width=(width>CliViewer._MIN_PIXEL_WIDTH_)?width:CliViewer._MIN_PIXEL_WIDTH_,_height=(height>CliViewer._MIN_PIXEL_HEIGHT_)?height:CliViewer._MIN_PIXEL_HEIGHT_,regex=/^\d+/,elmnt=this.element,border={top:regex.exec($(elmnt).css('borderTopWidth')),right:regex.exec($(elmnt).css('borderRightWidth')),bottom:regex.exec($(elmnt).css('borderBottomWidth')),left:regex.exec($(elmnt).css('borderLeftWidth'))};mode=this.getResizeMode();_width=_width-(border.left+border.right);_height=_height-(border.top+border.bottom);switch(mode){case CliViewer.ResizeModes.NONE:break;case CliViewer.ResizeModes.GEOM:this._geomResize(_width,_height);break;case CliViewer.ResizeModes.FONT:this._fontResize(_width,_height);break;default:throw new Error('Warning: ignoring invalid resize mode');}
if(this.colorFilter)this.colorFilter.resize();if(this.spinner)this.spinner.recenter();};CliViewer.prototype._geomResize=function _geomResize(width,height){var font=this.getFontMetrics(),newCols=Math.floor(width/font.getMaxCharWidth()),newRows=Math.floor(height/font.getMaxCharHeight()),charWidth=font.getMaxCharWidth(),charHeight=font.getMaxCharHeight(),newWidth=charWidth*newCols,newHeight=charHeight*newRows;while(newWidth>=width){newWidth=charWidth*(--newCols);}
while(newHeight>=height){newHeight=charHeight*(--newRows);}
if(newWidth<=0){Debug.warning(DBUG_LVL,'Ignoring aptempt to adjust width to 0px.');return;}
if(newHeight<=0){Debug.warning(DBUG_LVL,'Ignoring aptempt to adjust height to 0px.');return;}
this.lastWidth=newWidth;this.lastHeight=newHeight;this.setGeometry(newCols,newRows);};CliViewer.prototype._fontResize=function _fontResize(width,height){var nCols=this.getCols(),nRows=this.getRows(),aspect=this.lastWidth/this.lastHeight;scale=Math.min(width/this.lastWidth,height/this.lastHeight),font=this.getFontMetrics();Debug.debug(DBUG_LVL,''
+'width = '+width+'\n'
+'height = '+height+'\n'
+'lastWidth = '+this.lastWidth+'\n'
+'lastHeight = '+this.lastHeight+'\n'
+'scale = '+scale);var
newFontSize=(Math.floor(font.sizeValue*scale)||1)+font.sizeUnits,newFont=new FontMetrics(font.family,newFontSize),newDims=newFont.getMaxStringDimensions(nCols),newWidth=newDims.width,newHeight=newDims.height*nRows,newAspect=newWidth/newHeight;while(newWidth>=width||newHeight>=height){Debug.warning(DBUG_LVL,'Initial font size estimate too large - adjusting to correct.');newFont.setSize((newFont.sizeValue-1)+newFont.sizeUnits);newDims=newFont.getMaxStringDimensions(nCols);newWidth=newDims.width;newHeight=newDims.height*nRows;newAspect=newWidth/newHeight;}
if(newWidth<=0){Debug.warning(DBUG_LVL,'Ignoring aptempt to adjust width to 0px.');return;}
if(newHeight<=0){Debug.warning(DBUG_LVL,'Ignoring aptempt to adjust height to 0px.');return;}
this.lastWidth=newWidth;this.lastHeight=newHeight;$(this.element).width(newWidth);this.setFontSize(newFont.size);};CliViewer.prototype.constructor=CliViewer;return CliViewer;});return require('app/cli_viewer');}));$(function(){$("#toursb").click(function(event){var tour=new Tour({storage:false});tour.addSteps([{orphan:true,backdrop:true,title:"Welcome to "+NDGCourse.name+"!",content:"This tour will guide you through some of the features of the course layout."},{element:"#left-tabs",placement:"bottom",title:"Navigation Tabs",content:"There are up to three tabs per chapter: chapter Content, certification exam Objectives the chapter aligns to and a list of Key Terms with definitions used in the chapter."},{element:"#tour2",placement:"right",title:"Table of Contents",content:"The table of contents can be used to navigate the chapter sections."},{element:"#device1",placement:"left",title:"Virtual Terminal",content:"Provides a Linux command line to apply concepts and commands introduced within the text."},{element:"#tour-reset",placement:"bottom",title:"Virtual Terminal",content:"If a problem occurs the virtual terminal can be reset using the drop down menu."},{element:"#tour-help",placement:"bottom",title:"Help Menu",content:"Get help, Submit feedback, and view Frequently Asked Questions."},{orphan:true,backdrop:true,title:"Thank you!",content:"This tour is located under the help menu and can be accessed again at anytime."},]);tour.init();tour.start();event.preventDefault();});});$(function(){$('#modal').modal({show:false});function loadModal(url){$.get(url,function(data){$('#modalContent').html(data);$('#modal').modal('show');});}
$('a.support').click(function(event){event.preventDefault();loadModal($(this).attr('href'));});$('#modalContent').on("click",'#feedback_next',function(event){var course=$(this).data('course');var $form=$('#feedback');if($form[0].checkValidity()){event.preventDefault();$(this).button('loading');$.get("/api/support/faq/"+course+"/search/?"+$form.serialize(),function(data){if(data.length>0){$('.step1').hide();$('.step2').show();bind_search_data(data);}else{var location=window.location.href+$('article:visible').attr('id').substring(8);$form.find('input[name="location"]').val(location);if(devices[0]!=null){$form.find('input[name="session"]').val(devices[0].session_id);}
$.post("/support/"+course+"/feedback/",$form.serialize(),function(data){$('.step1').hide();$('.step4').show();});}});}
else{document.getElementById('content-label').style.color='#FF0000';}
$('#feedback_back').click(function(event){$('#feedback_next').button('reset');$('.step2').hide();$('.step1').show();});$('#feedback_send').click(function(event){$(this).button('loading');var $form=$('#feedback');var location=window.location.href+$('article:visible').attr('id').substring(8);$form.find('input[name="location"]').val(location);if(devices[0]!=null){$form.find('input[name="session"]').val(devices[0].session_id);}
$.post("/support/"+course+"/feedback/",$form.serialize(),function(data){$('.step2').hide();$('.step4').show();}).error(function(){$('.step2').hide();$('.step1').show();$('#feedback_next').button('reset');$('#feedback_send').button('reset');});});$('#feedback_no').click(function(event){$('.step3').hide();$('.step2').show();});function strip_tags(input,allowed){allowed=(((allowed||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join('');var tags=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,commentsAndPhpTags=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;return input.replace(commentsAndPhpTags,'').replace(tags,function($0,$1){return allowed.indexOf('<'+$1.toLowerCase()+'>')>-1?$0:'';});}
function bind_search_data(data){var results="";var result_data={};data.forEach(function(each){result_data[each.id]={question:each.question,answer:each.answer};results+='<a href="'+each.url+'" class="list-group-item" data-id="'+each.id+'">';results+='<div class="pull-right"><h4><i class="fa fa-chevron-right"></i></h4></div>';results+='<h4 class="list-group-item-heading">'+each.question+'</h4>';results+='<p class="list-group-item-text">'+strip_tags(each.answer)+'</p></a>';});$('.search_results').html(results);$('.search_results a').click(function(event){event.preventDefault();$('.step2').hide();$('#question_detail').html(result_data[$(this).data('id')].question);$('#answer_detail').html(result_data[$(this).data('id')].answer);$('.step3').show();});}})});$(function(){$('[data-toggle="tooltip"]').tooltip({'placement':'top'});window.isDesktop=function(){return!jQuery.browser.mobile;};if(isDesktop()){$("#splitter").kendoSplitter({orientation:"horizontal",resize:resizeDevices});}else{$(".mobile-only").show();$(".desktop-only").hide();}
window.devices=window.devices||[];var resizeTimerId=null;function resizeDevices(){$("#splitter").find(".k-splitbar:first").blur();if(resizeTimerId!=null){clearTimeout(resizeTimerId);resizeTimerId=null;}
resizeTimerId=setTimeout(function(){window.devices.forEach(function(element,index,array){switch(element.type){case'cli':var term=element.obj;var $parent=$(element.parent);if($parent.is(':visible')){term.setSize($parent.width(),$parent.height());}
break;case'pc':var viewer=element.obj;var $parent=$(element.parent);if($parent.is(':visible')&&viewer!==undefined){viewer.get_display().autoscale($parent.width(),$parent.height(),false);viewer.get_mouse().set_scale(viewer.get_display().get_scale());}
break;}});resizeTimerId=null;},100);};$('a[data-toggle="tab"]').on('shown.bs.tab',resizeDevices);$('a[data-toggle="tab"]').on('shown.bs.tab',function(event){var id=$(event.target).attr('href').slice(0,-4);$(id+" > .terminal").trigger("focus");});$(window).on('resize',resizeDevices);$('.action_command').click(function(evt){evt.preventDefault();window.devices.forEach(function(each){logEvent(each.session_id,each.instance_id,'RESET')});$.post('/labs/command/',$(this).data('payload'),function(data){$('.action_command').data('payload')['session_id']=data['session_id'];data['topology'].forEach(function(value,index,array){devices[index].obj.reconnect(value['websocket_url']);devices[index].session_id=data['session_id'];devices[index].instance_id=data['session_id']+'.'+value['id'];logEvent(data['session_id'],data['session_id']+'.'+value['id'],'WS_ATTEMPT');})});});window.logEvent=function(sessionId,instanceId,event){$.post('https://vixen.netdevgroup.com/api/events/',{session:sessionId,instance:instanceId,event:event});};function changeSection(section){function jq(type){return"#"+type+"-"+section.replace(/(:|\.|\[|\])/g,"\\$1");}
function cleanupView(){var $visible=$('article:visible');if($visible.length===0){$visible=$('article').first();}
var previousArticle=$visible.prev();if(previousArticle.length>0){var previousSection=previousArticle.attr('id').substring(8);$('.previous > a').attr('href',previousSection);$('.previous').removeClass('disabled');}else{$('.previous').addClass('disabled');$('.previous > a').attr('href','')}
var nextArticle=$visible.next();if(nextArticle.length>0){var nextSection=nextArticle.attr('id').substring(8);$('.next > a').attr('href',nextSection);$('.next').removeClass('disabled');}else{$('.next').addClass('disabled');$('.next > a').attr('href','')}}
var $active_menus=$('a[href="'+section+'"].ndg-menu-btn');var $done_menus=$active_menus.prevAll();var $default_menus=$active_menus.nextAll();$('.ndg-menu-btn').removeClass('btn-primary');$active_menus.addClass('btn-primary active');$default_menus.addClass('btn-default');var $current=$('article:visible');if($current.length===0){$(jq('content')).delay(100).fadeIn("fast",function(){cleanupView();});}
$current.fadeOut("fast",function(){$(jq('content')).delay(100).fadeIn("fast",function(){cleanupView();});});}
$('.pager a').click(function(event){event.preventDefault();if($(this).parent().hasClass('disabled')){return;}else{changeSection($(this).attr('href'));}});$('.change_section').click(function(event){event.preventDefault();$('#left-tabs a[href="#content"]').tab('show');changeSection($(this).attr('href'));});var initialSection=$('article').first().attr('id').substring(8);changeSection(initialSection);});(function(a){(jQuery.browser=jQuery.browser||{}).mobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))})(navigator.userAgent||navigator.vendor||window.opera);^]tM      XsyXsy=OBXt2   >    :https://ndg-content.s3.amazonaws.com/cache/js/17b831fd8be1.js necko:classified 1 strongly-framed 1 security-info FnhllAKWRHGAlo+ESXykKAAAAAAAAAAAwAAAAAAAAEaphjojH6pBabDSgSnsfLHeAAQAAgAAAAAAAAAAAAAAAAAAAAAB4vFIJp5wRkeyPxAQ9RJGKPqbqVvKO0mKuIl8ec8o/uhmCjImkVxP+7sgiYWmMt8FvcOXmlQiTNWFiWlrbpbqgwAAAAAAAAVeMIIFWjCCBEKgAwIBAgIQC1koa1eKmDQNZ72WeXZP5zANBgkqhkiG9w0BAQsFADBkMQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3d3cuZGlnaWNlcnQuY29tMSMwIQYDVQQDExpEaWdpQ2VydCBCYWx0aW1vcmUgQ0EtMiBHMjAeFw0xNjA3MjkwMDAwMDBaFw0xNzExMjkxMjAwMDBaMGsxCzAJBgNVBAYTAlVTMRMwEQYDVQQIEwpXYXNoaW5ndG9uMRAwDgYDVQQHEwdTZWF0dGxlMRgwFgYDVQQKEw9BbWF6b24uY29tIEluYy4xGzAZBgNVBAMMEiouczMuYW1hem9uYXdzLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBANHJZT43ZBhuaZ4VOMEKakL8srjXyISbkKm/rcQ/ulz00YRPvFDzpog6qQUZTFcjpfeIdQFIY+4XAMkfPq3O3vyC7ooKU74EmgRs8SPr6P7eQD94EWkkqilHYUPEw3GowYow61gMdw5DMK0Zk2idHs/fzoORrF7cgBxAR3IraFA9DQ1lZnOeNxEIhELkT9JiuCJu+LmdJZ82IJsNT1EYZ6iZ+VtlDALopVu6x2/NFTTJSS1LotMFo72QPvAxg32ZWiTfT650XdQezmncT2PFceEhKlNNUlTtLMzjj9BdxHU3G2H9pSmVt8hqGmpeOpNCQWax+qTOVH2Px+Z+FItFMSMCAwEAAaOCAf8wggH7MB8GA1UdIwQYMBaAFMASsih0aEZn6XAldBoARVsGfVxEMB0GA1UdDgQWBBQl9Zbaud7X4NHRvOpPLnldTzoR1jAvBgNVHREEKDAmghIqLnMzLmFtYXpvbmF3cy5jb22CEHMzLmFtYXpvbmF3cy5jb20wDgYDVR0PAQH/BAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjCBgQYDVR0fBHoweDA6oDigNoY0aHR0cDovL2NybDMuZGlnaWNlcnQuY29tL0RpZ2lDZXJ0QmFsdGltb3JlQ0EtMkcyLmNybDA6oDigNoY0aHR0cDovL2NybDQuZGlnaWNlcnQuY29tL0RpZ2lDZXJ0QmFsdGltb3JlQ0EtMkcyLmNybDBMBgNVHSAERTBDMDcGCWCGSAGG/WwBATAqMCgGCCsGAQUFBwIBFhxodHRwczovL3d3dy5kaWdpY2VydC5jb20vQ1BTMAgGBmeBDAECAjB5BggrBgEFBQcBAQRtMGswJAYIKwYBBQUHMAGGGGh0dHA6Ly9vY3NwLmRpZ2ljZXJ0LmNvbTBDBggrBgEFBQcwAoY3aHR0cDovL2NhY2VydHMuZGlnaWNlcnQuY29tL0RpZ2lDZXJ0QmFsdGltb3JlQ0EtMkcyLmNydDAMBgNVHRMBAf8EAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQA8AQJsjv4mnxJFMODHLlzUi94ew7csKdMVdNRKA0iHbqbt0Nf2fE/YdB0qQT/oPFt2NUPY8nOqAEyc4whHqj2Nrs/t4pyHGnTf7pJ9ShqP1zRYIW4YSvYv7vgrxDbtq4gqufA3Ra+QWVuihwLz0lP67Utvu4mmy+lGIbWiasbVCid8XeDAl1L4IV1MvUTqXnUx9ZbyKaGNr5as/mwVNA6wyQP7nufru+Cyy75q5xazrfzh+iVewTVWEJhmajyYcv9V5bcp/8yW3aujRUIxzIo5ND82YR1knODs8UShps6AtKT7RDVCX1Ny0EB1zWVJ1Gb2NfcJTHR3r4rtL7F4lUKtwC8AAwAAAAABAQAA request-method GET response-head HTTP/1.1 200 OK
Etag: "17b831fd8be1fa4b6e2013e4b06ba123"
Accept-Ranges: bytes
Content-Type: application/javascript
Content-Length: 505298
x-amz-id-2: JvwrqTMRMYag7thEwUK/m/dmeM2eDl1O/0w/QHCk+KjLCErI4n36qfiK/l/kZ/APyKNxI7LEEs4=
x-amz-request-id: 2B5284393525EA91
Date: Mon, 09 Jan 2017 11:53:23 GMT
Last-Modified: Thu, 18 Aug 2016 09:27:55 GMT
Cache-Control: max-age=86400
Server: AmazonS3
 original-response-headers x-amz-id-2: pfgoJ5yJ43HYxta1tqRzMvzK5pkUhkkPDFxQcBaYSH8wfD2TzWjO+pxXTEC3gN8VSaSM71g+Kqk=
x-amz-request-id: B72D33FBDBAF6783
Date: Mon, 10 Oct 2016 09:54:09 GMT
Last-Modified: Thu, 18 Aug 2016 09:27:55 GMT
Etag: "17b831fd8be1fa4b6e2013e4b06ba123"
Cache-Control: max-age=86400
Accept-Ranges: bytes
Content-Type: application/javascript
Content-Length: 505298
Server: AmazonS3
 uncompressed-len 0  