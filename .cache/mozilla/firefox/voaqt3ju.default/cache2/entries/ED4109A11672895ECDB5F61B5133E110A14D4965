/*! jQuery v2.1.4 | (c) 2005, 2015 jQuery Foundation, Inc. | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=a.document,m="2.1.4",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!n.isArray(a)&&a-parseFloat(a)+1>=0},isPlainObject:function(a){return"object"!==n.type(a)||a.nodeType||n.isWindow(a)?!1:a.constructor&&!j.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=l.createElement("script"),b.text=a,l.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:g.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(e=d.call(arguments,2),f=function(){return a.apply(b||this,e.concat(d.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:k}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function s(a){var b="length"in a&&a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=M.replace("w","w#"),O="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",P=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",Q=new RegExp(L+"+","g"),R=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),S=new RegExp("^"+L+"*,"+L+"*"),T=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),U=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),V=new RegExp(P),W=new RegExp("^"+N+"$"),X={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,aa=/[+~]/,ba=/'|\\/g,ca=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),da=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ea=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(fa){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function ga(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],k=b.nodeType,"string"!=typeof a||!a||1!==k&&9!==k&&11!==k)return d;if(!e&&p){if(11!==k&&(f=_.exec(a)))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return H.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName)return H.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=1!==k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(ba,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--)o[l]=s+ra(o[l]);w=aa.test(a)&&pa(b.parentNode)||b,x=o.join(",")}if(x)try{return H.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function ha(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return ia(function(b){return b=+b,ia(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function pa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=g.documentElement,e=g.defaultView,e&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",ea,!1):e.attachEvent&&e.attachEvent("onunload",ea)),p=!f(g),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(g.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(g.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!g.getElementsByName||!g.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(g.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){var b=g.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",P)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===g||a.ownerDocument===v&&t(v,a)?-1:b===g||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return la(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?la(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},g):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ca,da),a[3]=(a[3]||a[4]||a[5]||"").replace(ca,da),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ca,da).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(Q," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?ia(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(ca,da),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return W.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(ca,da).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:oa(function(){return[0]}),last:oa(function(a,b){return[b-1]}),eq:oa(function(a,b,c){return[0>c?c+b:c]}),even:oa(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:oa(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:oa(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:oa(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=ma(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=na(b);function qa(){}qa.prototype=d.filters=d.pseudos,d.setFilters=new qa,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)};function ra(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function sa(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function ta(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ua(a,b,c){for(var d=0,e=b.length;e>d;d++)ga(a,b[d],c);return c}function va(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function wa(a,b,c,d,e,f){return d&&!d[u]&&(d=wa(d)),e&&!e[u]&&(e=wa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ua(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:va(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=va(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=va(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function xa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=sa(function(a){return a===b},h,!0),l=sa(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[sa(ta(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return wa(i>1&&ta(m),i>1&&ra(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&xa(a.slice(i,e)),f>e&&xa(a=a.slice(e)),f>e&&ra(a))}m.push(c)}return ta(m)}function ya(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=F.call(i));s=va(s)}H.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&ga.uniqueSort(i)}return k&&(w=v,j=t),r};return c?ia(f):f}return h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=xa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,ya(e,d)),f.selector=a}return f},i=ga.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ca,da),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ca,da),aa.test(j[0].type)&&pa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&ra(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,aa.test(a)&&pa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(w.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return g.call(b,a)>=0!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return!!x(this,"string"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=n.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:l,!0)),v.test(c[1])&&n.isPlainObject(b))for(c in b)n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=l.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=l,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};A.prototype=n.fn,y=n(l);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.unique(f):f)},index:function(a){return a?"string"==typeof a?g.call(n(a),this[0]):g.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,c){return n.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,c){return n.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return n.dir(a,"previousSibling",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(C[a]||n.unique(e),B.test(a)&&e.reverse()),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return n.each(a.match(E)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(b=a.memory&&l,c=!0,g=e||0,e=0,f=h.length,d=!0;h&&f>g;g++)if(h[g].apply(l[0],l[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,h&&(i?i.length&&j(i.shift()):b?h=[]:k.disable())},k={add:function(){if(h){var c=h.length;!function g(b){n.each(b,function(b,c){var d=n.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&g(c)})}(arguments),d?f=h.length:b&&(e=c,j(b))}return this},remove:function(){return h&&n.each(arguments,function(a,b){var c;while((c=n.inArray(b,h,c))>-1)h.splice(c,1),d&&(f>=c&&f--,g>=c&&g--)}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],f=0,this},disable:function(){return h=i=b=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,b||k.disable(),this},locked:function(){return!i},fireWith:function(a,b){return!h||c&&!i||(b=b||[],b=[a,b.slice?b.slice():b],d?i.push(b):j(b)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!c}};return k},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(H.resolveWith(l,[n]),n.fn.triggerHandler&&(n(l).triggerHandler("ready"),n(l).off("ready"))))}});function I(){l.removeEventListener("DOMContentLoaded",I,!1),a.removeEventListener("load",I,!1),n.ready()}n.ready.promise=function(b){return H||(H=n.Deferred(),"complete"===l.readyState?setTimeout(n.ready):(l.addEventListener("DOMContentLoaded",I,!1),a.addEventListener("load",I,!1))),H.promise(b)},n.ready.promise();var J=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)n.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};n.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=n.expando+K.uid++}K.uid=1,K.accepts=n.acceptData,K.prototype={key:function(a){if(!K.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=K.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,n.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(n.isEmptyObject(f))n.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(E)||[])),c=d.length;while(c--)delete g[d[c]]}},hasData:function(a){return!n.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var L=new K,M=new K,N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function P(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(O,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}M.set(a,b,c)}else c=void 0;return c}n.extend({hasData:function(a){return M.hasData(a)||L.hasData(a)},data:function(a,b,c){
return M.access(a,b,c)},removeData:function(a,b){M.remove(a,b)},_data:function(a,b,c){return L.access(a,b,c)},_removeData:function(a,b){L.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=M.get(f),1===f.nodeType&&!L.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d])));L.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){M.set(this,a)}):J(this,function(b){var c,d=n.camelCase(a);if(f&&void 0===b){if(c=M.get(f,a),void 0!==c)return c;if(c=M.get(f,d),void 0!==c)return c;if(c=P(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=M.get(this,d);M.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&M.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){M.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=L.get(a,b),c&&(!d||n.isArray(c)?d=L.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return L.get(a,c)||L.access(a,c,{empty:n.Callbacks("once memory").add(function(){L.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=L.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,R=["Top","Right","Bottom","Left"],S=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},T=/^(?:checkbox|radio)$/i;!function(){var a=l.createDocumentFragment(),b=a.appendChild(l.createElement("div")),c=l.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var U="undefined";k.focusinBubbles="onfocusin"in a;var V=/^key/,W=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;function Z(){return!0}function $(){return!1}function _(){try{return l.activeElement}catch(a){}}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return typeof n!==U&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(E)||[""],j=b.length;while(j--)h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.hasData(a)&&L.get(a);if(r&&(i=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--)if(h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&(delete r.handle,L.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,m,o,p=[d||l],q=j.call(b,"type")?b.type:b,r=j.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||l,3!==d.nodeType&&8!==d.nodeType&&!X.test(q+n.event.triggered)&&(q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),k=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=r.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},e||!o.trigger||o.trigger.apply(d,c)!==!1)){if(!e&&!o.noBubble&&!n.isWindow(d)){for(i=o.delegateType||q,X.test(i+q)||(g=g.parentNode);g;g=g.parentNode)p.push(g),h=g;h===(d.ownerDocument||l)&&p.push(h.defaultView||h.parentWindow||a)}f=0;while((g=p[f++])&&!b.isPropagationStopped())b.type=f>1?i:o.bindType||q,m=(L.get(g,"events")||{})[b.type]&&L.get(g,"handle"),m&&m.apply(g,c),m=k&&g[k],m&&m.apply&&n.acceptData(g)&&(b.result=m.apply(g,c),b.result===!1&&b.preventDefault());return b.type=q,e||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!n.acceptData(d)||k&&n.isFunction(d[q])&&!n.isWindow(d)&&(h=d[k],h&&(d[k]=null),n.event.triggered=q,d[q](),n.event.triggered=void 0,h&&(d[k]=h)),b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(L.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,e=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(a.result=e)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>=0:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||l,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=W.test(e)?this.mouseHooks:V.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=l),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?Z:$):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Z,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=Z,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=Z,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=L.access(d,b);e||d.addEventListener(a,c,!0),L.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=L.access(d,b)-1;e?L.access(d,b,e):(d.removeEventListener(a,c,!0),L.remove(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=$;else if(!d)return this;return 1===e&&(f=d,d=function(a){return n().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=$),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var aa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ba=/<([\w:]+)/,ca=/<|&#?\w+;/,da=/<(?:script|style|link)/i,ea=/checked\s*(?:[^=]|=\s*.checked.)/i,fa=/^$|\/(?:java|ecma)script/i,ga=/^true\/(.*)/,ha=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ia={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ia.optgroup=ia.option,ia.tbody=ia.tfoot=ia.colgroup=ia.caption=ia.thead,ia.th=ia.td;function ja(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function ka(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function la(a){var b=ga.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function ma(a,b){for(var c=0,d=a.length;d>c;c++)L.set(a[c],"globalEval",!b||L.get(b[c],"globalEval"))}function na(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(L.hasData(a)&&(f=L.access(a),g=L.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}M.hasData(a)&&(h=M.access(a),i=n.extend({},h),M.set(b,i))}}function oa(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function pa(a,b){var c=b.nodeName.toLowerCase();"input"===c&&T.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}n.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=oa(h),f=oa(a),d=0,e=f.length;e>d;d++)pa(f[d],g[d]);if(b)if(c)for(f=f||oa(a),g=g||oa(h),d=0,e=f.length;e>d;d++)na(f[d],g[d]);else na(a,h);return g=oa(h,"script"),g.length>0&&ma(g,!i&&oa(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,o=a.length;o>m;m++)if(e=a[m],e||0===e)if("object"===n.type(e))n.merge(l,e.nodeType?[e]:e);else if(ca.test(e)){f=f||k.appendChild(b.createElement("div")),g=(ba.exec(e)||["",""])[1].toLowerCase(),h=ia[g]||ia._default,f.innerHTML=h[1]+e.replace(aa,"<$1></$2>")+h[2],j=h[0];while(j--)f=f.lastChild;n.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));k.textContent="",m=0;while(e=l[m++])if((!d||-1===n.inArray(e,d))&&(i=n.contains(e.ownerDocument,e),f=oa(k.appendChild(e),"script"),i&&ma(f),c)){j=0;while(e=f[j++])fa.test(e.type||"")&&c.push(e)}return k},cleanData:function(a){for(var b,c,d,e,f=n.event.special,g=0;void 0!==(c=a[g]);g++){if(n.acceptData(c)&&(e=c[L.expando],e&&(b=L.cache[e]))){if(b.events)for(d in b.events)f[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);L.cache[e]&&delete L.cache[e]}delete M.cache[c[M.expando]]}}}),n.fn.extend({text:function(a){return J(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=ja(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=ja(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||n.cleanData(oa(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&ma(oa(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(oa(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return J(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!da.test(a)&&!ia[(ba.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(aa,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(oa(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(oa(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,m=this,o=l-1,p=a[0],q=n.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&ea.test(p))return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(c=n.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(f=n.map(oa(c,"script"),ka),g=f.length;l>j;j++)h=c,j!==o&&(h=n.clone(h,!0,!0),g&&n.merge(f,oa(h,"script"))),b.call(this[j],h,j);if(g)for(i=f[f.length-1].ownerDocument,n.map(f,la),j=0;g>j;j++)h=f[j],fa.test(h.type||"")&&!L.access(h,"globalEval")&&n.contains(i,h)&&(h.src?n._evalUrl&&n._evalUrl(h.src):n.globalEval(h.textContent.replace(ha,"")))}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),g=e.length-1,h=0;g>=h;h++)c=h===g?this:this.clone(!0),n(e[h])[b](c),f.apply(d,c.get());return this.pushStack(d)}});var qa,ra={};function sa(b,c){var d,e=n(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:n.css(e[0],"display");return e.detach(),f}function ta(a){var b=l,c=ra[a];return c||(c=sa(a,b),"none"!==c&&c||(qa=(qa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=qa[0].contentDocument,b.write(),b.close(),c=sa(a,b),qa.detach()),ra[a]=c),c}var ua=/^margin/,va=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),wa=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)};function xa(a,b,c){var d,e,f,g,h=a.style;return c=c||wa(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),va.test(g)&&ua.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function ya(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d=l.documentElement,e=l.createElement("div"),f=l.createElement("div");if(f.style){f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===f.style.backgroundClip,e.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",e.appendChild(f);function g(){f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",f.innerHTML="",d.appendChild(e);var g=a.getComputedStyle(f,null);b="1%"!==g.top,c="4px"===g.width,d.removeChild(e)}a.getComputedStyle&&n.extend(k,{pixelPosition:function(){return g(),b},boxSizingReliable:function(){return null==c&&g(),c},reliableMarginRight:function(){var b,c=f.appendChild(l.createElement("div"));return c.style.cssText=f.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",f.style.width="1px",d.appendChild(e),b=!parseFloat(a.getComputedStyle(c,null).marginRight),d.removeChild(e),f.removeChild(c),b}})}}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var za=/^(none|table(?!-c[ea]).+)/,Aa=new RegExp("^("+Q+")(.*)$","i"),Ba=new RegExp("^([+-])=("+Q+")","i"),Ca={position:"absolute",visibility:"hidden",display:"block"},Da={letterSpacing:"0",fontWeight:"400"},Ea=["Webkit","O","Moz","ms"];function Fa(a,b){if(b in a)return b;var c=b[0].toUpperCase()+b.slice(1),d=b,e=Ea.length;while(e--)if(b=Ea[e]+c,b in a)return b;return d}function Ga(a,b,c){var d=Aa.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Ha(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+R[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+R[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+R[f]+"Width",!0,e))):(g+=n.css(a,"padding"+R[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+R[f]+"Width",!0,e)));return g}function Ia(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=wa(a),g="border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=xa(a,b,f),(0>e||null==e)&&(e=a.style[b]),va.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Ha(a,b,c||(g?"border":"content"),d,f)+"px"}function Ja(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=L.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&S(d)&&(f[g]=L.access(d,"olddisplay",ta(d.nodeName)))):(e=S(d),"none"===c&&e||L.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=xa(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Fa(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Ba.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||n.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Fa(a.style,h)),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=xa(a,b,d)),"normal"===e&&b in Da&&(e=Da[b]),""===c||c?(f=parseFloat(e),c===!0||n.isNumeric(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?za.test(n.css(a,"display"))&&0===a.offsetWidth?n.swap(a,Ca,function(){return Ia(a,b,d)}):Ia(a,b,d):void 0},set:function(a,c,d){var e=d&&wa(a);return Ga(a,c,d?Ha(a,b,d,"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),n.cssHooks.marginRight=ya(k.reliableMarginRight,function(a,b){return b?n.swap(a,{display:"inline-block"},xa,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+R[d]+b]=f[d]||f[d-2]||f[0];return e}},ua.test(a)||(n.cssHooks[a+b].set=Ga)}),n.fn.extend({css:function(a,b){return J(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=wa(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Ja(this,!0)},hide:function(){return Ja(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){S(this)?n(this).show():n(this).hide()})}});function Ka(a,b,c,d,e){return new Ka.prototype.init(a,b,c,d,e)}n.Tween=Ka,Ka.prototype={constructor:Ka,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Ka.propHooks[this.prop];return a&&a.get?a.get(this):Ka.propHooks._default.get(this)},run:function(a){var b,c=Ka.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ka.propHooks._default.set(this),this}},Ka.prototype.init.prototype=Ka.prototype,Ka.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Ka.propHooks.scrollTop=Ka.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},n.fx=Ka.prototype.init,n.fx.step={};var La,Ma,Na=/^(?:toggle|show|hide)$/,Oa=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),Pa=/queueHooks$/,Qa=[Va],Ra={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Oa.exec(b),f=e&&e[3]||(n.cssNumber[a]?"":"px"),g=(n.cssNumber[a]||"px"!==f&&+d)&&Oa.exec(n.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,n.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function Sa(){return setTimeout(function(){La=void 0}),La=n.now()}function Ta(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=R[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ua(a,b,c){for(var d,e=(Ra[b]||[]).concat(Ra["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Va(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&S(a),q=L.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?L.get(a,"olddisplay")||ta(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Na.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?ta(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=L.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;L.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ua(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function Wa(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Xa(a,b,c){var d,e,f=0,g=Qa.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=La||Sa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:La||Sa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Wa(k,j.opts.specialEasing);g>f;f++)if(d=Qa[f].call(j,a,k,j.opts))return d;return n.map(k,Ua,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(Xa,{tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],Ra[c]=Ra[c]||[],Ra[c].unshift(b)},prefilter:function(a,b){b?Qa.unshift(a):Qa.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(S).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=Xa(this,n.extend({},a),f);(e||L.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=L.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Pa.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=L.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Ta(b,!0),a,d,e)}}),n.each({slideDown:Ta("show"),slideUp:Ta("hide"),slideToggle:Ta("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(La=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),La=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ma||(Ma=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(Ma),Ma=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=l.createElement("input"),b=l.createElement("select"),c=b.appendChild(l.createElement("option"));a.type="checkbox",k.checkOn=""!==a.value,k.optSelected=c.selected,b.disabled=!0,k.optDisabled=!c.disabled,a=l.createElement("input"),a.value="t",a.type="radio",k.radioValue="t"===a.value}();var Ya,Za,$a=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return J(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===U?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?Za:Ya)),
void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=n.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void n.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),Za={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=$a[b]||n.find.attr;$a[b]=function(a,b,d){var e,f;return d||(f=$a[b],$a[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,$a[b]=f),e}});var _a=/^(?:input|select|textarea|button)$/i;n.fn.extend({prop:function(a,b){return J(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!n.isXMLDoc(a),f&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||_a.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),k.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var ab=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ab," "):" ")){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=n.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ab," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?n.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(n.isFunction(a)?function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=n(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===U||"boolean"===c)&&(this.className&&L.set(this,"__className__",this.className),this.className=this.className||a===!1?"":L.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ab," ").indexOf(b)>=0)return!0;return!1}});var bb=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(bb,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},k.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var cb=n.now(),db=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+a),b};var eb=/#.*$/,fb=/([?&])_=[^&]*/,gb=/^(.*?):[ \t]*([^\r\n]*)$/gm,hb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ib=/^(?:GET|HEAD)$/,jb=/^\/\//,kb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,lb={},mb={},nb="*/".concat("*"),ob=a.location.href,pb=kb.exec(ob.toLowerCase())||[];function qb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(n.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function rb(a,b,c,d){var e={},f=a===mb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function sb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function tb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function ub(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ob,type:"GET",isLocal:hb.test(pb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":nb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?sb(sb(a,n.ajaxSettings),b):sb(n.ajaxSettings,a)},ajaxPrefilter:qb(lb),ajaxTransport:qb(mb),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!f){f={};while(b=gb.exec(e))f[b[1].toLowerCase()]=b[2]}b=f[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?e:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return c&&c.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||ob)+"").replace(eb,"").replace(jb,pb[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(h=kb.exec(k.url.toLowerCase()),k.crossDomain=!(!h||h[1]===pb[1]&&h[2]===pb[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(pb[3]||("http:"===pb[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),rb(lb,k,b,v),2===t)return v;i=n.event&&k.global,i&&0===n.active++&&n.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!ib.test(k.type),d=k.url,k.hasContent||(k.data&&(d=k.url+=(db.test(d)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=fb.test(d)?d.replace(fb,"$1_="+cb++):d+(db.test(d)?"&":"?")+"_="+cb++)),k.ifModified&&(n.lastModified[d]&&v.setRequestHeader("If-Modified-Since",n.lastModified[d]),n.etag[d]&&v.setRequestHeader("If-None-Match",n.etag[d])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+nb+"; q=0.01":""):k.accepts["*"]);for(j in k.headers)v.setRequestHeader(j,k.headers[j]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(j in{success:1,error:1,complete:1})v[j](k[j]);if(c=rb(mb,k,b,v)){v.readyState=1,i&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,c.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,f,h){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),c=void 0,e=h||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,f&&(u=tb(k,v,f)),u=ub(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(n.lastModified[d]=w),w=v.getResponseHeader("etag"),w&&(n.etag[d]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,i&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),i&&(m.trigger("ajaxComplete",[v,k]),--n.active||n.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(n.isFunction(a)?function(b){n(this).wrapInner(a.call(this,b))}:function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var vb=/%20/g,wb=/\[\]$/,xb=/\r?\n/g,yb=/^(?:submit|button|image|reset|file)$/i,zb=/^(?:input|select|textarea|keygen)/i;function Ab(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||wb.test(a)?d(a,e):Ab(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Ab(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Ab(c,a[c],b,e);return d.join("&").replace(vb,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&zb.test(this.nodeName)&&!yb.test(a)&&(this.checked||!T.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(xb,"\r\n")}}):{name:b.name,value:c.replace(xb,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Bb=0,Cb={},Db={0:200,1223:204},Eb=n.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Cb)Cb[a]()}),k.cors=!!Eb&&"withCredentials"in Eb,k.ajax=Eb=!!Eb,n.ajaxTransport(function(a){var b;return k.cors||Eb&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Bb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Cb[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Db[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Cb[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=n("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),l.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Fb=[],Gb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Fb.pop()||n.expando+"_"+cb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Gb.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Gb,"$1"+e):b.jsonp!==!1&&(b.url+=(db.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Fb.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||l;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var Hb=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Hb)return Hb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var Ib=a.document.documentElement;function Jb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(typeof d.getBoundingClientRect!==U&&(e=d.getBoundingClientRect()),c=Jb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||Ib;while(a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position"))a=a.offsetParent;return a||Ib})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;n.fn[b]=function(e){return J(this,function(b,e,f){var g=Jb(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=ya(k.pixelPosition,function(a,c){return c?(c=xa(a,b),va.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return J(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Kb=a.jQuery,Lb=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Lb),b&&a.jQuery===n&&(a.jQuery=Kb),n},typeof b===U&&(a.jQuery=a.$=n),n});
//# sourceMappingURL=jquery.min.map
;var swfobject=function(){var D="undefined",r="object",S="Shockwave Flash",W="ShockwaveFlash.ShockwaveFlash",q="application/x-shockwave-flash",R="SWFObjectExprInst",x="onreadystatechange",O=window,j=document,t=navigator,T=false,U=[h],o=[],N=[],I=[],l,Q,E,B,J=false,a=false,n,G,m=true,M=function(){var aa=typeof j.getElementById!=D&&typeof j.getElementsByTagName!=D&&typeof j.createElement!=D,ah=t.userAgent.toLowerCase(),Y=t.platform.toLowerCase(),ae=Y?/win/.test(Y):/win/.test(ah),ac=Y?/mac/.test(Y):/mac/.test(ah),af=/webkit/.test(ah)?parseFloat(ah.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,X=!+"\v1",ag=[0,0,0],ab=null;if(typeof t.plugins!=D&&typeof t.plugins[S]==r){ab=t.plugins[S].description;if(ab&&!(typeof t.mimeTypes!=D&&t.mimeTypes[q]&&!t.mimeTypes[q].enabledPlugin)){T=true;X=false;ab=ab.replace(/^.*\s+(\S+\s+\S+$)/,"$1");ag[0]=parseInt(ab.replace(/^(.*)\..*$/,"$1"),10);ag[1]=parseInt(ab.replace(/^.*\.(.*)\s.*$/,"$1"),10);ag[2]=/[a-zA-Z]/.test(ab)?parseInt(ab.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof O.ActiveXObject!=D){try{var ad=new ActiveXObject(W);if(ad){ab=ad.GetVariable("$version");if(ab){X=true;ab=ab.split(" ")[1].split(",");ag=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}}catch(Z){}}}return{w3:aa,pv:ag,wk:af,ie:X,win:ae,mac:ac}}(),k=function(){if(!M.w3){return}if((typeof j.readyState!=D&&j.readyState=="complete")||(typeof j.readyState==D&&(j.getElementsByTagName("body")[0]||j.body))){f()}if(!J){if(typeof j.addEventListener!=D){j.addEventListener("DOMContentLoaded",f,false)}if(M.ie&&M.win){j.attachEvent(x,function(){if(j.readyState=="complete"){j.detachEvent(x,arguments.callee);f()}});if(O==top){(function(){if(J){return}try{j.documentElement.doScroll("left")}catch(X){setTimeout(arguments.callee,0);return}f()})()}}if(M.wk){(function(){if(J){return}if(!/loaded|complete/.test(j.readyState)){setTimeout(arguments.callee,0);return}f()})()}s(f)}}();function f(){if(J){return}try{var Z=j.getElementsByTagName("body")[0].appendChild(C("span"));Z.parentNode.removeChild(Z)}catch(aa){return}J=true;var X=U.length;for(var Y=0;Y<X;Y++){U[Y]()}}function K(X){if(J){X()}else{U[U.length]=X}}function s(Y){if(typeof O.addEventListener!=D){O.addEventListener("load",Y,false)}else{if(typeof j.addEventListener!=D){j.addEventListener("load",Y,false)}else{if(typeof O.attachEvent!=D){i(O,"onload",Y)}else{if(typeof O.onload=="function"){var X=O.onload;O.onload=function(){X();Y()}}else{O.onload=Y}}}}}function h(){if(T){V()}else{H()}}function V(){var X=j.getElementsByTagName("body")[0];var aa=C(r);aa.setAttribute("type",q);var Z=X.appendChild(aa);if(Z){var Y=0;(function(){if(typeof Z.GetVariable!=D){var ab=Z.GetVariable("$version");if(ab){ab=ab.split(" ")[1].split(",");M.pv=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}else{if(Y<10){Y++;setTimeout(arguments.callee,10);return}}X.removeChild(aa);Z=null;H()})()}else{H()}}function H(){var ag=o.length;if(ag>0){for(var af=0;af<ag;af++){var Y=o[af].id;var ab=o[af].callbackFn;var aa={success:false,id:Y};if(M.pv[0]>0){var ae=c(Y);if(ae){if(F(o[af].swfVersion)&&!(M.wk&&M.wk<312)){w(Y,true);if(ab){aa.success=true;aa.ref=z(Y);ab(aa)}}else{if(o[af].expressInstall&&A()){var ai={};ai.data=o[af].expressInstall;ai.width=ae.getAttribute("width")||"0";ai.height=ae.getAttribute("height")||"0";if(ae.getAttribute("class")){ai.styleclass=ae.getAttribute("class")}if(ae.getAttribute("align")){ai.align=ae.getAttribute("align")}var ah={};var X=ae.getElementsByTagName("param");var ac=X.length;for(var ad=0;ad<ac;ad++){if(X[ad].getAttribute("name").toLowerCase()!="movie"){ah[X[ad].getAttribute("name")]=X[ad].getAttribute("value")}}P(ai,ah,Y,ab)}else{p(ae);if(ab){ab(aa)}}}}}else{w(Y,true);if(ab){var Z=z(Y);if(Z&&typeof Z.SetVariable!=D){aa.success=true;aa.ref=Z}ab(aa)}}}}}function z(aa){var X=null;var Y=c(aa);if(Y&&Y.nodeName=="OBJECT"){if(typeof Y.SetVariable!=D){X=Y}else{var Z=Y.getElementsByTagName(r)[0];if(Z){X=Z}}}return X}function A(){return!a&&F("6.0.65")&&(M.win||M.mac)&&!(M.wk&&M.wk<312)}function P(aa,ab,X,Z){a=true;E=Z||null;B={success:false,id:X};var ae=c(X);if(ae){if(ae.nodeName=="OBJECT"){l=g(ae);Q=null}else{l=ae;Q=X}aa.id=R;if(typeof aa.width==D||(!/%$/.test(aa.width)&&parseInt(aa.width,10)<310)){aa.width="310"}if(typeof aa.height==D||(!/%$/.test(aa.height)&&parseInt(aa.height,10)<137)){aa.height="137"}j.title=j.title.slice(0,47)+" - Flash Player Installation";var ad=M.ie&&M.win?"ActiveX":"PlugIn",ac="MMredirectURL="+O.location.toString().replace(/&/g,"%26")+"&MMplayerType="+ad+"&MMdoctitle="+j.title;if(typeof ab.flashvars!=D){ab.flashvars+="&"+ac}else{ab.flashvars=ac}if(M.ie&&M.win&&ae.readyState!=4){var Y=C("div");X+="SWFObjectNew";Y.setAttribute("id",X);ae.parentNode.insertBefore(Y,ae);ae.style.display="none";(function(){if(ae.readyState==4){ae.parentNode.removeChild(ae)}else{setTimeout(arguments.callee,10)}})()}u(aa,ab,X)}}function p(Y){if(M.ie&&M.win&&Y.readyState!=4){var X=C("div");Y.parentNode.insertBefore(X,Y);X.parentNode.replaceChild(g(Y),X);Y.style.display="none";(function(){if(Y.readyState==4){Y.parentNode.removeChild(Y)}else{setTimeout(arguments.callee,10)}})()}else{Y.parentNode.replaceChild(g(Y),Y)}}function g(ab){var aa=C("div");if(M.win&&M.ie){aa.innerHTML=ab.innerHTML}else{var Y=ab.getElementsByTagName(r)[0];if(Y){var ad=Y.childNodes;if(ad){var X=ad.length;for(var Z=0;Z<X;Z++){if(!(ad[Z].nodeType==1&&ad[Z].nodeName=="PARAM")&&!(ad[Z].nodeType==8)){aa.appendChild(ad[Z].cloneNode(true))}}}}}return aa}function u(ai,ag,Y){var X,aa=c(Y);if(M.wk&&M.wk<312){return X}if(aa){if(typeof ai.id==D){ai.id=Y}if(M.ie&&M.win){var ah="";for(var ae in ai){if(ai[ae]!=Object.prototype[ae]){if(ae.toLowerCase()=="data"){ag.movie=ai[ae]}else{if(ae.toLowerCase()=="styleclass"){ah+=' class="'+ai[ae]+'"'}else{if(ae.toLowerCase()!="classid"){ah+=" "+ae+'="'+ai[ae]+'"'}}}}}var af="";for(var ad in ag){if(ag[ad]!=Object.prototype[ad]){af+='<param name="'+ad+'" value="'+ag[ad]+'" />'}}aa.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+ah+">"+af+"</object>";N[N.length]=ai.id;X=c(ai.id)}else{var Z=C(r);Z.setAttribute("type",q);for(var ac in ai){if(ai[ac]!=Object.prototype[ac]){if(ac.toLowerCase()=="styleclass"){Z.setAttribute("class",ai[ac])}else{if(ac.toLowerCase()!="classid"){Z.setAttribute(ac,ai[ac])}}}}for(var ab in ag){if(ag[ab]!=Object.prototype[ab]&&ab.toLowerCase()!="movie"){e(Z,ab,ag[ab])}}aa.parentNode.replaceChild(Z,aa);X=Z}}return X}function e(Z,X,Y){var aa=C("param");aa.setAttribute("name",X);aa.setAttribute("value",Y);Z.appendChild(aa)}function y(Y){var X=c(Y);if(X&&X.nodeName=="OBJECT"){if(M.ie&&M.win){X.style.display="none";(function(){if(X.readyState==4){b(Y)}else{setTimeout(arguments.callee,10)}})()}else{X.parentNode.removeChild(X)}}}function b(Z){var Y=c(Z);if(Y){for(var X in Y){if(typeof Y[X]=="function"){Y[X]=null}}Y.parentNode.removeChild(Y)}}function c(Z){var X=null;try{X=j.getElementById(Z)}catch(Y){}return X}function C(X){return j.createElement(X)}function i(Z,X,Y){Z.attachEvent(X,Y);I[I.length]=[Z,X,Y]}function F(Z){var Y=M.pv,X=Z.split(".");X[0]=parseInt(X[0],10);X[1]=parseInt(X[1],10)||0;X[2]=parseInt(X[2],10)||0;return(Y[0]>X[0]||(Y[0]==X[0]&&Y[1]>X[1])||(Y[0]==X[0]&&Y[1]==X[1]&&Y[2]>=X[2]))?true:false}function v(ac,Y,ad,ab){if(M.ie&&M.mac){return}var aa=j.getElementsByTagName("head")[0];if(!aa){return}var X=(ad&&typeof ad=="string")?ad:"screen";if(ab){n=null;G=null}if(!n||G!=X){var Z=C("style");Z.setAttribute("type","text/css");Z.setAttribute("media",X);n=aa.appendChild(Z);if(M.ie&&M.win&&typeof j.styleSheets!=D&&j.styleSheets.length>0){n=j.styleSheets[j.styleSheets.length-1]}G=X}if(M.ie&&M.win){if(n&&typeof n.addRule==r){n.addRule(ac,Y)}}else{if(n&&typeof j.createTextNode!=D){n.appendChild(j.createTextNode(ac+" {"+Y+"}"))}}}function w(Z,X){if(!m){return}var Y=X?"visible":"hidden";if(J&&c(Z)){c(Z).style.visibility=Y}else{v("#"+Z,"visibility:"+Y)}}function L(Y){var Z=/[\\\"<>\.;]/;var X=Z.exec(Y)!=null;return X&&typeof encodeURIComponent!=D?encodeURIComponent(Y):Y}var d=function(){if(M.ie&&M.win){window.attachEvent("onunload",function(){var ac=I.length;for(var ab=0;ab<ac;ab++){I[ab][0].detachEvent(I[ab][1],I[ab][2])}var Z=N.length;for(var aa=0;aa<Z;aa++){y(N[aa])}for(var Y in M){M[Y]=null}M=null;for(var X in swfobject){swfobject[X]=null}swfobject=null})}}();return{registerObject:function(ab,X,aa,Z){if(M.w3&&ab&&X){var Y={};Y.id=ab;Y.swfVersion=X;Y.expressInstall=aa;Y.callbackFn=Z;o[o.length]=Y;w(ab,false)}else{if(Z){Z({success:false,id:ab})}}},getObjectById:function(X){if(M.w3){return z(X)}},embedSWF:function(ab,ah,ae,ag,Y,aa,Z,ad,af,ac){var X={success:false,id:ah};if(M.w3&&!(M.wk&&M.wk<312)&&ab&&ah&&ae&&ag&&Y){w(ah,false);K(function(){ae+="";ag+="";var aj={};if(af&&typeof af===r){for(var al in af){aj[al]=af[al]}}aj.data=ab;aj.width=ae;aj.height=ag;var am={};if(ad&&typeof ad===r){for(var ak in ad){am[ak]=ad[ak]}}if(Z&&typeof Z===r){for(var ai in Z){if(typeof am.flashvars!=D){am.flashvars+="&"+ai+"="+Z[ai]}else{am.flashvars=ai+"="+Z[ai]}}}if(F(Y)){var an=u(aj,am,ah);if(aj.id==ah){w(ah,true)}X.success=true;X.ref=an}else{if(aa&&A()){aj.data=aa;P(aj,am,ah,ac);return}else{w(ah,true)}}if(ac){ac(X)}})}else{if(ac){ac(X)}}},switchOffAutoHideShow:function(){m=false},ua:M,getFlashPlayerVersion:function(){return{major:M.pv[0],minor:M.pv[1],release:M.pv[2]}},hasFlashPlayerVersion:F,createSWF:function(Z,Y,X){if(M.w3){return u(Z,Y,X)}else{return undefined}},showExpressInstall:function(Z,aa,X,Y){if(M.w3&&A()){P(Z,aa,X,Y)}},removeSWF:function(X){if(M.w3){y(X)}},createCSS:function(aa,Z,Y,X){if(M.w3){v(aa,Z,Y,X)}},addDomLoadEvent:K,addLoadEvent:s,getQueryParamValue:function(aa){var Z=j.location.search||j.location.hash;if(Z){if(/\?/.test(Z)){Z=Z.split("?")[1]}if(aa==null){return L(Z)}var Y=Z.split("&");for(var X=0;X<Y.length;X++){if(Y[X].substring(0,Y[X].indexOf("="))==aa){return L(Y[X].substring((Y[X].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(a){var X=c(R);if(X&&l){X.parentNode.replaceChild(l,X);if(Q){w(Q,true);if(M.ie&&M.win){l.style.display="block"}}if(E){E(B)}}a=false}}}}();;
/*! mediaplayer 2015-02-10 */
window.de=window.de||{};window.de.bild=window.de.bild||{};window.de.bild.mediaplayer=window.de.bild.mediaplayer||{};window.de.bild.mediaplayer.defaults={themes:{widget:{css:'/js/mediaplayer/themes/widget/mediaplayer-widget.min.css',controls:'{{pausetoggle}}  <div class="media-timerange-container-wrapper">{{timerange}} {{timeremaining}} {{liveindicator}}</div> <div class="mediabutton-container"><div class="mediabutton-box">{{sharemenu}} {{fullscreentoggle}} {{volumecontrols}}</div></div>'}},apiPriority:[],knownPlugins:{},flashProvider:{path:'/js/mediaplayer/assets/swf/Flex_video.swf'},vpaidProvider:{wrapper:{swfVPAIDProxy:'/js/mediaplayer/assets/swf/VPAIDPlayer.swf'}},vast:{timeout:3000},trackingPlugin:{pixelURL:'transfermarkt01.wt-eu02.net',pixelID:'670018217401655',ivwImgURL:'',trackIntervalInSec:10},pluginsPath:{controls:'/js/mediaplayer/mediaplayer-ui.min.js'},pluginOpts:{}};
;/*
 * ACHTUNG: Hier habe ich (BTh) rumgefummelt!
 * Diesen Funktionsaufruf habe ich an zwei Stellen eingefgt: togglePremiumProfilGalerieControls(laststate);
 * Beim Player-Update beachten.
 */

/*! bde-mediaplayer - v.1.3.0, 20150812-172427  */
(function(window, document, $, undefined){
    "use strict";
    var console = window.console;
    window.de = window.de  || {};
    window.de.bild = window.de.bild || {};
    var mediaplayer = window.mediaplayer = window.de.bild.mediaplayer = window.de.bild.mediaplayer || {};

    mediaplayer.version = '1.3.0 (20150812-172447)';

    mediaplayer.$ = window.jQuery;

/*
 Base
 */
mediaplayer.createObj = function(proto){
    var F = function(){};
    F.prototype = proto;
    return new F();
};

mediaplayer.mixin = function(base, ext){
    var prop;
    for(prop in ext){
        if(ext.hasOwnProperty(prop)){
            base[prop] = ext[prop];
        }
    }
    return base;
};

mediaplayer.extend = (function(){
    var slice = Array.prototype.slice;

    function _extend(r, s){
        var o = mediaplayer.createObj(s);

        mediaplayer.mixin(o, r);
        o.super = s;
        return o;
    }

    function extend(r) {
        var supers = slice.call(arguments, 1);
        var o = supers.shift();

        r = _extend(r, o);
        return r;
    }

    return extend;
})();

/**
 * Creates an EventTarget Object. This object is used as a base prototype
 * for other media player objects.
 *
 * @returns {{fire: Function, on: Function, off: Function}}
 */
mediaplayer.createEventTarget = function(){

    return {
        /**
         *
         * @param evt {String} a single string without whitespaces representing an event name
         * @param data
         * @returns {*}
         */
        fire: function(evt, data){
            return $.event.trigger(evt, data, this, true);
        },
        on: function(evt, fn){
            $.event.add(this, evt, fn);
            return this;
        },
        off: function(evt, fn){
            $.event.remove(this, evt, fn);
            return this;
        }
    };
};

mediaplayer.ERRORS = {
    DATAERROR: 'DATAERROR',
    MEDIASUPPORT: 'MEDIASUPPORT',
    UNKNOW: 'UNKNOW'
};



    
mediaplayer.is = {
    mobile: (window.matchMedia && matchMedia('(max-device-width: 756px)').matches)
};

mediaplayer.log = function(){
    if(mediaplayer.debug && window.console){
        console.log.apply(console, arguments);
    }
};

$.each(['warn', 'error'], function(i, name){
    mediaplayer[name] = function(){
        var fn = console[name in console ? name : 'log'];
        if(fn.apply){
            fn.apply(console, arguments);
        }
    };
});


    
mediaplayer.isMobile = /mobile|ipad|iphone|ipod|android/i.test(navigator.userAgent) && (!window.swfobject || !swfobject.hasFlashPlayerVersion('10.0.3'));

/**
 * List of supported media events and methods
 *
 * @type {Array}
 */
mediaplayer.mediaapi = ['play', 'pause', 'load', 'muted', 'volume', 'currentTime', 'controls', 'getBuffered', 'getDuration', 'isEnded', 'isPlay', 'isPlaying', 'isWaiting', 'isLoadedmetadata', 'isProgress'];


/**
 * A base prototype of media player controller, which is an extended {mediaplayer.createEventTarget}.
 *
 * @type {Object}
 */
mediaplayer.controllerProto = mediaplayer.extend({

    /** @constructor */
    construct: function(dom, data, opts){

        this.$dom = $(dom).empty();

        this.data = data;

        this.$mediaBox = $('<div />').prop({'className': 'media-box'}).appendTo(this.$dom);

        this.$mediaDisplay = $('<div />').prop({'className': 'media-display'}).appendTo(this.$mediaBox);
        this.$pluginDisplay = $('<div />').prop({'className': 'media-pluginbox'}).appendTo(this.$mediaBox);
        this.$posterWrapper = $([]);

        this.index = -1;
        this.currentItem = null;

        this._isVideoStarted = false;
        this._isClipStarted = false;
        this.plugins = {};

        this.mediaprovider = null;
        this.providerName = '';
        this.sharedPlayerStates = {};

        this.touchHTMLProvider(opts);
    },

    setup: function(data){
        var that = this;

        this.data = data;

        if('volume' in data){
            this.sharedPlayerStates.volume = data.volume;
        }

        if('muted' in data){
            this.sharedPlayerStates.muted = data.muted;
        }

        this.setupEvents();
        this._createClipLifeCycle();

        if(this.data.autoplay){
            this.play();
        }

        this.$dom
            .on('remove', function(){
               that.destroy();
            }).addClass(data.addClass || 'landscape')
        ;

        this.fire('created');

        if(mediaplayer.isMobile && this.index < 0){
            this.loadIndex(0);
        }
    },

    touchHTMLProvider: function(opts){
        if(mediaplayer.isMobile){
            this.activateProvider('html5');

            if(opts && opts.prepareProvider && (!this.data || !this.data.sharedMedia)){
                this.mediaprovider.media.load();
            }
        }
    },

    setupEvents: function(){

        this.on('play', function(){

            this._isVideoStarted = true;

            if(!this._isClipStarted){
                this.fire('_beforestarted');
                this._isClipStarted = true;
                this.fire('started');
            }
        });

        this._handleError();

    },

    /**
     * Executes the given callback function if the media player triggers the given event
     *
     * @param {String} evt - event name
     * @param {Function} fn - callback function for the event
     * @param {boolean} ignoreCurrentState - should listen only to future events and ignores past player states
     * @returns this
     */
    on: function(evt, fn, ignoreCurrentState){
        var stateMethod;

        var cleanEvt = evt.split('.')[0];

        if(!ignoreCurrentState){
            stateMethod =  'is'+ cleanEvt.charAt(0).toUpperCase() + cleanEvt.substring(1);
        }
        this.super.on.apply(this, arguments);

        if(this[stateMethod] && this[stateMethod]()){
            fn.call(this, $.Event(cleanEvt), {onAdd: true});
        }
        return this;
    },
    DOMEVENTS: {
        play: true,
        pause: true,
        started: true,
        doom: true,
        created: true
    },
    fire: function(event){
        var ret = this.super.fire.apply(this, arguments);
        if(this.DOMEVENTS[event]){
            this.$dom.trigger('mediaplayer/'+event);
        }
        return ret;
    },
    destroyProvider: function(){
        if(this.mediaprovider){

            if(this.providerName != 'vpaid'){
                this.sharedPlayerStates.volume = this.volume();
                this.sharedPlayerStates.muted = this.muted();

                //flash returns 0 for volume if muted
                if(this.sharedPlayerStates.muted && !this.sharedPlayerStates.volume){
                    this.sharedPlayerStates.volume = 1;
                }
            }

            this.mediaprovider.destroy();
            this.mediaprovider = null;
            this.providerName = '';
            this.$mediaBox.removeAttr('data-provider');
        }
    },
    getPlayableSrcForProvider: function(srces, providerName){
        var i;
        var provider = mediaplayer.mediaProviders[providerName];
        var src = null;

        if(provider){
            for(i = 0; i < srces.length; i++){
                if(srces[i].failed && srces[i].failed[providerName]){
                    continue;
                }
                if(!srces[i].type){
                    mediaplayer.warn('no type set for media source. Try to load it anyway.', srces[i], this);
                }
                if(provider.canPlayType(srces[i].type, srces[i].src)){
                    src = srces[i];
                    break;
                }
            }
        }
        return src;
    },
    togglePlay: function(){
        this[this.isPlaying() ? 'pause' : 'play']();
    },

    // TODO  create provider and return?
    activateProvider: function(providerName, providerObject){

        var mediaProviders = mediaplayer.mediaProviders;
        if(providerName != this.providerName){
            this.mediaprovider = providerObject || mediaplayer.createObj(mediaProviders[providerName].proto);
            this.providerName = providerName;
            this.$mediaBox.attr({'data-provider': providerName});

            if(!providerObject){
                this.mediaprovider.construct(this);
            } else if(this.sharedProvider) {
                this.releaseSharedMedia();
                this.sharedProvider = null;
            }
        }
    },
    isJSVpaid: function(srces){
        return srces && srces[0] && (/vpaid.+script/i).test(srces[0].type || '');
    },
    shareProvider: function(){
        this.sharedProvider = {name: this.providerName, provider: this.mediaprovider};
    },
    activateProviderAndCurrentSrc: function(srces){
        var provider, i;
        var src = this.getPlayableSrcForProvider(srces, this.providerName);

        if(!src && this.sharedProvider && !this.isJSVpaid(srces)){
            src = this.getPlayableSrcForProvider(srces, this.sharedProvider.name);

            if(!src){
                this.sharedProvider.provider.destroy();
                this.sharedProvider = null;
            } else {
                this.destroyProvider();
                this.activateProvider(this.sharedProvider.name, this.sharedProvider.provider);
            }
        }

        if(!src){

            if(this.supportSharedMedia() && this.isJSVpaid(srces)){
                this.shareProvider();
            } else {
                this.destroyProvider();
            }

            for(i = 0; i < this.data.apiPriority.length; i++){
                provider = this.data.apiPriority[i];
                src = this.getPlayableSrcForProvider(srces, provider);

                if(src){
                    this.activateProvider(provider);
                    break;
                }
            }
        }
        this.currentSrc = src;
    },
    sharePlayerState: function(){
        var that = this;
        if(this.providerName != 'vpaid'){
            $.each(this.sharedPlayerStates, function(name, value){
                that[name](value);
            });
            this.sharedPlayerStates = {};
        }
    },
    load: function(clipItem, start){

        this.activateProviderAndCurrentSrc(clipItem.srces);

        this.$mediaBox.attr({'data-mediatype': clipItem.type});

        this.currentItem = clipItem;
        this.index = $.inArray(clipItem, this.data.clipList);

        this._isClipStarted = false;

        if(!this.mediaprovider || !this.currentSrc){
            this.error({code: mediaplayer.ERRORS.MEDIASUPPORT, details: 'canPlayType: false'});
            this.fire('error');
        } else {
            this.fire('beforeload');
            this.error(null);
            this.mediaprovider.load(this.currentSrc.src, this.data.poster);
            this.sharePlayerState();
            this.fire('afterload');
            if(start){
                this.play();
            }
        }
    },
    loadNext: function(){
        var nextIndex = this.index + 1;
        return this.loadIndex(nextIndex);
    },
    getClipByType: function(type){
        var i, clip;

        for(i = 0; i < this.data.clipList.length; i++){
            if(this.data.clipList[i].type == type){
                clip = this.data.clipList[i];
                break;
            }
        }
        return clip;
    },

    loadVideoByType: function(type){
        var clip = this.getClipByType(type);
        if(clip){
            this.load(clip);
        }
    },

    loadIndex: function(index){
        if(index > -1 && index < this.data.clipList.length){
            this.load(this.data.clipList[index]);
            return true;
        } else {
            return false;
        }
    },

    play: function(){
        if(this.index == -1){
            this.loadNext();
        }

        if(this.fire('beforecontrollerplay') == 'abort'){return;}

        if(this.mediaprovider){
            return this.mediaprovider.play.apply(this.mediaprovider, arguments);
        }
    },
    isStarted: function(){
        return this._isClipStarted;
    },
    isCliperror: function(){
        return this._error;
    },
    reset: function(){
        this.index = -1;
        //provider needs to be destroyed for iOS
        this.destroyProvider();
        this.fire('reset');
    },
    destroy: function(){
        this.destroyProvider();
        this.fire('destroy');
        this.off();

        this.$mediaBox.remove();
        this.$pluginDisplay.remove();

        this.$dom.removeData('mediaplayer');
    },
    error: function(error){
        if(arguments.length){
            this._error = error;
        } else {
            return this._error;
        }
    },
    _handleError: function(){
        var isPlay;
        var that = this;
        var load = function(){
            that.load(that.currentItem, isPlay);
        };

        this.on('error', function(e){
            isPlay = false;
            if(!that.error()){
                that.error({code: mediaplayer.ERRORS.UNKNOW, details: e});
            }
            mediaplayer.error('mediaplayer error:', that.error(), that.currentItem, that.currentSrc);

            if(that.currentItem && that.currentSrc){
                /* Retry loading but flag current source as unplayable */
                if(!that.currentSrc.failed){
                    that.currentSrc.failed = {};
                }
                that.currentSrc.failed[that.providerName] = true;
                isPlay = that.isPlay();
                that.destroyProvider();
                setTimeout(load);
            } else {
                that.fire('cliperror');
            }
        });
    },
    _createClipLifeCycle: function(){
        var timer, evt;
        var that = this;
        var isMainError = false;
        var playNext = function(){

            if(!that.loadNext()){
                if(!isMainError && that.fire('beforedoom') != 'abort'){
                    that.fire('doom');
                }

                if(that.data.loop && !isMainError){
                    that.loadIndex(0);
                    that.play();
                }
            } else if(that._isVideoStarted) {
                that.play();
            }
        };

        //double bind playNext is to make sure playNext is the last eventhandler
        this.on('ended cliperror', function(e){
            clearTimeout(timer);
            evt = e;

            if(e.type == 'cliperror'){
                mediaplayer.error('mediaplayer cliperror:', that.error(), that.currentItem);
            }

            if(e.type != 'cliperror' || !that.currentItem || that.currentItem.type != 'main'){
                if(e.type != 'cliperror'){
                    isMainError = false;
                }

                timer = setTimeout(playNext);
            } else if(e.type == 'cliperror' && !that.currentItem || that.currentItem.type == 'main'){
                isMainError = true;
                that.fire('maincliperror');
            }
        });
    },
    switchSource: function(newSrc){
        return this.mediaprovider._switchSource(newSrc);
    }
}, mediaplayer.createEventTarget());

var proxyProvider = function(i, name){
    //if controller has already a method skip it
    if(!mediaplayer.controllerProto[name]){
        mediaplayer.controllerProto[name] = function(){
            if(this.mediaprovider && this.mediaprovider[name]){
                return this.mediaprovider[name].apply(this.mediaprovider, arguments);
            }
        };
    }
};

$.each(mediaplayer.mediaapi, proxyProvider);

$.each(['supportSharedMedia', 'requestSharedMedia', 'releaseSharedMedia'], proxyProvider);


    /**
 * Mediaprovider API
 *
 */
mediaplayer.mediaProviders = {};

/**
 * Adds a new media provider to a list of known/supported media providers.
 *
 * @param name {String} - Media provider name
 * @param descriptor {Object} - contains the prototype of the media provider
 */
mediaplayer.addMediaProvider = function(name, descriptor){

    mediaplayer.mediaProviders[name] = descriptor;

    if($.inArray(name, mediaplayer.defaults.apiPriority) == -1){
        mediaplayer.defaults.apiPriority.push(name);
    }

    if(mediaplayer.mediaapi.forEach){
        mediaplayer.mediaapi.forEach(function(fn){
            if(!descriptor.proto[fn]){
                mediaplayer.log(fn +' not implemented in '+ name +' mediaprovider');
            }
        });
    }
};

    
mediaplayer.themeManager = {
    load: function(opts){
        var themeKey = opts.$dom.attr('data-theme');
        var theme = opts.themes[themeKey] || opts.themes['default'];
        if(theme && theme.css){
            theme.name = themeKey;
            mediaplayer.componentLoader.load(theme);
            opts.activeTheme = theme;
        }
        return theme;
    }
};


    /**
 * DataLoader has two primary function  1) loading video data, e.g. a JSON from an URL and 2) Calling transformators on loaded video data.
 */
mediaplayer.dataLoader = (function(){

    /* List of known/added transformators */
    var transformators = [];

    /**
     * Executes each transformator from the given {transformators} array with the given data.
     * A transformators modifies the given {data} and finally calls the {next} callback function when finished with modifying the data.
     *
     * @param transformators {Array} - Transformators
     * @param data {Object} - video data
     * @param opts {Object} - options
     * @returns {jQuery} Promise
     */
    function transformPipe (transformators, data, opts, $dom) {

        var deferred = $.Deferred();
        var index = -1;

        // TODO, please break me
        var next = function(data) {

            index++;

            if(transformators[index]) {
                transformators[index](data, next, opts, $dom);
            } else {
                deferred.resolve(data);
            }

        };

        next(data);

        return deferred.promise();
    }

    /**
     * Loads the video data object, parses it as JSON and calls the {transformPipe}
     *
     * @param url {Object} or {String} - Url to video data or video data parsed as JSON
     * @param opts {Object} - options
     * @returns {jQuery} Promise
     */
    function load(url, opts){

        var deferred = $.Deferred();

        var onComplete = function(data, status){

            if(status == 'success'){
                if(typeof data == 'string'){
                    try {
                        data = JSON.parse(data);
                    } catch(e){
                        // TODO do we need a specific error code for this one?
                        mediaplayer.warn('MediaPlayer :: JSON Parse failed.');
                    }
                }

                $.extend(true, data, opts);

                if(!data.dataUrl){
                    data.dataUrl = url;
                }

                if(data.errorCode) {
                    deferred.reject(opts, data.errorCode);
                    return;
                }

                $.when(transformPipe(transformators, data, opts)).then(function(data){
                    if(!data.clipList){
                        deferred.reject(opts, "noClipList");
                    } else {
                        deferred.resolve(data);
                    }
                });
            }
        };

        if(typeof url == 'string'){
            $.ajax({
                url: url   // TODO dataType configurable?
            })
                .done(onComplete)
                .fail(function(xhr){
                    deferred.reject(opts, xhr);
                })
            ;
        } else {
            onComplete(url, 'success');
        }

        return deferred.promise();
    }

    function addTransformator(fn){
        transformators.push(fn);
    }

    return {
        load: load,
        addTransformator: addTransformator,
        _getTransformators: function(){
            return transformators;
        },
        _setTransformators: function(newTransformators){
            transformators = newTransformators;
        }
    };
})();


    /**
 * Core API, which is a wrapper to create and destroy mediaplayer instances.
 *
 */
mediaplayer.core = {

    /**
     * Creates a new mediaplayer instance.
     *
     * @param dom      DOM or jQuery DOM Node
     * @param data     Data JSON Object or a path pointing to a Data JSON Object.
     *                  Data JSON contains all relevant data for a mediaplayer instance, e.g. the clip list or used plugins.
     * @param opts     Additional Options to override or extend Data JSON
     * @returns jQuery.promise
     * */
    create: function(dom, data, opts){
        var $dom = $(dom);
        var deferred = $.Deferred();
        var promise = deferred.promise();
        var mediaController = mediaplayer.createObj( mediaplayer.controllerProto );

        if(!data){
            data = $dom.data('media') || {};
        }
        opts = $.extend(true, {}, mediaplayer.defaults, opts, {$dom: $dom});

        mediaplayer.themeManager.load(opts);

        this.destroy(dom);

        $dom.data('mediaplayer', promise);

        mediaController.construct(dom, data, opts);

        mediaplayer.dataLoader.load(data, opts)
            .done(function(processedData){
                mediaController.setup(processedData);
                mediaplayer.pluginManager.registerController(mediaController);
                deferred.resolveWith(mediaController, [mediaController]);
            })
            .fail(function(opts, error){
                if(!opts.clipList){
                    opts.clipList = [];
                }
                mediaController.setup(opts);

                mediaController.error({
                    code: mediaplayer.ERRORS.DATAERROR,
                    details: error,
                    data: data
                });

                mediaplayer.pluginManager.registerController(mediaController);
                mediaController.fire('error');
                deferred.rejectWith(mediaController, [mediaController]);
            });


        return promise;
    },

    /**
     * Destroyes the given mediaplayer instance.
     *
     * @param dom  DOM or jQuery DOM Node
     * */
    destroy: function(dom){
        var oldPromise = $(dom).data('mediaplayer');
        if(oldPromise && oldPromise.then){
            oldPromise.done(function(){
                this.destroy();
            });
        }
    }
};


    /**
 * Component loader
 *
 * Loads JS and CSS Components. Components can be single files or a set of files.
 *
 */
mediaplayer.componentLoader = (function(){

    var components = {};
    var rejectedPromise = $.Deferred();
    rejectedPromise.reject('Unknown Plugin');

    function loadJs(src){
        return $.ajax({
            url: src,
            dataType: 'script',
            cache: true,
            global: false,
            crossDomain: true
        });
    }

    function loadCss(src){
        $('<link rel="stylesheet" />').appendTo('head').attr({
            href: src
        });
    }

    /**
     * Load a component, e.g. for a plugin. A component object can contain js and/or css references.
     * Loaded components are saved internally to prevent redundant loading.
     *
     * @param component  an {Object} containing js/css keys, which point to .js or .css files
     * @returns jQuery.promise
     * */
    function load(component){
        var pseudoPromise;
        var id = component.js || component.css;
        var basePath = mediaplayer.defaults.basePath || '';

        if(!id){
            mediaplayer.warn('could not find id/path for component', component);
            return rejectedPromise.promise();
        }

        if(component.css && !components[component.css]){
            loadCss(basePath + component.css);
            pseudoPromise = $.Deferred();
            components[component.css] = pseudoPromise.promise();
            setTimeout(function(){
                pseudoPromise.resolve();
            });
        }

        if(component.js && !components[component.js]){
            components[component.js] = loadJs(basePath + component.js);
        }
        return components[id];
    }


    return {
        load: load,
        _getComponents: function(){
            return components;
        },
        _clearComponents: function(){
            components = {};
        }
    };

})();


    
var pluginId = 0;

mediaplayer.defaultPlugin = {

    on: function(evt, fn, ignoreCurrentState){
        this.controller.on(evt+'.'+this.id, $.proxy(fn, this), ignoreCurrentState);

        return this;
    },
    off: function(evt, fn){
        this.controller.off(evt+'.'+this.id, fn);
        return this;
    },
    fire: function(evt, data){
        return this.controller.fire(evt, data);
    },
    //ToDO: name!!!! feature at risk
    externalBridge: function(pluginMethodName, args){
        var ret;
        pluginMethodName = pluginMethodName.split('.');
        if(!args){
            args = [];
        }
        ret = this.fire(pluginMethodName[0], [{fn: pluginMethodName[1], args: args}]);
        return ret;
    },

    /**
     *
     * @param controller {Object} - Reference to the media controller of current video
     * @param params {Object} - Parameters object for the plugin
     * @param forClip {Number} - The index of a clip which the plugin is intended for.
     *                           If this parameter is missing, then the plugin is loaded for the whole video.
     * @param $container {jQuery} - Container where the plugin should be appended. Defaults to $pluginDisplay if not set
     *
     */
    construct: function(controller, params, forClip, $container){
        var started = false;
        var that = this;
        pluginId++;
        this.controller = controller;
        this.id = 'id-'+pluginId;
        this.params = params;
        this._forClip = forClip;
        this.activeChildPlugins = [];
        this.foundChildPlugins = [];

        this.$container = $container || this.controller.$pluginDisplay;

        controller.plugins[this.name] = this;

        //add externalBridge
        //TODO: feature at risk
        this.on(this.name, function(e, data){
            return this[data.fn] && this[data.fn].apply(this, data.args);
        });

        function init(){
            if(!started){
                started = true;
                that.init();
            }
        }

        function destroy(){
            if(started){
                started = false;
                that.destroy();
            }
        }

        if(!forClip){
            init();
        } else {
            this.on('started', function(){
                if(forClip == controller.currentItem){
                    init();
                }
            });
            this.on('_beforestarted', function(){
                if(forClip != controller.currentItem){
                    destroy();
                }
            });
        }

        this.on('destroy', destroy);
    },
    appendChildPlugins: function($container, template){
        var $dom;
        var childPlugins = this._getChildPluginHTML(template);
        this.foundChildPlugins = childPlugins.foundChildPlugins;
        $dom = $(childPlugins.html).appendTo($container);
        this._activateChildPlugins($container);
        return $dom;
    },
    _getChildPluginHTML: (function(){
        var cache = {};
        var regTemplate = /\{\{(.+?)\}\}/igm;

        return function(template, invalidCache){

            var childPlugins = mediaplayer.pluginManager.installedPlugins;

            var ret = {foundChildPlugins: [], html: ''};

            if(template){
                if(!cache[template] || invalidCache){
                    cache[template] = {
                        foundChildPlugins: []
                    };
                    cache[template].html = template.replace(regTemplate, function(match, matchName){
                        //childPlugin was not found, maybe part of a real mustache/hbs template!
                        if(!childPlugins[matchName]){       // FIXME
                            return match;
                        }
                        if($.inArray(matchName, cache[template].foundChildPlugins) == -1){
                            cache[template].foundChildPlugins.push(matchName);
                        }
                        return '<div class="media-'+ matchName +'-container " />';
                    });
                }
                ret = cache[template];
            }

            return ret;
        };
    })(),
    _activateChildPlugins: function(container){
        var that = this;

        var childPlugins = mediaplayer.pluginManager.installedPlugins;

        if(!container){
            return;
        }
        $.each(this.foundChildPlugins, function(i, name){
            $('.media-'+ name +'-container', container).each(function(){
                mediaplayer.pluginManager.loadPlugins([childPlugins[name]], that.controller, that._forClip, $(this));
            });

        });

    },
    destroy: function(){
        this.controller.off('.'+this.id);

        if(this.controller.plugins[this.name] == this){
            delete this.controller.plugins[this.name];
        }

        this.controller = null;
    }
};


    

mediaplayer.pluginManager = (function(){

    var installedPlugins = {};
    var requiredPlugins = [];

    /**
     *
     * @param pluginName {String} Name of the plugin, e.g. Tracking
     * @param pluginProto {Object} Prototype of the Plugin
     * @param required {Boolean} true, if the plugin is required independent from the video data configuration
     * @returns {Object} Prototype of the Plugin
     */
    function add(pluginName, pluginProto, required){

        var registeredDefinitions = mediaplayer.defaults.knownPlugins;

        if(pluginProto.init){
            pluginProto.name = pluginName;
            pluginProto = mediaplayer.extend(pluginProto, mediaplayer.defaultPlugin);
            installedPlugins[pluginName] = pluginProto;

            if(required){
                requiredPlugins.push(pluginName);
            }
        } else {
            registeredDefinitions[pluginName] = pluginProto;
        }

        return pluginProto;
    }

    function addChildPlugin(pluginDesc){
        add(pluginDesc.name, $.extend(pluginDesc, {
            init: function(){
                this.setup(this, this.$container, this.params);
            }
        }));
    }

    /**
     *
     * @param plugins {Array} - List of plugins to load
     * @param controller {Object} - Reference to the media controller of current video
     * @param forClip {Number} - The index of a clip which the plugin is intended for.
     *                      If this parameter is missing, then the plugin is loaded for the whole video.
     */
    function loadPlugins(plugins, controller, forClip, $container){

        var registeredDefinitions = mediaplayer.defaults.knownPlugins;

        if(!plugins){
            plugins = [];
        } else if(!$.isArray(plugins)){
            plugins = [plugins];
        }

        $.each(plugins, function(i, plugin){

            var name = plugin.name;

            if(controller.data.disabledPlugins && $.inArray(name, controller.data.disabledPlugins) != -1){return;}

            plugin.params = $.extend(true, {}, this.params, plugin.defaults, controller.data.pluginOpts && controller.data.pluginOpts[name]);

            /** Plugin Factory */
            var createFn = function(){
                mediaplayer
                    .createObj( installedPlugins[name] )
                    .construct(controller, plugin.params, forClip, $container)
                ;
            };

            /* If the plugin is already loaded, call the factory, otherwise load the plugin first */
            if(installedPlugins[name]){
                createFn();
            } else if(controller.data.plugins[name] || registeredDefinitions[name]){
                mediaplayer.componentLoader.load(controller.data.knownPlugins[name] || registeredDefinitions[name]).done(createFn);
            } else if(window.console){
                console.log('no plugin with name: '+ plugins[i].name);
            }
        });
    }

    function hasPlugin(requiredPlugin, plugins){
        var found = false;
        $.each(plugins, function(i, plugin){
            if(requiredPlugin == plugin.name){
                found = true;
                return false;
            }
        });
        return found;
    }

    /**
     * When a media controller is created, it is automatically registered in the data loader.
     * The data loader then loads all needed plugins and passes the media controller reference to each initialized plugin.
     *
     * @param controller {Object} Media controller
     */
    function registerController(controller){
        var i;
        if(!controller.data.plugins){
            controller.data.plugins = [];
        }
        for(i = 0; i < requiredPlugins.length; i++){
            if(!hasPlugin(requiredPlugins[i], controller.data.plugins)){
                controller.data.plugins.push({
                    name: requiredPlugins[i],
                    params: {}
                });
            }
        }
        loadPlugins(controller.data.plugins, controller);

        controller.on('started', function(){
            loadPlugins(this.currentItem.plugins, controller, this.currentItem);
        });
    }

    return {
        add: add,
        registerController: registerController,
        addChildPlugin: addChildPlugin,
        childPlugins: installedPlugins,
        installedPlugins: installedPlugins,
        hasPlugin: hasPlugin,
        loadPlugins: loadPlugins
    };
})();


})(window, document, window.jQuery);


(function () {

    "use strict";

    var mediaplayer = de.bild.mediaplayer;
    var $ = mediaplayer.$;

    mediaplayer.addMediaProvider('html5', {

        canPlayType: (function () {
            var emptyVideo = document.createElement('video');

            return function (type, src) {
                return ((!type || (emptyVideo.canPlayType && emptyVideo.canPlayType(type))) && src.indexOf('rtmp:')) ? 'maybe' : '';
            };
        })(),


        proto: {

            construct: function (proxy) {

                this.proxy = proxy;

                if(this.proxy.data && this.proxy.data.sharedMedia){
                    this.media = this.proxy.data.sharedMedia;
                } else {
                    this.media = $('<video />')
                        .prop({controls: true})
                        .css({width: '100%', height: '100%'})
                        .appendTo(proxy.$mediaDisplay)
                        .get(0)
                    ;
                }

                this._stateBeforeMediaShared = {};

                this._fixDuration();

                this.setupEvents();
            },
            setupEvents: function(){
                var evts = ['waiting', 'playing', 'play', 'pause', 'seeked', 'seeking', 'ended', 'loadedmetadata', 'emptied', 'volumechange', 'progress', 'timeupdate'];
                var proxyErrors = {
                    3: 1,
                    4: 1
                };
                var proxy = this.proxy;

                $(this.media)
                    .on(evts.join(' '), function (e) {
                        proxy.fire(e.type);
                    })

                    .on('error', function (e) {
                        var error = e.target.error;

                        if (error && proxyErrors[error.code]) {
                            proxy.error({code: mediaplayer.ERRORS.MEDIASUPPORT, details: {code: error.code}});
                            proxy.fire(e.type);
                        }
                    })
                ;

                this._fixEndedEvent();
            },
            supportSharedMedia: function(){
                return !!this.media;
            },
            requestSharedMedia: function(){
                
                //yes, destroy everything
                $(this.media).off();
                
                this._stateBeforeMediaShared = {
                    currentTime: this.media.currentTime,
                    src: this.media.src,
                    paused: this.media.paused,
                    poster: this.media.poster,
                    controls: this.media.controls
                };

                this.media.controls = false;
                return this.media;
            },
            releaseSharedMedia: function(){
                var timer;
                var that = this;

                var reSetup = function(e){
                    that.media.currentTime = that._stateBeforeMediaShared.currentTime;
                    if(!that._stateBeforeMediaShared.paused){
                        that.media.play();
                    }

                    if(e && e.type == 'loadedmetadata'){
                        $(that.media).off('loadedmetadata', reSetup);
                        clearTimeout(timer);
                    }
                    that._stateBeforeMediaShared = {};
                };

                this.setupEvents();

                $(this.media).on('loadedmetadata', reSetup);

                if(this._stateBeforeMediaShared.poster){
                    this.media.poster = this._stateBeforeMediaShared.poster;
                }
                if(this._stateBeforeMediaShared.src){
                    this.media.src = this._stateBeforeMediaShared.src;
                }
                this.media.controls = this._stateBeforeMediaShared.controls;

                //timer = setTimeout(reSetup, 999);

                //that.media.play();

                if(!this._stateBeforeMediaShared.paused){
                    setTimeout(function(){
                        that.media.play();
                    });
                }
            },

            _switchSource: function(newSrc){

                var that = this;
                var _currentTime = this.currentTime();

                var $media = $(this.media);

                var reStart = function(){
                    $media.off('loadedmetadata', reStart);
                    that.play();
                };

                var resumeCurrentTime = function(){
                    $media.off('playing', resumeCurrentTime);
                    that.currentTime(_currentTime);
                };

                $media.on('loadedmetadata', reStart);
                $media.on('playing', resumeCurrentTime);

                this.load(newSrc);
            },

            /*
                Chrome ended event bug:
                https://code.google.com/p/chromium/issues/detail?id=349543
            */
            _fixEndedEvent: function () {

                var timer;
                var $media = $(this.media);

                function triggerEvent() {
                    $media.trigger('ended');
                }

                $(this.media)
                    .on('timeupdate', function () {
                        var duration = this.duration;
                        var time = this.currentTime;
                        if (!!duration && duration - time < 0.3) {
                            clearTimeout(timer);
                            timer = setTimeout(triggerEvent, 500);
                        }
                    })
                    .on('ended', function () {
                        clearTimeout(timer);
                    })
                ;
            },
            /*
            fix for android native browser with older version (2.3)
             */
            _fixPlaydelay: function() {
                var that;
                if (this.needsPlayDelay === undefined) {
                    this.needsPlayDelay = this.media.readyState == 1 && !this.media.networkState;

                    if(this.needsPlayDelay){
                        that = this;
                        this.play = function(){
                            setTimeout(function () {
                                that.media.play();
                            }, 99);
                        };
                    }
                }
            },
            /*
             Andorid 4.x stock browser bug
             */
            _fixDuration: function(){
                var that = this;
                var needsPatch = false;
                var blocked = false;

                var patchMediaData = function(){
                    if(!needsPatch){
                        needsPatch = true;
                        that.getDuration = function(){
                            var duration = that.media.duration;
                            if(duration && duration < 1.1){
                                duration = window.NaN;
                            }
                            return duration;
                        };

                        that.isLoadedmetadata = function () {
                            return  that.media.readyState > 0 && !!that.getDuration();
                        };

                        $(that.media).on('progress timeupdate', function(){
                            var duration;
                            if(blocked){
                                duration = that.media.duration;
                                if(duration && duration > 1){
                                    $(that.media).trigger('loadedmetadata');
                                    $(that.media).trigger('durationchange');
                                }
                            }
                        });
                    }
                };

                var blockLoadedMetaData = function(e){
                    if(needsPatch && this.duration  <= 1){
                        e.stopImmediatePropagation();
                        blocked = true;
                    } else {
                        blocked = false;
                    }
                };

                var testDurationBug = function(){
                    var duration = this.duration;
                    if(duration && duration < 1.1){
                        patchMediaData();
                        blocked = false;
                    } else {
                        $(this)
                            .off('loadedmetadata', blockLoadedMetaData)
                            .off('emptied', testDurationBug)
                        ;
                    }
                };

                $(this.media)
                    .on('loadedmetadata', blockLoadedMetaData)
                    .on('emptied', testDurationBug)
                ;
            },
            load: function (src, poster) {
                this.hasNewSrc = !!this.media.src;
                this.media.src = src;
                if (poster) {
                    this.media.poster = poster;
                }

                this._fixPlaydelay();
            },
            play: function () {
                if(this.hasNewSrc){
                    this.hasNewSrc = false;
                    this.media.load();
                }
                this.media.play();
            },

            destroy: function () {
                if(!this.proxy.data.sharedMedia){
                    $(this.media).remove();
                }
            },
            pause: function () {
                this.media.pause();
            },
            muted: function (mute) {
                if (arguments.length) {
                    this.media.muted = mute;
                } else {
                    return this.media.muted;
                }
            },
            volume: function (vol) {
                if (arguments.length) {
                    this.media.volume = vol;
                } else {
                    return this.media.volume;
                }
            },
            currentTime: function (time) {
                if (arguments.length) {
                    this.media.currentTime = time;
                } else {
                    return this.media.currentTime;
                }
            },
            controls: function (controls) {
                if (arguments.length) {
                    this.media.controls = controls;
                } else {
                    return this.media.controls;
                }
            },
            isPlay: function () {
                return !this.media.paused; // && !this._media.ended;
            },
            isPlaying: function () {
                return !this.media.paused && !this.media.ended && this.media.readyState > 1; // && !this.media.ended;
            },
            isEnded: function () {
                return this.media.ended;
            },
            isWaiting: function () {
                return !this.media.paused && !this.media.ended && this.media.readyState <= 1;
            },
            isLoadedmetadata: function () {
                return  this.media.readyState > 0;
            },
            isProgress: function () {
                var buffered = this.media.buffered;
                return  buffered.length > 0;
            },
            getBuffered: function () {
                return this.media.buffered || {length: 0};
            },
            getDuration: function () {
                return this.media.duration;
            }
        }
    });
})();

(function(){

    "use strict";

    var mediaplayer = de.bild.mediaplayer;
    var $ = mediaplayer.$;

    var params = {
        allowscriptaccess: 'always',
        allowfullscreen: 'true',
        wmode: 'transparent',
        allowNetworking: 'all'
    };
    var attrs = {
        bgcolor: '#000000'
    };
    var id = new Date().getTime();

    function getId(name){
        id++;
        return (name) ? name+id : id;
    }

    de.bild.mediaplayer.swfEvents = {};

    mediaplayer.addMediaProvider('flash', {

        canPlayType: (function(){
            var hasFlash = window.swfobject && swfobject.hasFlashPlayerVersion('10.0.3');
            var types= {
                "video/3gpp": 1,
                "video/x-msvideo": 1,
                "video/quicktime": 1,
                "video/x-m4v": 1,
                "video/mp4": 1,
                "video/m4p": 1,
                "video/x-flv": 1,
                "video/flv": 1,
                "video/rtmp": 1,
                "application/f4m": 1
            };

            return function(type){
                var ret = hasFlash ? 'maybe' : '';
                if(type && ret){
                    type = type.split('+')[0];
                    if(!types[type]){
                        ret = '';
                    }
                }
                return ret;
            };
        })(),


        proto: {


            construct: function(proxy){
                //essentiell in flash

                var vars, path;

                this.options = proxy.data.flashProvider || {};
                this.id = getId('mediaswf_');

                if(!this.options.path){
                    mediaplayer.log('path for flash provider!');
                }

                path = proxy.data.basePath + this.options.path;

                $('<div />').prop('id', this.id).appendTo(proxy.$mediaDisplay);

                vars = $.extend({}, this.options.vars, {
                    cb: 'window.de.bild.mediaplayer.swfEvents.'+this.id,
                    name: this.id,
                    id: this.id
                });

                this.isReady = false;

                this._stateMuted = false;
                this._stateVolume = 1;

                this.proxy = proxy;
                this.fnQueue = [];


                this._createTimeRange();

                this._setupEvents(this);

                this.resetStates();


                swfobject.embedSWF(path, this.id, "100%", "100%", "9.0.115", false, vars, params, attrs);

            },
            proxyEvents: {
                "waiting": "waiting",
                "playing": "playing",
                "play":"play",
                "pause":"pause",
                "seeked":"seeked",
                "ended":"ended",
                "loadedmetadata":"loadedmetadata",
                "volumechange":"volumechange",
                "progress":"progress",
                "timeupdate":"timeupdate",
                "error": "error"
            },
            _createTimeRange: function(){
                var that = this;
                this.bufferedTimeRange = {
                    start: function(index){
                        if(index >= this.length){
                            throw('timerange overflow');
                        }
                        return 0;
                    },
                    end: function(index){
                        if(index >= this.length){
                            throw('timerange overflow');
                        }
                        return that._stateBufferred;
                    },
                    length: 0
                };
            },
            resetStates: function(){

                this._statePaused = true;
                this._stateWaiting = false;
                this._stateBufferred = 0;
                this._stateDuration = parseInt('NaN', 10);
                this._stateMetadata = null;
                this._stateCurrentTime = 0;
                this._stateEnded = false;
                this.bufferedTimeRange.length = 0;

            },

            /**
             * Flash can only call global JS functions in order to communicate with JS. Each Mediaplayer instance
             * creates a global Callback function and passes  it to swf
             * */
            _setupEvents: function(that){

                de.bild.mediaplayer.swfEvents[this.id] = function(evt){

                    try {
                        evt = JSON.parse(decodeURIComponent(evt));
                    } catch(e){
                        mediaplayer.warn('could not parse flash event', evt);
                        return;
                    }

                    if(evt.type == 'initialized'){
                        that.swf = document.getElementById(that.id);
                        that.isReady = true;
                        setTimeout(function(){
                            that.processQueue();
                        });
                        return;
                    }

                    if(evt.type == 'waiting' && evt.value === false){
                        that._stateWaiting = false;
                        return;
                    } else if(evt.type == 'warn' || evt.type == 'log'){
                        mediaplayer[evt.type]('flash '+ evt.type, evt);
                        return;
                    }

                    if(!that.proxyEvents[evt.type]){
                        mediaplayer.warn('unknown event from flash: '+ evt.type, evt);
                        return;
                    }

                    // FIXME in Flash, plz!
                    if(that._fixPause){
                        if(evt.type == 'playing' || evt.type == 'loadedmetadata'){
                            try {
                                that.swf.pause();
                                setTimeout(function(){
                                    that._fixPause = false;
                                }, 99);
                            } catch(e){}
                        }

                        if(evt.type == 'playing'){
                            return;
                        }
                    }

                    if(evt.type == 'waiting'){
                        that._stateWaiting = true;
                    } else if(evt.type == 'playing'){
                        that._stateWaiting = false;
                        that._statePaused = false;
                    } else if(evt.type == 'play'){
                        that._statePaused = false;
                    } else if(evt.type == 'pause'){
                        that._statePaused = true;
                    } else if(evt.type == 'ended'){
                        that._stateEnded = true;
                    } else if(evt.type == 'loadedmetadata'){
                        that._stateMetadata = evt.value;

                        that._stateDuration = ('duration' in evt.value) ?
                            evt.value.duration :
                            (that.swf.getDuration() == 'Infinity') ?
                            Infinity :
                                NaN
                        ;

                        // FIXME in Flash, plz!
                        if(that.proxy.data.durationSec === -1 || that.proxy.data.durationSec === 0) {
                            that._stateDuration = Infinity;
                        } else if(that._stateDuration == Infinity && !evt.value.duration){
                            setTimeout(function(){
                                that._stateDuration = that.swf.getDuration() || that._stateDuration;
                                that.proxy.fire('loadedmetadata');
                            });
                            return;
                        }

                    } else if(evt.type == 'timeupdate'){
                        that._stateCurrentTime = evt.value;
                    } else if(evt.type == 'progress'){
                        if(!that._stateDuration){
                            return;
                        }
                        that._stateBufferred = evt.value * that._stateDuration;
                        that.bufferedTimeRange.length = 1;

                    } else if(evt.type == 'error'){
                        that.proxy.error({code: mediaplayer.ERRORS.MEDIASUPPORT, details: evt.value});
                    }

                    that.proxy.fire(that.proxyEvents[evt.type]);


                };
            },
            processQueue: function(){
                var fn;
                while(this.fnQueue.length){
                    fn = this.fnQueue.shift();
                    this.swf[fn[0]].apply(this.swf, fn[1]);
                }
            },
            /** Add all events to queue if Flash is not yet initialized */
            addToQueue: function(fn, args){
                if(!this.isReady){
                    this.fnQueue.push([fn, args || []]);
                    return true;
                }
            },
            /*
             * Methods
             */
            load: function(src){
                if(!this.addToQueue('load', [src])){
                    if(this._stateMetadata){
                        this.resetStates();
                        this.proxy.fire('emptied');
                    }
                    this.swf.load(src);
                }
            },
            play: function(){
                this._fixPause = false;
                if(!this.addToQueue('play')){
                    this.swf.play();
                } else {
                    this._stateWaiting = true;
                    this.proxy.fire('waiting');
                }

                this._statePaused = false;
            },
            pause: function(){

                if(!this.addToQueue('pause')){
                    this.swf.pause();
                    if(!this.isLoadedmetadata()){
                        this._fixPause = true;
                    }
                } else {
                    this._stateWaiting = false;
                }
                this._statePaused = true;
            },
            /*
             * getter/setter
             */
            muted: function(mute){
                var isSetter = !!arguments.length;
                if(isSetter){
                    this._stateMuted = mute;
                    if(!this.addToQueue('muted', [mute])){
                        this.swf.muted(mute);
                    }
                } else {
                    return this.swf ? this.swf.muted() : this._stateMuted;
                }
            },
            volume: function(vol){
                var isSetter = !!arguments.length;
                if(isSetter){
                    this._stateVolume = vol;
                    if(!this.addToQueue('volume', [vol])){
                        this.swf.volume(vol);
                    }
                } else {
                    return this.swf ? this.swf.volume() : this._stateVolume;
                }
            },
            currentTime: function(time){
                var isSetter = !!arguments.length;

                if(isSetter){
                    if(!this.addToQueue('currentTime', [time])){
                        this.swf.currentTime(time);
                    }
                }

                return this._stateCurrentTime;
            },
            controls: function(){},
            /*
             * getters
             */
            getBuffered: function(){
                return this.bufferedTimeRange;
            },
            getDuration: function(){
                return this._stateDuration;
            },
            /*
             * states
             * knnen im provider simuliert
             */
            isPlay: function(){
                return !this._statePaused;
            },
            isPlaying: function(){
                return !this._statePaused && !this._stateWaiting;
            },
            isEnded: function(){
                return this._stateEnded;
            },
            isWaiting: function(){
                return this._stateWaiting;
            },
            isLoadedmetadata: function(){
                return !!this._stateMetadata;
            },
            isProgress: function(){
                return !!this.bufferedTimeRange.length;
            },

            //remove node + destroy externalinterface
            destroy: function(){
                swfobject.removeSWF(this.id);
            }
        }
    });
})();


/** Mediaproviders */

(function(window, document){
    "use strict";


    var $ = window.de && de.bild && de.bild.mediaplayer && de.bild.mediaplayer.$ || window.jQuery;
    var id = new Date().getTime();
    var regSwf = /swf|flash|shockwave/i;
    var regJs = /javascript|js|ecmascript/i;
    var hasSwf = window.swfobject && swfobject.hasFlashPlayerVersion('11.1.0');
    var hasJs = document.createElement('video').canPlayType;
    var hasAccessors = Object.create && Object.defineProperties;
    var slice = Array.prototype.slice;

    /**
     *
     * params {String} adSrc - URL to evil ad JavaScript
     * */
    function VPAIDWrapper(dom, playerVersion, adSrc, type, options){

        this.$dom = $(dom);
        this.playerVersion = playerVersion;
        this.adSrc = adSrc;
        this.type = type || '';
        this.options = $.extend(true, {context: this}, VPAIDWrapper.defaults, options);

        id++;
        this.events = {};
        this.id = 'vpaidwrapper'+id;
        this._creative = null;
        this._deferred = $.Deferred();
        this.promise = this._deferred.promise();
        this.failed = false;
        /* VPAID Version */
        this.parsedVersion = [1, 1, 0];

        this.detectType();
        if(this.canPlayType()){
            this.load();
        }
    }

    VPAIDWrapper.prototype = {
        eventTypes: ['AdLoaded', 'AdStarted', 'AdStopped', 'AdSkipped', 'AdSkippableStateChange', 'AdSizeChange', 'AdLinearChange', 'AdDurationChange', 'AdExpandedChange', 'AdRemainingTimeChange', 'AdVolumeChange', 'AdImpression', 'AdVideoStart', 'AdVideoFirstQuartile', 'AdVideoMidpoint', 'AdVideoThirdQuartile', 'AdVideoComplete', 'AdClickThru', 'AdInteraction', 'AdUserAcceptInvitation', 'AdUserMinimize', 'AdUserClose', 'AdPaused', 'AdPlaying', 'AdLog', 'AdError'],
        detectType: function(){
            if(regSwf.test(this.type)){
                this.type = 'flash';
            } else if(regJs.test(this.type)){
                this.type = 'javascript';
            } else {
                this.type = 'unknown';
            }
        },
        canPlayType: function(){
            if(!((this.type == 'flash' && hasSwf) || (this.type == 'javascript' && hasJs))){
                this.failed = true;
                this._deferred.rejectWith(this, [this]);
                return false;
            }
            return true;
        },

        load: function(){
            var that = this;
            if(this.type == 'javascript'){
                this._loadJS();
            } else if(this.type == 'flash'){
                this._loadSWF();
            }
            clearTimeout(this.timeoutTimer);

            this.timeoutTimer = setTimeout(function(){
                that._fail('load timeout');
            }, this.options.loadTimeout);
        },
        _loadJS: function(){
            var script;
            var that = this;
            var $iframe = $('<iframe />')
                /*jshint scripturl: true */
                .prop({
                    src: 'javascript:false',
                    allowTransparency: true
                })
                /*jshint scripturl: false */
                .addClass('vpaid-iframe vpaid-element media-fullsize')
                .attr({frameborder: '0', allowfullscreen: '', id: this.id})
                .css({width: '100%', height: '100%'})
                .appendTo(this.$dom)
            ;

            var iframeDocument = $iframe.contents()[0];
            var onload = function(e){
                var win = ($iframe[0].contentWindow || $iframe[0].contentDocument);

                if(win.getVPAIDAd){
                    that._setCreative(win.getVPAIDAd());
                    $(script).off('load error readystatechange');
                } else if(e && e.type == 'error'){
                    that._fail('loaderror');
                    $(script).off('load error readystatechange');
                }
            };

            // Support: IE + FF
            iframeDocument.write();
            iframeDocument.close();

            script = iframeDocument.createElement('script');

            this.iframeEnv = {
                slot: iframeDocument.body
            };

            $(script)
                .on('load error readystatechange', onload)
                .prop('src', this.adSrc)
            ;

            this.$vpaid = $iframe;
            iframeDocument.body.appendChild(script);

        },
        _loadSWF: function(){
            var o = this.options;
            var $vpaid = $('<div />')
                .addClass('vpaid-object vpaid-element media-fullsize')
                .css({width: '100%', height: '100%'})
                .attr({id: this.id})
                .appendTo(this.$dom)
            ;
            this.addSWFEvents();

            $.extend(o.swfVars, {
                adSrc: encodeURIComponent(this.adSrc),
                cb: 'window.VPAIDWrapper.swfEvents.'+this.id,
                name: this.id,
                id: this.id
            });

            $.extend(o.swfAttrs, {
                name: this.id,
                id: this.id,
                className: 'vpaid-object vpaid-element'
            });

            this.$vpaid = $vpaid;
            swfobject.embedSWF(o.context.proxy.data.basePath + o.swfVPAIDProxy, this.id, "100%", "100%", "11.1.0", false, o.swfVars, o.swfParams, o.swfAttrs);
        },
        _setCreative: function(creative){
            clearTimeout(this.timeoutTimer);
            var version;

            this._creative = creative;
            this.vpaidVersion = this.handshakeVersion(this.playerVersion) || '';

            version = this.vpaidVersion.split('.');
            this.parsedVersion = [parseInt(version[0] || '1', 10) || 1, parseInt(version[1] || '0', 10) || 0, parseInt(version[2] || '0', 10) || 0];

            if(this.type == 'javascript'){
                this.addJSEvents();
            }
            this._deferred.notifyWith(this.options.context, [this, this.parsedVersion]);
        },
        _fail: function(message){
            clearTimeout(this.timeoutTimer);
            this.failed = true;
            if(this._creative && this._addLoaded){
                this.fire({type: 'adError', data: message});
            } else {
                this._deferred.rejectWith(this.options.context, [this, message]);
            }

        },
        fire: function(e){
            var boundEventHandlers, i, detail;

            /* event could be a string or object, depending on flash || js. Go figure why. */
            if(typeof e == 'string'){
                e = {type: e, data: null};
            }

            /* Normalize event detail to match standard events */
            if('detail' in e && !('data' in e)){
                e.data = e.detail;
            }

            if(e.type == 'AdLoaded'){
                clearTimeout(this.timeoutTimer);
                this._addLoaded = true;
                this._deferred.resolveWith(this.options.context, [this, 2]);
            }


            if(e.type == 'AdStarted'){
                clearTimeout(this.timeoutTimer);
            }

            /* HINT: Check how js and flash vpaid implementations pass event objects */
            if(e.type == 'AdClickThru' && arguments.length > 2){
                if(!e.data){
                    e.data = {};
                }
                if(!e.data.url){
                    e.data.url = arguments[1];
                }
                if(!e.data.id){
                    e.data.id = arguments[2];
                }
                if(e.data.playerHandles == null){
                    e.data.playerHandles = arguments[3];
                }
            }

            boundEventHandlers = this.events[e.type];

            if(boundEventHandlers){
                for(i = 0; i < boundEventHandlers.length; i++){
                    boundEventHandlers[i][0].call(boundEventHandlers[i][1] || window, $.Event(e));
                }
            }
        },
        subscribe: function(fn, name, thisArg){
            if(!this.events[name]){
                this.events[name] = [];
            }

            this.events[name].push([fn, thisArg]);
        },
        unsubscribe: function(fn, name){
            var i;
            if(this.events[name]){
                for(i = 0; i < this.events[name].length; i++){
                    if(this.events[name][i][0] == fn){
                        this.events[name].splice(i, 1);
                    }
                }
            }
        },
        addJSEvents: function(){
            var type;
            var that = this;
            for(var i = 0; i < this.eventTypes.length; i++){
                type = this.eventTypes[i];
                /*jshint loopfunc: true */
                this._creative.subscribe((function(type){
                    return function(e){
                        var args = slice.call(arguments);
                        if(!e || e.type != type){
                            args.unshift({type: type, data: null});
                        }
                        that.fire.apply(that, args);
                    };
                })(type), type);
                /*jshint loopfunc: false */
            }
        },
        addSWFEvents: function(){
            var that = this;
            VPAIDWrapper.swfEvents[this.id] = function(e){
                if(e.type == 'wrapperready'){
                    that.$vpaid = $(document.getElementById(that.id));
                    that._setCreative(that.$vpaid[0]);
                    return;
                }

                if(!that._addLoaded && e.type == 'adError' && !that._creative){
                    that._fail(e.data);
                }

                that.fire.apply(that, arguments);
            };
        },
        log: function(message){
            if(window.console && console.log){
                console.log(message);
            }
        },
        initAd: function(width, height, viewMode, desiredBitrate, creativeData, environmentVars){
            var that = this;

            if(!viewMode){
                viewMode = 'normal';
            }
            if(desiredBitrate === undefined){
                desiredBitrate = 600;
            }
            if(this.type == 'javascript'){
                if(!width || width < 2){
                    width = this.$vpaid.width();
                }
                if(!height || height < 2){
                    height = this.$vpaid.height();
                }

                if(creativeData === undefined){
                    creativeData = null;
                }

                environmentVars = $.extend(this.iframeEnv, environmentVars || {});

                if(this.options.videoSlot){
                    environmentVars.videoSlotCanAutoPlay = true;
                    environmentVars.videoSlot = this.options.videoSlot;
                }

            } else if(this.type == 'flash') {
                if(!width || width < 2){
                    width = -1;
                }
                if(!height || height < 2){
                    height = -1;
                }
                if(!creativeData){
                    creativeData = '';
                }
            }

            clearTimeout(this.timeoutTimer);
            this.timeoutTimer = setTimeout(function(){
                that._fail('init timeout');
            }, this.options.loadTimeout);

            this._creative.initAd(width, height, viewMode, desiredBitrate, creativeData, environmentVars);
        },

        startAd: function(){
            var that = this;

            clearTimeout(this.timeoutTimer);
            this.timeoutTimer = setTimeout(function(){
                that._fail('startAd timeout');
            }, this.options.methodTimeouts);
            return this._creative.startAd.apply(this._creative, arguments);
        }
    };

    //ad methods
    $.each([['handshakeVersion'], ['resizeAd'], ['stopAd'], ['pauseAd'], ['resumeAd'], ['expandAd'], ['collapseAd'], ['skipAd', 2]], function(i, def){
        var name = def[0];
        var version = def[1] || 1;
        VPAIDWrapper.prototype[name] = function(){
            if(!this._creative){
                this.log('creative not loaded yet');
                return;
            } else if(version > this.parsedVersion[0]){
                this.log('method/property ' + name + ' not implemented in VPAIDCreative version: '+ this.vpaidVersion);
                return;
            }
            return this._creative[name].apply(this._creative, arguments);
        };
    });

    //get properties
    $.each([['adLinear'], ['adWidth', 2], ['adHeight', 2], ['adExpanded'], ['adSkippableState', 2], ['adRemainingTime'], ['adDuration', 2], ['adCompanions', 2], ['adIcons', 2]], function(i, def){
        var prop = def[0];
        var version = def[1] || 1;
        var name = 'get'+ (prop.charAt(0).toUpperCase()) + (prop.substr(1));
        VPAIDWrapper.prototype[name] = function(){
            if(!this._creative){
                this.log('creative not loaded yet');
                return;
            } else if(version > this.parsedVersion[0]){
                this.log('method/property '+ name +' not implemented in VPAIDCreative version: '+ this.vpaidVersion);
                return;
            }
            return this._creative[name]();
        };

        if(hasAccessors){
            Object.defineProperty(VPAIDWrapper.prototype, prop, {
                get: VPAIDWrapper.prototype[name],
                enumerable: true,
                configurable: true
            });
        }
    });

    //getter/setter properties
    $.each([['adVolume']], function(i, def){
        var prop = def[0];
        var version = def[1] || 1;
        var baseName = (prop.charAt(0).toUpperCase()) + (prop.substr(1));
        var getname = 'get' + baseName;
        var setname = 'set' + baseName;

        VPAIDWrapper.prototype[getname] = function(){
            if(!this._creative){
                this.log('creative not loaded yet');
                return;
            } else if(version > this.parsedVersion[0]){
                this.log('method/property ' + getname + ' not implemented in VPAIDCreative version: ' + this.vpaidVersion);
                return;
            }
            return this._creative[getname]();
        };


        VPAIDWrapper.prototype[setname] = function(){
            if(!this._creative){
                this.log('creative not loaded yet');
                return;
            } else if(version > this.parsedVersion[0]){
                this.log('method/property ' + setname + ' not implemented in VPAIDCreative version: ' + this.vpaidVersion);
                return;
            }

            return this._creative[setname].apply(this._creative, arguments);
        };

        if(hasAccessors){
            Object.defineProperty(VPAIDWrapper.prototype, prop, {
                get: VPAIDWrapper.prototype[getname],
                set: VPAIDWrapper.prototype[setname],
                enumerable: true,
                configurable: true
            });
        }
    });

    VPAIDWrapper.defaults = {
        loadTimeout: 3000,
        methodTimeouts: 300,
        swfParams: {
            allowscriptaccess: 'always',
            allowfullscreen: 'true',
            wmode: 'transparent',
            allowNetworking: 'all'
        },
        swfAttrs: {
            bgcolor: '#000000'
        },
        swfVars: {},
        swfVPAIDProxy: ''
    };
    VPAIDWrapper.swfEvents = {};

    VPAIDWrapper.support = function(type){
        return ((regSwf.test(type) && hasSwf) ||(regJs.test(type) && hasJs));
    };
    window.VPAIDWrapper = VPAIDWrapper;
})(window, document);

(function(){
    "use strict";
    var mediaplayer = de.bild.mediaplayer;
    var $ = mediaplayer.$;
    var TIME_NOT_CALCULATED = 'UNKNOWN';

    mediaplayer.addMediaProvider('vpaid', {

        canPlayType: (function(){
            return function(type){
                return (type.indexOf('vpaid') != -1) && (VPAIDWrapper.support(type.replace('vpaid/', ''))) ? 'maybe' : '';
            };
        })(),


        proto: {
            construct: function(proxy){
                this.options = proxy.data.vpaidProvider || {wrapper: {}};
                this.$media = $('<div class="vpaid-wrapper media-fullsize" />')
                    .appendTo(proxy.$mediaDisplay)
                ;

                this.options.wrapper.context = this;
                this.proxy = proxy;
            },


            load: function(src){

                this.reset();

                try {
                    this.options.wrapper.videoSlot = this.proxy.sharedProvider.provider.requestSharedMedia();
                } catch(e){}

                this.vpaidProxy = new VPAIDWrapper(this.$media, '2.0.0', this.proxy.currentSrc.src, this.proxy.currentSrc.type, this.options.wrapper);
                this.vpaidProxy.promise
                    .progress(function(vpaidProxy){
                        vpaidProxy.initAd();
                    })
                    .done(this.setup)
                    .fail(function(vpaidProxy, message){
                        this.proxy.error({code: mediaplayer.ERRORS.MEDIASUPPORT, details: message});
                        this.proxy.fire('error');
                    })
                ;
            },

            reset: function(){
                this.fnQueue = [];
                this._adStarted = false;
                this._stateWaiting = false;
                this._statePaused = false;
                this._stateEnded = false;
                this.isReady = false;

                this._duration = NaN;
                this._remainingTime = TIME_NOT_CALCULATED;

                if(this.vpaidProxy){
                    try {
                        this.vpaidProxy.stopAd();
                    } catch(e){}
                    this.$media.empty();
                    this.vpaidProxy = null;
                }
            },
            calculateDuration: function(){
                this._remainingTime = this.vpaidProxy.getAdRemainingTime();
                this._duration = this._remainingTime;

                if( !(this._remainingTime && this._remainingTime > 0 && this._duration && this._duration > 0) ){
                    this._duration = NaN;
                }
            },
            setup: function(){
                this.addEvents();
                this.isReady = true;
                this.processQueue();
            },
            _events: ['AdLoaded', 'AdStarted', 'AdStopped', 'AdSkipped', 'AdSkippableStateChange', 'AdSizeChange', 'AdLinearChange', 'AdDurationChange', 'AdExpandedChange', 'AdRemainingTimeChange', 'AdVolumeChange', 'AdImpression', 'AdVideoStart', 'AdVideoFirstQuartile', 'AdVideoMidpoint', 'AdVideoMidpoint', 'AdVideoThirdQuartile', 'AdVideoComplete', 'AdClickThru', 'AdInteraction', 'AdUserAcceptInvitation', 'AdUserMinimize', 'AdUserClose', 'AdPaused', 'AdPlaying', 'AdLog', 'AdError'],
            eventNormalizer: function(e){

                if((e.type == 'AdVideoStart' || e.type == 'AdStarted' || e.type == 'AdPlaying') && (this._statePaused || this._stateWaiting)){
                    this._stateWaiting = false;
                    this._statePaused = false;
                    this.proxy.fire('play');
                    this.proxy.fire('playing');
                }

                if((e.type == 'AdVideoComplete' || e.type == 'AdPaused') && !this._statePaused){
                    this._statePaused = true;
                    this.proxy.fire('pause');

                }

                if(e.type == 'AdStopped' || e.type == 'AdSkipped'){
                    this._stateEnded = true;
                    this.proxy.fire('ended');
                }

                if(e.type == 'AdDurationChange' && !isNaN(this._duration)){
                    this.calculateDuration();
                    if(!isNaN(this._duration)){
                        this.proxy.fire('durationchange');
                        this.proxy.fire('timeupdate');
                    }
                }

                if( this._remainingTime == TIME_NOT_CALCULATED && (e.type == 'AdVideoStart' || e.type == 'AdRemainingTimeChange')){
                    this.calculateDuration();
                    this.proxy.fire('loadedmetadata');
                }

                if(e.type == 'AdRemainingTimeChange' && !isNaN(this._duration)){
                    this._remainingTime = this.vpaidProxy.getAdRemainingTime();
                    if(this._remainingTime && this._remainingTime > -1 && !isNaN(this._remainingTime)){
                        this.proxy.fire('timeupdate');
                    }
                }

                if(e.type == 'AdError'){
                    this.proxy.error({code: mediaplayer.ERRORS.MEDIASUPPORT, details: e.data});
                    this.proxy.fire('error');
                }

                this.proxy.fire(e);

                if(this._stateEnded && this.proxy.mediaprovider == this){
                    this.proxy.destroyProvider();
                }
            },
            addEvents: function(){
                var that = this;
                $.each(this._events, function(i, evt){
                    that.vpaidProxy.subscribe(that.eventNormalizer, evt, that);
                });
            },

            destroy: function(){
                if(this.vpaidProxy){
                    try {
                        this.vpaidProxy.stopAd();
                    } catch(e){}
                }
                this.$media.remove();
            },
            processQueue: function(){
                var fn;
                while(this.fnQueue.length){
                    fn = this.fnQueue.shift();
                    this[fn[0]].apply(this, fn[1]);
                }
            },
            addToQueue: function(fn, args){
                if(!this.isReady){
                    this.fnQueue.push([fn, args || []]);
                    return true;
                }
            },
            play: function(){
                if(!this.addToQueue('play')){
                    if(this._adStarted){
                        this.vpaidProxy.resumeAd();
                    } else {
                        this._adStarted = true;
                        this.vpaidProxy.startAd();
                    }

                } else {
                    this._stateWaiting = true;
                    this.proxy.fire('waiting');
                }

                this._statePaused = false;
            },
            pause: function(){
                if(!this.addToQueue('pause')){
                    this.vpaidProxy.pauseAd();
                } else {
                    this._stateWaiting = false;
                }
                this._statePaused = true;
            },
            /*
             * getter/setter
             */
            muted: function(mute){
                var isSetter = !!arguments.length;
                if(isSetter){
                    this._stateMuted = mute;
                    if(!this.addToQueue('muted', [mute])){
                        this.vpaidProxy.setAdVolume(mute ? 0 : 1);
                    }
                } else {
                    return this.vpaidProxy ? !this.vpaidProxy.getAdVolume() : this._stateMuted;
                }
            },
            volume: function(vol){
                var isSetter = !!arguments.length;

                if(isSetter){
                    this._stateVolume = vol;
                    if(!this.addToQueue('volume', [vol])){
                        this.vpaidProxy.setAdVolume(vol);
                    }
                } else {
                    return this.isReady ? this.vpaidProxy.getAdVolume() : this._stateVolume;
                }
            },
            currentTime: function(time){
                if(arguments.length){return;}

                return (this._duration - this._remainingTime) || 0;
            },
            controls: function(){},
            /*
             * getters
             */
            getBuffered: function(){
                //return this.bufferedTimeRange;
            },
            getDuration: function(){
                return this._duration || NaN;
            },
            /*
             * states
             * knnen im provider simuliert
             */
            isPlay: function(){
                return !this._statePaused;
            },
            isPlaying: function(){
                return !this._statePaused && !this._stateWaiting;
            },
            isEnded: function(){
                return this._stateEnded;
            },
            isWaiting: function(){
                return this._stateWaiting;
            },
            isLoadedmetadata: function(){
                return this.isReady;
            },
            isProgress: function(){
                return this.isReady;
            }
        }
    });

})();


 /** Transformators */

(function(){

    "use strict";
    var mediaplayer = de.bild.mediaplayer;
    var $ = mediaplayer.$;

    var srcorder = {
        //assume flv is good pseudostreaming
        'video/x-flv': 1,
        'application/x-mpegURL': 2,
        '': -1
    };

    function optimizeOrder(src, src2){
        if(!src.type){
            src.type = '';
        }
        if(!src2.type){
            src2.type = '';
        }
        var a = srcorder[src.type] || 0;
        var b = srcorder[src2.type] || 0;
        return b - a;
    }

    de.bild.mediaplayer.dataLoader.addTransformator(function(data, doneCallback){
        $.each(data.clipList || [], function(i, clip){
            if($.isArray(clip.srces)){
                clip.srces.sort(optimizeOrder);
            }
        });
        doneCallback(data);
    });


})();


/** Plugins */

(function() {
    "use strict";
    var mediaplayer = de.bild.mediaplayer;
    var $ = mediaplayer.$;

    mediaplayer.parseVastURL = (function(){
        var defaults = {
            ajax: {
                xhrFields: {
                    withCredentials: true
                },
                crossDomain: true,
                dataType: 'xml'
            },
            eachVast: $.noop
        };
        var vpaidType = /shockwave|swf|flash/i;

        function construct(url, type, options){
            var vastConfig = $.Deferred();
            options = $.extend(true, {}, defaults, options);
            vastConfig.type = type;
            vastConfig.adPromises = [];
            vastConfig.vastUrls = [];
            vastConfig.creatives = [];

            vastConfig.error = false;

            construct.fetchVast(url, options, vastConfig);

            return vastConfig;
        }

        construct.getEmptyVastEntries = function (){
            return {events: {}, ads: [], clickTracking: [], clickThrough: ''};
        };

        construct.getUrl = function($node){
            var $url = $node.find('URL');
            if(!$url.length){
                $url = $node;
            }
            return $.trim($url.text());
        };

        construct.extendEvents = function (events, $node){
            $node.find('Tracking').each(function(){
                var eventType = $.attr(this, 'event').toLowerCase();
                var url = construct.getUrl($(this));

                if(url){
                    if(!events[eventType]){
                        events[eventType] = [];
                    }
                    events[eventType].push(url);
                }
            });
        };

        construct.extendClickThrough = function(configPart, $node){
            $node.find('ClickTracking').each(function(){
                var url = construct.getUrl($(this));
                if(url){
                    configPart.clickTracking.push(url);
                }
            });

            configPart.clickThrough = construct.getUrl($node.find('ClickThrough'));
        };

        construct.extendAds = function(ads, $node){
            $node.find('MediaFile').each(function(){
                var api, type;
                var url = construct.getUrl($(this));
                if(url){

                    type = $.attr(this, 'type');
                    api = $.attr(this, 'apiFramework') || '';

                    if(!api && vpaidType.test(type || '')){
                        api = 'vpaid';
                    }
                    if(api){
                        api = api.toLowerCase();
                    }
                    ads.push({
                        src: url,
                        type: (api ? api+'/': '') + (type || ''),
                        api: api,
                        width: $.attr(this, 'width') || NaN,
                        height: $.attr(this, 'height') || NaN
                    });
                }
            });

            $node.find('NonLinear').each(function(){
                var api;
                var $resource = $(this).find('StaticResource');
                var type = $resource.attr('creativeType');
                api = $.attr(this, 'apiFramework') || '';

                if(!api && vpaidType.test(type || '')){
                    api = 'vpaid';
                }
                if(api){
                    api = api.toLowerCase();
                }
                var ad = {
                    minDuration: $.attr(this, 'minSuggestedDuration'),
                    width: $.attr(this, 'width'),
                    height: $.attr(this, 'height'),
                    scalable: $.attr(this, 'scalable'),
                    aspectRatio: $.attr(this, 'maintainAspectRatio'),
                    apiFramework: $.attr(this, 'apiFramework'),
                    src: construct.getUrl($resource),
                    api: api,
                    type: (api ? api+'/': '')+( type ),
                    clickThrough: construct.getUrl($(this).find('NonLinearClickThrough'))
                };
                if(ad.src){
                    ads.push(ad);
                }
            });
        };

        construct.extendImpressions = function(impressions, $node){

            $node.find('Impression').each(function(){
                var url = construct.getUrl($(this));
                if(url){
                    impressions.push(url);
                }
            });
        };

        construct.fetchVast = function(url, options, vastConfig, podSequence){
            options.ajax.url = url;
            vastConfig.vastUrls.push(url);
            $.ajax(options.ajax)
                .done(function(xml){
                    var url;
                    var $AdPods = $(xml).find('Ad[sequence]');

                    var $Ad = $AdPods.length > 1 ? $AdPods : $(xml).find('Ad:not([sequence])').eq(0);

                    if(!$Ad.length){
                        vastConfig.error = true;
                        vastConfig.resolve();
                        return;
                    }

                    $Ad.each(function(i){

                        var creative;
                        var $Ad = $(this);
                        var $linear = $Ad.find('Linear');
                        var $nonlinear = $Ad.find('NonLinearAds');
                        var sequence = i;

                        var customAsmiPlugin = $Ad.find('Extension').find('ASMI').find('MediaplayerPlugin');

                        vastConfig.ASMIPlugins = vastConfig.ASMIPlugins || [];
                        if(customAsmiPlugin && customAsmiPlugin.length && options.requestRecursionCount === 0) {
                            customAsmiPlugin.each(function(){
                                vastConfig.ASMIPlugins.push({name: $(this).attr('name'), content: $(this).text()});
                            });
                        }

                        url = construct.getUrl($Ad.find('VASTAdTagURI'));

                        if(podSequence != null){
                            sequence = podSequence;
                        }

                        creative = vastConfig.creatives[sequence];

                        if(!creative){
                            creative = {type: vastConfig.type};
                            creative.promise = $.Deferred();

                            vastConfig.adPromises.push(creative.promise);

                            creative.nonlinear = construct.getEmptyVastEntries();
                            creative.linear = construct.getEmptyVastEntries();
                            creative.impressions = [];
                            creative.linear.impressions = creative.impressions;
                            creative.nonlinear.impressions = creative.impressions;

                            vastConfig.creatives.push(creative);
                        }

                        construct.extendImpressions(creative.impressions, $Ad);

                        construct.extendEvents(creative.linear.events, $linear);
                        construct.extendEvents(creative.nonlinear.events, $nonlinear);

                        construct.extendAds(creative.linear.ads, $linear);
                        construct.extendAds(creative.nonlinear.ads, $nonlinear);

                        construct.extendClickThrough(creative.linear, $linear);
                        construct.extendClickThrough(creative.nonlinear, $nonlinear);

                        options.eachVast($Ad, creative, options);

                        creative.error = (!creative.nonlinear.ads.length && !creative.linear.ads.length);

                        if(url){
                            // Increment for each recursive vast call
                            options.requestRecursionCount++;
                            construct.fetchVast(url, options, vastConfig, sequence);
                        } else {
                            creative.promise.resolve();
                            if($.when.apply($, vastConfig.adPromises).state() == 'resolved'){
                                vastConfig.resolve();
                            }
                        }
                    });

                })
                .fail(function(){
                    vastConfig.error = true;
                    vastConfig.resolve();
                })
            ;
        };

        return construct;
    })();

    mediaplayer.pluginManager.add('vast', {
        init: function(){
            var data = this.controller.data;

            if(data.ads && data.ads.vast && data.ads.vast.srces){
                this.vastUrls = this.getActiveVastURls(data.ads.vast, data);

                this.prerollSetup();
                this.postrollSetup();
                this.midrollSetup();
                this.overlaySetup();
            }
        },
        prerollSetup: function(){
            if(!this.vastUrls.preroll){return;}

            var adPromise;
            var that = this;
            var hasCalled = false;
            var isFinished = false;
            var $mediaBox = this.controller.$mediaBox;

            var startVideo = function(){
                isFinished = true;

                that.off('.preroll');

                $mediaBox
                    .find('video')
                    .off('click play', onVideoClick)
                    .off('mousedown touchstart', loadAds)
                ;
                that.controller.loadIndex(0);
                that.controller.play();
            };

            var loadAds = function(){
                if(!adPromise) {
                    adPromise = that.parseVast('preroll');
                }
            };

            var initVideo = function(){
                var video = $('video', $mediaBox);

                if (video[0]) {
                    video[0].pause();
                    video[0].load();
                }
            };

            var request = function(){
                if(!hasCalled){
                    loadAds();

                    initVideo();

                    hasCalled = true;

                    adPromise.always(startVideo);
                }
            };

            var onVideoClick = function(){
                if(!hasCalled){
                    request();
                    return false;
                }
            };

            var addVideoClick =  function(){
                $mediaBox.find('video')
                    .on('click play', onVideoClick)
                    .on('mousedown touchstart', loadAds)
                ;
                this.off('afterload.preroll');
            };

            this.on('beforecontrollerplay.preroll', function() {
                request();
                return 'abort';
            });

            this.on('afterload.preroll', addVideoClick);

            if($mediaBox.find('video').length){
                addVideoClick.call(this);
            }
        },
        isMain: function(){
            return this.controller.currentItem.type == 'main';
        },
        postrollSetup: function(){
            if(!this.vastUrls.postroll){return;}

            var create = function(){
                if(this.isMain()){
                    var ad;
                    var that = this;
                    var doomAborted = false;
                    var duration = this.controller.getDuration() - 15;

                    var runVast = function(){
                        if(!ad){
                            ad = that.parseVast('postroll');

                            ad.always(function(){
                                that.off('.postroll');

                                if(doomAborted){
                                    if(ad.error){
                                        that.controller.fire('doom');
                                    } else {
                                        that.controller.loadNext();
                                        that.controller.play();
                                    }
                                }
                            });
                        }
                    };

                    this.off('loadedmetadata.postroll', create);

                    this.on('beforedoom.postroll', function(){
                        this.off('.postroll');
                        doomAborted = true;
                        runVast();
                        return 'abort';
                    });

                    if(!duration){return;}

                    this.on('timeupdate.postroll', function(){
                        if(this.isMain() && this.controller.currentTime() > duration){
                            runVast();
                        }
                    });
                }
            };

            this.on('loadedmetadata.postroll', create);
        },
        midrollSetup: function(){
            if(!this.vastUrls.midroll){return;}
            var midrollPromise = $.Deferred();

            var create = function(){
                if(this.isMain()){
                    var stop;
                    var duration = (this.controller.getDuration() / 2) - 15;
                    var endDuration = this.controller.getDuration() - 9;
                    if(!duration){return;}

                    this.off('loadedmetadata.midroll', create);

                    this.on('beforedoom.midroll', function(){
                        stop = true;
                        this.off('.midroll');
                    });

                    this.on('timeupdate.midroll', function(){
                        var curTime = this.controller.currentTime();
                        if(curTime > duration && this.isMain()){
                            this.off('.midroll');

                            if(!stop && endDuration > curTime){
                                stop = true;
                                this.parseVast('midroll').done(function(){
                                    midrollPromise.resolve();
                                });
                            }
                        }
                    });
                }
            };

            this.controller.data.midroll = midrollPromise;

            this.on('loadedmetadata.midroll', create);
        },
        overlaySetup: function(){
            if(!this.vastUrls.overlay){return;}
            var overlayPromise = $.Deferred();

            this.controller.data.overlayAd = overlayPromise;

            this.on('playing.overlay', function(){
                if(this.controller.currentItem.type == 'main'){
                    this.off('playing.overlay');
                    this.parseVast('overlay').done(function(){
                        overlayPromise.resolve();
                    });
                }
            });
        },
        parseVast: function(type){
            var that = this;
            var options = {
                eachVast: function($node, addConfig){
                    if(!addConfig.isFallback){
                        addConfig.isFallback = $node.find('Extensions Fallback').text() == 'true';
                    }
                },
                ajax: {
                    timeout: this.controller.data.vast.timeout
                },
                requestRecursionCount: 0
            };
            var ad = mediaplayer.parseVastURL(this.vastUrls[type], type, options);

            ad.always(function(){
                that.addAd(ad, that.controller.data);
            });
            return ad;
        },
        useAdType: function(type, data){
            var allow = {
                midroll: 600,
                preroll: 30,
                postroll: 0,
                overlay: 120
            };

            if(!(type in allow)){
                mediaplayer.warn('Mediaplayer: No rule for vast type: '+ type + ' defined.');
                return false;
            }

            if(typeof data.durationSec === 'undefined'){
                mediaplayer.log('Mediaplayer: no duration for video available.');
            } else if(data.durationSec === 0 || data.durationSec === -1) {
                /* Enable prerolls for live streams */
                allow.preroll = 0;
            }

            return allow[type] <= Math.abs(data.durationSec || 1);
        },
        getActiveVastURls: (function(){
            var usedGlobalTimeStamped = false;

            function getUserVastUrl(ad_srces){
                if(!$.isArray(ad_srces)){
                    ad_srces = [ad_srces];
                }
                var retSrc = "";

                $.each(ad_srces, function(i, src){

                    if(!src.clubId) {
                        retSrc = src.src;
                    } else if(de.bild.user && de.bild.user.userHasClub && de.bild.user.userHasClub(src.clubId)){
                        retSrc = src.src;
                        return false;
                    }
                });
                return retSrc;
            }

            function getTGT(data){
                var tgt = {};

                tgt.contentId = data.id;
                tgt.vpp = window.swfobject && swfobject.hasFlashPlayerVersion('10.0.3') ?
                    'flash' :
                    'html5;uag_html5'
                ;

                if(window.nuggprof){
                    tgt.nuggprof = window.nuggprof;
                }

                if(data.$dom){
                    if(data.$dom.is('.mediacenter *')){
                        tgt.env = 'lightbox';
                    }

                    tgt.widthPlayer = data.$dom.outerWidth();
                }

                if(data.ads && data.ads.keywords){
                    tgt.content = data.ads.keywords;
                }

                if(typeof data.durationSec !== 'undefined'){
                    if(data.durationSec === 0 || data.durationSec === -1) {
                        tgt.vlength = -1;
                    } else {
                        tgt.vlength = data.durationSec;
                    }
                }

                return $.param(tgt).replace(/\&/g, ';');
            }

            return function(vastSrcConfig, data){
                var tmstp;

                var that = this;
                var vast_urls = {};
                var ad_src = getUserVastUrl(vastSrcConfig.srces);
                var params = {};

                if (ad_src && 'string' === typeof ad_src) {

                    if (!window.sas_tmstp) {
                        /* set random global timestamp if not provided by bild */
                        window.sas_tmstp = Math.round(Math.random() * 10000000000);
                    }

                    if(!usedGlobalTimeStamped) {
                        usedGlobalTimeStamped = true;
                        tmstp = window.sas_tmstp;
                    } else {
                        tmstp = Math.round(Math.random() * 10000000000);
                    }

                    ad_src = ad_src.replace("[timestamp]", tmstp);

                    if(window.sas_uuid){
                        params.uid = window.sas_uuid;
                    }

                    params.tgt = getTGT(data);

                    params = $.param(params);

                    if(params){
                        ad_src += (ad_src.indexOf('?') == '-1') ? '?' : '&';
                        ad_src += params;
                    }

                    $.each(vastSrcConfig.formats, function(i, cfg){
                        if(that.useAdType(cfg.name, data)){
                            vast_urls[cfg.name] = $.trim(ad_src.replace("[format]", cfg.id));
                        }
                    });
                }

                return vast_urls;
            };
        })(),
        linearAds: {
            preroll: true,
            postroll: true,
            midroll: true
        },
        addAd: function( ad, config ) {

            var that = this;
            var type = ad.type;

            var mainAdType = this.linearAds[type] ?
                    'linear' :
                    'nonlinear'
                ;

            if(type == 'preroll'){
                ad.creatives.reverse();
            }

            $.each(ad.ASMIPlugins || [], function(){
                /*jshint evil: true */
                try {
                    eval(this.content);
                    /*jshint evil: false */
                    that.controller.data.plugins.push({name:this.name});
                    mediaplayer.pluginManager.loadPlugins({name:this.name}, that.controller);
                } catch (e) {
                    console.error('Mediaplayer::Invalid Plugin-Code. ', e.message);
                }
            });

            $.each(ad.creatives, function(i, creative){
                var mainAds = creative[mainAdType];

                if(mainAds){
                    mainAds.type = type;
                }

                if(!creative.error && creative.isFallback){
                    if(!config.plugins){
                        config.plugins = [];
                    }

                    /*config.plugins.push({
                        name: 'Vastfallback',
                        params: creative.linear
                    });*/
                    that.fire('vast/tracking/fallback', [creative.linear]);
                    creative.error = true;
                    return;
                }

                if(creative.error || creative.error || !mainAds.ads.length){
                    ad.error = true;
                    mediaplayer.warn('no ads found', ad, config);
                    return;
                }

                var clipObject = {
                    type: type,
                    srces: mainAds.ads,
                    plugins: [{
                        name: 'Vasttracking',
                        params: mainAds
                    }]
                };

                // TODO a better slot for asmi plugins?

                if(type == 'postroll'){
                    config.clipList.push(clipObject);
                } else if(type == 'preroll'){
                    config.clipList.unshift(clipObject);
                } else if(type == 'midroll') {
                    config[type] = clipObject;
                } else if(type == 'overlay'){
                    config.overlayAd = mainAds;
                }
            });
        }

    }, true);

})();


(function () {
    var defaults = {
        messages: {
            'default': {
                text: "<p><strong>Ein Fehler ist aufgetreten.</strong> Bitte laden Sie das Video neu. <small>Hinweis: Bundesliga-Videos sind auerhalb von Deutschland nicht abspielbar.</small></p>",
                hasReplayButton: true
            },
            DATAERROR: {
                'default': {
                    text: '<p><strong>Ein Fehler ist aufgetreten.</strong> Die Daten zum Video haben einen Fehler.  <small>Hinweis: Bundesliga-Videos sind auerhalb von Deutschland nicht abspielbar.</small></p>',
                    hasReplayButton: true
                },
                expired: {
                    text: '<p><strong>Ein Fehler ist aufgetreten.</strong> Dieses Video ist nicht mehr verfgbar.</p>'
                }
            },
            MEDIASUPPORT: {
                'default': {
                    text: '<p><strong>Ein Fehler ist aufgetreten.</strong> Bitte nutzen Sie einen alternativen Browser.</p>'
                }
            }
        }
    };

    var pluginTemplate = '<div class="media-errorscreen">' +
                            '<div class="media-errorscreen-message" />' +
                            '<button type="button" class="media-replay">Neu laden</button>' +
                         '</div>';

    var mediaplayer = de.bild.mediaplayer;
    var $ = mediaplayer.$;

    mediaplayer.pluginManager.add('errorscreen', {
        init: function(){
            this.params = $.extend({}, defaults, this.params);
            this.replayData = null;
            this.on('cliperror', this.onError);
            this.on('started', this.switchError);
        },
        _getMessage: function(error){
            var message = this.params.messages[error.code];

            if(typeof message == 'object'){
                message = message[error.details] || message['default'];
            }
            return message || this.params.messages['default'] ;
        },
        _setReplayData: function(error){

            this._setup();

            this.replayData = error.data || this.controller.data.dataUrl;

            this.$errorscreen.addClass('has-replay');

        },
        switchError: function(){
            if(this.controller.error()){
                this.onError();
            } else {
                this.hideError();
            }
        },
        onError: function(){
            var message;
            if(!this.controller.currentItem || this.controller.currentItem.type == 'main'){
                this._setup();
                var error = this.controller.error();
                message = this._getMessage(error);
                if(message.hasReplayButton) {
                    this._setReplayData(error);
                }
                this.showError(message.text);
            }
        },
        _setup: function(){
            var that;
            if(!this.$errorscreen){
                that = this;
                this.$errorscreen = $(pluginTemplate);
                this.$errorscreenMessage = $('.media-errorscreen-message', this.$errorscreen);
                $('.media-replay', this.$errorscreen).on('click', function(){
                    if(that.replayData){
                        mediaplayer.core.create(that.controller.$dom, that.replayData);
                    }
                    return false;
                });
            }
        },
        showError: function(message){
            this.$errorscreenMessage.html(message);
            this.$errorscreen.appendTo(this.controller.$pluginDisplay);
        },
        hideError: function(){
            if(this.$errorscreen){
                this.$errorscreen.detach();
            }
        },
        destroy: function(){
            if(this.$errorscreen){
                this.$errorscreen.remove();
            }
            this.super.destroy.apply(this, arguments);
        }
    }, true);
})();



(function(){

    "use strict";
    var mediaplayer = de.bild.mediaplayer;
    var $ = mediaplayer.$;

    var trackingPlugin = {

        init: function(){

            this.pluginConfig = this.controller.data.trackingPlugin;
            this.timeUpdateInterval = this.pluginConfig.trackIntervalInSec || 10;
            this.initialInitTracked = false;
            this.mainClipPlayed = false;
            this.initialPlayCallTriggered = false;
            this.trackingEnabled = true;

            this.WEBTREKKPARAMS = {
                AUTOPLAY_REVOLVER: 'ck12=autoplay/revolverload',
                AUTOPLAY: 'ck12=autoplay'
            };

            this.pixelId = window.de.bild.cmsKonfig && window.de.bild.cmsKonfig.system && window.de.bild.cmsKonfig.system.zaehlpixel_webtrekk_trackId || -1;
            if(this.pixelId === -1) {
                this.trackingEnabled = false;
            }

            this.webtrekkParamsString = '';
            this.webtrekkStatic = {
                url: window.location.pathname,
                mediaDimension: this.controller.$dom.outerWidth() + 'x' + this.controller.$dom.outerHeight()
            };

            this.lastUpdate = 0;
            this.adType = this.params.webtrekk.adType;
            this.adKeyword = this.params.webtrekk.adKeyword;
            this.webtrekkVideoDscription = this.params.webtrekk.description;

            this.clipDurationFromData = (this.controller.data.durationSec === -1 || this.controller.data.durationSec === 0 ? 0 : this.controller.data.durationSec);
            this.currentTimeNormalized = 0;
            this.durationAberration = 1;

            this.on('beforecontrollerplay', this.bindEvents);

        },


        bindEvents: function(){

            this.off('beforecontrollerplay', this.bindEvents);

            /* Webtrekk */
            if(this.params.webtrekk) {
                this.on('loadedmetadata', this._metaDataLoaded);
                this.on('doom', this._trackDoom);
            }

            this.on('started', this._trackStarted);
            this.on('playing', this._trackPlaying);

        },

        trackEvent: function(eventName, params){

            this._triggerWebtrekkTracking(eventName, params);
        },


        _metaDataLoaded: function(){

            if(this.controller.currentItem.type == 'main'  && this.controller.isStarted()) {
                var realClipDuration = Math.round(this.controller.getDuration()) || 0;
                this.durationAberration =  this.clipDurationFromData / realClipDuration;

                this.off('loadedmetadata', this._metaDataLoaded);

                this.on('timeupdate', this._trackPosChange);
                this.on('pause', this._trackPause);
                this.on('play', this._trackResume, true);   // true prevents current state from being tracked
                this.on('ended', this._trackEnded);
            }
        },

        _isUserInitiated: function(){

            /* Video is initialized by revolverload */
            if(this.controller.data.initializedBy && this.controller.data.initializedBy.data && this.controller.data.initializedBy.data.revolver === true) {
                return false;
            }

            /* Video in autoplay on video details page */
            try {
                if(webtrekk.customParameter[4] === "BTOFlashVideo" && window.location.href.indexOf(',auto=true') > 0) {
                    return false;
                }
            } catch(e){

            }

            return true;
        },

        _trackInit: function(){

            /* IVW */
            // TODO prevent on page autoload/autoplay
            // FIXME: Use a standarized userInitiated flag instead
            if(this._isUserInitiated()) {
                this._triggerIVWCalls();
            }

            this.webtrekkParamsString = "ck1=" + this.adType +
            ";ck2=" + this.webtrekkStatic.mediaDimension +
            ";ck3=" + this.webtrekkStatic.url +
            ";ck4=" + this.webtrekkVideoDscription +
            ";ck8=" + this.adType + "/" + this.adKeyword +
            ";ck9=" + this.params.webtrekk.pubDate +
            ";ck32=" + (this.params.webtrekk.playInline ? 'direkt' : 'nicht direkt') +
            ";ck35=" + this.controller.data.id +
            ";ck36=" + this.controller.data.copyright +
            ";ck13=" + this.params.webtrekk.premium +
            ";mg1=" + this.webtrekkVideoDscription;

            if(this.controller.data.autoplay) {
                if(this.controller.data.initializedBy
                    && this.controller.data.initializedBy.data
                    && this.controller.data.initializedBy.data.revolver) {
                    this.webtrekkParamsString += ';' + this.WEBTREKKPARAMS.AUTOPLAY_REVOLVER;
                } else {
                    this.webtrekkParamsString += ';' + this.WEBTREKKPARAMS.AUTOPLAY;
                }
            }

            this.trackEvent('init', this.webtrekkParamsString);
        },

        _trackPlaying: function(){
            /* Send initial play event */
            if(this.controller.currentItem.type == 'main'  && this.controller.isStarted()) {
                this.trackEvent('play');
                this.initialPlayCallTriggered = true;
                this.off('playing', this._trackPlaying);
            }
        },

        _trackStarted: function(){

            if(!this.initialInitTracked) {
                this.initialInitTracked = true;
                this._trackInit();
            }

            this.off('started', this._trackStarted);
        },

        _triggerIVWCalls: function(){

            /* IVW 2 */
            if(this.params.ivw2) {
                try {
                    var data = {
                        st: window.iam_data.st,
                        cp: this.params.ivw2.ivw2Code,
                        sv: window.iam_data.sv,
                        co: '',
                        contentCode: this.params.ivw2.contentCode
                    };
                    window.iom.c(data, 2);
                } catch (err) {
                    console.warn("videoTrackingEvent:: Failed to call IVW2 CountVideo Method.");
                }
            }
        },

        _trackPause: function(){
            this.trackEvent('pause');
        },

        _trackResume: function(){
            if(this.initialPlayCallTriggered) {
                this.trackEvent('resume');
            }
        },

        _trackPosChange: function(){

            this.mainClipPlayed = true;

            this.currentTimeCached = Math.round(this.controller.currentTime());
            this.currentTimeNormalized = Math.round(this.currentTimeCached * this.durationAberration) || 0;
            if(!this.lastUpdate) {
                this.lastUpdate = this.currentTimeNormalized;
            }

            /* Track only every x seconds */
            if((this.currentTimeNormalized - this.lastUpdate) >= this.timeUpdateInterval) {
                this.lastUpdate = this.currentTimeNormalized;
                if(this.currentTimeNormalized > this.clipDurationFromData) {
                    this.currentTimeNormalized = this.clipDurationFromData;
                }
                this.trackEvent('pos');
            }

        },

        _trackEnded: function(){

            if(this.mainClipPlayed) {
                this.off('ended', this._trackEnded);
                this.off('timeupdate', this._trackPosChange);
                this.off('pause', this._trackPause);
                this.off('play', this._trackResume);
                this.currentTimeNormalized = this.clipDurationFromData;
                this.trackEvent('end');
            }
        },

        _trackDoom: function(){
            this.trackEvent('eof');
        },

        _triggerWebtrekkTracking: function (eventName, parameterString){

            if(!parameterString) {
                parameterString = '';
            }

            if(window.wt_init_media && window.wt_sendinfo_media && this.trackingEnabled) {
                wt_init_media(this.pluginConfig.pixelURL, this.pixelId);
                wt_sendinfo_media(this.params.webtrekk.docPath, eventName, this.currentTimeNormalized, this.clipDurationFromData, parameterString, "", "", "");
            }
        },

        destroy: function(){
            this.super.destroy.apply(this, arguments);
        }

    };


    de.bild.mediaplayer.pluginManager.add('Tracking', trackingPlugin);
})();

(function(){
    "use strict";

    var mediaplayer = de.bild.mediaplayer;
    var $ = mediaplayer.$;

    var trackingPlugin = {
        init: function(){
            if(!this.params){
                this.params = {};
            }

            if ( !this.controller.currentItem || !this.controller.currentSrc ) {
                mediaplayer.warn('Vastplugin can be only a plugin associated with a clip. Not a global plugin');
                return;
            }

            this.addVastTracking();

            if( (this.controller.currentSrc.type || '').indexOf('vpaid') == -1 ){
                new VastEvents(this);
            }
        },
        destroy: function(){
            if(this.$clickTarget){
                this.$clickTarget.remove();
            }
            this.super.destroy.apply(this, arguments);
        },
        eventTrack: {
            AdImpression: 'impression',
            AdStarted: 'creativeview',
            AdVideoStart: 'start',
            AdVideoFirstQuartile: 'firstquartile',
            AdVideoMidpoint: 'midpoint',
            AdVideoThirdQuartile: 'thirdquartile',
            AdVideoComplete: 'complete',
            AdClickThru: 'clickTracking',
            AdUserAcceptInvitation: 'acceptinvitation',
            AdUserMinimize: 'collapse',
            AdPaused: 'pause',
            AdPlaying: 'resume',
            AdError: 'error',
            AdSkipped: 'skip'
        },
        addVastTracking: function(){
            var that = this;
            $.each(this.eventTrack, function(evtName, vastTrack){
                that.on(evtName, function(e){
                    that.trackEvent(vastTrack, e);
                });
            });
        },
        __eachPing: function(i, url){
            ping(url);
        },
        trackEvent: function(type, e){
            var url;

            mediaplayer.log('track: '+ type);

            if(type == 'impression' && this.params.impressions){
                $.each(this.params.impressions, this.__eachPing);
            } else if(type == 'clickTracking'){

                if(e.originalEvent){
                    e = e.originalEvent;
                }

                $.each(this.params.clickTracking || [], this.__eachPing);

                if(!e.data){
                    e.data = {};
                    mediaplayer.error('no AdClickThru params');
                }

                if(e.data.playerHandles){
                    url = e.data.url || this.params.clickThrough;
                    if(url){
                        window.open(url, '_blank');
                    }
                }
            } else if(this.params.events && this.params.events[type]){

                $.each(this.params.events[type], this.__eachPing);
            }
        }
    };

    var vastFallback = {
        init: function(){

            this.on('vast/tracking/fallback', this.triggerFallback);
        },

        triggerFallback: function(e, params){

            var triggered = false;

            this.params = params;

            mediaplayer.warn(this.params, 'fallback');
            if(!this.params){
                this.params = {};
            }

            if(this.params.type == 'preroll' && this.params.impressions){
                this.on('playing', function(){
                    if(!triggered && this.controller.index === 0){
                        triggered = true;
                        this.trackImpressions(this.params.impressions);
                        this.off('playing');
                    }
                });
            }
            if(this.params.type == 'postroll' && this.params.impressions){
                this.on('doom', function(){
                    this.trackImpressions(this.params.impressions);
                });
            }
        },

        trackImpressions: function(impressions){
            $.each(impressions, function(i, url){
                ping(url);
            });
        },
        destroy: function(){
            this.off('vast/tracking/fallback');
            this.super.destroy.apply(this, arguments);
        }
    };

    function ping(url){
        var img = document.createElement('img');
        img.src = url;
    }

    function VastEvents( trackingPlugin ){
        this.tracker = trackingPlugin;

        this.addEvents();
        this.addClickAd();

    }

    VastEvents.prototype = {
        addEvents: function(){
            var that = this;
            var triggeredStarted = false;

            this
                .tracker
                .on('playing', function(){
                    if(triggeredStarted){
                        this.fire('AdPlaying');
                    } else {
                        this.fire('AdStarted');
                        this.fire('AdImpression');
                        this.fire('AdVideoStart');
                    }
                    triggeredStarted = true;
                })
                .on('pause', function(){
                    /* Prevent Pause from firing at the end of the video */
                    if(this.controller.getDuration() - this.controller.currentTime() > 1) {
                        this.fire('AdPaused');
                    }
                }, true)
                .on('ended', function(){
                    this.fire('AdVideoComplete');
                })
                .on('error', function(){
                    this.fire('AdError');
                })
                .on('loadedmetadata', function(){
                    var duration = this.controller.getDuration();
                    var segments = [];

                    if(!isNaN(duration)){
                        duration /= 4;
                        segments = [{time: duration, name: 'AdVideoFirstQuartile'}, {time: duration * 2, name: 'AdVideoMidpoint'}, {time: duration * 3, name: 'AdVideoThirdQuartile'}];
                        that.addSegmentsPlayed(segments);
                    }
                })
            ;
        },
        addSegmentsPlayed: function(segments){
            var trigger = function(){
                var segment;
                if(segments[0]){
                    if(segments[0].time <= this.controller.currentTime()){
                        segment = segments.shift();
                        this.fire(segment.name);
                    }
                } else {
                    this.off('timeupdate', trigger);
                }
            };
            this.tracker.on('timeupdate', trigger);
        },
        addClickAd: function(){
            var that = this;
            var tracker = this.tracker;
            var clickUrl = tracker.params.clickThrough;
            if(tracker.params.clickThrough){
                tracker.$clickTarget = $('<div class="vast-click" />')
                    .css({
                        position: 'absolute',
                        top: 0,
                        left: 0,
                        bottom: 0,
                        right: 0,
                        visibility: 'visible'
                    })
                    .on('click', function(){
                        if(tracker.controller.isPlaying()){
                            var obj = {
                                url: clickUrl,
                                Id: null,
                                playerHandles: true
                            };
                            tracker.fire($.Event({
                                type: 'AdClickThru',
                                data: obj,
                                details: obj
                            }));
                            return false;
                        } else {
                            tracker.controller.play();
                        }
                    })
                ;

                //Fixme: Android 2.x workaround. Change to simple playing / started no on/off action
                tracker.on('timeupdate.vastclicktrough', function(){
                    // > 0 is not reliable on iOS. In some cases of autoplay, the first frame is loaded and current time returns something like 0.0344345
                    if(tracker.controller.currentTime() > 0.2){
                        tracker.off('.vastclicktrough');
                        tracker.$clickTarget.appendTo(this.controller.$pluginDisplay);
                    }
                });
            }
        }
    };

    de.bild.mediaplayer.pluginManager.add('Vastfallback', vastFallback, true);
    de.bild.mediaplayer.pluginManager.add('Vasttracking', trackingPlugin);
})();

(function() {
    "use strict";
    var mediaplayer = de.bild.mediaplayer;
    var $ = mediaplayer.$;
    var IOS_URL_POSTFIX = '&BildNoRedirect=json';

    if(!(navigator.userAgent.indexOf('Safari') != -1 && navigator.userAgent.indexOf('Mobile') != -1)){return;}

     var tokenizr = {
         init: function(){
             var isPremium = false;

             if(this.controller.data.premium){
                 try {
                     isPremium = de.bild.user.isLoggedIn();
                 } catch(e){}
             }

             if(isPremium){
                 this.on('beforeload', function(){
                     if(this.controller.currentItem && this.controller.currentItem.type == 'main'){
                         this.addToken();
                     }
                 });
             }
         },
         addToken: function(){
             var currentSrc = this.controller.currentSrc;
             if(!currentSrc.origSrc){
                 currentSrc.origSrc = currentSrc.src;
             }
             try {
                 $.ajax({
                     url: currentSrc.origSrc + IOS_URL_POSTFIX,
                     async: false,
                     success: function(src){
                         currentSrc.src = src || currentSrc.src;
                     }
                 });
             } catch(e){}
         }
     };
    mediaplayer.pluginManager.add('Iostokenizr', tokenizr, true);
})();


(function(){
    "use strict";

    var mediaplayer = de.bild.mediaplayer;
    var $ = mediaplayer.$;

    /**
     *  Plugin Template:
     *
     * <button type="button" class="media-fullscreentoggle" role="checkbox" aria-label="Vollbild" />
     *
     * */

    var domPrefixes = ["webkit", "moz", "o", "ms"];

    function prefixed(prop, obj){
        var i, testProp;
        var ret = false;
        if(obj[prop]){
            ret = prop;
        }
        if(!ret){
            prop = prop.charAt(0).toUpperCase() + prop.slice(1);
            for(i = 0; i < domPrefixes.length; i++){
                testProp = domPrefixes[i]+prop;
                if(testProp in obj){
                    ret = testProp;
                    break;
                }
            }
        }
        return ret;
    }


    //taken from http://johndyer.name/native-fullscreen-javascript-api-plus-jquery-plugin/
    mediaplayer.fullscreenAPI = (function() {
        var parentData;
        var frameData;
        var doc = document.documentElement;

        var fullScreenApi = {
            supportsFullscreen: prefixed('fullscreenEnabled', document) || prefixed('fullScreenEnabled', document),
            isFullscreen: function() { return false; },
            requestFullscreen: function(elem){
                var tmpData;
                parentData = [];

                $(elem).parentsUntil('body').each(function(){
                    var pos =  $.css(this, 'position');
                    var left = this.scrollLeft;
                    var top = this.scrollTop;
                    var changed;
                    tmpData = {elemStyle: this.style, elem: this};
                    if(pos !== 'static'){
                        changed = true;
                        tmpData.pos = tmpData.elemStyle.position;
                        this.style.position = 'static';
                    }
                    if(left){
                        changed = true;
                        tmpData.left = left;
                    }
                    if(top){
                        changed = true;
                        tmpData.top = top;
                    }
                    if(changed){
                        parentData.push(tmpData);
                    }
                });
                frameData = false;
                try {
                    frameData = {elemStyle: frameElement.style, elem: frameElement, css: {}};
                    frameData.css.position = frameData.elemStyle.position;
                    frameData.elemStyle.position = 'fixed';
                    $.each(['top', 'left', 'right', 'bottom'], function(i, name){
                        frameData.css[name] = frameData.elemStyle[name];
                        frameData.elemStyle[name] = '0px';
                    });
                    $.each(['height', 'width'], function(i, name){
                        frameData.css[name] = frameData.elemStyle[name];
                        frameData.elemStyle[name] = '100%';
                    });
                } catch(er){
                    frameData = false;
                }

                tmpData = null;
            },
            cancelFullscreen: function(){
                if(parentData){
                    $.each(parentData, function(i, data){
                        if('pos' in data){
                            data.elemStyle.position = data.pos;
                        }
                        if(data.left){
                            data.elem.scrollLeft = data.left;
                        }
                        if(data.top){
                            data.elem.scrollTop = data.top;
                        }
                        data = null;
                    });
                    parentData = [];
                }
                if(frameData){
                    $.each(frameData.css, function(name, value){
                        frameData.elemStyle[name] = value;
                    });
                    frameData = false;
                }
            },
            eventName: 'fullscreenchange',
            exitName: 'exitFullscreen',
            requestName: 'requestFullscreen',
            elementName: 'fullscreenElement',
            enabledName: ''
        };

        fullScreenApi.cancelFullWindow = fullScreenApi.cancelFullscreen;
        fullScreenApi.requestFullWindow = fullScreenApi.requestFullscreen;

        // update methods to do something useful
        if (fullScreenApi.supportsFullscreen) {
            fullScreenApi.enabledName = fullScreenApi.supportsFullscreen;
            fullScreenApi.exitName = prefixed("exitFullscreen", document) || prefixed("cancelFullScreen", document);
            fullScreenApi.elementName = prefixed("fullscreenElement", document) || prefixed("fullScreenElement", document);
            fullScreenApi.supportsFullScreen = !!fullScreenApi.supportsFullscreen;

            if(fullScreenApi.elementName != 'fullscreenElement' || fullScreenApi.exitName != 'exitFullscreen' || fullScreenApi.enabledName != 'fullscreenEnabled'){
                $.each(domPrefixes, function(i, prefix){
                    var requestName = prefix+'RequestFullscreen';
                    if((requestName in doc) || ((requestName = prefix+'RequestFullScreen') && (requestName in doc))){
                        fullScreenApi.eventName = prefix + 'fullscreenchange';
                        fullScreenApi.requestName = requestName;
                        return false;
                    }
                });
            }

            fullScreenApi.isFullscreen = function() {
                return document[fullScreenApi.elementName];
            };
            fullScreenApi.getFullscreenElement = fullScreenApi.isFullscreen;

            fullScreenApi.requestFullscreen = function(el) {
                return el[fullScreenApi.requestName]();
            };
            fullScreenApi.cancelFullscreen = function() {
                return document[fullScreenApi.exitName]();
            };
        }


        if(window.parent != window){
            (function(){
                try{
                    var frame = window.frameElement;
                    if (fullScreenApi.supportsFullscreen) {
                        if('allowfullscreen' in frame && !frame.allowfullscreen) {
                            frame.allowfullscreen = true;
                        } else {
                            if(frame.getAttribute('webkitallowfullscreen') == null){
                                frame.setAttribute('webkitallowfullscreen', '');
                            }
                            if(frame.getAttribute('allowfullscreen') == null){
                                frame.setAttribute('allowfullscreen', 'allowfullscreen');
                            }
                        }
                    }
                } catch(er){}
            })();

        }


        return fullScreenApi;
    })();

    $.extend(mediaplayer.controllerProto, {
        requestFullscreen: function(){
            var that;
            if(this.$dom.hasClass('media-fullscreen')){return;}

            that = this;
            this.fullscreenscrollPos = {
                top: $(window).scrollTop(),
                left: $(window).scrollLeft()
            };


            try {
                mediaplayer.fullscreenAPI.requestFullscreen(this.$dom[0]);
            } catch(e){
                mediaplayer.error('could not go fullscreen', e);
            }

            $('html').addClass('cotains-fullscreenmedia');
            this.$dom.addClass('media-fullscreen');

            $('button.media-pausetoggle', this.$dom).trigger('focus');

            $(document)
                .off('.mediaplayerfullscreen')
                .on('keydown.mediaplayerfullscreen', function(e){
                    if(e.isDefaultPrevented()){return;}
                    if(e.keyCode == 27){
                        that.cancelFullscreen();
                        return false;
                    }
                    if(e.keyCode === 32 && !('form' in e.target)){
                        that.togglePlay();
                        return false;
                    }
                })
                .on(mediaplayer.fullscreenAPI.eventName+'.mediaplayerfullscreen', function(e){
                    var fullScreenElem = mediaplayer.fullscreenAPI.getFullscreenElement();
                    if(!fullScreenElem || that.$dom[0] != fullScreenElem){
                        that.cancelFullscreen();
                    }
                })
            ;
            this.fire('fullscreenchange');
        },
        cancelFullscreen: function(){
            if(!this.$dom.hasClass('media-fullscreen')){return;}
            $(document).off('.mediaplayerfullscreen');
            $('html').removeClass('cotains-fullscreenmedia');
            this.$dom.removeClass('media-fullscreen');

            try{
                mediaplayer.fullscreenAPI.cancelFullscreen();
            } catch(e){}

            if(this.fullscreenscrollPos){
                $(window)
                    .scrollTop(this.fullscreenscrollPos.top)
                    .scrollLeft(this.fullscreenscrollPos.left)
                ;
                delete this.fullscreenscrollPos;
            }
            this.fire('fullscreenchange');
        },
        isFullscreen: function(){
            if(!this.$dom.hasClass('media-fullscreen')){return false;}
            return mediaplayer.fullscreenAPI.isFullscreen() || 'fullwindow';
        },
        toggleFullscreen: function(){
            this[this.isFullscreen() ? 'cancelFullscreen' : 'requestFullscreen']();
        }
    });

    mediaplayer.pluginManager.add('fullscreentoggle', {
        defaults: {
            label: 'Vollbild'
        },
        init: function(){
            var container = this.$container;
            var mainPlugin = this;
            var options = this.params || {};

            var $element = $('<button type="button" class="media-'+ this.name +'" role="checkbox" aria-label="'+ options.label +'" />')
                .appendTo(container);

            function init(){
                mainPlugin.on('fullscreenchange', stateChange);

                $element.on('click', toggleFullscreen);
            }

            function stateChange(){
                var isFs = !!mainPlugin.controller.isFullscreen();
                $element
                    .attr('aria-checked', ''+ isFs)
                    [isFs ? 'addClass' : 'removeClass']('is-fullscreen')
                ;
            }

            function toggleFullscreen(){
                mainPlugin.controller.toggleFullscreen();
                return false;
            }

            init();
        }
    });

    mediaplayer.pluginManager.addChildPlugin({
        name: 'fullscreentoggle',
        defaults: {
            label: 'Vollbild'
        },
        setup: function(mainPlugin, container, options){
            var $element = $('<button type="button" class="media-'+ this.name +'" role="checkbox" aria-label="'+ options.label +'" />')
                .appendTo(container);

            function init(){
                mainPlugin.on('fullscreenchange', stateChange);

                $element.on('click', toggleFullscreen);
            }

            function stateChange(){
                var isFs = !!mainPlugin.controller.isFullscreen();
                $element
                    .attr('aria-checked', ''+ isFs)
                    [isFs ? 'addClass' : 'removeClass']('is-fullscreen')
                ;
            }

            function toggleFullscreen(){
                mainPlugin.controller.toggleFullscreen();
                return false;
            }

            init();
        }
    });

})();



/** debug */

(function(){
    "use strict";
    var mediaplayer = de.bild.mediaplayer;
    var $ = mediaplayer.$;

    if(location.hash.indexOf('devmedia') != -1){
        mediaplayer.debug = true;
    }

    var debugConsole = {
        init: function(){

            if(location.hash.indexOf('devmedia') == -1){
                return;
            }
            mediaplayer.debug = true;
            var that = this;


            var controllerEventHandler = function(e){
                this.render(e.type);
            };

            this.bar = $('<ul />').css({color: '#000', backgroundColor: '#fff', maxHeight: 360, overflow: 'scroll'}).insertAfter(this.controller.$dom);
            this.button = $('<button type="button">debug render</button>').insertBefore(this.bar).on('click', function(){
                that.render('click');
                if(window.console){
                    console.log(that.controller, 'window.mediaController');
                }
                window.mediaController = that.controller;
            });

            this
                .on('started', controllerEventHandler)
                .on('cliperror', controllerEventHandler)
                .on('doom', controllerEventHandler)
            ;

            this.addNativeEvents();
            this.render('init');
        },
        addNativeEvents: function(){
            var that = this;
            var dom = this.controller.$dom[0];
            var names = 'play playing error loadstart suspend loadedmetadata stalled waiting ended emptied'.split(' ');
            var handle = function(e){
                that.render(e.type);
            };
            names.forEach(function(name){
                dom.addEventListener(name, handle, true);
            });

            this.removeNativeEvents = function(){
                names.forEach(function(name){
                    dom.removeEventListener(name, handle, true);
                });
            };
        },
        render: function(event){
            var video = $('video', this.controller.$dom)[0];

            var data = '<strong>'+ event +':</strong>';

            if(video){
                data += '<br />paused: '+ video.paused;
                data += '<br />readyState: '+video.readyState;
                data += '<br />networkState: '+ video.networkState;
                data += '<br />currentSource: '+ video.currentSrc;
                data += '<br />duration: '+ video.duration;
                data += '<br />time: '+ video.currentTime;
                data += '<br />needsPlayDelay: '+this.controller.needsPlayDelay;
                data += '<br />error: '+ (video.error && video.error.code);
            }

            data += '<br />';

            this.bar.prepend('<li>'+ data +'</li>');
        },
        destroy: function(){
            if(this.bar && this.button){
                this.bar.remove();
                this.button.remove();
            }
            if(this.removeNativeEvents){
                this.removeNativeEvents();
            }
            this.super.destroy.apply(this, arguments);
        }
    };

    mediaplayer.pluginManager.add('debugger', debugConsole, true);

    mediaplayer.pluginManager.add('debugTracker', {
        init: function(){
            var lastErrorItem;
            var supportMp4 = false;

            if(!this.beaconEndPoint){
                try {
                    this.beaconEndPoint = mediaplayer.defaults.endpoints.errorLog;
                } catch(e){
                    return;
                }
            }

            if(Math.random() > 0.2 || !this.beaconEndPoint){
                return;
            }

            try {
                supportMp4 = document.createElement('video').canPlayType('video/mp4');
            } catch(e){

            }

            this.data = {
                ua: this.getUA(),
                swf: window.swfobject && swfobject.ua.pv.join('.'),
                mp4: supportMp4,
                id: this.controller.data.id,
                pf: (navigator.platform || '').substr(0, 9),
                mediaplayererrors: []
            };

            this.on('error', function(){
               var curItem = this.controller.currentItem;
               var error = this.controller.error();

               curItem = curItem && curItem.type || 'unknown';

               if(curItem != lastErrorItem){
                   this.data.mediaplayererrors.push(curItem);
                   lastErrorItem = curItem;
               }

               if(error){
                   this.data.mediaplayererrors[this.data.mediaplayererrors.length - 1] += '|' + (error.details.code || error.details.value || error.details || error.code);
               }
           });

            this.on('maincliperror', function(){
                var that = this;
                setTimeout(function(){
                    that.sendData();
                });
            });
        },
        getUA: function(){
            var ua = navigator.userAgent.toLowerCase();

            var match = /(chrome)[ \/]([\w.]+)/.exec( ua ) ||
                /(webkit)[ \/]([\w.]+)/.exec( ua ) ||
                /(opera)(?:.*version|)[ \/]([\w.]+)/.exec( ua ) ||
                /(msie) ([\w.]+)/.exec( ua ) ||
                ua.indexOf("compatible") < 0 && /(mozilla)(?:.*? rv:([\w.]+)|)/.exec( ua ) ||
                [];

            return (match[ 1 ] || "") + ',' + (match[ 2 ] || "0");
        },
        sendData: function(){
            var img;
            if(this.data && this.data.mediaplayererrors && this.data.mediaplayererrors.length){

                img = document.createElement('img');

                this.data.mediaplayererrors = this.data.mediaplayererrors.join(',');

                img.src = this.beaconEndPoint + '?' + $.param(this.data);

                this.data.errors = [];
            }
        },
        destroy: function(){
            this.sendData();
            this.super.destroy.apply(this, arguments);
        }
    }, true);

})();

(function(){
    "use strict";
    var mediaplayer = de.bild.mediaplayer;
    var $ = mediaplayer.$;

    mediaplayer.inlinePlayerProto = {
        isMobile: (/mobi/i).test(navigator.userAgent),
        preventPlay: function(){
            this.controller.pause();
            mediaplayer.warn('main controller was paused by inlinePlayer');
        },
        hideMainPlayer: function(){
            this.controller.pause();
            if(this.isMobile && this.controller.supportSharedMedia()){
                this.sharedMedia = this.controller.requestSharedMedia();
                this.controller.$mediaBox.addClass('shared-mediabox');
            } else {
                this.sharedMedia = null;
                this.on('play', this.preventPlay);
                this.controller.$mediaBox.addClass('hide-mediabox');
            }
        },
        resumeMainplayer: function(){
            this.destroyInlinePlayer();
            this.controller.$mediaBox.removeClass('hide-mediabox shared-mediabox');

            if(this.sharedMedia){
                this.controller.releaseSharedMedia();
                this.sharedMedia = null;
            }
            this.controller.play();
        },
        setupInlinePlayer: function(){
            if(!this.$inlinePlayer){

                this.$inlinePlayer = $('<div class="mediaplayer inline-player '+ this.name +'-player" />')
                    .on('mediaplayer/created mediaplayer/doom', function(e){
                        e.stopPropagation();
                    })
                    .appendTo(this.controller.$dom)
                ;

                if(this.sharedMedia){
                    this.$inlinePlayer.addClass('shared-player');
                }

                this.$inlinePlayer.attr('data-theme', this.controller.$dom.attr('data-theme'));
            }
        },
        load: function(data, inlinePlayerOpts, mainPlayerOpts){
            var that = this;

            if(!mainPlayerOpts || !mainPlayerOpts.nonLinear){
                this.hideMainPlayer();
            }
            this.setupInlinePlayer();

            $.extend(data, {
                sharedMedia: this.sharedMedia
            });

            function onFail(){
                that.onFail();
            }

            this.inlinePlayerPromise = mediaplayer
                .core.create(this.$inlinePlayer, data, inlinePlayerOpts)
                .done(function(){
                    var onDoom = function(){
                        that.inlineController.off('.inlineplayer');
                        that.onDoom();
                    };
                    that.inlineController = this;
                    that.inlineController.on('maincliperror.inlineplayer', onFail);
                    that.inlineController.on('doom.inlineplayer', onDoom);
                    that.onPlayerReady();
                })
                .fail(onFail)
            ;
            return this.inlinePlayerPromise;
        },
        onDoom: function(){},
        onPlayerReady: function(){
            this.inlineController.play();
        },
        onFail: function(){
            this.destroyInlinePlayer();
        },
        destroyInlinePlayer: function(){
            this.off('play', this.preventPlay);
            if(this.inlineController){
                if(!this.sharedMedia){
                    this.inlineController.pause();
                    this.inlineController.destroy();
                }
                this.inlineController = null;
            }
            if(this.$inlinePlayer){
                this.$inlinePlayer.remove();
                this.$inlinePlayer = null;
            }

            if(this.inlinePlayerPromise){
                this.inlinePlayerPromise = null;
            }
        },
        destroy: function(){
            this.destroyInlinePlayer();
            return this.super.destroy.apply(this, arguments);
        }
    };
})();

(function(){
    "use strict";

    var midroll;
    var mediaplayer = de.bild.mediaplayer;
    var $ = mediaplayer.$;

    if(!mediaplayer.inlinePlayerProto){
        mediaplayer.error('no inline player available or supported.');
    }

    midroll = $.extend({}, mediaplayer.inlinePlayerProto, {
        init: function(){
            var that = this;
            var setup = function(){
                that.setupMidroll();
            };

            this._played = false;

            if(this.controller.data.midroll){
                if(typeof this.controller.data.midroll.done == 'function'){
                    this.controller.data.midroll.done(setup);
                } else {
                    setup();
                }
            }
        },
        setupMidroll: function(){
            if(!this.controller.data.midroll || !this.controller.data.midroll.srces){return;}

            this.on('loadedmetadata', function(){
                if(this.controller.currentItem.type == 'main'){
                    if(!this.params.startMidroll){
                        this.params.startMidroll = this.controller.getDuration() / 2;
                    }
                    if(!this.params.startMidroll){
                        this.params.startMidroll = this.controller.data.vast.midrollStartFallback || 60;
                    }
                }
            });
            this.on('timeupdate', function(){
                var data;
                if(!this._played && this.controller.currentItem.type == 'main' && this.controller.currentTime() > this.params.startMidroll && this.controller.isPlay()){
                    this._played = true;
                    this.off('timeupdate');

                    data = {clipList: [this.controller.data.midroll], plugins: []};

                    $.each(this.controller.data.plugins || [], function(i, plugin){
                        if(plugin.name == 'Controls' || plugin.name == 'controls-mobile'){
                            data.plugins.push(plugin);
                            return false;
                        }
                    });

                    this.load(data);
                }
            });
        },
        onDoom: function(){
            this.resumeMainplayer();
        }
    });
    mediaplayer.pluginManager.add('midroll', midroll, true);
})();



(function(){
    "use strict";
    var mediaplayer = de.bild.mediaplayer;
    var $ = mediaplayer.$;
    var message = "Video beginnt in {{time}} Sekunden";
    var isMobile = /mobile|ipad|iphone|ipod|android/i.test(navigator.userAgent);

    var pluginTemplate = '<div class="media-controlsblocker"><div class="media-timetillended" />';

    if(isMobile){
        mediaplayer.dataLoader.addTransformator(function(data, doneCallback){
            $.each(data.plugins || [], function(i, plugin){
                if(plugin.name == 'Controls'){
                    data.plugins.splice(i, 1);
                    return false;
                }
            });
            doneCallback(data);
        });
    }

    mediaplayer.pluginManager.add('controls-mobile', {
        init: function(){
            this.isBlocked = false;

            if(this.controller.index < 0){
                this.controller.loadIndex(0);
            }

            this.on('started', function(){
                if(this.isAd()){
                    this.blockControls();
                } else {
                    this.unblockControls();
                }
            });

            this.setupBlockSeek();
        },
        isAd: function(){
            var adTypes = {midroll: 1, preroll: 1, postroll: 1};
            var clipType = (this.controller.currentItem || {}).type;
            return !!adTypes[clipType];
        },
        setupBlockSeek: function(){
            var currentTime = 0;
            var previousTime = currentTime;
            var jumpBack = function(){
                if(this.isBlocked && previousTime + 0.1 < currentTime){
                    this.controller.currentTime(previousTime);
                }
            };

            this.on('timeupdate', function(){
                previousTime = currentTime;
                currentTime = this.controller.currentTime();
            });
            this.on('seeking', jumpBack);
            this.on('seeked', jumpBack);
        },
        _blockControls: function(){
            this.isBlocked = true;
            this.off('.blockcontrols');
            this.setupControls();
            this.$blockedWrapper.addClass('mp-visible');

            if(this.isAd()){
                this.setupTimeTillEnded();
                this.$durationDisplay.appendTo(this.$blockedWrapper);
            } else {
                this.$durationDisplay.detach();
            }
            this.controller.controls(false);
        },
        blockControls: function(){
            if(!this.isBlocked){
                this.isBlocked = true;
                this
                    .off('.blockcontrols')
                    //Fixme: Android 2.x workaround. Change to simple playing / started no on/off action
                    .on('timeupdate.blockcontrols', function(){
                        if(this.controller.currentTime() > 0){
                            this._blockControls();
                        }
                    })
                ;
            }
        },
        unblockControls: function(){

            if(this.isBlocked){
                this.isBlocked = false;
                this.off('.blockcontrols');
                if(this.$blockedWrapper){
                    this.$blockedWrapper.removeClass('mp-visible');
                    this.teardownTimeTillEnded();
                }
                this.controller.controls(true);
                this.off('timeupdate', this._onUpdate);
            }
        },
        setupControls: function(){
            var that;
            if(!this.$blockedWrapper){
                this.$blockedWrapper = $(pluginTemplate).appendTo(this.controller.$pluginDisplay);
                this.$durationDisplay = $('.media-timetillended', this.$blockedWrapper);
                if(mediaplayer.debug){
                    that = this;
                    this.$durationDisplay.on('click', function(){
                        that.controller.pause();
                        that.controller.fire('ended');
                    });
                }
            }
        },
        _updateDuration: function(){
            var time = Math.round(this.duration - this.controller.currentTime());

            if(time !== this.lastTime){
                this.lastTime = time;
                this.$durationDisplay.html(message.replace('{{time}}', time));
            }
        },
        _onHaveDuration: function(){
            this.duration = this.controller.getDuration();
            if(!isNaN(this.duration)){
                this.setupControls();
                this.on('timeupdate', this._updateDuration);
                this._updateDuration();
            }
        },
        setupTimeTillEnded: function(){
            this.teardownTimeTillEnded();
            this.on('loadedmetadata', this._onHaveDuration);
        },

        teardownTimeTillEnded: function(){
            this.off('loadedmetadata', this._onHaveDuration);
            this.off('timeupdate', this._updateDuration);
            this.lastTime = null;
            this.$blockedWrapper.removeClass('media-show-duration');
        },
        destroy: function(){
            if(this.$blockedWrapper){
                this.$blockedWrapper.remove();
            }
            if(this.$posterWrapper){
                this.$posterWrapper.remove();
            }
            this.super.destroy.apply(this, arguments);
        }
    }, isMobile);
})();



(function(){
    "use strict";

    var mediaplayer = de.bild.mediaplayer;
    var $ = mediaplayer.$;
    var childPlugins = mediaplayer.pluginManager.childPlugins;

    /**
     * Plugin Template:
     *
     * <ul class="media-sharelist">
     *      <li class="social-button fblike">
     *          <a data-href="' + data.href + '" class="sb-placeholder" data-sb-type="facebook">Facebook</a>' +
     *      </li>'
     *
     * </ul>
     * */

    mediaplayer.pluginManager.addChildPlugin({
        name: 'sharemenu',
        defaults: {
            label: 'teilen'
        },
        setup: function(mainPlugin, container, options){
            var $submenu;

            $submenu = mediaplayer.getSubmenu('sharemenu', options.label, '');
            childPlugins.sharelist.setup(mainPlugin, $submenu.find('.media-submenu')[0], options);
            $submenu.appendTo(container);

            if(!$submenu.find('li').length){
                $(container).remove();
                mediaplayer.warn("could not generate any shareitems");
                return;
            }
            mainPlugin.on('started', function(){
                var isAd = mainPlugin.controller.isAd();
                $submenu
                    [isAd ? 'addClass' : 'removeClass']('block-submenu')
                    .find('button').prop('disabled', isAd)
                ;
            });
        }
    });

    //STRING REPLACE ARRAY
    String.prototype.replaceArray = function(find, replace) {
        var replaceString = this;
        for (var i = 0; i < find.length; i++) {
            replaceString = replaceString.replace(find[i], replace);
        }
        return replaceString;
    };

    mediaplayer.pluginManager.addChildPlugin({
        name: 'sharelist',
        defaults: {
            label: '',
            share: {
                "facebook": {
                    "layout": "button_count"
                },
                "gplus": {
                    "layout": "button_count"
                }
            },
            getHTML: {
                'Facebook': function(data){
                    var find = [".de/", ".ch/", ".at/", ".local/"];
                    var replace = ".tv/";
                    data.href = data.href.replaceArray(find, replace);
                    return '<li class="">' +
                        '<a href="http://www.facebook.com/share.php?u=' + data.href + '" class="media-social-button media-fblike" target="_blank">Facebook</a>' +
                        '</li>';
                },
                'Googleplus': function(data){
                    var find = [".de/", ".ch/", ".at/", ".local/"];
                    var replace = ".tv/";
                    data.href = data.href.replaceArray(find, replace);
                    return '<li>' +
                        '<a href="https://plus.google.com/share?url=' + data.href + '"  class="media-social-button media-gplus" target="_blank">Google+</a>' +
                        '</li>';
                },
                'Twitter': function(data){
                    var find = [".de/", ".ch/", ".at/", ".local/"];
                    var replace = ".tv/";
                    data.href = data.href.replaceArray(find, replace);
                    return '<li class="">' +
                        '<a href="https://twitter.com/share?url=' + data.href + '" class="media-social-button media-twitter" target="_blank">Twitter</a>' +
                        '</li>';
                }
            }
        },
        setup: function(mainPlugin, container, options){
            options = $.extend(true, {}, this.defaults, options);
            var items = this.createItems(mainPlugin.controller.data.bookmarks, options);
            if(items.length){
                $(container).append('<ul class="media-sharelist">'+ items.join('\n') +'</ul>');
            }
        },
        createItems: function(controllerShare, options){
            var items = [];
            $.each(controllerShare || [], function(i, data){
                var name = data.type;
                if(options.getHTML[name]){
                    options.share[name] = $.extend({}, data, options.share[name]);
                    items.push(options.getHTML[name](options.share[name]));
                } else {
                    mediaplayer.warn("no markup for share of type "+ name);
                }
            });
            return items;
        }
    });

})();

(function(){
    "use strict";
    var mediaplayer = de.bild.mediaplayer;
    var $ = mediaplayer.$;

    var tmpls = {
        skeleton: '<div class="media-endscreen">' +
            '<div class="recommended-medias">{{more}} {{revolver}} {{carousel}}</div>' +
            '<div class="current-media"><button type="button" class="media-replay">Wiederholen</button><div class="current-media-wrapper">{{sharelist}}</div></div>' +
            '</div>',
        more: '<h3><a href="{{videoHomeUrl}}" target="_blank">Weitere Videos</a></h3>',
        revolver: '<p class="media-revolver-ui">Nchstes Video in <span class="revolver-duration">{{delay}}</span> Sek.  <button type="type" class="abort-revolver">Stop</button></p>',
        carousel: '<div class="media-carousel"><div class="media-carouselview"><div class="media-carouselbox">{{teasers}}</div></div></div>',
        teaser: '<div class="media-teaser" data-data="{{json}}">' +
            '<span class="tsr-img"><img src="{{img}}" alt="#" /></span>' +
            '<div class="media-caption">' +
            '<h2>{{title}}</h2>' +
            '<p>{{text}}</p>' +
            '</div></div>'
    };

    function logError(){
        /*jshint validthis: true */
        mediaplayer.error('Endscreen error', this, arguments);
    }

    function tmpl(template,  data){
        var prop, regProp;
        var html = template;
        for(prop in data){
            regProp = new RegExp('{{'+ prop +'}}', 'gim');
            html = html.replace(regProp, data[prop]);
        }
        return html;
    }

    function mapVideoTeaser(i, video){
        return tmpl(tmpls.teaser, video);
    }

    mediaplayer.pluginManager.add('Endscreen', {
        init: function(){
            if(this.controller.data.loop){
                return;
            }

            this.channelData = [];
            this.revolverTimer = null;
            this.params.relatedVideos = this.controller.data.relatedVideos;
            this.setupEvents();
        },
        setupEvents: function(){
            if(this.params.relatedVideos && this.params.more){
                this.on('playing.loadendscreendata', this.getChannelXml);
            }
            this.on('doom', this.showEndscreen);
        },
        getChannelXml: function(){
            this.off('.loadendscreendata');
            this.$ajax = $.ajax({
                url: this.params.relatedVideos,
                context: this,
                success: this.parseChannelXml,
                error: logError
            });
        },
        _mapXmlToJSON: function(index, media){
            var i, len;
            var attributes = media.attributes;
            var ret = {index: index};
            for(i = 0, len = attributes.length; i < len; i++){
                if(!('specified' in attributes[i]) || attributes[i].specified){
                    ret[attributes[i].nodeName] = attributes[i].nodeValue;
                }
            }
            return ret;
        },
        parseChannelXml: function(xml){
            this.channelData = $('video', xml).map(this._mapXmlToJSON);
            this.createEndscreenHtml();
            if(this.params.debug) {
                this.showEndscreen();
                this.controller.pause();
            }
        },
        createEndscreenHtml: function(){
            this.channelHTML = this.channelData
                .map(mapVideoTeaser)
                .get()
            ;
        },
        getSelfData: function(){
            var data = this.controller.data;

            return {
                title: data.title,
                text: data.description,
                img: data.poster,
                xml: data.dataUrl
            };
        },
        setupEndscreen: function(){
            var selfData;
            var data = {};
            if(!this.$endscreen){
                selfData = this.getSelfData();

                data.selfTeaser = tmpl(tmpls.teaser, selfData);

                data.carousel = this.channelHTML ?
                    tmpl(tmpls.carousel, {teasers: this.channelHTML.slice(0, 3).join('\n')}) :
                    ''
                ;

                //STRING REPLACE ARRAY
                var find = [".de/", ".ch/", ".at/", ".local/"];
                var replace = ".tv/";
                this.params.videoHomeUrl = this.params.videoHomeUrl.replaceArray(find, replace);

                data.more = tmpl(tmpls.more, {videoHomeUrl: this.params.videoHomeUrl});
                data.revolver = '';

                if(this.params.revolverDelay){
                    data.revolver = tmpl(tmpls.revolver, {delay: this.params.revolverDelay});
                }

                this.$endscreen = this.appendChildPlugins(this.controller.$pluginDisplay, tmpl(tmpls.skeleton, data));

                this.setupTeaserEvents();

                if(data.carousel){
                    this.createMediaCarousel();
                }

                $('.current-media-wrapper .media-teaser[data-data]', this.$endscreen).data('data', selfData.xml);
            }
        },
        createMediaCarousel: function(){
            var $carousel = $('.media-carousel', this.$endscreen);
            var $carouselview = $('.media-carouselview', $carousel);
            var $carouselbox = $('.media-carouselbox', $carousel);
            var $prev =  $('.media-prev', $carousel);
            var $next =  $('.media-next', $carousel);
            var viewBox = null;

            function slideNext(){
                if(viewBox.pos > viewBox.max){
                    viewBox.pos = Math.max(viewBox.pos - viewBox.viewWidth, viewBox.max);
                }
                $carouselbox.css('left', viewBox.pos);
                updateControls();
            }

            function slidePrev(){
                if(viewBox.pos < viewBox.min){
                    viewBox.pos = Math.min(viewBox.pos + viewBox.viewWidth, viewBox.min);
                }
                $carouselbox.css('left', viewBox.pos);
                updateControls();
            }

            function updateControls(){
                $prev.prop('disabled', (viewBox.pos >= viewBox.min));
                $next.prop('disabled', (viewBox.pos <= viewBox.max));
            }

            function onViewBoxChange(){
                viewBox = {
                    pos: parseFloat($carouselbox.css('left'), 10) || 0,
                    viewWidth: $carouselview.width(),
                    boxWidth: $carouselbox.outerWidth(),
                    min: 0
                };

                viewBox.max = (viewBox.boxWidth - viewBox.viewWidth) * -1;
                updateControls();
            }

            onViewBoxChange();
            $next.on('click', slideNext);
            $prev.on('click', slidePrev);
            this.controller.$mediaBox.on('playersizechange', onViewBoxChange);
        },
        setupTeaserEvents: function(){
            var that = this;
            this.$endscreen.on('click', '.media-teaser[data-data]', function(){
                clearTimeout(this.revolverTimer);
                mediaplayer.core.create(that.controller.$dom, $(this).data('data'), {
                    autoplay: true,
                    initializedBy: {
                        origin: 'endscreen',
                        data: {
                            teaserIndex: $('.media-teaser[data-data]', that.$endscreen).index(this)
                        }
                    }
                });
                return false;
            });

            this.$endscreen.on('click', '.media-replay', function(){
                clearTimeout(this.revolverTimer);
                mediaplayer.core.create(that.controller.$dom, that.controller.data.dataUrl, {
                    autoplay: true,
                    initializedBy: {
                        origin: 'endscreen',
                        data: {
                            replay: true
                        }
                    }
                });
                return false;
            });
        },
        showEndscreen: function(){
            this.setupEndscreen();
            if(this.$endscreen){
                if(this.params.revolverDelay){
                    this.autoLoad();
                }
                this.$endscreen.addClass('show-endscreen');
            }
        },
        autoLoad: function(){
            var timer, $timerDisplay;
            var that = this;



            if(this.channelData && this.channelData.length){
                clearTimeout(this.revolverTimer);
                timer = this.params.revolverDelay;
                $timerDisplay = $('.revolver-duration', this.$endscreen);

                this.$endscreen.on('click', '.abort-revolver', function(){
                    clearTimeout(that.revolverTimer);
                    $(document).off('visibilitychange.' + that.id, handleVisibility);
                    $('.media-revolver-ui', that.$endscreen).remove();
                });
                var tick = function(){
                    timer--;

                    if(timer > 0){
                        $timerDisplay.html(timer);
                        that.revolverTimer = setTimeout(tick, 1000);
                    } else {
                        $(document).off('visibilitychange.' + that.id, handleVisibility);
                        mediaplayer.core.create(that.controller.$dom, that.channelData[0].json, {
                            autoplay: true,
                            initializedBy: {
                                origin: 'endscreen',
                                data: {
                                    revolver: true
                                }
                            }
                        });
                    }
                };

                var handleVisibility = function(){
                    if(!document.hidden){
                        that.revolverTimer = setTimeout(tick, 1000);
                    } else {
                        clearTimeout(that.revolverTimer);
                    }
                };

                $(document).on('visibilitychange.' + this.id, handleVisibility);
                handleVisibility();
            }
        },
        destroy: function(){
            clearTimeout(this.revolverTimer);
            $(document).off('visibilitychange.' + this.id);
            this.super.destroy.apply(this, arguments);
        }
    });

    mediaplayer.pluginManager.add('ResetPoster', {
        init: function () {
            if (this.controller.data.loop || mediaplayer.pluginManager.installedPlugins.back2theroots) {
                return;
            }

            if (!mediaplayer.pluginManager.hasPlugin('Endscreen', this.controller.data.plugins)) {
                this.on('doom', function () {
                    // TODO don't reset on any error or only on specific?
                    //Todo: endscreen?
                    if (!this.controller.error() && !this.controller.data.loop) {
                        // Reset autoplay to false, to prevent endless playing
                        mediaplayer.core.create(this.controller.$dom, null, {autoplay: false});
                    }
                });
            }
        }
    }, true);
})();


(function(){
    "use strict";
    var mutedPlayer;
    var mediaplayer = de.bild.mediaplayer;
    var $ = mediaplayer.$;

    if(!mediaplayer.inlinePlayerProto || mediaplayer.inlinePlayerProto.isMobile){
        mediaplayer.warn('no inline player available or supported.');
        return;
    }

    mutedPlayer = $.extend({}, mediaplayer.inlinePlayerProto, {
        init: function(){
            this.$unmuteButton = null;
            if(this.params && this.params.status){
                this.setup();
            }
        },
        setup: function(){
            var mainClip = this.controller.getClipByType('main');
            this.load({clipList: [mainClip]}, {loop: true});
        },
        onPlayerReady: function(){
            var that = this;

            this.inlineController.play();
            this.inlineController.muted(true);
            this.inlineController.controls(false);

            this.$unmuteButton = $('<button type="button" class="media-unmutebutton"><span>Ton an</span></button>').appendTo(this.inlineController.$pluginDisplay);

            this.$unmuteButton.on('click', function(){
                that.startNormalPlay();
            });

            this.inlineController.on('volumechange.mutedautoplay', function(){
                if(!this.muted()){
                    that.startNormalPlay();
                }
            });
        },
        startNormalPlay: function(){
            this.resumeMainplayer();
        }
    });

    mediaplayer.pluginManager.add('Mutedautoplay', mutedPlayer);
})();

(function() {
    "use strict";
    var mediaplayer = de.bild.mediaplayer;
    var $ = mediaplayer.$;
    var overlayShow = 0.2;

    var adOverlay = {
        init: function(){
            var that = this;
            var data = this.controller.data;
            var setup = function(){
                if(data.overlayAd.ads && data.overlayAd.ads.length){
                    that.params = data.overlayAd;
                    that.setup();
                }
            };

            this.$currentAd = null;
            this._played = false;

            if(data.overlayAd){
                if(typeof data.overlayAd.done == 'function'){
                    data.overlayAd.always(setup);
                } else {
                    setup();
                }
            }
        },
        setup: function(){
            this.$overlayContainer = $('<div class="mediaplayer-adoverlay-wrapper" />')
                .appendTo(this.controller.$pluginDisplay)
            ;
            this.setupEvents();
        },
        setupEvents: function(){
            var that = this;

            this.$overlayContainer
                .on('click', '.mediaplayer-skipoverlayad', function(){
                    that.removeCurrentAd();
                    //that.trackEvent(); close || skip?
                    return false;
                })
                .on('click', '.adoverlay-clickthrough', function(){
                    that.trackEvent('clickTracking');//acceptInvitation?
                })
            ;

            this.on('loadedmetadata', function(){
                if(this.controller.currentItem.type == 'main'){
                    if(!this.params.startOverlay){
                        this.params.startOverlay = this.controller.getDuration() * overlayShow;
                    }
                    if(!this.params.startOverlay){
                        this.params.startOverlay = 20;
                    }
                }
            });
            this.on('timeupdate.showoverlay', function(){
                if(!this._played && this.controller.currentItem.type == 'main' && this.controller.currentTime() > this.params.startOverlay && this.controller.isPlay()){
                    this._played = true;
                    this.off('timeupdate.showoverlay');
                    this.showAd(this.params.ads[0]);
                }
            });
        },
        removeCurrentAd: function(){
            clearTimeout(this.timelineTimer);
            if(this.$currentAd){
                this.$currentAd.remove();
                this.$currentAd = null;
            }
        },
        showAd: function(ad){
            if(ad.apiFramework == 'VPAID'){
                this.showVpaidAd(ad);
            } else {
                this.showImgAd(ad);
            }
        },
        showImgAd: function(ad){
            var inlineStyle;
            if(!ad.content){
                inlineStyle = 'style="width:'+ ad.width +'px;height:'+ ad.height +'px";';
                ad.content = '<div class="mediaplayer-adoverlay" ' +
                'data-aspectratio="'+ ad.aspectRatio +'" ' +
                'data-scalable="' + ad.scalable + '" ' + inlineStyle + '>' +
                    '<a href="' + ad.clickThrough + '" target="_blank" class="adoverlay-clickthrough">' +
                        '<img src="' + ad.src + '" alt="ad" ' + inlineStyle + ' />' +
                    '</a>' +
                    '<button type="button" class="mediaplayer-skipoverlayad" />' +
                '</div>';
            }

            this.$currentAd = $(ad.content).appendTo(this.$overlayContainer);
            this.addOverlayEvents(ad);
        },
        getAdDuration: function(durationAsString){
            var durationArray = durationAsString.split(':');
            var duration = parseInt(durationArray[0] || '0', 10) * 3600 + parseInt(durationArray[1], 10) * 60 + parseInt(durationArray[2], 10);
            return duration;
        },
        addOverlayEvents: function(ad){
            var that = this;
            var evts = ['impression', 'firstquartile', 'midpoint', 'thirdquartile', 'complete'];
            var duration = (this.getAdDuration(ad.minDuration || '00:25:00') / 4) * 1000;
            var index = 0;
            var onTimeleft = function(){
                that.trackEvent(evts[index]);
                index++;
                if(evts[index]){
                    that.timelineTimer = setTimeout(onTimeleft, duration);
                } else {
                    that.removeCurrentAd();
                }
            };
            onTimeleft();
        },
        showVpaidAd: function(ad){
            this.load(
                {
                    clipList: [{type: 'overlay', srces: [ad],plugins: [{name: 'Vasttracking', params: this.params}]}]
                },
                null,
                {nonLinear: true}
            );
        },
        __eachPing: function(i, url){
            var img = document.createElement('img');
            img.src = url;
        },
        trackEvent: function(type){

            mediaplayer.log('track: '+ type);

            if(type == 'impression' && this.params.impressions){
                $.each(this.params.impressions, this.__eachPing);
            } else if(type == 'clickTracking'){

                $.each(this.params.clickTracking || [], this.__eachPing);

            } else if(this.params.events && this.params.events[type]){

                $.each(this.params.events[type], this.__eachPing);
            }
        }
    };

    if(!mediaplayer.inlinePlayerProto){
        mediaplayer.error('no inline player available');
    } else {
        adOverlay = $.extend({}, mediaplayer.inlinePlayerProto, adOverlay);
    }

    mediaplayer.pluginManager.add('Adoverlay', adOverlay, true);


})();


(function() {
    "use strict";
    var mediaplayer = de.bild.mediaplayer;
    var $ = mediaplayer.$;

    mediaplayer.pluginManager.add('ElementQueries', {
        init: function(){
            var timer;
            var lastSize = {};
            var sizes = [
                {size: 278, name: 'xxs', names: 's xs xxs'},
                {size: 380, name: 'xs', names: 's xs'},
                {size: 577, name: 's', names: 's'},
                {size: 809, name: 'm', names: 'm'},
                {size: 1024, name: 'l', names: 'l'},
                {size: 1280, name: 'xl', names: 'l xl'},
                {size: Number.MAX_VALUE, name: 'xxl', names: 'l xl xxl'}
            ];
            var len = sizes.length;
            var throttledResize = function(){
                clearTimeout(timer);
                timer = setTimeout(onResize, 30);
            };
            var $mediabox = this.controller.$mediaBox;


            function onResize(){
                var size;
                var i = 0;
                var width = $mediabox.outerWidth();
                var fSize = Math.max(parseInt($mediabox.css('fontSize'), 10) || 16, 13);

                width = width *  (16 / fSize);
                for(; i < len; i++){
                    if(sizes[i].size >= width){
                        size = sizes[i];
                        break;
                    }
                }

                if(lastSize.name != size.name){
                    lastSize = size;
                    $mediabox.attr('data-playersize', size.name);
                    $mediabox.attr('data-playersizes', size.names);
                    $mediabox.trigger('playersizechange');
                }
            }

            onResize();
            this.controller.$dom.on('updateplayersize.'+this.id, onResize);
            this.on('fullscreenchange', throttledResize);
            $(window).on('resize.'+this.id, throttledResize);
        }
    }, true);
})();


(function(){
    "use strict";
    var mediaplayer = de.bild.mediaplayer;
    var $ = mediaplayer.$;


    /**
     * Plugin Template:
     *
     * <div class="media-controlbar">
     *
     *     <div class="media-controlbar-box" role="group" aria-label="Videosteuerung">
     *
     *         <!-- Play Pause -->
     *         <div class="media-pausetoggle-container ">
     *             <button type="button" class="media-pausetoggle" role="checkbox" aria-label="abspielen" aria-checked="false"></button>
     *         </div>
     *
     *         <!-- Time range -->
     *         <div class="media-timerange-container-wrapper">
     *             <div class="media-timerange-container ">
     *                 <div class="media-timerange media-range range-disabled" aria-label="Zeitposition" role="slider" aria-valuemin="0" aria-valuemax="1.7976931348623157e+308" tabindex="-1" aria-disabled="true" aria-valuenow="0" aria-valuetext="00:00">
     *                     <span class="time-select"></span>
     *                     <span class="media-range-rail media-range-track" style="left: 0.5px; right: 0.5px;">
     *                         <span class="media-range-min media-range-progress" style="margin-top: 0px; left: -0.5px; padding-right: 0.5px; width: 0%;"></span>
     *                         <span class="media-range-thumb" style="margin-left: -0.5px; margin-top: 2px; left: 0%;">
     *                             <span>
     *                                 <span data-value="0" data-valuetext="00:00" class="media-tooltip"></span>
     *                             </span>
     *                         </span>
     *                      </span>
     *                      <div class="media-progressbuffer">
     *                          <div class="media-progressindicator"></div>
     *                      </div>
     *                  </div>
     *              </div>
     *              <div class="media-timeremaining-container ">
     *                  <div class="media-timeremaining"></div>
     *              </div>
     *              <div class="media-liveindicator-container ">
     *                  <div class="media-liveindicator">Live</div>
     *              </div>
     *          </div>
     *
     *          <div class="mediabutton-container">
     *              <div class="mediabutton-box">
     *
     *                  <!-- Share Buttons :: plugins/controls/child-social.js -->
     *                  <div class="media-sharemenu-container ">
     *                      <div class="media-menucontainer media-menu-sharemenu">
     *                          <div class="media-submenu">
     *                              <ul class="media-sharelist">
     *                                  <li class="social-button fblike">
     *                                      <a data-href="http://ggg.de" data-action="like" data-layout="button_count" href="#" class="sb-placeholder" data-sb-type="facebook">Facebook</a>
     *                                  </li>
     *                                   <li class="social-button gplus">
     *                                       <a data-href="http://ggg.de" data-class="g-share" data-annotation="undefined" href="#" class="sb-placeholder" data-sb-type="gplus">googleplus</a>
     *                                   </li>
     *                               </ul>
     *                           </div>
     *                           <button type="button" class="media-menu-opener" aria-label="teilen"></button>
     *                       </div>
     *                   </div>
     *
     *                   <!-- Fullscreen Button :: plugins/controls/child-fullscreen.js -->
     *                   <div class="media-fullscreentoggle-container ">
     *                       <button type="button" class="media-fullscreentoggle" role="checkbox" aria-label="Vollbild"></button>
     *                   </div>
     *
     *                   <!-- Volume Control -->
     *                   <div class="media-volumecontrols-container ">
     *                       <div class="media-volumecontrols">
     *                           <div class="volumerange-container">
     *                               <div class="media-volumerange media-range vertical-range" aria-label="Lautstrke" role="slider" aria-valuemin="0" aria-valuemax="1" tabindex="0" aria-disabled="false" aria-valuenow="1" aria-valuetext="1">
     *                                   <span class="media-range-rail media-range-track" style="top: 0.5px; bottom: 0.5px;">
     *                                       <span class="media-range-min media-range-progress" style="margin-left: 0px; bottom: -0.5px; padding-top: 0.5px; height: 100%;"></span>
     *                                       <span class="media-range-thumb" style="margin-top: -0.5px; margin-left: 2px; top: 0%;">
     *                                           <span>
     *                                               <span data-value="1" data-valuetext="1" class="media-tooltip"></span>
     *                                           </span>
     *                                       </span>
     *                                   </span>
     *                               </div>
     *                           </div>
     *                           <button type="button" class="media-mutetoggle" role="checkbox" aria-label="undefined"></button>
     *                       </div>
     *                   </div>
     *               </div>
     *           </div>
     *       </div>
     *   </div>
     *
     * */


    var retDefault = function(val, def){
        if(!(typeof val == 'number' || (val && val == val * 1))){
            return def;
        }
        return val * 1;
    };
    var createOpts = ['min', 'max', 'disabled', 'tabindex'];
    var rangeProto = {
        _create: function(){
            var i;

            this.element.addClass(this.options.baseClass || 'ws-range').attr({role: 'slider'}).append('<span class="media-range-rail media-range-track"><span class="media-range-min media-range-progress" /><span class="media-range-thumb"><span data-value="" data-valuetext="" class="media-tooltip" /></span></span>');
            this.trail = $('.media-range-track', this.element);
            this.range = $('.media-range-progress', this.element);
            this.thumb = $('.media-range-thumb', this.trail);
            this.thumbValue = $('span[data-value]', this.thumb);

            this.updateMetrics();

            this.orig = this.options.orig;

            for(i = 0; i < createOpts.length; i++){
                this[createOpts[i]](this.options[createOpts[i]]);
            }

            this.value = this._value;
            this.value(this.options.value);
            this.element.data('rangeUi', this);
            this.addBindings();
            this._init = true;
        },
        value: $.noop,
        _value: function(val, _noNormalize){
            var left;
            var o = this.options;
            var oVal = val;
            var thumbStyle = {};
            var rangeStyle = {};

            if(!_noNormalize && parseFloat(val, 10) != val){
                val = o.min + ((o.max - o.min) / 2);
            }

            if(!_noNormalize){
                val = this.normalizeVal(val);
            }
            left =  100 * ((val - o.min) / (o.max - o.min));

            if(this._init && val == o.value && oVal == val){return;}
            o.value = val;

            if($.fn.stop){
                this.thumb.stop();
                this.range.stop();
            }

            rangeStyle[this.dirs.width] = left+'%';

            if(this.vertical){
                left = Math.abs(left - 100);
            }
            thumbStyle[this.dirs.left] = left+'%';


            this.thumb[0].style[this.dirs.left] = thumbStyle[this.dirs.left];
            this.range[0].style[this.dirs.width] = rangeStyle[this.dirs.width];

            if(oVal != val){
                this.options._change(val);
            }

            this._setValueMarkup();
        },
        _setValueMarkup: function(){
            var o = this.options;
            var textValue = o.textValue ? o.textValue(o.value) : o.value;

            this.element[0].setAttribute('aria-valuenow', this.options.value);
            this.element[0].setAttribute('aria-valuetext', textValue);

            this.thumbValue[0].setAttribute('data-value', this.options.value);
            this.thumbValue[0].setAttribute('data-valuetext', textValue);
            this.thumbValue.html(textValue);
        },
        disabled: function(val){
            val = !!val;
            this.options.disabled = val;
            if(val){
                this.element
                    .attr({tabindex: -1, 'aria-disabled': 'true'})
                    .addClass('range-disabled')
                ;

                this.removeCurEvents();
            } else {
                this.element
                    .attr({tabindex: this.options.tabindex, 'aria-disabled': 'false'})
                    .removeClass('range-disabled')
                ;
            }
            if(this._init){
                this.updateMetrics();
            }
        },
        tabindex: function(val){
            this.options.tabindex = val;
            if(!this.options.disabled){
                this.element.attr({tabindex: val});
            }
        },
        min: function(val){
            this.options.min = retDefault(val, 0);
            this.value(this.options.value, true);
            this.element.attr('aria-valuemin', this.options.min);
        },
        max: function(val){
            this.options.max = retDefault(val, 100);
            this.value(this.options.value, true);
            this.element.attr('aria-valuemax', this.options.max);
        },


        normalizeVal: function(val){
            var o = this.options;

            if(val <= o.min){
                val = o.min;
            } else if(val >= o.max) {
                val = o.max;
            }
            return val;
        },
        doStep: function(factor, animate){
            var step = retDefault(this.options.step, 1);
            if(this.options.step == 'any'){
                step = Math.min(step, (this.options.max - this.options.min) / 10);
            }
            this.value( this.options.value + (step * factor), false, animate );

        },

        getStepedValueFromPos: function(pos){
            var val;

            if(pos <= 0){
                val = this.options[this.dirs[this.isRtl ? 'max' : 'min']];
            } else if(pos > 100) {
                val = this.options[this.dirs[this.isRtl ? 'min' : 'max']];
            } else {
                if(this.vertical || this.isRtl){
                    pos = Math.abs(pos - 100);
                }
                val = ((this.options.max - this.options.min) * (pos / 100)) + this.options.min;
            }

            return val;
        },
        addRemoveClass: function(cName, add){
            var isIn = this.element.prop('className').indexOf(cName) != -1;
            var action;
            if(!add && isIn){
                action = 'removeClass';
                this.element.removeClass(cName);
                this.updateMetrics();
            } else if(add && !isIn){
                action = 'addClass';

            }
            if(action){
                this.element[action](cName);
                if(this._init){
                    this.updateMetrics();
                }
            }
        },
        addBindings: function(){
            var leftOffset, widgetUnits, hasFocus, isActive;
            var that = this;
            var o = this.options;

            var eventTimer = (function(){
                var events = {};
                return {
                    init: function(name, curVal, fn){
                        if(!events[name]){
                            events[name] = {fn: fn};
                            if(that.orig){
                                $(that.orig).on(name, function(){
                                    events[name].val = $.prop(that.orig, 'value');
                                });
                            }

                        }
                        events[name].val = curVal;
                    },
                    call: function(name, val){
                        if(events[name].val != val){
                            clearTimeout(events[name].timer);
                            events[name].val = val;
                            events[name].timer = setTimeout(function(){
                                events[name].fn(val, that);
                            }, 0);
                        }
                    }
                };
            })();
            var normalizeTouch = (function(){
                var types = {
                    touchstart: 1,
                    touchend: 1,
                    touchmove: 1
                };
                var normalize = ['pageX', 'pageY'];
                return function(e){
                    if(types[e.type] && e.originalEvent && e.originalEvent.touches && e.originalEvent.touches.length){
                        for(var i = 0; i < normalize.length; i++){
                            e[normalize[i]] = e.originalEvent.touches[0][normalize[i]];
                        }

                    }
                    return e;
                };
            })();
            var updateValue = function(val, animate){
                if(val != o.value){
                    that.value(val, false, animate);
                    eventTimer.call('input', val);
                }
            };
            var setValueFromPos = function(e, animate){
                if(e.type == 'touchmove'){
                    e.preventDefault();
                    normalizeTouch(e);
                }

                updateValue(that.getStepedValueFromPos((e[that.dirs.mouse] - leftOffset) * widgetUnits), animate);

                if(e && e.type == 'mousemove'){
                    e.preventDefault();
                }
            };
            var remove = function(e){
                if(e && (e.type == 'mouseup' || e.type == 'touchend')){
                    eventTimer.call('input', o.value);
                    eventTimer.call('change', o.value);
                }
                that.addRemoveClass('range-active');
                $(document).off('mousemove touchmove', setValueFromPos).off('mouseup touchend', remove);
                $(window).off('blur', removeWin);
                isActive = false;
            };
            var removeWin = function(e){
                if(e.target == window){remove();}
            };
            var add = function(e){
                var outerWidth;

                if(isActive || (e.type == 'touchstart' && (!e.originalEvent || !e.originalEvent.touches || e.originalEvent.touches.length != 1))){
                    return;
                }
                e.preventDefault();

                $(document).off('mousemove touchmove', setValueFromPos).off('mouseup touchend', remove);
                $(window).off('blur', removeWin);
                if(!o.disabled){
                    normalizeTouch(e);
                    if(!hasFocus){
                        eventTimer.init('input', o.value);
                        eventTimer.init('change', o.value);
                    }
                    that.element.trigger('focus');
                    that.addRemoveClass('range-active', true);
                    leftOffset = that.element.offset();
                    widgetUnits = that.element[that.dirs.innerWidth]();
                    if(!widgetUnits || !leftOffset){return;}
                    leftOffset = leftOffset[that.dirs.pos];
                    widgetUnits = 100 / widgetUnits;

                    if(e.target.className == 'media-range-ticks'){
                        updateValue(e.target.getAttribute('data-value'), o.animate);
                    } else {
                        setValueFromPos(e, o.animate);
                    }
                    isActive = true;
                    $(document)
                        .on(e.type == 'touchstart' ?
                        {
                            touchend: remove,
                            touchmove: setValueFromPos
                        } :
                        {
                            mouseup: remove,
                            mousemove: setValueFromPos
                        }
                        )
                    ;
                    $(window).on('blur', removeWin);
                    e.stopPropagation();
                }
            };
            var elementEvts = {
                'touchstart mousedown': add,
                focus: function(e){
                    if(!o.disabled && !hasFocus){
                        if(!isActive){
                            eventTimer.init('input', o.value);
                            eventTimer.init('change', o.value);
                        }
                        that.addRemoveClass('range-focus', true);
                        that.updateMetrics();
                    }
                    hasFocus = true;
                },
                blur: function(e){
                    that.element.removeClass('range-focus range-active');
                    that.updateMetrics();
                    hasFocus = false;
                    eventTimer.init('input', o.value);
                    eventTimer.call('change', o.value);
                },
                keyup: function(){
                    that.addRemoveClass('range-active');
                    eventTimer.call('input', o.value);
                    eventTimer.call('change', o.value);
                },

                keydown: function(e){
                    var step = true;
                    var code = e.keyCode;
                    if(!o.disabled){
                        if(that.isRtl){
                            if(code == 39){
                                code = 37;
                            } else if(code == 37){
                                code = 39;
                            }
                        }
                        if (code == 39 || code == 38) {
                            that.doStep(1);
                        } else if (code == 37 || code == 40) {
                            that.doStep(-1);
                        } else if (code == 33) {
                            that.doStep(10, o.animate);
                        } else if (code == 34) {
                            that.doStep(-10, o.animate);
                        } else if (code == 36) {
                            that.value(that.options.max, false, o.animate);
                        } else if (code == 35) {
                            that.value(that.options.min, false, o.animate);
                        } else {
                            step = false;
                        }
                        if (step) {
                            that.addRemoveClass('range-active', true);
                            eventTimer.call('input', o.value);
                            e.preventDefault();
                        }
                    }
                }
            };

            this.removeCurEvents = remove;

            eventTimer.init('input', o.value, this.options.input);
            eventTimer.init('change', o.value, this.options.change);

            elementEvts[$.fn.mwheelIntent ? 'mwheelIntent' : 'mousewheel'] = function(e, delta){
                if(delta && hasFocus && !o.disabled){
                    that.doStep(delta);
                    e.preventDefault();
                    eventTimer.call('input', o.value);
                }
            };
            this.element.on(elementEvts);
            this.thumb.on({
                mousedown: add
            });

        },
        posCenter: function(elem, outerWidth){
            var temp, eS;

            if(this.options.calcCenter && (!this._init || this.element[0].offsetWidth)){
                if(!elem){
                    elem = this.thumb;
                }
                eS = elem[0].style;
                if(!outerWidth){
                    outerWidth = elem[this.dirs.outerWidth]();
                }
                outerWidth = outerWidth / -2;
                eS[this.dirs.marginLeft] = outerWidth +'px';

                if(this.options.calcTrail && elem[0] == this.thumb[0]){
                    temp = this.element[this.dirs.innerHeight]();
                    eS[this.dirs.marginTop] = ((elem[this.dirs.outerHeight]() - temp) / -2) + 'px';
                    this.range[0].style[this.dirs.marginTop] = ((this.range[this.dirs.outerHeight]() - temp) / -2 ) +'px';

                    this.range[0].style[this.dirs.posLeft] = outerWidth +'px';

                    outerWidth *= -1;

                    this.range[0].style[this.dirs.paddingRight] = outerWidth +'px';
                    this.trail[0].style[this.dirs.left] = outerWidth +'px';
                    this.trail[0].style[this.dirs.right] = outerWidth +'px';
                }
            }
        },
        updateMetrics: function(){
            var width = this.element.innerWidth();
            this.vertical = (width && this.element.innerHeight() - width  > 10);

            this.dirs = this.vertical ?
                {mouse: 'pageY', pos: 'top', posLeft: 'bottom', paddingRight: 'paddingTop', min: 'max', max: 'min', left: 'top', right: 'bottom', width: 'height', innerWidth: 'innerHeight', innerHeight: 'innerWidth', outerWidth: 'outerHeight', outerHeight: 'outerWidth', marginTop: 'marginLeft', marginLeft: 'marginTop'} :
                {mouse: 'pageX', pos: 'left', posLeft: 'left', paddingRight: 'paddingRight', min: 'min', max: 'max', left: 'left', right: 'right', width: 'width', innerWidth: 'innerWidth', innerHeight: 'innerHeight', outerWidth: 'outerWidth', outerHeight: 'outerHeight', marginTop: 'marginTop', marginLeft: 'marginLeft'}
            ;
            if(!this.vertical && this.element.css('direction') == 'rtl'){
                this.isRtl = true;
                this.dirs.left = 'right';
                this.dirs.right = 'left';
                this.dirs.marginLeft = 'marginRight';
            }
            this.element
                [this.vertical ? 'addClass' : 'removeClass']('vertical-range')
                [this.isRtl ? 'addClass' : 'removeClass']('ws-is-rtl')
            ;
            this.updateMetrics = this.posCenter;
            this.posCenter();
        }
    };

    var oCreate = function (o) {
        function F() {}
        F.prototype = o;
        return new F();
    };

    $.fn.rangeUI = function(opts){
        opts = $.extend({
            disabled: false,
            tabindex: 0,
            min: 0,
            max: 100,
            value: 50,
            input: $.noop,
            change: $.noop,
            _change: $.noop,
            calcCenter: true,
            calcTrail: true
        }, opts);
        return this.each(function(){
            var obj = $.extend(oCreate(rangeProto), {element: $(this)});
            obj.options = opts;
            obj._create.call(obj);
        });
    };

})();


(function(){
    "use strict";

    var mediaplayer = de.bild.mediaplayer;
    var $ = mediaplayer.$;

    $.extend(mediaplayer.controllerProto, {
        toggleMuted: function(){
           this.muted( !this.muted() );
        },
        getNormalizedBuffer: function(){

            var ret = {end: 0};
            var buffer = this.getBuffered();
            var time = this.currentTime();

            if(buffer && ('length' in buffer)){
                for(var i = 0, len = buffer.length; i < len; i++){
                    ret.start = buffer.start(i);
                    ret.end = buffer.end(i);
                    if(ret.start <= time && ret.end >= time){
                        break;
                    }
                }
            }
            return ret.end;
        },
        formatTime: function(time){
            if(time == null){
                time = this.currentTime();
            }

            if(isNaN(time)){
                return '00:00';
            }
            var seconds = (time % 60).toFixed();
            var minutes = time / 60;
            if(seconds < 10){
                seconds = '0'+seconds;
            }
            if(minutes < 1){
                minutes = 0;
            } else {
                minutes = parseInt(minutes, 10);
            }
            if(minutes < 10){
                minutes = '0'+minutes;
            }
            return minutes+':'+seconds;
        },
        isAd: function(){
            var adTypes = {midroll: 1, preroll: 1, postroll: 1};
            var clipType = (this.currentItem || {}).type;
            return !!adTypes[clipType];
        }
    });

    mediaplayer.pluginManager.addChildPlugin({
        name: 'timeremaining',
        defaults: {
            text: 'Werbung endet in <span></span> Sekunden',
            fallbackText: 'Video beginnt in krze'
        },
        setup: function(mainPlugin, container, options){
            var duration, lastTime;
            var $element = $('<div class="media-'+ this.name +'"></div>')
                .appendTo(container)
            ;
            var $durationDisplay = $element.find('span');

            function updateTime(){
                var time = Math.round(duration - mainPlugin.controller.currentTime());
                if(time !== lastTime){
                    lastTime = time;
                    $durationDisplay.html(time);
                }
            }

            if(mediaplayer.debug){
                $element.on('click', function(){
                    mainPlugin.controller.pause();
                    mainPlugin.controller.fire('ended');
                });
            }

            mainPlugin.on('loadedmetadata', function(){
                duration = mainPlugin.controller.getDuration();
                mainPlugin.off('timeupdate', updateTime);
                if(mainPlugin.controller.isAd()){
                    if(duration && !isNaN(duration) && isFinite(duration)){
                        $element.html(options.text);
                        $durationDisplay = $element.find('span');
                        updateTime();
                        mainPlugin.on('timeupdate', updateTime);
                    } else {
                        $element.html(options.fallbackText);
                    }
                    $element.show();
                } else {
                    $element.hide();
                }
            });
        }
    });

    mediaplayer.pluginManager.addChildPlugin({
        name: 'pausetoggle',
        options: {
            label: 'abspielen'
        },
        setup: function(mainPlugin, container){
            var $element = $('<button type="button" class="media-pausetoggle" role="checkbox" aria-label="'+ this.options.label +'" />')
                .appendTo(container);

            function init(){
                mainPlugin
                    .on('pause', stateChange)
                    .on('ended', stateChange)
                    .on('play', stateChange)
                ;
                mainPlugin.on('started', function(){
                    $element.prop('disabled', mainPlugin.controller.isAd());
                });
                $element.on('click', togglePlay);
            }

            function togglePlay(){
                mainPlugin.controller.togglePlay();
                return false;
            }

            function stateChange(e){
                var state = e.type == 'play';
                $element
                    .attr('aria-checked', ''+state)
                    [state ? 'addClass' : 'removeClass']('is-play')
                ;

            }

            init();
        }
    });


    mediaplayer.getSubmenu = function(className, label, content){
        return $('<div class="media-menucontainer media-menu-'+ className +'">' +
            '<div class="media-submenu">'+ (content || '') +'</div>' +
            '<button type="button" class="media-menu-opener" aria-label="'+ label +'"></button>' +
            '</div>');
    };

    mediaplayer.pluginManager.addChildPlugin({
        name: 'mutetoggle',
        defaults: {
            label: 'lautlos'
        },
        setup: function(mainPlugin, container, options){
            var wasMuted, wasVolume;
            var $element = $('<button type="button" class="media-'+ this.name +'" role="checkbox" aria-label="'+ options.label +'" />')
                .appendTo(container);

            function init(){
                mainPlugin.on('volumechange', stateChange);

                $element.on('click', toggleMute);
            }

            function stateChange(){
                var isMuted = mainPlugin.controller.muted();
                var isVolume = mainPlugin.controller.volume();
                if(isMuted || isVolume < 0.01){
                    isVolume = 'no';
                } else if(isVolume < 0.36){
                    isVolume = 'low';
                } else if(isVolume < 0.7){
                    isVolume = 'medium';
                } else {
                    isVolume = 'high';
                }

                if(isVolume != wasVolume){
                    if(wasVolume){
                        $element.removeClass('volume-'+wasVolume);
                    }
                    wasVolume = isVolume;
                    $element.addClass('volume-'+isVolume);
                }
                if(wasMuted !== isMuted){
                    wasMuted = isMuted;
                    $element
                        .attr('aria-checked', ''+isMuted)
                        [isMuted ? 'addClass' : 'removeClass']('is-muted');
                }
            }

            function toggleMute(){
                mainPlugin.controller.toggleMuted();
                return false;
            }
            init();
        }
    });

    mediaplayer.pluginManager.addChildPlugin({
        name: 'volumecontrols',
        setup: function(mainPlugin, container, options){
            var pluginManager = mediaplayer.pluginManager;
            var installedPlugins = pluginManager.installedPlugins;
            var $element = $('<div class="media-'+ this.name +'"><div class="volumerange-container"></div></div>')
                .appendTo(container);

            pluginManager.loadPlugins(installedPlugins.volumerange, this.controller, this._forClip, $element.find('.volumerange-container'));
            pluginManager.loadPlugins(installedPlugins.mutetoggle, this.controller, this._forClip, $element);

        }
    });


    function createGetSetHandler(fns){
        var throttleTimer;
        var blocked;

        if(fns.release === true){
            fns.release = fns.set;
        }
        var getSetHelper = {
            start: function(){
                if(!blocked){
                    blocked = true;
                    if(fns.start){
                        fns.start();
                    }
                }
            },
            release: function(){
                if(blocked){
                    blocked = false;

                    if(fns.release){
                        fns.release();
                    }
                }
            },
            get: function(){
                if(blocked){return;}
                return fns.get.apply(this, arguments);
            },
            set: function(){

                var that = this;
                var args = arguments;
                getSetHelper.start();
                clearTimeout(throttleTimer);
                throttleTimer = setTimeout(function(){
                    fns.set.apply(that, args);
                }, 33);
            }
        };
        getSetHelper.fns = fns;
        return getSetHelper;
    }

    mediaplayer.pluginManager.addChildPlugin({
        name: 'volumerange',
        options: {
            label: 'Lautstrke'
        },
        setup: function(mainPlugin, container){
            var isMuted = mainPlugin.controller.muted();
            var $element = $('<div class="media-volumerange" aria-label="'+ this.options.label +'" />')
                .appendTo(container)
            ;
            var setUnsetMuted = function(){
                $element[isMuted ? 'addClass' : 'removeClass']('is-muted');
            };
            var volumeHandlers = createGetSetHandler({
                get: function(){
                    var volume = mainPlugin.controller.volume();
                    if(isMuted != mainPlugin.controller.muted()){
                        isMuted = !isMuted;
                        setUnsetMuted();
                    }
                    if(volume !== undefined){
                        sliderApi.value(volume);
                    }
                },
                set: function(){
                    if(mainPlugin.controller.muted()){
                        mainPlugin.controller.muted(false);
                        isMuted = false;
                        setUnsetMuted();
                    }
                    mainPlugin.controller.volume(sliderApi.options.value);

                },
                release: true
            });

            var sliderApi = $element.rangeUI({
                    min: 0,
                    max: 1,
                    value: mainPlugin.controller.volume(),
                    input: volumeHandlers.set,
                    change: volumeHandlers.release,
                    baseClass: 'media-range',
                    textValue: function(val){
                        return Math.round(val * 100);
                    }
                })
                .data('rangeUi')
            ;
            mainPlugin.on('volumechange', volumeHandlers.get);
            setUnsetMuted();
        }
    });

    mediaplayer.pluginManager.addChildPlugin({
        name: 'liveindicator',
        defaults: {
            text: 'Live'
        },
        setup: function(mainPlugin, container, options){
            var $element = $('<div class="media-'+ this.name+'">'+ options.text +'</div>')
                .appendTo(container)
            ;

            mainPlugin
                .on('loadedmetadata', function(){
                    var duration = mainPlugin.controller.getDuration();
                    var hasDuration = duration && !isNaN(duration);

                    if(hasDuration){
                        if(isFinite(duration)){
                            mainPlugin.controller.$mediaBox.attr('data-duration', 'true');
                        } else {
                            mainPlugin.controller.$mediaBox.attr('data-duration', 'infinite');
                        }
                    } else {
                        mainPlugin.controller.$mediaBox.attr('data-duration', 'false');
                    }
                })
            ;
        }
    });

    mediaplayer.pluginManager.addChildPlugin({
        name: 'timerange',
        defaults: {
            label: 'Zeitposition',
            liveText: 'Live'
        },
        setup: function(mainPlugin, container, options){
            var duration, hasDuration, maxTime;
            var wasPaused = null;
            var pluginManager = mediaplayer.pluginManager;
            var installedPlugins = pluginManager.installedPlugins;

            var $element = $('<div class="media-'+ this.name+'" aria-label="'+ options.label +'" />')
                .appendTo(container)
            ;
            var $timeShow = $('<span class="time-select media-tooltip" />').appendTo($element);
            var timeSliderHanlder = createGetSetHandler({
                get: function(){
                    var time = mainPlugin.controller.currentTime();
                    if(!isNaN(time)){
                        range.value(time);
                    }
                },
                set: function(){
                    try {
                        if(range.options.value > maxTime){
                            range.options.value = maxTime;
                        }

                        mainPlugin.controller.currentTime(range.options.value);
                    } catch(er){}
                },
                start: function(){
                    if(wasPaused === null){
                        wasPaused = !mainPlugin.controller.isPlay();
                        if(!wasPaused){
                            mainPlugin.doNotTrackPauseEvent = true;
                            mainPlugin.controller.pause();
                        }
                    }
                },
                release: function(){
                    timeSliderHanlder.fns.set();
                    if(mainPlugin.doNotTrackPauseEvent){
                        delete mainPlugin.doNotTrackPauseEvent;
                    }
                    if(wasPaused === false){
                        mainPlugin.controller.play();
                    }
                    wasPaused = null;
                }
            });

            var range = $element
                .rangeUI({
                    min: 0,
                    value: mainPlugin.controller.currentTime() || 0,
                    input: timeSliderHanlder.set,
                    change: timeSliderHanlder.release,
                    textValue: function(val){
                        return mainPlugin.controller.formatTime(val);
                    },
                    baseClass: 'media-range'
                })
                .data('rangeUi')
            ;

            function durationchange(){
                duration = mainPlugin.controller.getDuration();
                hasDuration = duration && isFinite(duration) && !isNaN(duration);


                if(hasDuration){
                    maxTime = duration - 1;
                    range.disabled(false);
                    range.max(duration);
                } else {
                    range.disabled(true);
                    range.max(Number.MAX_VALUE);
                }

            }

            pluginManager.loadPlugins(installedPlugins.progressbuffer, this.controller, this._forClip, $element);

            mainPlugin
                .on('loadedmetadata', durationchange)
                .on('emptied', durationchange)
            ;

            durationchange();

            mainPlugin.on('timeupdate', timeSliderHanlder.get);

            $element
                .on({
                    'mouseenter': function(e){
                        if(hasDuration){
                            var widgetLeft = ($element.offset() || {left: 0}).left;
                            var widgetWidth = $element.innerWidth();
                            var posLeft = function(x){
                                var perc = (x - widgetLeft) / widgetWidth * 100;
                                $timeShow
                                    .html(mainPlugin.controller.formatTime(duration * perc / 100))
                                    .css({left: perc+'%'})
                                ;
                            };

                            setTimeout(function(){
                                posLeft(e.pageX);
                                $timeShow.addClass('show-time-select');
                            });
                            $element
                                .off('.mediatimeselect')
                                .on('mousemove.mediatimeselect', function(e){
                                    posLeft(e.pageX);
                                })
                            ;
                        }
                    },
                    mouseleave: function(){
                        setTimeout(function(){
                            $timeShow.removeClass('show-time-select');
                            $element.off('.mediatimeselect');
                        });
                    }
                })
            ;
        }
    });


    mediaplayer.pluginManager.addChildPlugin({
        name: 'progressbuffer',
        setup: function(mainPlugin, container){
            var duration = null;
            var $element = $('<div class="media-progressbuffer" />').appendTo(container);
            var $indicator = $('<div class="media-progressindicator" />').appendTo($element);


            function onStateChange(){
                if(duration){
                    var buffer = mainPlugin.controller.getNormalizedBuffer();
                    /*jshint validthis: true */
                    $indicator.css('width', (buffer / duration * 100) +'%');
                }
            }

            function durationchange(){
                duration = mainPlugin.controller.getDuration();
                if(!(duration && isFinite(duration) && !isNaN(duration))){
                    duration = null;
                }
                onStateChange();
            }


            mainPlugin
                .on('loadedmetadata', durationchange)
                .on('emptied', durationchange)
                .on('progress', onStateChange)
            ;

        }
    });


    mediaplayer.pluginManager.addChildPlugin({
        name: 'timedisplay',
        setup: function(mainPlugin, container){
            var lastTime = null;
            var $element = $('<div class="media-timedisplay" />')
                .appendTo(container)
            ;

            function onStateChange(){
                var time = mainPlugin.controller.formatTime();
                if(lastTime != time){
                    lastTime = time;
                    $element.html(time);
                }
            }

            mainPlugin
                .on('timeupdate', onStateChange)
                .on('emptied', onStateChange)
            ;
            onStateChange();
        }
    });


    mediaplayer.pluginManager.addChildPlugin({
        name: 'durationdisplay',
        setup: function(mainPlugin, container){
            var lastTime = null;
            var $element = $('<div class="media-durationdisplay" />')
                .appendTo(container)
            ;

            function onStateChange(){
                var duration = mainPlugin.controller.getDuration();

                var time = mainPlugin.controller.formatTime(duration);
                if(lastTime != time){
                    lastTime = time;
                    $element.html(time);
                }
            }

            mainPlugin
                .on('timeupdate', onStateChange)
                .on('emptied', onStateChange)
            ;
            onStateChange();
        }
    });

})();


(function(){
    "use strict";

    var mediaplayer = de.bild.mediaplayer;
    var $ = mediaplayer.$;

    var pluginTemplate = '<div class="media-controlbar"><div class="media-controlbar-box" role="group" aria-label="Videosteuerung" /></div>';

    /**
     * Poster Template:
     *
     * <div class="media-poster show-poster">
     *      <img src="'+ this.controller.data.poster +'" />
     *      <button type="button" class="media-play" />
     * </div>
     *
     * */


    var controlbar = {
        init: function(){
            if(mediaplayer.is.mobile){return;}
            var activeTheme = this.controller.data.activeTheme;

            this.eventNS = '.controlbar'+this.id;
            this.$bar = $(pluginTemplate).addClass('hide-bar');
            this.$bar.appendTo(this.controller.$pluginDisplay);

            this.appendChildPlugins(this.$bar.find('.media-controlbar-box'), activeTheme && activeTheme.controls);

            this.on('started', function(){
                this.controller.$mediaBox[this.controller.isAd() ? 'addClass' : 'removeClass']('media-ad');
                this.$bar.removeClass('hide-bar');
                this.controller.controls(false);
            });

            this._setPoster();
            this.setupUserEvent();
            this.setupStateEvents();
        },
        setupDCFS: function(){
            var controller = this.controller;
            this.$posterWrapper
                .off('.dblfullscreen')
                .on('dblclick.dblfullscreen', function(e){
                    if(controller.requestFullscreen){
                        controller.requestFullscreen();
                    }
                })
            ;
        },
        _setPoster: function(){
            var that = this;

            var poster = '<div class="media-poster show-poster">';
            if( this.controller.data.poster ){
                poster += '<img src="'+ this.controller.data.poster +'" />';
            }
            poster += '<button type="button" class="media-play" /></div>';

            this.$posterWrapper = $(poster).appendTo(this.controller.$pluginDisplay);

            this.$posterWrapper.on('click', function(){
                if(that.controller.data.autofullscreen && that.controller.requestFullscreen && !that.controller.isPlaying()){
                    that.controller.play();
                    that.controller.requestFullscreen();
                } else {
                    that.controller.togglePlay();
                }
            });

            this.on('reset', function(){
                this.$posterWrapper.addClass('show-poster');
            });
            this.on('started', function(){
                this.$posterWrapper.removeClass('show-poster');
            });

            this.setupDCFS();
        },
        setupStateEvents: function(){
            var lastState = 'idle';
            var idleStates = {
                emptied: true,
                pause: true
            };
            var setPlayerState = function(e){
                var state = e.type;

                if(state == 'pause' && this.doNotTrackPauseEvent){return;}

                if(idleStates[state]){
                    state = 'idle';
                }

                if(state == 'play'){
                    if(lastState != 'waiting'){
                        state = 'playing';
                    } else {
                        return;
                    }
                }

                if(state != lastState){
                    if(lastState){
                        this.controller.$mediaBox.removeClass('state-'+lastState);
                    }
                    lastState = state;
                    this.controller.$mediaBox.addClass('state-'+lastState);
                    if(typeof togglePremiumProfilGalerieControls == 'function') { togglePremiumProfilGalerieControls(lastState); }
                    if(typeof toggleStartseiteDesign == 'function') { toggleStartseiteDesign(lastState); }
                }
            };

            this.controller.$mediaBox.addClass('state-'+lastState);
            if(typeof togglePremiumProfilGalerieControls == 'function') { togglePremiumProfilGalerieControls(lastState); }
            if(typeof toggleStartseiteDesign == 'function') { toggleStartseiteDesign(lastState); }

            this
                .on('cliperror', setPlayerState)
                .on('emptied', setPlayerState)
                .on('play', setPlayerState)
                .on('pause', setPlayerState)
                .on('ended', setPlayerState)
                .on('waiting', setPlayerState)
                .on('playing', setPlayerState)
                .on('seeked', function(){
                    if(lastState == 'waiting' && !this.controller.isPlay()){
                        setPlayerState.call(this, {type: 'pause'});
                    }
                })
            ;
        },
        useractiveEvents: 'mouseover mousemove keypress touchstart touchmove'.split(' '),
        setupUserEvent: function(){
            var timer;
            var blockInactive = false;
            var removeUserActive = function(){
                if(!blockInactive){
                    $mediabox.addClass('userinactive');
                    clearTimeout(timer);
                }
            };
            var $mediabox = this.controller.$mediaBox;

            $mediabox
                .addClass('userinactive')
                .on(this.useractiveEvents.join(this.eventNS+' ')+this.eventNS, function(){
                    $mediabox.removeClass('userinactive');
                    clearTimeout(timer);
                    timer = setTimeout(removeUserActive, 1000);
                })
                .off('mouseleave'+this.eventNS, removeUserActive)
            ;
            $('.media-submenu', $mediabox).on({
                'mouseenter': function(){
                    blockInactive = true;
                },
                'mouseleave': function(){
                    blockInactive = false;
                }
            });
        },
        destroy: function(){
            if(this.$bar){
                this.$bar.remove();
            }
            $(document).off('.'+this.id);
            $(window).off('.'+this.id);
            this.controller.$dom.off('.'+this.id);

            this.controller.$mediaBox.off(this.eventNS);
            this.super.destroy.apply(this, arguments);
        }
    };

    mediaplayer.pluginManager.add('Controls', controlbar);
})();



;(function(){"use strict";var mediaplayer=de.bild.mediaplayer;var $=mediaplayer.$;var trackingPlugin={init:function(){console.log('Init');this.pluginConfig=this.controller.data.trackingPlugin;this.timeUpdateInterval=this.pluginConfig.trackIntervalInSec||10;this.initialInitTracked=false;this.mainClipPlayed=false;this.initialPlayCallTriggered=false;this.trackingEnabled=true;this.pixelId=window.transfermarkt.cmsKonfig&&window.transfermarkt.cmsKonfig.system&&window.transfermarkt.cmsKonfig.system.zaehlpixel_webtrekk_trackId||-1;if(this.pixelId===-1){this.trackingEnabled=false;}
this.webtrekkParamsString='';this.webtrekkStatic={url:window.location.pathname,mediaDimension:this.controller.$dom.outerWidth()+'x'+this.controller.$dom.outerHeight()};this.lastUpdate=0;this.adType=this.params.webtrekk.adType;this.adKeyword=this.params.webtrekk.adKeyword;this.webtrekkVideoDscription=this.params.webtrekk.description;this.clipDurationFromData=(this.controller.data.durationSec===-1||this.controller.data.durationSec===0?0:this.controller.data.durationSec);this.currentTimeNormalized=0;this.durationAberration=1;this.bindEvents();},bindEvents:function(){if(this.params.webtrekk){this.on('loadedmetadata',this._metaDataLoaded);this.on('doom',this._trackDoom);}
this.on('started',this._trackStarted);this.on('playing',this._trackPlaying);},trackEvent:function(eventName,params){this._triggerWebtrekkTracking(eventName,params);},_metaDataLoaded:function(){if(this.controller.currentItem.type=='main'){var realClipDuration=Math.round(this.controller.getDuration())||0;this.durationAberration=this.clipDurationFromData/realClipDuration;this.off('loadedmetadata',this._metaDataLoaded);this.on('timeupdate',this._trackPosChange);this.on('pause',this._trackPause);this.on('play',this._trackResume,true);this.on('ended',this._trackEnded);}},_isUserInitiated:function(){if(this.controller.data.initializedBy&&this.controller.data.initializedBy.data&&this.controller.data.initializedBy.data.revolver===true){return false;}
try{if(webtrekk.customParameter[4]==="BTOFlashVideo"&&window.location.href.indexOf(',auto=true')>0){return false;}}catch(e){}
return true;},_trackInit:function(){this.trackEvent('init',this.webtrekkParamsString);},_trackPlaying:function(){if(this.controller.currentItem.type=='main'){this.trackEvent('play');this.initialPlayCallTriggered=true;this.off('playing',this._trackPlaying);}},_trackStarted:function(){if(!this.initialInitTracked){this.initialInitTracked=true;this._trackInit();}
this.off('started',this._trackStarted);},_trackPause:function(){this.trackEvent('pause');},_trackResume:function(){if(this.initialPlayCallTriggered){this.trackEvent('resume');}},_trackPosChange:function(){this.mainClipPlayed=true;this.currentTimeCached=Math.round(this.controller.currentTime());this.currentTimeNormalized=Math.round(this.currentTimeCached*this.durationAberration)||0;if(!this.lastUpdate){this.lastUpdate=this.currentTimeNormalized;}
if((this.currentTimeNormalized-this.lastUpdate)>=this.timeUpdateInterval){this.lastUpdate=this.currentTimeNormalized;if(this.currentTimeNormalized>this.clipDurationFromData){this.currentTimeNormalized=this.clipDurationFromData;}
this.trackEvent('pos');}},_trackEnded:function(){if(this.mainClipPlayed){this.off('ended',this._trackEnded);this.off('timeupdate',this._trackPosChange);this.off('pause',this._trackPause);this.off('play',this._trackResume);this.currentTimeNormalized=this.clipDurationFromData;this.trackEvent('end');}},_trackDoom:function(){this.trackEvent('eof');},_triggerWebtrekkTracking:function(eventName,parameterString){if(!parameterString){parameterString='';}
if(window.wt_init_media&&window.wt_sendinfo_media&&this.trackingEnabled){wt_init_media(this.pluginConfig.pixelURL,this.pixelId);console.log(window.videoIdentifier);wt_sendinfo_media(videoIdentifier,eventName,this.currentTimeNormalized,this.clipDurationFromData,parameterString,"","","");}},destroy:function(){this.super.destroy.apply(this,arguments);}};de.bild.mediaplayer.pluginManager.add('Tracking',trackingPlugin);})();
;/*
var webtrekkConfig = webtrekkConfig || {
    trackId: "670018217401655",
    trackDomain: "transfermarkt01.wt-eu02.net",
	domain : "transfermarkt.de",
	cookie : "1",
	linkTrack : "link",
	heatmap : "1",
	contentID : ""
};
*/

/**
 ************ Don't change anything beyond this line ************
 ********************* Start webtrekk_v4.js *********************
 */var webtrekkUnloadObjects=webtrekkUnloadObjects||[],webtrekkLinktrackObjects=webtrekkLinktrackObjects||[],webtrekkHeatmapObjects=webtrekkHeatmapObjects||[],webtrekkV3=function(g){var u=function(a,b){"1"!=f.cookie||(f.optOut||f.deactivatePixel)||f.firstParty();var c=b?b:f.formObject&&"noForm"!=a?"form":"link";!1!=f.beforeUnloadPixel?f.beforeUnloadPixel():"form"==c&&f.executePlugin(f.getPluginConfig("form","before"));var d="";if(f.config.linkId&&(d+="&ct="+f.wtEscape(f.maxlen(f.wtUnescape(f.config.linkId),
255)))){f.linktrackOut&&(d+="&ctx=1");var e=f.ccParams;"string"==typeof e&&""!=e&&(d+=e)}if(f.wtEp)if(f.wtEpEncoded)d+=f.wtEp;else if(e=f.wtEp,"string"==typeof e&&""!=e)for(var e=e.split(/;/),t=0;t<e.length;t++)if(f.wtTypeof(e[t])){var k=e[t].split(/=/);f.checkSC("custom")&&(k[1]=f.decrypt(k[1]));k[1]=f.wtEscape(k[1]);d+="&"+k[0]+"="+k[1]}"noForm"!=a&&(d+=f.checkFormTracking());""!=d&&(f.quicksend(f.wtEscape(f.contentId.split(";")[0])+",1,"+f.baseparams(),d),f.config.linkId="",f.ccParams="",f.wtEp=
"");!1!=f.afterUnloadPixel?f.afterUnloadPixel():"form"==c&&f.executePlugin(f.getPluginConfig("form","after"))},q=function(a){var b,c,d=document.getElementById(f.heatmapRefpoint);c=d&&null!==d?b=0:b=-1;if(d&&null!==d&&f.wtTypeof(d.offsetLeft))for(;d;)b+=0<=d.offsetLeft?d.offsetLeft:0,c+=0<=d.offsetTop?d.offsetTop:0,d=d.offsetParent;var e=d=0;a||(a=window.event);if(a.pageX||a.pageY)d=a.pageX,e=a.pageY;else if(a.clientX||a.clientY)if(d=a.clientX,e=a.clientY,f.isIE)if(0<document.body.scrollLeft||0<document.body.scrollTop)d+=
document.body.scrollLeft,e+=document.body.scrollTop;else if(0<document.documentElement.scrollLeft||0<document.documentElement.scrollTop)d+=document.documentElement.scrollLeft,e+=document.documentElement.scrollTop;a=0;a=f.isIE?document.body.clientWidth:self.innerWidth-16;var t=!0;if(d>=a||!f.sentFullPixel)t=!1;(0<=c||0<=b)&&(d>b&&e>c)&&(d="-"+(d-b),e="-"+(e-c));t&&"1"==f.heatmap&&(f.executePlugin(f.getPluginConfig("heatmap","before")),f.quicksend(f.wtEscape(f.contentId.split(";")[0])+","+d+","+e,"",
"hm"+(f.fileSuffix?".pl":"")),f.executePlugin(f.getPluginConfig("heatmap","after")))},r=function(){"undefined"!==typeof wt_heatmap?window.setTimeout(function(){wt_heatmap()},1E3):("undefined"===typeof wt_heatmap_retry&&(window.wt_heatmap_retry=0),wt_heatmap_retry++,60>wt_heatmap_retry&&window.setTimeout(function(){r()},1E3))},l=function(){"undefined"!==typeof wt_overlay?window.setTimeout(function(){wt_overlay()},1E3):("undefined"===typeof wt_overlay_retry&&(window.wt_overlay_retry=0),wt_overlay_retry++,
60>wt_overlay_retry&&window.setTimeout(function(){l()},1E3))},s=function(a,b){var c=f.urlParam(location.href,a,!1),d=f.urlParam(location.href,"wt_t",!1),e=(new Date).getTime(),t=RegExp(b),d=d?parseInt(d)+9E5:e-9E5;return c&&t.test(c)&&d>e?c:!1},n=function(a){if(a&&"2"==a.substring(0,1)){a=parseInt(a.substring(1,11)+"000");a=new Date(a);var b=a.getFullYear()+"",b=b+(9>a.getMonth()?"0":""),b=b+(a.getMonth()+1),b=b+(9>a.getDate()?"0":""),b=b+a.getDate(),b=b+(9>a.getHours()?"0":""),b=b+a.getHours(),b=
b+(9>a.getMinutes()?"0":"");return b+=a.getMinutes()}return""},h=webtrekkConfig,f=this;g||(g=h);this.defaultAttribute="contentId linkId trackId trackDomain domain linkTrack linkTrackParams linkTrackPattern linkTrackReplace linkTrackDownloads linkTrackIgnorePattern customParameter crmCategory urmCategory customClickParameter customSessionParameter customTimeParameter customCampaignParameter customEcommerceParameter orderValue currency orderId product productCost productQuantity productCategory productStatus couponValue customerId contentGroup mediaCode mediaCodeValue mediaCodeCookie campaignId campaignAction internalSearch customSid customEid cookieDomain cookieEidTimeout cookieSidTimeout forceNewSession xwtip xwtua xwtrq xwteid xwtstt mediaCodeFrames framesetReferrer forceHTTPS secureConfig heatmap pixelSampling form formFullContent formAnonymous disableOverlayView beforeSendinfoPixel afterSendinfoPixel beforeUnloadPixel afterUnloadPixel xlc xlct xlcv ignorePrerendering isIE isOpera isSafari isChrome isFirefox email emailRID emailOptin firstName lastName telefon gender birthday birthdayJ birthdayM birthdayD country city postalCode street streetNumber validation fileSuffix".split(" ");
this.cookie=g.cookie?g.cookie:h.cookie?h.cookie:"3";this.optoutName=g.optoutName?g.optoutName:h.optoutName?h.optoutName:"webtrekkOptOut";this.paramFirst=g.paramFirst?g.paramFirst:h.paramFirst?h.paramFirst:"";this.maxRequestLength=g.maxRequestLength?g.maxRequestLength:h.maxRequestLength?h.maxRequestLength:7168;this.plugins=g.plugins&&""!=g.plugins?g.plugins:h.plugins&&""!=h.plugins?h.plugins:"Adobe Acrobat;Windows Media Player;Shockwave Flash;RealPlayer;QuickTime;Java;Silverlight".split(";");"string"==
typeof this.plugins&&(this.plugins=this.plugins.split(";"));this.heatmapRefpoint=g.heatmapRefpoint?g.heatmapRefpoint:h.heatmapRefpoint?h.heatmapRefpoint:"wt_refpoint";this.linkTrackAttribute=g.linkTrackAttribute?g.linkTrackAttribute:h.linkTrackAttribute?h.linkTrackAttribute:"name";this.delayLinkTrack=g.delayLinkTrack?g.delayLinkTrack:h.delayLinkTrack?h.delayLinkTrack:!1;this.delayLinkTrackTime=g.delayLinkTrackTime?g.delayLinkTrackTime:h.delayLinkTrackTime?h.delayLinkTrackTime:200;this.noDelayLinkTrackAttribute=
g.noDelayLinkTrackAttribute?g.noDelayLinkTrackAttribute:h.noDelayLinkTrackAttribute?h.noDelayLinkTrackAttribute:!1;this.formAttribute=g.formAttribute?g.formAttribute:h.formAttribute?h.formAttribute:"name";this.formFieldAttribute=g.formFieldAttribute?g.formFieldAttribute:h.formFieldAttribute?h.formFieldAttribute:"name";this.formValueAttribute=g.formValueAttribute?g.formValueAttribute:h.formValueAttribute?h.formValueAttribute:"value";this.formFieldDefaultValue=g.formFieldDefaultValue?g.formFieldDefaultValue:
h.formFieldDefaultValue?h.formFieldDefaultValue:{};this.formPathAnalysis=g.formPathAnalysis?g.formPathAnalysis:h.formPathAnalysis?h.formPathAnalysis:!1;this.reporturl=g.reporturl?g.reporturl:h.reporturl?h.reporturl:"report2.webtrekk.de/cgi-bin/wt";this.updateCookie=g.updateCookie?g.updateCookie:h.updateCookie?h.updateCookie:!0;this.executePluginFunction=g.executePluginFunction?g.executePluginFunction:h.executePluginFunction?h.executePluginFunction:"";this.linktrackOut=this.cookieOne=this.sampleCookieString=
this.lastVisitContact=this.firstVisitContact=this.eid=this.optOut=this.deactivateRequest=this.deactivatePixel=!1;this.linktrackNamedlinksOnly=!0;this.sentFullPixel=this.ccParams=!1;this.sentCampaignIds={};this.config=this.browserLang=this.formSubmit=this.formFocus=this.formName=this.formObject=this.gatherFormsP=this.overlayOn=this.heatmapOn=this.trackingSwitchMediaCodeTimestamp=this.trackingSwitchMediaCodeValue=this.trackingSwitchMediaCode=this.wtEpEncoded=this.wtEp=!1;this.unloadInstance=webtrekkUnloadObjects.length;
this.plugin={};this.heatmapCounter=this.formCounter=this.linkCounter=this.clickCounter=this.pageCounter=0;this.browserLang=!1;"string"==typeof navigator.language?this.browserLang=navigator.language.substring(0,2):"string"==typeof navigator.userLanguage&&(this.browserLang=navigator.userLanguage.substring(0,2));this.jsonPara={ck:["customClickParameter",{}],cp:["customParameter",{}],cs:["customSessionParameter",{}],ce:["customTimeParameter",{}],cb:["customEcommerceParameter",{}],vc:["crmCategory",{}],
uc:["urmCategory",{}],ca:["productCategory",{}],cc:["customCampaignParameter",{}],cg:["contentGroup",{}],ct:["linkId",""],ov:["orderValue",""],cr:["currency",""],oi:["orderId",""],ba:["product",""],co:["productCost",""],qn:["productQuantity",""],st:["productStatus",""],cd:["customerId",""],is:["internalSearch",""],mc:["campaignId",""],mca:["campaignAction",""]};this.generateDefaultConfig=function(a,b){for(var c=0;c<this.defaultAttribute.length;c++){var d=this.defaultAttribute[c];this[d]=a[d]?a[d]:
b[d]?b[d]:!1}};this.generateDefaultConfig(g,h);this.campaignAction=g.campaignAction?g.campaignAction:h.campaignAction?h.campaignAction:"click";"undefined"===typeof this.safetag&&(this.safetag=!1);"undefined"===typeof this.safetagInProgress&&(this.safetagInProgress=!1);"undefined"===typeof this.safetagParameter&&(this.safetagParameter={});"undefined"===typeof this.update&&(this.update=function(){});this.saveSendinfoArguments=[];this.safetagTimeoutStarted=!1;this.version=405;this.getJSON=function(a){if(a&&
"{"==a.charAt(0)&&"}"==a.charAt(a.length-1))try{return eval("("+a+")")}catch(b){}return null};this.parseJSON=function(a,b){for(var c in a){var d=c;if("object"==typeof a[d])"undefined"!=typeof this.jsonPara[d]&&"object"!=typeof this.config[this.jsonPara[d][0]]&&(this.config[this.jsonPara[d][0]]={}),this.parseJSON(a[d],d);else if(b){if(isNaN(parseInt(d))||500>parseInt(d))this.config[this.jsonPara[b][0]][d]=a[d]}else"undefined"!=typeof this.jsonPara[d]&&(this.config[this.jsonPara[d][0]]=a[d])}};this.getMappingParam=
function(a){var b=a.split(""),c,d,e;for(c=0;c<b.length;c++)if(!isNaN(parseInt(b[c]))){d=c;break}d?(b=a.substr(0,d),e=a.substr(d,a.length-1)):b=a;return{mapping:"undefined"!=typeof this.jsonPara[b]?this.jsonPara[b][0]:!1,index:e?e:!1}};this.getConfig=function(a){for(var b={},c=0;c<this.defaultAttribute.length;c++){var d=this.defaultAttribute[c];b[d]=a?!1:this[d]}return b};this.getRequestCounter=function(a,b){var c=0;"before"==b&&c++;return"link"==a?this.linkCounter+=c:"click"==a?this.clickCounter+=
c:"page"==a?this.pageCounter+=c:"heatmap"==a?this.heatmapCounter+=c:"form"==a?this.formCounter+=c:0};this.getPluginConfig=function(a,b){return{instance:this,mode:a,type:b,requestCounter:this.getRequestCounter(a,b)}};this.checkAsynchron=function(a,b,c,d){"undefined"!=typeof window[a]?b&&b(!0,c):0>=d?b&&b(!1,c):window.setTimeout(function(){c.checkAsynchron(a,b,c,d-100)},100)};this.loadAsynchron=function(a,b,c,d){this.include(a)&&this.checkAsynchron(b,c?c:!1,this,d?d:2E3)};this.include=function(a){if(!document.createElement)return!1;
var b=document.getElementsByTagName("head").item(0),c=document.createElement("script");c.setAttribute("language","javascript");c.setAttribute("type","text/javascript");c.setAttribute("src",a);b.appendChild(c);return!0};this.executePlugin=function(a){if(this.executePluginFunction&&"string"===typeof this.executePluginFunction){this.epf=!1;for(var b=this.executePluginFunction.split(";"),c=0;c<b.length;c++)b[c]&&"function"===typeof window[b[c]]&&(this.epf=window[b[c]],this.epf(a))}};this.indexOf=function(a,
b,c){return a.indexOf(b,c?c:0)};this.wtTypeof=function(a){return"undefined"!==typeof a?1:0};this.wtLength=function(a){return"undefined"!==typeof a?a.length:0};this.getAttribute=function(a,b){return"string"==typeof a.getAttribute(b)?a.getAttribute(b):"object"==typeof a.getAttribute(b)&&"object"==typeof a.attributes[b]&&null!=a.attributes[b]?a.attributes[b].nodeValue:""};this.getTimezone=function(){return Math.round(-1*((new Date).getTimezoneOffset()/60))};this.wtHref=function(){return"undefined"!==
typeof window.wtLocationHref?window.wtLocationHref:this.wtLocation().href};this.wtLocation=function(){var a=document.location;if(!document.layers&&document.getElementById)try{a=top.document.location}catch(b){a=document.location}else a=top.document.location;return a};this.checkBrowser=function(){this.isIE=this.indexOf(navigator.appName,"Microsoft")?!1:!0;this.isIE||(this.isOpera=this.indexOf(navigator.appName,"Opera")?!1:!0,this.isOpera||(this.isSafari=-1!=navigator.vendor.toLowerCase().indexOf("apple"),
this.isChrome=-1!=navigator.vendor.toLowerCase().indexOf("google"),this.isSafari||this.isChrome||(this.isFirefox=-1!=navigator.userAgent.toLowerCase().indexOf("firefox"))))};this.checkBrowser();this.url2contentId=function(a){if(!a)return"no_content";a=/\/\/(.*)/.exec(a);return 1>a.length?"no_content":a[1].split("?")[0].replace(/\./g,"_").replace(/\//g,".").replace(/\.{2,}/g,".").toLowerCase().split(";")[0]};this.contentId=g.contentId?g.contentId:this.url2contentId(document.location.href);this.registerEvent=
function(a,b,c){a.addEventListener?("webkitvisibilitychange"==b&&this.unregisterEvent(a,b,c),a.addEventListener(b,c,!1)):a.attachEvent&&("beforeunload"!=b&&"webkitvisibilitychange"!=b||this.unregisterEvent(a,b,c),a.attachEvent("on"+b,c))};this.unregisterEvent=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)};this.maxlen=function(a,b){return a&&a.length>b?a.substring(0,b-1):a};this.wtEscape=function(a){try{return encodeURIComponent(a)}catch(b){return escape(a)}};
this.wtUnescape=function(a){try{return decodeURIComponent(a)}catch(b){return unescape(a)}};this.decrypt=function(a){var b="";if(a)try{b=this.wtUnescape(a.replace(/([0-9a-fA-F][0-9a-fA-F])/g,"%$1"))}catch(c){}return b};this.checkSC=function(a){if("string"!=typeof this.secureConfig)return!1;for(var b=this.secureConfig.split(";"),c=0;c<b.length;c++)if(b[c]==a)return!0;return!1};this.zeroPad=function(a,b){var c="000000000000"+a;return c.substring(c.length-b,c.length)};this.generateEid=function(){return"2"+
this.zeroPad(Math.floor((new Date).getTime()/1E3),10)+this.zeroPad(Math.floor(1E6*Math.random()),8)};this.getexpirydate=function(a){var b=new Date,c=b.getTime();b.setTime(c+6E4*a);return b.toUTCString()};this.setCookie=function(a,b,c){var d=location.hostname;-1==d.search(/^[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}$/)&&(d=location.hostname.split("."),d=d[d.length-2]+"."+d[d.length-1]);var e=!1;if(this.cookieDomain)for(var f=this.cookieDomain.split(";"),k=0;k<f.length;k++)if(-1!=location.hostname.indexOf(f[k])){d=
f[k];e=!0;break}a=e&&"undefined"!=typeof c&&c?a+"="+escape(b)+";domain="+d+";path=/;expires="+this.getexpirydate(c):e?a+"="+escape(b)+";path=/;domain="+d:3>d.split(".")[0].length&&"undefined"!=typeof c&&c?a+"="+escape(b)+";path=/;expires="+this.getexpirydate(c):3>d.split(".")[0].length?a+"="+escape(b)+";path=/":"undefined"!=typeof c&&c?a+"="+escape(b)+";domain="+d+";path=/;expires="+this.getexpirydate(c):a+"="+escape(b)+";path=/;domain="+d;document.cookie=a};this.getCookie=function(a){for(var b=document.cookie.split(";"),
c=0;c<b.length;c++){var d=b[c].substr(0,b[c].indexOf("=")),e=b[c].substr(b[c].indexOf("=")+1),d=d.replace(/^\s+|\s+$/g,"");if(d==a)return unescape(e)}return""};if(this.optOut=this.getCookie(this.optoutName)?!0:!1)this.deactivatePixel=!0;this.urlParam=function(a,b,c){if(!a||null===a||"undefined"===typeof a)return c;var d=[];0<a.indexOf("?")&&(d=a.split("?")[1].replace(/&amp;/g,"&").split("#")[0].split("&"));for(a=0;a<d.length;a++)if(0==d[a].indexOf(b+"="))return this.wtUnescape(d[a].substring(b.length+
1).replace(/\+/g,"%20"));return c};this.allUrlParam=function(a,b){if(this.mediaCodeFrames&&""!=this.mediaCodeFrames){for(var c=this.mediaCodeFrames.split(";"),d=0;d<c.length;d++){var e=!1;try{e=eval(c[d])}catch(f){}if(e&&(e!=top&&e.location)&&(e=this.urlParam(e.location.href,a,b),e!=b))return e}return b}c="";try{c=top.location.href}catch(k){c=document.location.href}return this.urlParam(c,a,b)};this.plugInArray=function(a,b){if("object"!=typeof a)return!1;for(var c=0;c<a.length;c++){var d=RegExp(a[c].toLowerCase(),
"g");if(-1!=b.toLowerCase().search(d))return a[c]}return!1};this.quicksend=function(a,b,c){if(!this.trackDomain||!this.trackId||this.deactivatePixel||this.deactivateRequest)this.deactivateRequest=!1;else{c||(c="wt"+(this.fileSuffix?".pl":""));"undefined"==typeof this.requestTimeout&&(this.requestTimeout=5);"1"==this.cookie&&(b="&eid="+this.eid+"&one="+(this.cookieOne?"1":"0")+"&fns="+(this.forceNewSession?"1":"0")+b);"1"!=this.cookie&&(this.wtTypeof(this.cookieEidTimeout)||this.wtTypeof(this.cookieSidTimeout))&&
(this.wtTypeof(this.cookieEidTimeout)&&""!=this.cookieEidTimeout&&(b="&cet="+this.cookieEidTimeout+b),this.wtTypeof(this.cookieSidTimeout)&&""!=this.cookieSidTimeout&&(b="&cst="+this.cookieSidTimeout+b));0<this.pixelSampling&&(b+="&ps="+this.pixelSampling);b="&tz="+this.getTimezone()+b;a="//"+this.trackDomain+"/"+this.trackId+"/"+c+"?p="+this.version+","+a+b+"&eor=1";if(!this.ignorePrerendering&&(this.isChrome&&"undefined"!=typeof document.webkitHidden)&&("object"!=typeof this.prerendering&&(this.prerendering=
[]),document.webkitHidden)){this.prerendering.push(a);var d=this;this.registerEvent(document,"webkitvisibilitychange",function(){d.sendPrerendering()});return}this.sendPixel(a,c);"hm"!=c&&"hm.pl"!=c&&(this.forceNewSession=this.cookieOne=!1,this.sentFullPixel=1)}};this.sendPrerendering=function(){if(!document.webkitHidden){for(var a=0;a<this.prerendering.length;a++)this.sendPixel(this.prerendering[a]);this.prerendering=[]}};this.sendPixel=function(a,b){a=this.maxlen(a,this.maxRequestLength);this.isFirefox?
this.sendPixelElement(a,b):this.sendPixelImage(a,b)};this.sendPixelImage=function(a,b){var c="https:"==document.location.protocol?"https:":"http:";this.forceHTTPS&&(c="https:");0!==a.search(/https:|http:/)&&(a=c+a);if("hm"==b||"hm.pl"==b)a+="&hm_ts="+(new Date).getTime();if("function"!==typeof d)var d=function(){return document.createElement("img")};if("undefined"===typeof e)var e=[];c=e.length;e[c]=new d;e[c].onload=function(){return!1};e[c].src=a};this.createPixelElement=function(a){a=a.replace(/'/g,
"%27");var b=document.createElement("div");b.style.width="0px";b.style.height="0px";b.style.backgroundImage="url('"+a+"')";window.setTimeout(function(){b.parentElement.removeChild(b)},5E3);return b};this.sendPixelElement=function(a,b){var c="https:"==document.location.protocol?"https:":"http:";this.forceHTTPS&&(c="https:");0!==a.search(/https:|http:/)&&(a=c+a);if("hm"==b||"hm.pl"==b)a+="&hm_ts="+(new Date).getTime();if("undefined"===typeof this.sendPixelObject||null===this.sendPixelObject)(c=document.getElementById("webtrekk-image"))&&
null!==c?this.sendPixelObject=c:(this.sendPixelObject=document.createElement("div"),this.sendPixelObject.id="webtrekk-image",this.sendPixelObject.style.width="0px",this.sendPixelObject.style.height="0px",this.sendPixelObject.style.overflow="hidden",c=null,"object"===typeof document.body?c=document.body:"object"===typeof document.getElementsByTagName("body")[0]&&(c=document.getElementsByTagName("body")[0]),c&&null!==c?c.appendChild(this.sendPixelObject):(this.sendPixelObject=null,this.sendPixelImage(a,
"wt"+(this.fileSuffix?".pl":""))));null!==this.sendPixelObject&&this.sendPixelObject.appendChild(this.createPixelElement(a))};this.checkCustomParameter=function(a,b){var c="";if("object"==typeof a)for(var d in a){var e=d;!isNaN(parseInt(e))&&(this.wtTypeof(a[e])&&"string"===typeof a[e]&&""!==a[e])&&(this.checkSC("custom")&&(a[e]=this.decrypt(a[e])),-1==this.paramFirst.indexOf(b+e+";")&&(c+="&"+b+e+"="+this.wtEscape(a[e])))}return c};this.send=function(a,b,c){if("link"==b||"click"==b)this.config.linkId=
a;this.config.contentId=this.config.contentId?this.config.contentId:this.contentId;var d=!b||"link"!=b&&"click"!=b?a?a:this.config.contentId:this.config.contentId;d||(d="no_content");a="";var d=this.wtEscape(d)+",1,",d=d+this.baseparams(),e=navigator.plugins.length,f="";if(0<e){for(var k=[],m=0;m<e;m++)navigator.plugins&&"Microsoft Internet Explorer"!=navigator.appName&&(f="Shockwave Flash"==navigator.plugins[m].name?navigator.plugins[m].description:navigator.plugins[m].name,(f=this.plugInArray(this.plugins,
f))&&!this.plugInArray(k,f)&&k.push(f));f=k.join("|")}if(this.paramFirst)for(e=this.paramFirst.split(";"),m=0;m<e.length;m++){var p=this.getMappingParam(e[m]),k=p.mapping,p=p.index;k&&(p?this.config[k]&&("undefined"!=typeof this.config[k][p]&&this.config[k][p])&&(a+="&"+e[m]+"="+this.wtEscape(this.config[k][p])):this.config[k]&&(a+="&"+e[m]+"="+this.wtEscape(this.config[k])))}if("string"===typeof c&&""!==c)for(var g=c.split(/;/),m=0;m<g.length;m++)this.wtTypeof(g[m])&&(c=g[m].split(/=/),this.checkSC("custom")&&
(c[1]=this.decrypt(c[1])),c[1]=this.wtEscape(c[1]),a+="&"+c[0]+"="+c[1]);else{this.wtEpEncoded=!1;c=this.checkCustomParameter(this.config.customParameter,"cp");e=this.checkCustomParameter(this.config.customSessionParameter,"cs");k=this.checkCustomParameter(this.config.customTimeParameter,"ce");this.config.couponValue&&(this.config.customEcommerceParameter||(this.config.customEcommerceParameter={}),this.config.customEcommerceParameter[563]=this.config.couponValue);p=this.checkCustomParameter(this.config.customEcommerceParameter,
"cb");this.config.orderValue&&-1==this.paramFirst.indexOf("ov;")&&(a=this.checkSC("order")?a+("&ov="+this.wtEscape(this.decrypt(this.config.orderValue))):a+("&ov="+this.wtEscape(this.config.orderValue)));this.config.currency&&-1==this.paramFirst.indexOf("cr;")&&(a=this.checkSC("order")?a+("&cr="+this.wtEscape(this.decrypt(this.config.currency))):a+("&cr="+this.wtEscape(this.config.currency)));this.config.orderId&&-1==this.paramFirst.indexOf("oi;")&&(a+="&oi="+this.wtEscape(this.config.orderId));this.config.product&&
(-1==this.paramFirst.indexOf("ba;")&&(a+="&ba="+this.wtEscape(this.config.product)),this.config.productCost&&-1==this.paramFirst.indexOf("co;")&&(a+="&co="+this.wtEscape(this.config.productCost)),this.config.productQuantity&&-1==this.paramFirst.indexOf("qn;")&&(a+="&qn="+this.wtEscape(this.config.productQuantity)),a+=this.checkCustomParameter(this.config.productCategory,"ca"),this.config.productStatus&&-1==this.paramFirst.indexOf("st;")&&(a+="&st="+this.wtEscape(this.config.productStatus)));m=s("wt_cd",
"(.*)");this.config.customerId||(this.config.customerId=m);this.config.customerId&&-1==this.paramFirst.indexOf("cd;")&&(a+="&cd="+this.wtEscape(this.config.customerId));a+=this.checkCustomParameter(this.config.crmCategory,"vc");!this.config.birthday&&(this.config.birthdayJ&&this.config.birthdayM&&this.config.birthdayD)&&(this.config.birthday=this.config.birthdayJ+this.config.birthdayM+this.config.birthdayD);this.config.telefon&&(this.config.telefon=this.config.telefon.replace(/\W|_/g,""));this.config.urmCategory||
(this.config.urmCategory={});this.config.urmCategory[700]=this.config.email;this.config.urmCategory[701]=this.config.emailRID;this.config.urmCategory[702]=this.config.emailOptin;this.config.urmCategory[703]=this.config.firstName;this.config.urmCategory[704]=this.config.lastName;this.config.urmCategory[705]=this.config.telefon;this.config.urmCategory[706]=this.config.gender;this.config.urmCategory[707]=this.config.birthday;this.config.urmCategory[708]=this.config.country;this.config.urmCategory[709]=
this.config.city;this.config.urmCategory[710]=this.config.postalCode;this.config.urmCategory[711]=this.config.street;this.config.urmCategory[712]=this.config.streetNumber;this.config.urmCategory[713]=this.config.validation;a+=this.checkCustomParameter(this.config.urmCategory,"uc");this.browserLang&&(a+="&la="+this.wtEscape(this.browserLang));a+=this.checkCustomParameter(this.config.contentGroup,"cg");var h="";this.config.campaignId&&(this.config.campaignId in this.sentCampaignIds?this.config.campaignId=
"ignore%3Dignore":this.sentCampaignIds[this.config.campaignId]=!0,-1==this.paramFirst.indexOf("mc;")&&(a+="&mc="+this.wtEscape(this.config.campaignId)),-1==this.paramFirst.indexOf("mca;")&&(a+="&mca="+(this.config.campaignAction?this.config.campaignAction.substring(0,1):"c")));h+=this.checkCustomParameter(this.config.customCampaignParameter,"cc");this.trackingSwitchMediaCode&&(a+="&tmc="+this.wtEscape(this.trackingSwitchMediaCode));this.trackingSwitchMediaCodeValue&&(a+="&tmcv="+this.wtEscape(this.trackingSwitchMediaCodeValue));
this.trackingSwitchMediaCodeTimestamp&&(a+="&tmct="+this.wtEscape(this.trackingSwitchMediaCodeTimestamp));"object"==typeof wt_ts&&"undefined"!=typeof wt_ts.trackingSwitchMediaCode&&(a+="&tmc="+this.wtEscape(wt_ts.trackingSwitchMediaCode));"object"==typeof wt_ts&&"undefined"!=typeof wt_ts.trackingSwitchMediaCodeValue&&(a+="&tmcv="+this.wtEscape(wt_ts.trackingSwitchMediaCodeValue));"object"==typeof wt_ts&&"undefined"!=typeof wt_ts.trackingSwitchMediaCodeTimestamp&&(a+="&tmct="+this.wtEscape(wt_ts.trackingSwitchMediaCodeTimestamp));
var l="";"undefined"!=typeof wt_vt&&(g=wt_vt);this.wtTypeof(g)||(g=this.urlParam(location.href,"wt_vt",!1));if(g)for(var n=this.getCookie("wt_vt").split(";"),m=0;m<n.length;m++)-1!=n[m].indexOf(g+"v")&&(l="&wt_vt="+n[m].split("t")[0].split("v")[1]);l&&(a+=l);this.config.internalSearch&&-1==this.paramFirst.indexOf("is;")&&(a+="&is="+this.wtEscape(this.maxlen(this.wtUnescape(this.config.internalSearch),255)));c&&(a+=c);h&&(a+=h);k&&(a+=k);p&&(a+=p);e&&(a+=e);this.wtTypeof(this.config.customSid)&&""!=
this.config.customSid&&(a+="&csid="+this.config.customSid);this.wtTypeof(this.config.customEid)&&""!=this.config.customEid&&(a+="&ceid="+this.config.customEid);this.wtTypeof(this.config.xwtip)&&""!=this.config.xwtip&&(a+="&X-WT-IP="+this.wtEscape(this.config.xwtip));this.wtTypeof(this.config.xwtua)&&""!=this.config.xwtua&&(a+="&X-WT-UA="+this.wtEscape(this.config.xwtua));this.wtTypeof(this.config.xwtrq)&&""!=this.config.xwtrq&&(a+="&X-WT-RQ="+this.wtEscape(this.config.xwtrq));this.wtTypeof(this.xwteid)&&
""!=this.xwteid&&(a+="&X-WT-EID="+this.wtEscape(this.xwteid),this.xwteid=!1);this.wtTypeof(this.config.xwtstt)&&""!=this.config.xwtstt&&(a+="&X-WT-STT="+this.wtEscape(this.config.xwtstt));!this.sentFullPixel&&this.firstVisitContact&&(a+="&fvc="+this.firstVisitContact);!this.sentFullPixel&&this.lastVisitContact&&(a+="&lvc="+this.lastVisitContact)}a+="&pu="+this.wtEscape(document.location.href.split("#")[0]);this.config.linkId&&this.config.customClickParameter&&(a+=this.checkCustomParameter(this.config.customClickParameter[this.config.linkId]?
this.config.customClickParameter[this.config.linkId]:this.config.customClickParameter,"ck"),this.ccParams=!1);this.config.xlc&&this.config.xlct&&(""!=this.config.xlc||""!=this.config.xlct)&&(g="",g=this.config.xlcv?this.getExtLifeCycles(this.config.xlc,this.config.xlct,this.config.xlcv):this.getExtLifeCycles(this.config.xlc,this.config.xlct),a+=g);this.config.contentId||this.config.linkId||(this.config.contentId=this.contentId,this.config.linkId="wt_ignore");this.config.linkId?(this.wtEp=a,this.wtEpEncoded=
!0,u("noForm",b)):("1"==this.cookie?this.cookieOne&&(a+="&np="+this.wtEscape(f)):a+="&np="+this.wtEscape(f),this.quicksend(d,a))};this.sendinfo_media=function(a,b,c,d,e,f,k,m){this.wtTypeof(wt_sendinfo_media)&&wt_sendinfo_media(a,b,c,d,e,f,k,m,this.unloadInstance)};this.getExtLifeCycles=function(a,b,c){for(var d="",e={},f=a.split("|"),k=0;k<f.length;k++){for(var m=f[k].split(";"),p=0;p<m.length;p++)d=0==p?d+this.wtEscape(m[p]):d+m[p],d+=";";d=d.substr(0,d.length-1);d+="|"}d=d.substr(0,d.length-1);
e.xlcl=this.wtEscape(a.split("|").length);e.xlct=this.wtEscape(b);"undefined"!=typeof c&&(e.xlcv=this.wtEscape(c));e.xlc=this.wtEscape(d);a="";for(var g in e)a+="&"+k+"="+e[g];return a};this.isOwnDomain=function(a){var b="";if(this.domain)if(0==this.domain.toUpperCase().indexOf("REGEXP:")){if(b=RegExp(this.domain.substring(7),"i"),b.test(this.getDomain(a)))return!0}else{b=this.domain.split(";");a=this.getDomain(a);for(var c=0;c<b.length;c++)if(a==b[c])return!0}return!1};this.getDomain=function(a){if("string"!=
typeof a)return"";a=this.wtUnescape(a);a=a.split("://")[1];var b=RegExp("^(?:[^/]+://)?([^/:]+)","g");return"undefined"!=typeof a&&(a=a.match(b),a[0])?a[0].toLowerCase():""};this.baseparams=function(){var a=screen.width+"x"+screen.height+","+("Netscape"!=navigator.appName?screen.colorDepth:screen.pixelDepth)+",",a=a+(!0==navigator.cookieEnabled?"1,":!1==navigator.cookieEnabled?"0,":-1!=document.cookie.indexOf("=")?"1,":"0,"),a=a+((new Date).getTime()+","),b="0",c=s("wt_ref","(.*)");f.framesetReferrer?
b=f.wtEscape(f.framesetReferrer):""!=f.getCookie("wt_ref")?(b=f.wtEscape(f.getCookie("wt_ref")),f.setCookie("wt_ref","",-3600)):c?b=f.wtEscape(c):0<document.referrer.length&&(b=f.wtEscape(document.referrer));f.sentFullPixel?b="2":f.isOwnDomain(b)&&(b="1");c=0;if(!document.layers&&document.getElementById)try{c=top.window.innerHeight}catch(d){}else c=top.window.innerHeight;if(!c)try{c=top.document.documentElement.clientHeight}catch(e){}if(!c)try{c=top.document.body.clientHeight}catch(t){}"undefined"==
typeof c&&(c=-1);var k;k=0;if(!document.layers&&document.getElementById)try{k=top.window.innerWidth}catch(m){}else k=top.window.innerWidth;if(!k)try{k=top.document.documentElement.clientWidth}catch(g){}if(!k)try{k=top.document.body.clientWidth}catch(h){}"undefined"==typeof k&&(k=-1);c&&c>screen.height&&(c=screen.height);k&&k>screen.width&&(k=screen.width);a=a+b+(","+k+"x"+c);return a+=","+(navigator.javaEnabled()?"1":"0")};this.getMediaCode=function(a){if(!a){if(!this.mediaCode)return;a=this.mediaCode}var b=
[];a=a.split(";");var c=0,d=[];this.mediaCodeValue&&(b=this.mediaCodeValue.split(";"));for(var e=0;e<a.length;e++){var f=this.allUrlParam(a[e],"");if(this.mediaCodeCookie){var k=!1,m=(this.trackId+"").split(",")[0],g=this.getCookie("wt_mcc_"+m),h;h=a[e]+"_"+f;for(var l=0,n=h.length,x=void 0,q=0;q<n;q++)x=h.charCodeAt(q),l=(l<<5)-l+x,l&=l;h=l>1E15-1?"0":l+"";-1===g.indexOf(","+h+",")&&f?(d.push(a[e]+this.wtEscape("="+f)),k=!0):c++;k&&(f="","eid"==this.mediaCodeCookie&&(f=2592E3),this.setCookie("wt_mcc_"+
m,g+","+h+",",f))}else"undefined"!==typeof b&&"undefined"!==typeof b[e]&&""!==b[e]?d.push(a[e]+this.wtEscape("="+b[e])):""!==f&&d.push(a[e]+this.wtEscape("="+f))}a.length===c&&0!==a.length&&d.push("ignore%3Dignore");this.config.campaignId=d.join(";")};this.searchContentIds=function(){var a=0,b=0;this.contentIds=this.wtEscape(this.contentId.split(";")[0]);do{a++;var c=this.urlParam(document.location.href,"wt_contentId"+a,!1);c&&(this.contentIds+="&wt_contentId"+a+"="+this.wtEscape(c),b++)}while(b>=
a)};var v=function(a){var b=f.reporturl;null!==a.match(/^(http[s]?:\/\/)?(report\d+|analytics)\.webtrekk\.(com|de).*$/)&&(b=a.split("/"),b.pop(),b=b.join("/"));return b};this.startHeatmapOrOverlay=function(a,b){this.searchContentIds();this.urlParam(this.wtHref(),"wt_reporter",!1)?this.reporturl=v(this.urlParam(this.wtHref(),"wt_reporter",!1)):this.getCookie("wt_overlayFrame")&&(this.reporturl=v(this.getCookie("wt_overlayFrame")));-1===this.reporturl.search(/http|https/)&&(this.reporturl=document.location.protocol+
"//"+this.reporturl);this.contentIds&&this.include(this.reporturl+"/"+a+".pl?wt_contentId="+this.contentIds+"&x="+(new Date).getTime())&&("heatmap"==a&&(-1!=navigator.userAgent.indexOf("MSIE 6")&&-1!=navigator.userAgent.indexOf("Windows NT 5.0"))&&alert("Click OK to start heatmap."),"complete"!=document.readyState?this.registerEvent(window,"load",b):b())};this.heatmapOn=0<=this.wtHref().indexOf("wt_heatmap=1");this.overlayOn=0<=this.wtHref().indexOf("wt_overlay=1")||0<=document.cookie.indexOf("wt_overlay=1");
0<=this.wtHref().indexOf("wt_overlay=0")&&(this.overlayOn=!1,this.setCookie("wt_overlay","",-1));this.heatmapTrackInit=function(){for(var a=!1,b=0;b<webtrekkHeatmapObjects.length;b++)this==webtrekkHeatmapObjects[b]&&(a=!0);!a&&(this.heatmap&&"1"==this.heatmap)&&(webtrekkHeatmapObjects.push(this),this.registerEvent(document,"mousedown",q),this.registerEvent(document,"touchstart",q))};this.heatmapTrackInit();this.heatmapOn&&!this.disableOverlayView&&this.startHeatmapOrOverlay("heatmap",r);this.overlayOn&&
!this.disableOverlayView&&(this.setCookie("wt_overlay","1"),this.startHeatmapOrOverlay("overlay",l));this.setPixelSampling=function(a){a||(a=this.pixelSampling);for(var b=this.trackId.split(",")[0],c=this.getCookie("wt3_sample").split(";"),d=!1,e=0;e<c.length;e++)-1!=this.indexOf(c[e],b+"|"+a)?d=!0:-1!=this.indexOf(c[e],b+"|")&&(c[e]="");e=6;this.cookieEidTimeout&&(e=this.cookieEidTimeout);d?(c=c.join(";"),this.setCookie("wt3_sample",c,43200*e)):(Math&&Math.random&&0==parseInt(Math.random()*a)?c.push(b+
"|"+a+"|1"):c.push(b+"|"+a+"|0"),this.setCookie("wt3_sample",c.join(";"),43200*e),c=this.getCookie("wt3_sample"));-1==this.indexOf(c,b+"|"+a+"|1")&&(this.deactivatePixel=!0)};this.pixelSampling&&!this.optOut&&this.setPixelSampling();this.firstParty=function(){for(var a=this.getCookie("wt3_sid").split(";"),b=this.getCookie("wt3_eid").split(";"),c=0===this.cookieEidTimeout?this.cookieEidTimeout:this.cookieEidTimeout?this.cookieEidTimeout:6,d=this.trackId.split(",")[0],e=!1,f=!1,k=!1,m=this.generateEid(),
g=0;g<a.length;g++)if(-1!=a[g].indexOf(d)){e=g;break}for(g=0;g<b.length;g++)if(-1!=b[g].indexOf(d+"|")){f=g;break}this.eid=s("wt_eid","^[0-9]{19}$");e||(a.push(d),f&&!this.eid&&(this.forceNewSession=!0));f?(this.eid&&(b[f]=d+"|"+this.eid,this.updateCookie=!0),-1==b[f].indexOf("#")&&(b[f]+="#"+m),k=b[f].replace(d+"|","").split("#")[1],this.eid=b[f].replace(d+"|","").split("#")[0],b[f]=b[f].replace(/#[0-9]{19}/g,"#"+m),this.updateCookie&&(c?this.setCookie("wt3_eid",b.join(";"),43200*c):this.setCookie("wt3_eid",
b.join(";")))):(this.eid||(this.eid=this.generateEid(),this.cookieOne=!0),b.push(d+"|"+this.eid+"#"+m),c?this.setCookie("wt3_eid",b.join(";"),43200*c):this.setCookie("wt3_eid",b.join(";")));this.setCookie("wt3_sid",a.join(";"));e||(this.firstVisitContact=n(this.eid),this.updateCookie&&(this.lastVisitContact=n(k?k:m)))};g=!1;for(h=0;h<webtrekkUnloadObjects.length;h++)this==webtrekkUnloadObjects[h]&&(g=!0);g||webtrekkUnloadObjects.push(this);var y=function(){var a=[],b;for(b in f.safetagParameter){var c=
b;if("executePluginFunction"==c)f.executePluginFunction+=f.safetagParameter[c],f.safetagParameter[c]="";else if("object"===typeof f.safetagParameter[c]){"object"!==typeof f[c]&&(f[c]={});for(var d in f.safetagParameter[c]){var e=d;f[c][e]=f.safetagParameter[c][e]}}else f[c]=f.safetagParameter[c],"form"!=c&&"linkTrack"!=c&&"heatmap"!=c||a.push(c)}for(b=0;b<a.length;b++)switch(a[b]){case "form":f.formTrackInstall();break;case "linkTrack":f.linkTrackInit();break;case "heatmap":f.heatmapTrackInit()}f.safetagParameter.pixel=
f},z=function(){f.safetagTimeoutStarted=!0;var a=(new Date).getTime()-f.startSafetagTimeoutDate;if(f.safetagInProgress&&a<f.safetag.timeout)window.setTimeout(function(){z()},5);else{f.safetagTimeoutStarted=!1;f.safetagInProgress=!1;a>f.safetag.timeout&&(f.xwtstt=f.safetag.timeout+"");for(a=0;a<f.saveSendinfoArguments.length;a++){var b=f.saveSendinfoArguments[a];f.sendinfo(b[0],b[1],b[2],b[3])}f.saveSendinfoArguments=[]}};this.sendinfo=function(a,b,c,d){c=c?c:"page";-1==location.href.indexOf("fb_xd_fragment")&&
(this.safetag&&y(),this.config="object"==typeof a?a:this.getConfig(),this.safetagInProgress?(a?f.saveSendinfoArguments.push([this.config,b,c,d]):f.saveSendinfoArguments.push([!1,b,c,d]),this.safetagTimeoutStarted||(this.startSafetagTimeoutDate=(new Date).getTime(),window.setTimeout(function(){z()},5))):(this.config.linkId&&(c="click",b||(b=this.config.linkId)),!1!=this.beforeSendinfoPixel?this.beforeSendinfoPixel():this.executePlugin(this.getPluginConfig(c?c:"page","before")),this.safetag&&y(),this.optOut||
this.deactivatePixel||("1"==this.cookie?this.firstParty():this.xwteid=s("wt_eid","^[0-9]{19}$")),this.config.campaignId||(!this.mediaCode||"page"!=c||this.config.linkId)||this.getMediaCode(),(""!=this.contentId||""!=b||document.layers)&&this.send(b,c,d),!1!=this.afterSendinfoPixel?this.afterSendinfoPixel():this.executePlugin(this.getPluginConfig(c?c:"page","after"))))};(function(a){var b=function(b,d){var e=this;e.item=d;e.href="undefined"!==typeof d.href?d.href:a.getAttribute(d,"href")?a.getAttribute(d,
"href"):"";e.linkIdByNameOrId=a.getAttribute(d,"name")?a.getAttribute(d,"name"):a.getAttribute(d,"id")?a.getAttribute(d,"id"):"";e.linkId="";e.action="link";e.isDownloadFile=!1;e.linktrackOut=!1;e.isInternalLink=function(){var b;if(a.linkTrackDownloads){b=e.href.split(".");b=b.pop();for(var c=a.linkTrackDownloads.split(";"),f=0;f<c.length;f++)if(c[f]==b){e.isDownloadFile=!0;break}}e.linktrackOut=a.domain&&!a.isOwnDomain(e.href);if(e.isDownloadFile||"_blank"===d.target)e.action="click";b=e.href;var c=
b.toLowerCase(),f=b.split("#")[0],g=document.location,h=e.item,l=a.getAttribute,n=l(h,"onclick"),q=l(h,"onmousedown"),h=l(h,"ontouchstart");b=a.noDelayLinkTrackAttribute?!!a.getAttribute(d,a.noDelayLinkTrackAttribute):!(b&&!(0===c.indexOf("javascript:")||0===c.indexOf("#")||"click"===e.action||f==g.href.split("#")[0]&&-1!==b.indexOf("#")||f==g.pathname.split("#")[0]&&-1!==b.indexOf("#")||n&&-1!==n.search(/return false[;]?$/)||q&&-1!==q.search(/return false[;]?$/)||h&&-1!==h.search(/return false[;]?$/)));
return b};e.getCCParams=function(){var b="";if(a.config.customClickParameter){var c="undefined"!==typeof a.config.customClickParameter[e.linkIdByNameOrId]?a.config.customClickParameter[e.linkIdByNameOrId]:!1;c||(c=a.config.customClickParameter);var d,f;for(f in c)d=f,!isNaN(parseInt(d))&&("string"===typeof c[d]&&c[d])&&(a.checkSC("custom")&&(c[d]=a.decrypt(c[d])),b+="&ck"+d+"="+a.wtEscape(c[d]))}return b};e.setJSONParams=function(){e.linkId||(e.linkId=a.getAttribute(d,a.linkTrackAttribute));null!==
a.getJSON(e.linkId)&&(a.parseJSON(a.getJSON(e.linkId)),e.linkId=a.config.linkId)};e.getLinkId=function(){e.linkId=a.getAttribute(d,a.linkTrackAttribute);e.setJSONParams();if("link"==a.linkTrack){var b=e.href.indexOf("//");e.href=0<=b?e.href.substr(b+2):e.href;a.linkTrackPattern&&(a.linkTrackReplace||(a.linkTrackReplace=""),e.href=e.href.replace(a.linkTrackPattern,a.linkTrackReplace));e.linkId=(e.linkId?e.linkId+".":"")+e.href.split("?")[0].split("#")[0].replace(/\//g,".");b=[];a.linkTrackParams&&
(b=a.linkTrackParams.replace(/;/g,",").split(","));for(var c=0;c<b.length;c++){var f=a.urlParam(e.href,b[c],"");f&&(e.linkId+="."+b[c]+"."+f)}}return e.linkId}};a.linkTrackObject=new function(){var c=this;c.triggerObjectName="__"+(new Date).getTime()+"_"+parseInt(1E3*Math.random());var d=function(b,e){var d=e[c.triggerObjectName];a.config=a.getConfig(!0);a.config.customClickParameter=a.customClickParameter;a.ccParams=d.getCCParams();var f=a.config.linkId=d.getLinkId();a.linktrackOut=d.linktrackOut;
a.sendinfo(a.config,f,d.action)},e=function(b){a.registerEvent(b,"click",function(e){if(e.which&&1==e.which||e.button&&1==e.button)a.delayLinkTrack&&("function"===typeof e.preventDefault&&!b[c.triggerObjectName].isInternalLink())&&(e.preventDefault(),window.setTimeout(function(){document.location.href=b.href},a.delayLinkTrackTime)),d(e,b)})};c.linkTrackInit=function(){if(a.linkTrack&&("link"==a.linkTrack||"standard"==a.linkTrack)){for(var d=!1,f=0;f<webtrekkLinktrackObjects.length;f++)a==webtrekkLinktrackObjects[f]&&
(d=!0);d||webtrekkLinktrackObjects.push(a);d=0;for(f=document.links.length;d<f;d++){var g=document.links[d],h=a.getAttribute(g,a.linkTrackAttribute),l=a.getAttribute(g,"href");(a.linkTrackIgnorePattern&&l&&-1==l.search(a.linkTrackIgnorePattern)||!a.linkTrackIgnorePattern)&&("undefined"===typeof g[c.triggerObjectName]&&(h||"link"==a.linkTrack))&&(g[c.triggerObjectName]=new b(c,g),e(g))}}};c.linkTrackInit()};a.linkTrackInstall=a.linkTrackObject.linkTrackInit;a.linkTrackInit=a.linkTrackObject.linkTrackInit})(f);
(function(a,b){var c=function(a,b){var c=null,f=b.type,g=a.getFormFieldName(b),h=a.getFormFieldValue(b);this.close=function(){null!==c&&(window.clearInterval(c),c=null,h=a.getFormFieldValue(b),a.formFieldData[g]=[f,h],a.formFieldDataPathAnalysis.push([g,f,h]))};this.start=function(){null===c&&(c=window.setInterval(function(){"undefined"!==typeof b&&(b&&null!==b)&&(h=a.getFormFieldValue(b),a.formFieldData[g]=[f,h])},50),delete a.formFieldDataUnused[g])}};a.formTrackObject=new function(b){var e=this,
f=a.wtTypeof(window.onbeforeunload)?"beforeunload":"unload";e.formObject=!1;e.formFocus=!1;e.formName=!1;e.form=a.form;e.formFieldData={};e.formFieldDataUnused={};e.formFieldDataPathAnalysis=[];e.triggerObjectName="__"+(new Date).getTime()+"_"+parseInt(1E3*Math.random());var k=function(a){return"hidden"!=a&&"button"!=a&&"image"!=a&&"reset"!=a&&"submit"!=a&&"fieldset"!=a},g=function(a){return"select-multiple"!=a&&"select-one"!=a&&"checkbox"!=a&&"radio"!=a},h=function(){l();if(e.formObject){var g=a.getAttribute(e.formObject,
a.formAttribute);e.formName=g?g:a.contentId.split(";")[0];for(var g=0,h=e.formObject.elements,m=h.length;g<m;g++){var p=h[g],w=e.getFormFieldName(p);k(p.type)&&(w&&null!==w)&&(e.formFieldData[w]=[p.type,e.getFormFieldValue(p)],e.formFieldDataUnused[w]=[p.type,e.getFormFieldValue(p)],function(b){a.registerEvent(b,"focus",function(){k(b.type)&&e.formObject&&(e.formFocus=b,e.formFocus[e.triggerObjectName]=new c(e,e.formFocus),e.formFocus[e.triggerObjectName].start())});a.registerEvent(b,"blur",function(){k(b.type)&&
e.formObject&&e.formFocus&&e.formFocus&&"undefined"!==typeof e.formFocus[e.triggerObjectName]&&e.formFocus[e.triggerObjectName].close()})}(p))}a.registerEvent(e.formObject,"submit",n);a.registerEvent(window,f,b)}},l=function(){if(e.form&&!e.formObject)for(var b=document.forms,c=0,d=b.length;c<d;c++){var f=b[c];if(a.wtTypeof(f.elements.wt_form)){e.formObject=f;break}}},n=function(b){!e.form||b.target!==e.formObject&&b.srcElement!==e.formObject||(a.formSubmit=!0)},q=function(b){var c=[];a.formFullContent&&
(c=a.formFullContent.split(";"));if(a.formAnonymous||g(b.type)){for(var d=0;d<c.length;d++)if(c[d]==e.getFormFieldName(b))return!1;return!0}return!1},r=function(b,c){c||(c=b);var e=a.getAttribute(c,a.formValueAttribute).replace(/[\.|;|\|]/g,"_");return g(b.type)?a.maxlen(a.wtUnescape(c.value),110):q(b)?"anon":a.maxlen(a.wtUnescape(e),110)},s=function(a,b,c,d){var f=a.replace(/[\.|;|\|]/g,"_")+".",f=f+(b+"|")+(c+"|");return f=d?f+"0":f+(e.formFocus&&e.getFormFieldName(e.formFocus)===a?"1":"0")},v=
function(a,b){for(var c=[],e=0,d=b.length;e<d;e++)if("undefined"!==typeof a[b[e]])if("select-multiple"==a[b[e]][0])for(var f=a[b[e]][1].split("|"),g=0,k=f.length;g<k;g++)c.push(s(b[e],a[b[e]][0],f[g]));else c.push(s(b[e],a[b[e]][0],a[b[e]][1]));return c.join(";")},u=function(){if(!e.formObject)return"";var b=[],c;c=[];if(a.wtTypeof(e.formObject.elements.wt_fields)){var d=e.formObject.elements.wt_fields.value;d&&(c=d.split(";"))}if(0>=c.length)for(var f in e.formFieldData)d=f,"string"===typeof d&&
d&&c.push(d);f=!1;if(a.formPathAnalysis){(d=v(e.formFieldDataUnused,c))&&b.push(d);for(var d=0,g=e.formFieldDataPathAnalysis,k=g.length;d<k;d++){var h;a:{h=0;for(var m=c.length;h<m;h++)if(g[d][0]===c[h]){h=!0;break a}h=!1}h&&(f=!0,b.push(s(g[d][0],g[d][1],g[d][2],!0)))}f&&(c=b[b.length-1],c=c.substr(0,c.length-1),b[b.length-1]=c+"1")}else return v(e.formFieldData,c);return b.join(";")};e.getFormFieldName=function(b){var c=b.name;a.formFieldAttribute&&(c="",(b=a.getAttribute(b,a.formFieldAttribute))||
null!==b)&&(c=b);return c};e.getFormFieldValue=function(b){var c=b.type,d="";if("select-multiple"==c){for(var d=[],f=0,g=b.options,k=g.length;f<k;f++)g[f].selected&&d.push(r(b,g[f]));0>=d.length&&d.push("empty");d=d.join("|")}else"select-one"==c?(d="",-1!==b.selectedIndex&&((d=r(b,b.options[b.selectedIndex]))&&null!==d||(d="empty"))):"checkbox"==c||"radio"==c?(d="",b.checked?(d=r(b))||(d="checked"):d="empty"):"hidden"!=c&&("button"!=c&&"image"!=c&&"reset"!=c&&"submit"!=c)&&(f=(d=r(b))?"filled_out":
"empty",q(b)||(f=d),g=e.getFormFieldName(b),"undefined"!==typeof a.formFieldDefaultValue[g]&&a.formFieldDefaultValue[g]==d&&"empty"!==f&&(f="empty"),f&&null!==f||(f="empty"),d=f);return q(b)&&"select-multiple"!==c&&"empty"!==d&&"filled_out"!==d?"anon":d};e.formTrackInstall=function(a){e.formObject=a?a:document.forms[0]?document.forms[0]:!1;e.formObject&&(e.form="1",h())};e.getFormTrackingData=function(){var b="";if(e.formObject){var c=u();c&&(b+="&fn="+a.wtEscape(e.formName)+"|"+(a.formSubmit?"1":
"0"),b+="&ft="+a.wtEscape(c));a.formSubmit=!1;e.formName=!1;e.formObject=!1;e.formFocus=!1;e.formFieldData={};e.formFieldDataUnused={};e.formFieldDataPathAnalysis=[]}return b};e.sendFormRequest=function(){!1!==a.beforeUnloadPixel?a.beforeUnloadPixel():a.executePlugin(a.getPluginConfig("form","before"));var b=e.getFormTrackingData();b&&a.quicksend(a.wtEscape(a.contentId.split(";")[0])+",1,"+a.baseparams(),b);!1!==a.afterUnloadPixel?a.afterUnloadPixel():a.executePlugin(a.getPluginConfig("form","after"))};
e.form&&"1"==e.form&&h()}(b);a.formTrackInstall=a.formTrackObject.formTrackInstall;a.formTrackInit=a.formTrackObject.formTrackInstall;a.sendFormRequest=a.formTrackObject.sendFormRequest;a.checkFormTracking=a.formTrackObject.getFormTrackingData})(f,function(){u("form")});(function(a){a.cookieManager=function(a,c,d){this.name=a;this.keySeperator="~";this.fieldSeparator="#";this.durationSeperator="|";this.found=!1;this.expires=c?c:!1;this.accessPath=d?d:"/";this.rawValue="";this.fields=[];this.fieldsDuration=
[];var e=function(a){try{return decodeURIComponent(a)}catch(b){return unescape(a)}},f=function(a){try{return encodeURIComponent(a)}catch(b){return escape(a)}};this.read=function(){this.rawValue=null;this.found=!1;for(var a=document.cookie.split(";"),b=0;b<a.length;b++){var c=a[b].substr(0,a[b].indexOf("=")),d=a[b].substr(a[b].indexOf("=")+1),c=c.replace(/^\s+|\s+$/g,"");c==this.name&&(this.rawValue=d,this.found=!0)}if(null!==this.rawValue){a=b=0;do a=this.rawValue.indexOf(this.fieldSeparator,b),-1!=
a&&(b=this.rawValue.substring(b,a).split(this.durationSeperator),c=b[0].split(this.keySeperator),this.fields[c[0]]=e(c[1]),this.fieldsDuration[c[0]]=parseInt(e(b[1])),b=a+1);while(-1!==a&&a!==this.rawValue.length-1)}return this.found};this.getSize=function(){var a=(new Date).getTime(),b="",c;for(c in this.fields){var d=c+"";this.fieldsDuration[d]>=a&&(b+=f(d)+this.keySeperator+f(this.fields[d])+this.durationSeperator+f(this.fieldsDuration[d])+this.fieldSeparator)}return b.length};this.write=function(){var a=
(new Date).getTime(),b=!0,c=this.name+"=",d;for(d in this.fields){var e=d+"";this.fieldsDuration[e]>=a&&(c+=f(e)+this.keySeperator+f(this.fields[e])+this.durationSeperator+f(this.fieldsDuration[e])+this.fieldSeparator,b=!1)}a=b?-99999:this.expires;""!==a&&"number"===typeof a&&(b=new Date,b.setTime((new Date).getTime()+864E5*a),c+="; expires="+b.toGMTString());null!==this.accessPath&&(c+="; PATH="+this.accessPath);a=location.hostname;-1==a.search(/^[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}$/)&&
(a=location.hostname.split("."),a=a[a.length-2]+"."+a[a.length-1]);document.cookie=c+("; DOMAIN="+a)};this.remove=function(){this.expires=-10;this.write();return this.read()};this.get=function(a){var b=(new Date).getTime();return this.fieldsDuration[a]>=b?this.fields[a]:""};this.set=function(a,b,c,d,e){c||(c=31536E3);d||(d="last");var f=(new Date).getTime();if("first"==d&&""!==this.fields[a]&&null!==this.fields[a]&&this.fieldsDuration[a]>=f)return this.fields[a];this.fields[a]=b;this.fieldsDuration[a]=
f+1E3*parseInt(c);e||this.write();return b};this.prepare=function(a,b,c,d){return this.set(a,b,c,d,!0)};this.read()}})(f)};
if("object"===typeof webtrekkConfig&&"object"===typeof webtrekkConfig.safetag&&-1===document.cookie.indexOf("wt_r=1")){var wts=wts||[],wt_safetagConfig={async:"undefined"!==typeof webtrekkConfig.safetag.async?webtrekkConfig.safetag.async:!0,timeout:"undefined"!==typeof webtrekkConfig.safetag.timeout?webtrekkConfig.safetag.timeout:2E3,safetagDomain:"undefined"!==typeof webtrekkConfig.safetag.safetagDomain?webtrekkConfig.safetag.safetagDomain:!1,safetagId:"undefined"!==typeof webtrekkConfig.safetag.safetagId?
webtrekkConfig.safetag.safetagId:!1,customDomain:"undefined"!==typeof webtrekkConfig.safetag.customDomain?webtrekkConfig.safetag.customDomain:!1,customPath:"undefined"!==typeof webtrekkConfig.safetag.customPath?webtrekkConfig.safetag.customPath:!1,option:"undefined"!==typeof webtrekkConfig.safetag.option?webtrekkConfig.safetag.option:{}};(function(g,u){var q=function(g){try{return encodeURIComponent(g)}catch(f){return escape(g)}},r=document.location.protocol;if("http:"==r||"https:"==r){var l="";g.customDomain&&
g.customPath?l=r+"//"+g.customDomain+"/"+g.customPath:g.safetagDomain&&g.safetagId&&(l=r+"//"+g.safetagDomain+"/resp/api/get/"+g.safetagId+"?url="+q(document.location.href));if(l){for(var s in g.option)l+="&"+s+"="+q(g.option[s]);webtrekkV3.prototype.safetag=g;webtrekkV3.prototype.safetagInProgress=!0;webtrekkV3.prototype.safetagParameter={};webtrekkV3.prototype.update=function(){};window.wts=u;window.safetagLoaderHandler=function(g,f){if(g&&f)if("onerror"==f)webtrekkV3.prototype.safetagInProgress=
!1;else if("onload"==f){if("undefined"!==typeof wt_r&&!isNaN(wt_r)){var l=new Date;document.cookie="wt_r=1;path=/;expires="+l.toUTCString(l.setTime(l.getTime()+1E3*parseInt(wt_r)))}webtrekkV3.prototype.safetagInProgress=!1}else"onreadystatechange"!=f||"loaded"!=g.readyState&&"complete"!=g.readyState||(g.onreadystatechange=null,g.onload(n))};if(g.async||"complete"===document.readyState||"interactive"===document.readyState){var q=document.getElementsByTagName("script")[0],n=document.createElement("script");
n.async=g.async;n.type="text/javascript";n.onerror=function(){safetagLoaderHandler(n,"onerror")};n.onload=function(){safetagLoaderHandler(n,"onload")};n.onreadystatechange=function(){safetagLoaderHandler(n,"onreadystatechange")};n.src=l;q.parentNode.insertBefore(n,q)}else l='<script type="text/javascript" src="'+l+'" onerror="safetagLoaderHandler(this,\'onerror\')"',l+=" onload=\"safetagLoaderHandler(this,'onload')\"",l+=" onreadystatechange=\"safetagLoaderHandler(this,'onreadystatechange')\"",l+=
">\x3c/script>",document.write(l)}}})(wt_safetagConfig,wts)};

;(function(window,document){var version="1.1.7";var pixelParameter={executePluginFunction:"",pixel:{}};var cookiePolice={selection:"7"};var debug=false;var isInstantlyEventStart=false;var isCloseHeadEventStart=false;var isOpenBodyEventStart=false;var isCloseBodyEventStart=false;var overrideDocumentWriteGlobal=false;var safetagLog=function(){if(typeof console!=="undefined"&&typeof console.log!=="undefined")if(debug)console.log(arguments)};var convertValue=function(str){var val;switch(str){case"false":val=false;break;case"true":val=true;break;default:val=str;break}return val};var startTrigger=function(sendinfoInformations,pixel,triggerFunction){if(!triggerFunction(sendinfoInformations,pixel))window.setTimeout(function(){startTrigger(sendinfoInformations,pixel,triggerFunction)},100)};var pushListAttribute=function(attr1,attr2){for(var j=0;j<attr1.length;j++){var param=attr1[j];if(typeof param.id!=="undefined"&&typeof param.parameter!=="undefined"&&typeof param.rule!=="undefined"&&param.rule.length>0)if(checkRule(param.rule,typeof param.url!=="undefined"?param.url:false)){var paramValue=getParam(param.parameter.type,param.parameter.value1,"");if(paramValue)pushAttribute([attr2+"["+param.id+"]",paramValue])}}};var pushPixelParameter=function(attr0,attr1){if(attr1!==""&&attr0!==""&&(typeof attr1!=="string"||typeof attr1==="string"&&attr1.indexOf("###")==-1))if(attr0.indexOf("[")!=-1&&attr0.indexOf("]")!=-1){if(typeof pixelParameter[attr0.split("[")[0]]!=="object")pixelParameter[attr0.split("[")[0]]={};pixelParameter[attr0.split("[")[0]][attr0.split("[")[1].split("]")[0]]=convertValue(attr1)}else pixelParameter[attr0]=convertValue(attr1)};var pushPixelPluginFunction=function(attr0){pixelParameter.executePluginFunction+=";"+attr0};var startLinkTrackInit=function(){startTrigger(null,pixelParameter,function(sendinfoInformations,instance){if(typeof instance.pixel!=="undefined"&&instance.pixel instanceof webtrekkV3){instance.pixel.linkTrackInit();return true}return false})};var startFormTrackInstall=function(formObj){startTrigger(formObj,pixelParameter,function(sendinfoInformations,instance){if(typeof instance.pixel!=="undefined"&&instance.pixel instanceof webtrekkV3){if(sendinfoInformations)instance.pixel.formTrackInstall(sendinfoInformations);else instance.pixel.formTrackInstall();return true}return false})};var sendManuelPixelRequest=function(attr1,attr2){if(attr1=="link"){attr2.sendOnUnload=true;attr2.linkId=typeof attr2.linkId!=="undefined"?attr2.linkId:"wt_ignore"}else if(attr1=="click"){if(typeof attr2.sendOnUnload!=="undefined")delete attr2.sendOnUnload;attr2.linkId=typeof attr2.linkId!=="undefined"?attr2.linkId:"wt_ignore"}else if(attr1=="page"&&typeof attr2.linkId!=="undefined")delete attr2.linkId;startTrigger(attr2,pixelParameter,function(sendinfoInformations,instance){if(typeof instance.pixel!=="undefined"&&instance.pixel instanceof webtrekkV3){instance.pixel.sendinfo(sendinfoInformations);return true}return false})};var sendManuelFormRequest=function(){startTrigger(null,pixelParameter,function(sendinfoInformations,instance){if(typeof instance.pixel!=="undefined"&&instance.pixel instanceof webtrekkV3){instance.pixel.sendFormRequest();return true}return false})};var sendManuelPageUpdate=function(){startTrigger(null,pixelParameter,function(sendinfoInformations,instance){if(typeof instance.pixel!=="undefined"&&instance.pixel instanceof webtrekkV3){isInstantlyEventStart=false;instantlyEvent();isCloseHeadEventStart=false;closeHeadEvent();isOpenBodyEventStart=false;openBodyEvent();instance.pixel.sendinfo();isCloseBodyEventStart=false;closeBodyEvent();return true}return false})};var sendManuelNewPage=function(){startTrigger(null,pixelParameter,function(sendinfoInformations,instance){return typeof instance.pixel!=="undefined"&&instance.pixel instanceof webtrekkV3})};var pushAttribute=function(attribute){safetagLog("pushAttribute",attribute);var attr0=typeof attribute[0]!=="undefined"?attribute[0]:false;var attr1=typeof attribute[1]!=="undefined"?attribute[1]:false;var attr2=typeof attribute[2]!=="undefined"?attribute[2]:false;var isPixelPluginFunction=false;if(typeof attr0==="string"&&typeof attribute[1]==="undefined"&&typeof attribute[2]==="undefined")isPixelPluginFunction=true;if(attr0=="list"){if(attr1&&attr2)pushListAttribute(attr1,attr2)}else if(attr0=="send"){if(typeof attr1==="string")if(typeof attr2==="object")sendManuelPixelRequest(attr1,attr2);else if(typeof attr1==="string")if(attr1=="form")sendManuelFormRequest();else if(attr1=="pageupdate")sendManuelPageUpdate();else if(attr1=="newpage")sendManuelNewPage()}else if(attr0=="linkTrackInit"||attr0=="linkTrackInstall")startLinkTrackInit();else if(attr0=="formTrackInstall"||attr0=="formTrackInit")startFormTrackInstall(attr1);else if(attr0==="tabBrowsing"||attr0==="globalVisitorIds"){if(attr1==="true")pushPixelParameter(attr0,attr1)}else if(attr1!==false&&attr1!==0)pushPixelParameter(attr0,attr1);else if(isPixelPluginFunction)pushPixelPluginFunction(attr0);return 0};var getAttribute=function(attributeName){var value=null;if(typeof pixelParameter[attributeName]!=="undefined")value=pixelParameter[attributeName];if(typeof pixelParameter.pixel[attributeName]!=="undefined")value=pixelParameter.pixel[attributeName];safetagLog("getAttribute",[attributeName,value]);return value};var webtrekkSafeTagParameter=typeof wts=="object"?wts:[];for(var j=0;j<webtrekkSafeTagParameter.length;j++){safetagLog("webtrekkSafeTagParameter",webtrekkSafeTagParameter[j]);pushAttribute(webtrekkSafeTagParameter[j])}window.wts={"push":pushAttribute,"get":getAttribute,"length":0};var loadScripts=function(scriptURLs,callback){var head;if(typeof document.head!=="undefined"&&document.head&&document.head!==null)head=document.head;else head=document.getElementsByTagName("head")[0];var loadedFiles=0;var allScriptURLs=scriptURLs.length;for(var i=0;i<allScriptURLs;i++){var script=document.createElement("script");script.async=true;script.type="text/javascript";script.src="//"+scriptURLs[i].src;if(scriptURLs[i].required)(function(script,eventHandlerIsLoad){script.onerror=function(){if(!eventHandlerIsLoad)eventHandlerIsLoad=true};script.onload=function(){if(!eventHandlerIsLoad){eventHandlerIsLoad=true;loadedFiles++}};script.onreadystatechange=function(){if(this.readyState=="loaded"||this.readyState=="complete")if(!eventHandlerIsLoad){eventHandlerIsLoad=true;loadedFiles++}}})(script,false);else loadedFiles++;head.appendChild(script)}var interval=window.setInterval(function(){if(loadedFiles>=allScriptURLs){window.clearInterval(interval);callback()}},25)};var checkEvent=function(search,callback){var eventResult=false;try{if(typeof eval(search)!=="undefined"&&eval(search)!==null&&eval(search))eventResult=callback()}catch(e){}if(!eventResult)window.setTimeout(function(){checkEvent(search,callback)},5)};var registerEvent=function(obj,evt,func){if(obj.addEventListener)obj.addEventListener(evt,func,false);else if(obj.attachEvent)obj.attachEvent("on"+evt,func)};var wtUnescape=function(u){try{return decodeURIComponent(u)}catch(e){return unescape(u)}};var getUrlParam=function(url,param,def){if(!url||url==null)return def;var p=[];if(url.indexOf("?")>0)p=url.split("?")[1].replace(/&amp;/g,"\x26").split("#")[0].split("\x26");for(var i=0;i<p.length;i++)if(p[i].indexOf(param+"\x3d")==0)return wtUnescape(p[i].substring(param.length+1).replace(/\+/g,"%20"));return def};var getParamValue=function(param,def){try{var value=eval(param);if(typeof value!=="undefined"&&value!==null)return value}catch(e){}return def};var getParam=function(type,param,def,url){type=type.toLowerCase();var value=null;if(type=="javascript")value=getParamValue(param,def);else if(type=="url"||type=="parameter"){if(!url)url=document.location.href;value=getUrlParam(url,param,def)}safetagLog("getParam",[type,param,def,value]);return value!==null?value:def};var checkCondition=function(value,check){try{if(typeof value==="string"){if(value.search(check)>-1)return true}else if(typeof value==="boolean"||typeof value==="number")if(value===eval(check))return true}catch(e){}return false};var checkRegion=function(type,param,value,url){if(!url)url=document.location.href;type=type.toLowerCase();var result=null;if(type=="javascript"||type=="parameter"){var p=getParam(type,param,null,url);if(p!==null)result=checkCondition(p,value)}else if(type=="url")result=checkCondition(url,param);safetagLog("checkRegion",[type,param,value,result]);return result!==null?result:false};var checkRuleDefinition=function(rule,url){for(var j=0;j<rule.length;j++)if(!checkRegion(rule[j].def1,rule[j].def2,rule[j].def3,url))return false;return true};var checkRule=function(ruleArray,url){for(var i=0;i<ruleArray.length;i++)if(checkRuleDefinition(ruleArray[i],url))return true;return false};var instantlyEvent=function(){safetagLog("start instantly event",(new Date).getTime());try{}catch(e){safetagLog("instantlyEvent error",e)}if(!isInstantlyEventStart)isInstantlyEventStart=true};var closeHeadEvent=function(){if(!isCloseHeadEventStart&&isInstantlyEventStart){safetagLog("start head event",(new Date).getTime());try{if(wt_safetag.checkRule([[{"def3":"","def2":"(.*)?transfermarkt.de/((?!site).){3,}/.*","def1":"URL"}]])){window.wt_surveyWidget=function(conf){if(conf.mode=="page"&&conf.type=="after"&&conf.requestCounter==1){var version="1.2.0";var surveyConfiguration={start:parseInt("0"),element:"",timeout:"3000"?parseInt("3000"):0,sampling:"true"=="true",samplingRate:"99"?parseInt("99"):0,samplingType:"true"=="true",name:"Zufriedenheitsindex",widgetHeadline:"Zufriedenheitsindex",widgetElements:[],cookieDuration:"30"?parseInt("30"):0,image:"cdn.transfermarkt.tv/images/logo.png",submit:"",css:".wt_surveyStart {"+"height: 139px;"+"width: 60px;"+"margin: -70px 0 0 0;"+"border:1px solid #C9C9C9;"+"cursor: pointer;"+"position: fixed;"+"top: 50%;"+"z-index: 2000000000;"+"}"+"#wt_surveyStart_Left {"+'background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAACLCAIAAABeJAj+AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDozQjNDMzFFMDlDMjQ2ODExODhDNjgxNDcxMjdBRDYxQyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpCNTlGNkJCODgxQ0QxMUUzODkzREMwQzUyNUMwQUIxQyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpCNTlGNkJCNzgxQ0QxMUUzODkzREMwQzUyNUMwQUIxQyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDMTg2Mzg3MkNDODFFMzExQTRCNEEzOUQ0OUZGMzg3QiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozQjNDMzFFMDlDMjQ2ODExODhDNjgxNDcxMjdBRDYxQyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkEWM/YAAAh3SURBVHja7FzpTxtnHoaoMkTFNmXGNvgqlwmYO0B2A9ndQHab5mg/VL37x1Wt2qr90E13pd0cUhtolxzcYJNyGRzs8TljyphItWmSPvYLkyk26Ye+7r7efX+MRjPjEZ7H7+94foddOT4+XnkoJ06cKHrwnP2v3lD4zwuloqJCv9fL06dPnzx5QvZEHj9+TA7IxRMVZS4cAAfAAXAAHAAHwAFwABwAB8ABcAAcAAfAAXAAB5LNZssbwO3xidW1tfJWock7d6dnZsrbBhaXfN9NTmYymaKvbodCa+vrVN7oBeqPPjhw+vbEt+l0emVlVZGVq1cuV1dXh8OSrMiqqiaSyUQiidvcbteptjYWAQiC8PprV+/cvbu1FUzK8ocffVxSFaIAIBaPT8/MNtTXG41GUahzOBxVBsOF0dEl0Tc1XXJLoLMCe3t76xsb2qnd3mARRZPR9Oc/nbs/NU0swWqxWK0Wc16gVC+73YzaACQSiWIjx1VVVeRgV1VHR8/brFatpE5FKmn1B6BIOzs/pFIpJZWCBR/3fmaTyWq12mxWt9tdb7P99v4AtRWADTjsdgIGGpVK7aT30lIkKsuy3pliHbBB39yh0JtvvMGoCsGaoegA09/Xh70MDyrLajodDofhRlk04ueLxSLCfDW1DIXDyRyMSkYBgMzNzM4ROgSX+tqVy0ducLtccEG07Jg+AO3pIZIkadeXHzzABw8LbvN44EbZVaGtYLDodZiyf/kBcIDq/XVsrK3Nw64KYd/b031maAgutSiSf12/bq41w42yyEYNBsMz8xVF7bjT67108WJXZ+eBps3MMroC4BHB4EPQ6Uw26+3oAIPQQnJra4vH0wr34/cvb29vMwoAJBkAcAA6jQ3PjXVwOZ3QGfgfmG91nlz8eEyqwMAKNDSMnv8L6HQmkyUaH5aksM4dEak+5EgsBrKmxkanwxkMBqVoRJIiRfMyj8fDLoC8xhva2095vR0IWOB2gAEqkZSToVAYSoVQcO7cSNlQCZPJBGpUOK3CLgB85HuPHkHLEXfLIyPTC1zQ7YkJ7dTpcDidDrPJjBwA61AGAJb8fv2p3gWRbIYkNHCnVCIxfQCKohAjFgVRVpSi2Qwpq1BJaEpV2Orp7rl86dW/XRgjMbi/v08LyeWU0CAfaGluDmxumo2mkbfOgudtBAJgozAGt4tOVYL+CiAS5yzBtyRFIgQD9nMLC9AlLAXI3IWx0UQiAUbBKIDGxpfzDCL77+s3FhYXvR3teG5VVe/cvacvtEwzy0ZB5hQlpa+w9/f13rs/hYwMST1CGiw5Z9C7u+zawMjwWbh/LTXr7+sLbG4hnyReqAzIXI7PNTU2NzeBPpDT169emV9YnJuf124YHBxkN6X0+f3QIqPJiMhlsViQDEDvh8/+cXDgNNZBVdMIZDYaUawkAG6PT0Si+cJoRF8asuSLu1bELze9mkpJABw8/S8lmRfYMakLnRsZprUCpYrEoiggEv/hzBACGei0/qXtUOjLa1/FEwlWVgBKD2PVyuhwo/ChTY1NDrsd2k+oP+5BXMMibGwE4IgQ1L7++psP3n+PCQCpnR3ofU1NjSDUiYKASAw+txXc6mg/dfLkyWcliZYWT2vryPDwN+Pjfv8yQytAZC8vDx8+K5Zc+8c/EYaJF/pFNtzaCgC0cgMKAAwGQ329LRaLF+Zl96emD9Iap8NqySU0tWbTeiCAK0ODA6wAqHvppQujo1D0eDyR2knt7T2CIzrSpAmHJWzaKcXUjKYbbWiot9sbSPK+v/+TkoItKLKsICM7UlkBEVpbX+/p7ma6rKL3QlgQZGfwQomkHAqF2EpoSJ9YqKsTBIH0iYtWVmpra2G+BA+QkLodKytw4IIO67VwpqIomkxGp9NZNJO05put7LJRaIucT+1Jpx7UGkzIlq9H1NKurFDuE2MdorHYc/rEiGi2Q0rHaJ94B4F54ttsNuOwOzLZ7JE+MY7BhbCx2ycmszakxUTWJ+eCZCUpy+XRJyb6o3cypLjr8eRckJpOX79xM0+qWS2rGI1G7FdWV7+bnJQK+hrI0ZCXJRIJs9nEbFXCMzM7V3HYYiJeiLSYiBfa3c3l9f+ZvMPoxFZ3Vxfcic/v07SoaIuJ6bJKT3dXR3v76toqosFxLSaG6PRxXKi3p4d4IW1ahbSYcimBp3WI2bJKoRyZVimDFhNyYoRkBF08JSmoUJzuKDkAn99PvJBevN6OsfPnoT/wRXTpUCmmVR4WXlTzJdHZ+TlgcLtcVy5forUm9AMZaTFpdSGQ6iM3gAh99vkXtEYNSlXYInWhvt5ek/FZxHU5XeZ8kQtBwOfzM00lwEYLXxo43f/uO2+T5vE6peHvUrWYFpd8i0tLYKCF+QASSxzQKmzRB9Dd1VmVn3lCOvb3a18REqGq6Y1AgITkBKVHL5UXggpdvPjKzVu39IwaXujGzVv622yUphBKYsRI6t9+860zQ4O5SfZjWkllMG4DLkQmd/XjNolEEjSuLceFBpgGcKQoVDhuw64NcC7EuRDnQpwLcS7EuRDnQr/rCsTi8e9XVoS6XIvbbm8oSy4Ui8Wx4cPWAJQ3FyLy8SefiqLY0tzc6e0o3buU8EcB4HMkSdrc3Cwp1eW/avC/BKAofSi10DRi//IDbHCmoKIW0VJ+AIhEolH92Bzo0PzCgtVyMHLPIoCaF2v6e3sRzqKxWFFfdO/+FDkGl3a5XIgJAEPrK+mVdH/xNZXawZ+ipPAny8pz3ph8f4ChTj0RQaizWEQNUjQaTeb7S1Ak9XDomHUb0Isj9wWag5Gh/f39cFhS0yrS4jg9Rv3C7+bvyHcpgWRwYAD7DKUfwfmvBTJa0+s8EnMAHAAHwAFwABwAB8ABcAAcAAfAAXAA/68AfhZgAFma3rWNpntMAAAAAElFTkSuQmCC") 0 0 no-repeat transparent;'+"border-radius: 0 8px 8px 0;"+"box-shadow:2px 0 5px 1px #bcbcbc;"+"left:0px;"+"}"+"#wt_surveyStart_Right {"+'background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAACLCAIAAABeJAj+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAADZGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjAgNjEuMTM0Nzc3LCAyMDEwLzAyLzEyLTE3OjMyOjAwICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjNCM0MzMUUwOUMyNDY4MTE4OEM2ODE0NzEyN0FENjFDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkI1OUY2QkI4ODFDRDExRTM4OTNEQzBDNTI1QzBBQjFDIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkI1OUY2QkI3ODFDRDExRTM4OTNEQzBDNTI1QzBBQjFDIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzUgV2luZG93cyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkMxODYzODcyQ0M4MUUzMTFBNEI0QTM5RDQ5RkYzODdCIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjNCM0MzMUUwOUMyNDY4MTE4OEM2ODE0NzEyN0FENjFDIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+QRYz9gAACZdJREFUeF7tm/tTG9cVx7F5DiBhSUhCLwwGATZCPJ2poY5N0jxw3MZ2O9NO68d02ukv7fQn/zVt3ecvDXadNJPYcRPsztQ4KWDeuNgSD0uAAYMnSKGVNIPdr/auleXqoh+cs14xs5+xz5yzu4zuV3vvPefuXe1ZXl7eu3fvnj17YEFubi5zADsIm7OdZ8+eKa2Qp0+fyt5zP4PlQqEVOmCv1KRdjC5Aa3QBWqML0BpdgNboArRGF6A1ugCt0QVojS5Aa3QBErF4XPZeOjRPJa5cvbqysmq32Twet9FgdLtd+fn57BRIf8TAWS4UWqEDyASEQmHppIzRaLSWJ7GWWxwOB65Jb1PKcqHQCh2glgCO8nKLxWzBf7PJjP9c+7hQaIUOIHuw9TAUQi/a2NgIh8MbkYh04Y44Kioq7Ha3211SUozWsAZltkIHqPJkLhaLQczq49WR0bH4zuO7+/gxDBu0hjUosxU6QJVptLCwEOO4taUFw4Adeb2729/kczocLCTkJeWB6uqqjvb2t95848K5s77GQ/JRCjRIZAUFhbJHgZ6JtUZdAQcOHHC5XBjTcqwC6go4dLDh5Ime82d/IscqQJYHBoeGHgSCSGQ2m9VabjUaDC6X02Aw4BQ3qS8tPVp69Gj9yfrBhoZvngdoBAwMDt3u75dObgOdB+WQy+mor6vPz8/Dlektg+VCoRU6gKYLBQIB2dsO0vDi4iLk9V65vLa+Lh8lhUYA6gZYb23tr3/1y1/8/Gdvv/UmqlF2ihGPJ27c+Ec0GpVjOigHsc1mg0W3qa2pMRoN8N0u15nTp1453AE/nkhMTE4lryOFRgDGImwgGEwv3VAONfv9zf4m+Bi77CAhNAK8Xi/s6urqX9/rvTs8wg4qYeVD9nahpiZfWVkZHKwEwgtfr2wi0cjo2Nji0tLc/Jx8iBoaAUWFhT/+0Q8rPR45fk4kEv33wOC165+srSWnICzJ2HFCyAYxxu7pU+9eOH+uvbUNITcLMaqr9sseHaqsyAByDdZlq4+TIMTgLi0trfN6lbkpZblQaIUOUFGA7G1vh9ByodAKHaBBLZRuuVBohQ7QayEJvRZ6ccimUaDXQi8CjQC9FnpxaATotdCLo9dCO6D8DGU7hJYLhVboABoByysrqIUCgSCOeDxuVgtJO0wWnE1vDWe5UGiFDqARcOkPf0QZJ53cBgYGSrpyiyXbayFh6wG6/uzsHKuFxicm5aOk5F68eBHfcQr2lXPI1+7Mvf9Mo61dnZ2n3/1efX29w1HB9mYizzPX1tYW0nBeXi5qbYT45pSWC4VW6AAaASUlxRgATb5Gs9mMbmM2mSoq7HV13o72tgq7Hf2S5YHoV18dbGiAw7WPC4VW6ACqLhRBJTd0dzh9f9Llch3t6mqor4efvaVEKBxCIQT+9Oe/vNd7+c7nX8zMzEYUYgoLC2CxQGMhITSz0E4b3WxFVlhQsLi0iHqu+9irJpMJ13OTDBcKrdABZHkglCSMlU16RZ0Cd8BRUYGUbDLtw9hItS/lZLBCB9Bn4i83NtCXpH3uxwuLi9JfiCHZ6KYXwEh9BsqhhYUFlKVrYPuyOIsEPHwYwjC1Wq0sBMrPULYDa/y19Sfr4MmTwx3t2SIgNYg9Ho8NlZDVivKBPRQC6a3hLBcKrdABxAKUYArCoj75ok3yPRuLSrUQjYDxiYnBobs7VUQM3BCnw1FaWmI2me12G/4q1b6Uk8EKHUAm4LO+mz5fo7em5suNCJRgDlpYyDQFodZo9vtN+/ahNaxBma3QATQCWDmNJaXH7WZH2GeEFxawIkOpJywisuh9IdZ5AsHkgkYJxkBLczNKVIwEjIXuY8fa21r3769ELpOv+MbQVKMo+jc3N5G7pqfvb/53E8m4uLgYN5OdhROPJ4IzMxjWba2t+ysr6+vq8K+oqAin2BeJyzJboQNouhBKib9dfZ8rIp6/uJichAYGB1lFfeHcWVzP9RAuFFqhA2gEgJWVldv9d0JhQUmnJHsFMFAIISEkC2vpgYp0+ddgGn3jO6/jMq59XCi0QgdQ3oGVlVWj0YA0XFBQwD6DzUJY5UQjUSSzJp8vL0+QzrhQaIUOoBHA7dBgpLa2NEMGO5veGs5yodAKHUAzjQ4NDcmexPDIyIcffcz80bGxvpu35ubmWUgOjQD29npZmRHFXJn0VBQ9Z2R0VDqZMzs313frVv+dz1lIC40A9mz9te5u5Kzz5842Hkq+GToyOiadlLn/4AH+yQEdNAJQ2cOm8kDnkW8hCSBEEYFMfKLnbbaon59/yC4ghKgLxeI2mw19fXJqCu1OZtyWFhzH8gXW5XT6m/xwsneLiT1WQdNv3vrnb353qffylY1oBDJmZmeZBvWgEcCBLDYyMsp61Kd9N69d/2R8YpydIoesFpJfuZfY6fcDKIpOnujB9dw0z4VCK3QAcSnBQHWd/DFEZANrGuWTFZTTlZUeXMC1jwuFVugAVQQA5WfgniBRlJaUYBmgbFPKcqHQCh2gyhjgQEmNiUiNB6OA5g78Lxa7fbv/QSCAgZvaYtpNr9t8+lnfxKRgAwYzKWS4HM6qqqrd+roNVpv/6u/vvXJ5bl6Veo5mTYwmwna0t/3g+2ea/X4sCdgWUzyR2NraggOLOsJut7HlPL45peVCoRU6gOYOFEk/cWA1KbpNbU0NFgTfPfnOTy+cP3P6VENDcnsGZG8xV1lZCTs5OYVSIhicYTmYgVtxtKtLft1mKVtroQ6pGgUo5q7fuDF17x4LweO1NdnLyUkkErJHB40Au832Tk8POo8cK7j6/ge/vfT7sfEJ+FhksoOE0AgAXm8tevxr3cd9jYeESkB1VZXs0UEmAKDdvsbG7uPH2YqM4XK5mFNfV4dpivmE0CSygUEs6p9h8uQe7jKU+UhouVBohQ6gEaDc4LBZrW63e5e9rZJ5n9jldBhKDWazSY1qlEYA2ydmC5qdVjMAtZ3FnCSr94mh4oO/f8hyGe6AMqlxZNcPokPhcCAYvDs8PDU1xZ5tMV49+m2WiZ1O+l9DA3XHAOOVwx3+pib2tbF94mg0+mh5ORv3iXeiurqq88iRgvz89JbBcqHQCh1ALMBms2IaNRqN5ZZyLGVisdhHH19j5RBGcPa+rYI6GeM1lcVA6jOg4YuBgenp+7hYjQ0OmkFc5/Wmv3fMgLBUOa0GlLVQBg53dHR1HpEDUl6SAIBiDhO/HNDx8gSArF4PaIUuQGt0AVqjC9AaXYDW6AK0RhegNboArdEFaI0uQGt0AVqzywXk5PwfrB5gBw/7/ekAAAAASUVORK5CYII\x3d") 0 0 no-repeat transparent;'+"border-radius:8px 0 0 8px;"+"box-shadow:-2px 0 5px 1px #bcbcbc;"+"right:0px;"+"}"+"#wt_surveyWidgetWrapper {"+"width: 420px;"+"margin: 0 0 0 -220px;"+"padding: 10px;"+"background-color: ###WRAPPER_BACKGROUND###;"+"color: ###GLOBAL_FONT_COLOR###;"+"font: normal ###GLOBAL_FONT_SIZE###/120% ###GLOBAL_FONT###;"+"top: 10%;"+"left: 50%;"+"position: fixed;"+"z-index: 2000000010;"+"}"+"#wt_surveyWidgetLayer {"+"height: 100%;"+"width: 100%;"+"margin: 0;"+"padding: 0;"+"background-color: #000;"+"opacity: ###BACKGROUND_OPACITY###;"+"position: fixed;"+"top: 0;"+"left: 0;"+"bottom: 0;"+"right: 0;"+"z-index:2000000000;"+"}"+"#wt_surveyWidgetWrapper h2 {"+"font-size: 22px;"+"}"+"#wt_surveyWidgetWrapper img {"+"max-width: 50%;"+"margin: 0 0 0 15px;"+"}"+".wt_surveyWidgetClearer {"+"height: 0;"+"width: 0;"+"margin: 0;"+"padding: 0;"+"line-height: 0pt;"+"clear: both;"+"float: none;"+"}"+".wt_surveyWidgetLabel, "+".wt_surveyWidgetAssesment {"+"width:46%;"+"padding:5px 2%;"+"float:left;"+"}"+".wt_surveyWidgetElement {"+"width:94%;"+"margin:0px auto;"+"padding:5px 0px;"+"border-bottom:1px solid ###ELEMENT_BORDER_BOTTOM###;"+"}"+"#wt_surveyWidgetCloser {"+"height:22px;"+"width:22px;"+"margin:-11px -10px 0px 0px;"+'background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAB4CAYAAADlnULlAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo5MTA0MUVFQTJCMEZFMzExOTIyN0Q1NEE4RjVDMjNGNCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo0RURGMkRDQjM1NUUxMUUzQUQwQUU0OUY5REJBQjU0OCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo0RURGMkRDQTM1NUUxMUUzQUQwQUU0OUY5REJBQjU0OCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2ODdEMkU0NzVFMzVFMzExODg5M0FFNEE1MzIzMTkzQyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5MTA0MUVFQTJCMEZFMzExOTIyN0Q1NEE4RjVDMjNGNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pj60nZoAAA2/SURBVHja5Fp7bFPnFf/8TJw4dhLHDtAACUmBFvIgkBHKsy0wFlToYFUflKpqI0Co6wuxTpWAdYxMSgFBGa8ORNZJY0MqlDCqooqIpAHW8koaEhIIkECSktgY8vbb+52L7V3b104cO/SPXenI93733u/3nfOd8/vOuZ9FTqeT/RyH6GcHFolEnkZqw7XYfT1hwgTRs88+K8Kv2GQyydra2qRpaWmxOCQHDhzomjx5smPs2LF9mzZtsvsBPOrYye/bc8LX2n3Nl507d8aWlZVN1uv1qy0Wy7/Q1gYxQIwkVqu1zGg0fnD69On0ZcuWRaekpIh5/Ypc4o3HBxYCPXjwYFx3d3cRznshDqfruHfvnr2pqcnu9D4snZ2dn8MyI6ZMmaJISEhwg4pd4g8sJMePH0+22+2ncW6Hpo79+/dbFi5c2If3u/mSl5fXu23bNkt/fz83MDx7BdovnTp1apxarXZPp9g9tUGBjxw5osFvC2l56tQpG+awxxfQVyZOnNh78eJFm0t7em8Z2oCtFrs1DwpcXFyssNlsX9Hbhw4dskgkku6BQN1Cz27ZssXsBt+7d+8vR40aFeOeb6E5FiUlJYnWrl0rhqMUos1EmoYCypc9e/ZYCBn+UYnr0XxQL2CVSsXdKCkp0eK3qbe31w7v9DJvbm5u78yZM/3mWKfT9bz99tummJgYT5tcLu9ubW21Enh5efm76EsmCIyXxC+99JL49u3bb5Az7dq1y8LvHLHa63bdTz75xOxuHzduXC8AOKci5+O/s2rVKhO1GwyG07hOFAQmBygoKFD29fVRnDrz8/O9NCPnwj0nH/zJJ5/0gNLx6aefmvnvaDSaHvgKdy8+Pn6sIHBycrJ46dKlOpzf7OrqsgvN2+LFi/v44HjOA3r06FGrkD9UV1dzjvbRRx/N4wN7aBGO5dRqtQqcSkEOggR+8uRJO6aj32w2c9dxcXEcIx07dsyGdhNi3u+d5uZm7jc1NTVNqVR6GEzM51S8SIA2UGBAcr9586azp6fHa2BXr151CIHS4W53OBxqOKzYD7ijo4M1Njb249Q8YsQIwU5ABuIzZ84oMHcifqcbNmyQY87lQu8ghh30C3q9p1AoHH6LgkwmE2HFiQHdnaI58Q0lOF8PpsBrTl944QWvOX/nnXdMvmQC7uZCKisra5agcxHwpEmTJDDlH4lx3nvvPa9OyMuFHInvcKBZK/8d4nXXglKN64yAwOPHjxdt376dRvYAD1v5hOCOS9LK13tpkaDw8rVSRUUFF/snTpw4hOsYQWC34OVYxOZBobgMRd58881+F2W2wicWBqRMvhQWFi7CL2cm6iBUUKJVRAa3Vu/evfvvaNP6YngtEjwyUYLkN7sX/o0bNw5a85UrV/YjPeJAz549ew5tC3y19QWW8NdLZA9jwNefucHr6+tNL7/8cr/vvPMd6fz58x4HdIG+CJELWZUPLHOBi3j8nbxmzZpNLS0tV90dkjZEg0iJTCQXLlwwuUOGjvv37zdv3br1n+hnJvUXKNHwBSZCkfIfgIZEowt27NixDwRziVYup8ABamxE0vBvRMfreD5FyLx84ae3UjfLOQWSbQxAjpxqJKwwDcfTiOsEar9y5QotBEZEwi1cfg+h7NMRSl4t4mWCdneb0CCgFZdDYcljUqmUeNgJ+nSEk9C7gR3DUj0Aw4P3/1c7wfWH+q6SYnTdunXGobwsHSoqHGwD5iwep6uH8r54iLiZWEI/yM7OLkTpkvPYgBHLVJjJ0tPTxaDWEoBLQgYOxi4BZBXW33x3PT19+vTsoZg7VI0TMzIyipGRehqQLzO0FcFJE4cNOCoqandOTo7atx1zrca9XcMFPBf17itEkb7mpzbUVa9B61mRBpYj2S8ZM2ZMwAdQ4lBRsA/gg3I0EWrhQPdmQEiDGWKxeBaySW1sbGzQzrAus2+++aaRCkRclkHK169f3xoMWMkD4sAwegU5ETQlTWh+B2UaVBlccdDe3s79Yim9jWaqkb91DeSOG3g95qgYmaAHhAQpbEQ4GWUL0+v1DOky94scnIC3SEEE5fDUJqqrhmMxoOkhQdHmHojo2rVrVWKY4zLMs8n1zYoNs1BiWGw0Gqskc+bMcaDsbNDpdHaYd6Yr9xqOw4qMpbi2tnbfihUr+iTPP/88Q7ZPZfs1cihQ4XT+l7gIHciOHHuRIm9bsmQJt4xK5s+fz5kB4P1wsmuJiYnJAM+KJCr6P4Zi8A+LFi1q8yMQqvIbGhru3rlzp4jcPoK45chANy9YsKCZ38hp7JkEq5V1dXXpsezdQjo7DU3JYYJWI4R+N2PGjO8HpEwA06eF78BCVeGq+vDhwzLqSzD1EUr2EGLOBw8eyFUqVVjAYC/LW2+95QxpkQA/6yLgyokhJ3tyuTwh3NQXCWFSyMsigDXhaoyFJSGgxoG0ArA6AhrHh2pqCV5SBrhHnyZ+cMV6HGUmkBwh66EPVUjAYC4deNu3o7sEhqqwEiRfi/isA9NFg+O/Rtxn453ncH+2azADayxkzujo6BQX1dF3qwsEiAX9EsKsDhV/I30BoHinNbugoKDtyy+/PIe1vAKSicE847JCBs6VIWmsUCgo3TiCcCDtagwGQx3iuoPAKMNAu9fzy5cvp0/MFw4fPnwJC00FpFSpVOYBeG5RUZH8448/tgwKGDFc19LSshnmvAEwMwGaTKYBnenVV1+lETWSlJaWnsUAvkVfNsHp5Ez649CrRYhxKGvZUIs2ZrOzDVYb+/OQ62NO4+rQq0X45CUKO5RQU0XZrOqxaAxNPwegDCLGeQkGLnkcwKtkUpbviVUpy4aTrx5uUyfaHewWqMWrcENbJ9rGweTGYdEYALt9QTl+RRtMvmu4NCY2OjPAM7OhdWVEq0VyooEesljZvsE62iONq4JXi65f7SAH2ehaubhqUZTDWoMB+1WLRNkRSm+9qkUM5FG1CND1VM88xo96XLUonryclf9kYE2PC9XYyUSL1rIqce1Ndnn5h2xTdy8zDjeoycy61/yJFZ86x6rIAx0t7awBWtsLZrKZiMlhqRaxqFjXbWfFJaVsHy77ONd3XmG2X3/IrsllTDEnl00HB0e0WsSC4tj6N7a36CDbRtb2SgQAbhRNYTvSRrHk1xezFZEEPlHBvvr9Zxxoh3cG4v4XzGV2V5TLijJGs5T8TI6pwj7+U8PKl77PNuO02T+OL3k/HDebzbnyD/YXDCAzHNDrzax66uvs3Z4+VjEoysSD3+kfsLCrxYZmVkZ9Bc4yfTJc50XmbGpDPhXmrkFGCrP49x4EmKt7ZEwXLrBMwgaoFgUAEM8JEQBOCg4ssMsUJWEaFubuk5QGH6rG0XJkGuFrHB8qsEQuwVLpFFzs+y9fZz98doSVj0lmcW/8is19KpXlUMbplz1ImSp4IuCTrPSZ2MiYaNbGb9M/ZHe/Ps/KNx5glXfaWS2a6sgwkKfznmLZW1ax52Zns9mwVByvH2PsfKYJDOwT3tfvsrzxo9kPROw1t9iF/cdZ+f5SLoEnsEY87/UPFdEcFoOfSfFKlrm5kD3z4mw2N0XLMpAcWqTzWFRgYJ8U7kwVm3XPyH67+QtWWdfEaggQz3QENNs8L0IaR1ZYuZDlvf8bNjd3PJuP+5ZBAeNBir9RkBu4Zx4wcZsn2EwmnuRKe/ziQ7RxtUgohkOqFgeRjw+uMHc/GGwAKF02iMWieLPFuToUwHDL1MynJ476IGvS6ELXh5fI1sc04kd/YPAWdZz888kTnpBNTB8hjldFUaL/eKrFvNxx+WLX3uIzv8jg9hZ9BzfQPwZC31tMSyweqf0fIWniY1l6aiJ9447s3qKDR5tRcrZ7alaqX7VIbbi3S+idSGg8Nzc79RUZmN9BaSNPqG1K1tjXXOVPROdYrk1UlKSPDVy3ZaTqWFJC9L7BOlowYCrcqK46Cj9qyc9LTx1oX2nalDRiqnrIAQhZ4ImAbOdiLr9qUZsQrdBolEyriWPJOhVTRA2uwOjsNrF2fSe719HJ9IZurFBOr2rRVbRxzLUe62ZxYnwM44CS4thIrZqBlbydzDG4rCAuNgqi40xPR3evOQ0DScNAVhoMPazX5HDtLaZryqdlp1K1mDocNZPAQES19S1VYpjjMi42YYqMQiwVYeH2Fh887Ksi57JVXb1zxGS2Frs+gg/XYbXYbNvrGlq/oAzK7dWmq/Utf7XZ7Xtdf5WL9C6qA33vq2to2wOsLt9wMtbf+GkHUA9HWlX0+dX1W+1e1aLf5/+mu4aI7y3eaTX6VYtCBFLX1vFwI0ZZ40uNQ5Bq6gt9VglmID09JohX+3dRU2RVCeqYsMpU48PespraliDVosDXg/sPeuTxqvA+df3U3hm4WswYF3CnNiJ7iyOS1cIlTHRgDk4IFzgqKvDeopTW0gBH+HuLcmngavHUmRuCN5YsfErtCHdvUSoZyt6iJOy9RalMogoVWCcNsLfosDsr9fe7azsMXXVSqSRap1V9naiOzRaJmd/eolwmDaxxjPB/hx7tLTqYZ2+xr9986Z6+q+6+sadxbIqGXy22Xa5pPpesVVXoklSZMK9nb1EOqx09WRvIqwWV5vYW7Q5HJYBqoGFd2pikjiDTye0tXv6x6VKSJq4CWUupSqnIg9Hmuuor/71F30zDTZvNrfc36w1dN8Y8oTGHErquL/SNWO3OwgLfYgoE9xb/K8AAGEByZ8IyphAAAAAASUVORK5CYII\x3d") no-repeat scroll -4px -3px transparent;'+"border-radius:12px;"+"cursor:pointer;"+"display:block;"+"position:absolute;"+"top:0px;"+"right:0px;"+"}"+"#wt_surveyWidgetWrapperBox {"+"padding:15px 0px 0px 0px;"+"background-color: ###ELEMENTS_BACKGROUND###;"+"border:1px solid ###ELEMENTS_BORDER###;"+"}"+".wt_surveyWidgetElementTypeRating .wt_surveyWidgetAssesment {"+"width:150px;"+"padding:0px 20px;"+"position:relative;"+"}"+".wt_surveyWidgetElementTypeRating .wt_background {"+"height:30px;"+"width:150px;"+'background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAB4CAYAAADlnULlAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo5MTA0MUVFQTJCMEZFMzExOTIyN0Q1NEE4RjVDMjNGNCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo0RURGMkRDQjM1NUUxMUUzQUQwQUU0OUY5REJBQjU0OCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo0RURGMkRDQTM1NUUxMUUzQUQwQUU0OUY5REJBQjU0OCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2ODdEMkU0NzVFMzVFMzExODg5M0FFNEE1MzIzMTkzQyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5MTA0MUVFQTJCMEZFMzExOTIyN0Q1NEE4RjVDMjNGNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pj60nZoAAA2/SURBVHja5Fp7bFPnFf/8TJw4dhLHDtAACUmBFvIgkBHKsy0wFlToYFUflKpqI0Co6wuxTpWAdYxMSgFBGa8ORNZJY0MqlDCqooqIpAHW8koaEhIIkECSktgY8vbb+52L7V3b104cO/SPXenI93733u/3nfOd8/vOuZ9FTqeT/RyH6GcHFolEnkZqw7XYfT1hwgTRs88+K8Kv2GQyydra2qRpaWmxOCQHDhzomjx5smPs2LF9mzZtsvsBPOrYye/bc8LX2n3Nl507d8aWlZVN1uv1qy0Wy7/Q1gYxQIwkVqu1zGg0fnD69On0ZcuWRaekpIh5/Ypc4o3HBxYCPXjwYFx3d3cRznshDqfruHfvnr2pqcnu9D4snZ2dn8MyI6ZMmaJISEhwg4pd4g8sJMePH0+22+2ncW6Hpo79+/dbFi5c2If3u/mSl5fXu23bNkt/fz83MDx7BdovnTp1apxarXZPp9g9tUGBjxw5osFvC2l56tQpG+awxxfQVyZOnNh78eJFm0t7em8Z2oCtFrs1DwpcXFyssNlsX9Hbhw4dskgkku6BQN1Cz27ZssXsBt+7d+8vR40aFeOeb6E5FiUlJYnWrl0rhqMUos1EmoYCypc9e/ZYCBn+UYnr0XxQL2CVSsXdKCkp0eK3qbe31w7v9DJvbm5u78yZM/3mWKfT9bz99tummJgYT5tcLu9ubW21Enh5efm76EsmCIyXxC+99JL49u3bb5Az7dq1y8LvHLHa63bdTz75xOxuHzduXC8AOKci5+O/s2rVKhO1GwyG07hOFAQmBygoKFD29fVRnDrz8/O9NCPnwj0nH/zJJ5/0gNLx6aefmvnvaDSaHvgKdy8+Pn6sIHBycrJ46dKlOpzf7OrqsgvN2+LFi/v44HjOA3r06FGrkD9UV1dzjvbRRx/N4wN7aBGO5dRqtQqcSkEOggR+8uRJO6aj32w2c9dxcXEcIx07dsyGdhNi3u+d5uZm7jc1NTVNqVR6GEzM51S8SIA2UGBAcr9586azp6fHa2BXr151CIHS4W53OBxqOKzYD7ijo4M1Njb249Q8YsQIwU5ABuIzZ84oMHcifqcbNmyQY87lQu8ghh30C3q9p1AoHH6LgkwmE2HFiQHdnaI58Q0lOF8PpsBrTl944QWvOX/nnXdMvmQC7uZCKisra5agcxHwpEmTJDDlH4lx3nvvPa9OyMuFHInvcKBZK/8d4nXXglKN64yAwOPHjxdt376dRvYAD1v5hOCOS9LK13tpkaDw8rVSRUUFF/snTpw4hOsYQWC34OVYxOZBobgMRd58881+F2W2wicWBqRMvhQWFi7CL2cm6iBUUKJVRAa3Vu/evfvvaNP6YngtEjwyUYLkN7sX/o0bNw5a85UrV/YjPeJAz549ew5tC3y19QWW8NdLZA9jwNefucHr6+tNL7/8cr/vvPMd6fz58x4HdIG+CJELWZUPLHOBi3j8nbxmzZpNLS0tV90dkjZEg0iJTCQXLlwwuUOGjvv37zdv3br1n+hnJvUXKNHwBSZCkfIfgIZEowt27NixDwRziVYup8ABamxE0vBvRMfreD5FyLx84ae3UjfLOQWSbQxAjpxqJKwwDcfTiOsEar9y5QotBEZEwi1cfg+h7NMRSl4t4mWCdneb0CCgFZdDYcljUqmUeNgJ+nSEk9C7gR3DUj0Aw4P3/1c7wfWH+q6SYnTdunXGobwsHSoqHGwD5iwep6uH8r54iLiZWEI/yM7OLkTpkvPYgBHLVJjJ0tPTxaDWEoBLQgYOxi4BZBXW33x3PT19+vTsoZg7VI0TMzIyipGRehqQLzO0FcFJE4cNOCoqandOTo7atx1zrca9XcMFPBf17itEkb7mpzbUVa9B61mRBpYj2S8ZM2ZMwAdQ4lBRsA/gg3I0EWrhQPdmQEiDGWKxeBaySW1sbGzQzrAus2+++aaRCkRclkHK169f3xoMWMkD4sAwegU5ETQlTWh+B2UaVBlccdDe3s79Yim9jWaqkb91DeSOG3g95qgYmaAHhAQpbEQ4GWUL0+v1DOky94scnIC3SEEE5fDUJqqrhmMxoOkhQdHmHojo2rVrVWKY4zLMs8n1zYoNs1BiWGw0Gqskc+bMcaDsbNDpdHaYd6Yr9xqOw4qMpbi2tnbfihUr+iTPP/88Q7ZPZfs1cihQ4XT+l7gIHciOHHuRIm9bsmQJt4xK5s+fz5kB4P1wsmuJiYnJAM+KJCr6P4Zi8A+LFi1q8yMQqvIbGhru3rlzp4jcPoK45chANy9YsKCZ38hp7JkEq5V1dXXpsezdQjo7DU3JYYJWI4R+N2PGjO8HpEwA06eF78BCVeGq+vDhwzLqSzD1EUr2EGLOBw8eyFUqVVjAYC/LW2+95QxpkQA/6yLgyokhJ3tyuTwh3NQXCWFSyMsigDXhaoyFJSGgxoG0ArA6AhrHh2pqCV5SBrhHnyZ+cMV6HGUmkBwh66EPVUjAYC4deNu3o7sEhqqwEiRfi/isA9NFg+O/Rtxn453ncH+2azADayxkzujo6BQX1dF3qwsEiAX9EsKsDhV/I30BoHinNbugoKDtyy+/PIe1vAKSicE847JCBs6VIWmsUCgo3TiCcCDtagwGQx3iuoPAKMNAu9fzy5cvp0/MFw4fPnwJC00FpFSpVOYBeG5RUZH8448/tgwKGDFc19LSshnmvAEwMwGaTKYBnenVV1+lETWSlJaWnsUAvkVfNsHp5Ez649CrRYhxKGvZUIs2ZrOzDVYb+/OQ62NO4+rQq0X45CUKO5RQU0XZrOqxaAxNPwegDCLGeQkGLnkcwKtkUpbviVUpy4aTrx5uUyfaHewWqMWrcENbJ9rGweTGYdEYALt9QTl+RRtMvmu4NCY2OjPAM7OhdWVEq0VyooEesljZvsE62iONq4JXi65f7SAH2ehaubhqUZTDWoMB+1WLRNkRSm+9qkUM5FG1CND1VM88xo96XLUonryclf9kYE2PC9XYyUSL1rIqce1Ndnn5h2xTdy8zDjeoycy61/yJFZ86x6rIAx0t7awBWtsLZrKZiMlhqRaxqFjXbWfFJaVsHy77ONd3XmG2X3/IrsllTDEnl00HB0e0WsSC4tj6N7a36CDbRtb2SgQAbhRNYTvSRrHk1xezFZEEPlHBvvr9Zxxoh3cG4v4XzGV2V5TLijJGs5T8TI6pwj7+U8PKl77PNuO02T+OL3k/HDebzbnyD/YXDCAzHNDrzax66uvs3Z4+VjEoysSD3+kfsLCrxYZmVkZ9Bc4yfTJc50XmbGpDPhXmrkFGCrP49x4EmKt7ZEwXLrBMwgaoFgUAEM8JEQBOCg4ssMsUJWEaFubuk5QGH6rG0XJkGuFrHB8qsEQuwVLpFFzs+y9fZz98doSVj0lmcW/8is19KpXlUMbplz1ImSp4IuCTrPSZ2MiYaNbGb9M/ZHe/Ps/KNx5glXfaWS2a6sgwkKfznmLZW1ax52Zns9mwVByvH2PsfKYJDOwT3tfvsrzxo9kPROw1t9iF/cdZ+f5SLoEnsEY87/UPFdEcFoOfSfFKlrm5kD3z4mw2N0XLMpAcWqTzWFRgYJ8U7kwVm3XPyH67+QtWWdfEaggQz3QENNs8L0IaR1ZYuZDlvf8bNjd3PJuP+5ZBAeNBir9RkBu4Zx4wcZsn2EwmnuRKe/ziQ7RxtUgohkOqFgeRjw+uMHc/GGwAKF02iMWieLPFuToUwHDL1MynJ476IGvS6ELXh5fI1sc04kd/YPAWdZz888kTnpBNTB8hjldFUaL/eKrFvNxx+WLX3uIzv8jg9hZ9BzfQPwZC31tMSyweqf0fIWniY1l6aiJ9447s3qKDR5tRcrZ7alaqX7VIbbi3S+idSGg8Nzc79RUZmN9BaSNPqG1K1tjXXOVPROdYrk1UlKSPDVy3ZaTqWFJC9L7BOlowYCrcqK46Cj9qyc9LTx1oX2nalDRiqnrIAQhZ4ImAbOdiLr9qUZsQrdBolEyriWPJOhVTRA2uwOjsNrF2fSe719HJ9IZurFBOr2rRVbRxzLUe62ZxYnwM44CS4thIrZqBlbydzDG4rCAuNgqi40xPR3evOQ0DScNAVhoMPazX5HDtLaZryqdlp1K1mDocNZPAQES19S1VYpjjMi42YYqMQiwVYeH2Fh887Ksi57JVXb1zxGS2Frs+gg/XYbXYbNvrGlq/oAzK7dWmq/Utf7XZ7Xtdf5WL9C6qA33vq2to2wOsLt9wMtbf+GkHUA9HWlX0+dX1W+1e1aLf5/+mu4aI7y3eaTX6VYtCBFLX1vFwI0ZZ40uNQ5Bq6gt9VglmID09JohX+3dRU2RVCeqYsMpU48PespraliDVosDXg/sPeuTxqvA+df3U3hm4WswYF3CnNiJ7iyOS1cIlTHRgDk4IFzgqKvDeopTW0gBH+HuLcmngavHUmRuCN5YsfErtCHdvUSoZyt6iJOy9RalMogoVWCcNsLfosDsr9fe7azsMXXVSqSRap1V9naiOzRaJmd/eolwmDaxxjPB/hx7tLTqYZ2+xr9986Z6+q+6+sadxbIqGXy22Xa5pPpesVVXoklSZMK9nb1EOqx09WRvIqwWV5vYW7Q5HJYBqoGFd2pikjiDTye0tXv6x6VKSJq4CWUupSqnIg9Hmuuor/71F30zDTZvNrfc36w1dN8Y8oTGHErquL/SNWO3OwgLfYgoE9xb/K8AAGEByZ8IyphAAAAAASUVORK5CYII\x3d") repeat-x scroll 0px -30px transparent;'+"position:absolute;"+"}"+".wt_surveyWidgetElementTypeRating .wt_wrapper {"+"height:30px;"+'background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAB4CAYAAADlnULlAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo5MTA0MUVFQTJCMEZFMzExOTIyN0Q1NEE4RjVDMjNGNCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo0RURGMkRDQjM1NUUxMUUzQUQwQUU0OUY5REJBQjU0OCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo0RURGMkRDQTM1NUUxMUUzQUQwQUU0OUY5REJBQjU0OCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2ODdEMkU0NzVFMzVFMzExODg5M0FFNEE1MzIzMTkzQyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5MTA0MUVFQTJCMEZFMzExOTIyN0Q1NEE4RjVDMjNGNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pj60nZoAAA2/SURBVHja5Fp7bFPnFf/8TJw4dhLHDtAACUmBFvIgkBHKsy0wFlToYFUflKpqI0Co6wuxTpWAdYxMSgFBGa8ORNZJY0MqlDCqooqIpAHW8koaEhIIkECSktgY8vbb+52L7V3b104cO/SPXenI93733u/3nfOd8/vOuZ9FTqeT/RyH6GcHFolEnkZqw7XYfT1hwgTRs88+K8Kv2GQyydra2qRpaWmxOCQHDhzomjx5smPs2LF9mzZtsvsBPOrYye/bc8LX2n3Nl507d8aWlZVN1uv1qy0Wy7/Q1gYxQIwkVqu1zGg0fnD69On0ZcuWRaekpIh5/Ypc4o3HBxYCPXjwYFx3d3cRznshDqfruHfvnr2pqcnu9D4snZ2dn8MyI6ZMmaJISEhwg4pd4g8sJMePH0+22+2ncW6Hpo79+/dbFi5c2If3u/mSl5fXu23bNkt/fz83MDx7BdovnTp1apxarXZPp9g9tUGBjxw5osFvC2l56tQpG+awxxfQVyZOnNh78eJFm0t7em8Z2oCtFrs1DwpcXFyssNlsX9Hbhw4dskgkku6BQN1Cz27ZssXsBt+7d+8vR40aFeOeb6E5FiUlJYnWrl0rhqMUos1EmoYCypc9e/ZYCBn+UYnr0XxQL2CVSsXdKCkp0eK3qbe31w7v9DJvbm5u78yZM/3mWKfT9bz99tummJgYT5tcLu9ubW21Enh5efm76EsmCIyXxC+99JL49u3bb5Az7dq1y8LvHLHa63bdTz75xOxuHzduXC8AOKci5+O/s2rVKhO1GwyG07hOFAQmBygoKFD29fVRnDrz8/O9NCPnwj0nH/zJJ5/0gNLx6aefmvnvaDSaHvgKdy8+Pn6sIHBycrJ46dKlOpzf7OrqsgvN2+LFi/v44HjOA3r06FGrkD9UV1dzjvbRRx/N4wN7aBGO5dRqtQqcSkEOggR+8uRJO6aj32w2c9dxcXEcIx07dsyGdhNi3u+d5uZm7jc1NTVNqVR6GEzM51S8SIA2UGBAcr9586azp6fHa2BXr151CIHS4W53OBxqOKzYD7ijo4M1Njb249Q8YsQIwU5ABuIzZ84oMHcifqcbNmyQY87lQu8ghh30C3q9p1AoHH6LgkwmE2HFiQHdnaI58Q0lOF8PpsBrTl944QWvOX/nnXdMvmQC7uZCKisra5agcxHwpEmTJDDlH4lx3nvvPa9OyMuFHInvcKBZK/8d4nXXglKN64yAwOPHjxdt376dRvYAD1v5hOCOS9LK13tpkaDw8rVSRUUFF/snTpw4hOsYQWC34OVYxOZBobgMRd58881+F2W2wicWBqRMvhQWFi7CL2cm6iBUUKJVRAa3Vu/evfvvaNP6YngtEjwyUYLkN7sX/o0bNw5a85UrV/YjPeJAz549ew5tC3y19QWW8NdLZA9jwNefucHr6+tNL7/8cr/vvPMd6fz58x4HdIG+CJELWZUPLHOBi3j8nbxmzZpNLS0tV90dkjZEg0iJTCQXLlwwuUOGjvv37zdv3br1n+hnJvUXKNHwBSZCkfIfgIZEowt27NixDwRziVYup8ABamxE0vBvRMfreD5FyLx84ae3UjfLOQWSbQxAjpxqJKwwDcfTiOsEar9y5QotBEZEwi1cfg+h7NMRSl4t4mWCdneb0CCgFZdDYcljUqmUeNgJ+nSEk9C7gR3DUj0Aw4P3/1c7wfWH+q6SYnTdunXGobwsHSoqHGwD5iwep6uH8r54iLiZWEI/yM7OLkTpkvPYgBHLVJjJ0tPTxaDWEoBLQgYOxi4BZBXW33x3PT19+vTsoZg7VI0TMzIyipGRehqQLzO0FcFJE4cNOCoqandOTo7atx1zrca9XcMFPBf17itEkb7mpzbUVa9B61mRBpYj2S8ZM2ZMwAdQ4lBRsA/gg3I0EWrhQPdmQEiDGWKxeBaySW1sbGzQzrAus2+++aaRCkRclkHK169f3xoMWMkD4sAwegU5ETQlTWh+B2UaVBlccdDe3s79Yim9jWaqkb91DeSOG3g95qgYmaAHhAQpbEQ4GWUL0+v1DOky94scnIC3SEEE5fDUJqqrhmMxoOkhQdHmHojo2rVrVWKY4zLMs8n1zYoNs1BiWGw0Gqskc+bMcaDsbNDpdHaYd6Yr9xqOw4qMpbi2tnbfihUr+iTPP/88Q7ZPZfs1cihQ4XT+l7gIHciOHHuRIm9bsmQJt4xK5s+fz5kB4P1wsmuJiYnJAM+KJCr6P4Zi8A+LFi1q8yMQqvIbGhru3rlzp4jcPoK45chANy9YsKCZ38hp7JkEq5V1dXXpsezdQjo7DU3JYYJWI4R+N2PGjO8HpEwA06eF78BCVeGq+vDhwzLqSzD1EUr2EGLOBw8eyFUqVVjAYC/LW2+95QxpkQA/6yLgyokhJ3tyuTwh3NQXCWFSyMsigDXhaoyFJSGgxoG0ArA6AhrHh2pqCV5SBrhHnyZ+cMV6HGUmkBwh66EPVUjAYC4deNu3o7sEhqqwEiRfi/isA9NFg+O/Rtxn453ncH+2azADayxkzujo6BQX1dF3qwsEiAX9EsKsDhV/I30BoHinNbugoKDtyy+/PIe1vAKSicE847JCBs6VIWmsUCgo3TiCcCDtagwGQx3iuoPAKMNAu9fzy5cvp0/MFw4fPnwJC00FpFSpVOYBeG5RUZH8448/tgwKGDFc19LSshnmvAEwMwGaTKYBnenVV1+lETWSlJaWnsUAvkVfNsHp5Ez649CrRYhxKGvZUIs2ZrOzDVYb+/OQ62NO4+rQq0X45CUKO5RQU0XZrOqxaAxNPwegDCLGeQkGLnkcwKtkUpbviVUpy4aTrx5uUyfaHewWqMWrcENbJ9rGweTGYdEYALt9QTl+RRtMvmu4NCY2OjPAM7OhdWVEq0VyooEesljZvsE62iONq4JXi65f7SAH2ehaubhqUZTDWoMB+1WLRNkRSm+9qkUM5FG1CND1VM88xo96XLUonryclf9kYE2PC9XYyUSL1rIqce1Ndnn5h2xTdy8zDjeoycy61/yJFZ86x6rIAx0t7awBWtsLZrKZiMlhqRaxqFjXbWfFJaVsHy77ONd3XmG2X3/IrsllTDEnl00HB0e0WsSC4tj6N7a36CDbRtb2SgQAbhRNYTvSRrHk1xezFZEEPlHBvvr9Zxxoh3cG4v4XzGV2V5TLijJGs5T8TI6pwj7+U8PKl77PNuO02T+OL3k/HDebzbnyD/YXDCAzHNDrzax66uvs3Z4+VjEoysSD3+kfsLCrxYZmVkZ9Bc4yfTJc50XmbGpDPhXmrkFGCrP49x4EmKt7ZEwXLrBMwgaoFgUAEM8JEQBOCg4ssMsUJWEaFubuk5QGH6rG0XJkGuFrHB8qsEQuwVLpFFzs+y9fZz98doSVj0lmcW/8is19KpXlUMbplz1ImSp4IuCTrPSZ2MiYaNbGb9M/ZHe/Ps/KNx5glXfaWS2a6sgwkKfznmLZW1ax52Zns9mwVByvH2PsfKYJDOwT3tfvsrzxo9kPROw1t9iF/cdZ+f5SLoEnsEY87/UPFdEcFoOfSfFKlrm5kD3z4mw2N0XLMpAcWqTzWFRgYJ8U7kwVm3XPyH67+QtWWdfEaggQz3QENNs8L0IaR1ZYuZDlvf8bNjd3PJuP+5ZBAeNBir9RkBu4Zx4wcZsn2EwmnuRKe/ziQ7RxtUgohkOqFgeRjw+uMHc/GGwAKF02iMWieLPFuToUwHDL1MynJ476IGvS6ELXh5fI1sc04kd/YPAWdZz888kTnpBNTB8hjldFUaL/eKrFvNxx+WLX3uIzv8jg9hZ9BzfQPwZC31tMSyweqf0fIWniY1l6aiJ9447s3qKDR5tRcrZ7alaqX7VIbbi3S+idSGg8Nzc79RUZmN9BaSNPqG1K1tjXXOVPROdYrk1UlKSPDVy3ZaTqWFJC9L7BOlowYCrcqK46Cj9qyc9LTx1oX2nalDRiqnrIAQhZ4ImAbOdiLr9qUZsQrdBolEyriWPJOhVTRA2uwOjsNrF2fSe719HJ9IZurFBOr2rRVbRxzLUe62ZxYnwM44CS4thIrZqBlbydzDG4rCAuNgqi40xPR3evOQ0DScNAVhoMPazX5HDtLaZryqdlp1K1mDocNZPAQES19S1VYpjjMi42YYqMQiwVYeH2Fh887Ksi57JVXb1zxGS2Frs+gg/XYbXYbNvrGlq/oAzK7dWmq/Utf7XZ7Xtdf5WL9C6qA33vq2to2wOsLt9wMtbf+GkHUA9HWlX0+dX1W+1e1aLf5/+mu4aI7y3eaTX6VYtCBFLX1vFwI0ZZ40uNQ5Bq6gt9VglmID09JohX+3dRU2RVCeqYsMpU48PespraliDVosDXg/sPeuTxqvA+df3U3hm4WswYF3CnNiJ7iyOS1cIlTHRgDk4IFzgqKvDeopTW0gBH+HuLcmngavHUmRuCN5YsfErtCHdvUSoZyt6iJOy9RalMogoVWCcNsLfosDsr9fe7azsMXXVSqSRap1V9naiOzRaJmd/eolwmDaxxjPB/hx7tLTqYZ2+xr9986Z6+q+6+sadxbIqGXy22Xa5pPpesVVXoklSZMK9nb1EOqx09WRvIqwWV5vYW7Q5HJYBqoGFd2pikjiDTye0tXv6x6VKSJq4CWUupSqnIg9Hmuuor/71F30zDTZvNrfc36w1dN8Y8oTGHErquL/SNWO3OwgLfYgoE9xb/K8AAGEByZ8IyphAAAAAASUVORK5CYII\x3d") repeat-x scroll 0px -90px transparent;'+"position:absolute;"+"}"+".wt_surveyWidgetElementTypeRating .wt_ratingClick_0, "+".wt_surveyWidgetElementTypeRating .wt_wrapper.wt_ratingHover_0 {width:30px;}"+".wt_surveyWidgetElementTypeRating .wt_ratingClick_1, "+".wt_surveyWidgetElementTypeRating .wt_wrapper.wt_ratingHover_1 {width:60px;}"+".wt_surveyWidgetElementTypeRating .wt_ratingClick_2, "+".wt_surveyWidgetElementTypeRating .wt_wrapper.wt_ratingHover_2 {width:90px;}"+".wt_surveyWidgetElementTypeRating .wt_ratingClick_3, "+".wt_surveyWidgetElementTypeRating .wt_wrapper.wt_ratingHover_3 {width:120px;}"+".wt_surveyWidgetElementTypeRating .wt_ratingClick_4, "+".wt_surveyWidgetElementTypeRating .wt_wrapper.wt_ratingHover_4 {width:150px;}"+".wt_surveyWidgetElementTypeRating .wt_ratingHover_0, "+".wt_surveyWidgetElementTypeRating .wt_ratingHover_1, "+".wt_surveyWidgetElementTypeRating .wt_ratingHover_2, "+".wt_surveyWidgetElementTypeRating .wt_ratingHover_3, "+".wt_surveyWidgetElementTypeRating .wt_ratingHover_4 {"+"background-position:0px -60px;"+"}"+".wt_surveyWidgetElementTypeRating a {"+"height:30px;"+"width:30px;"+"cursor:pointer;"+"display:block;"+"position:relative;"+"float:left;"+"}"+".wt_surveyWidgetElementTypeSlider .wt_wrapper {"+"height:5px;"+"margin:7px 0px;"+"background-color:#c0c0c0;"+"border-radius:3px;"+"cursor:pointer;"+"position:relative;"+"}"+".wt_sliderRange {"+"height:5px;"+"width:30%;"+"background-color: ###SLIDER_RANGE###;"+"border-radius:3px;"+"float:left;"+"}"+".wt_sliderHandle {"+"height:10px;"+"width:10px;"+"margin:-4px 0px 0px -5px;"+"background-color:#fff;"+"border:1px solid #d0d0d0;"+"border-radius:5px;"+"cursor:pointer;"+"display:block;"+"position:absolute;"+"left:30%;"+"}"+".wt_sliderText {"+"height:15px;"+"width:25px;"+"margin:-22px 0 0 -13px;"+"background-color:#fff;"+"border:1px solid #d0d0d0;"+"border-radius:6px;"+"display: none;"+"font-size:11px;"+"text-align:center;"+"position:absolute;"+"left: 30%;"+"float: left;"+"}"+".wt_surveyWidgetElementTypeSelection .wt_selectionWrapper:first-child {"+"margin:0px 40px 0px 21px;"+"}"+".wt_surveyWidgetElementTypeSelection .wt_selectionWrapper {"+"height:50px;"+"width:50px;"+"background-position:0px 0px;"+"background-repeat:no-repeat;"+"background-color:transparent;"+"cursor:pointer;"+"float:left;"+"}"+".wt_surveyWidgetElementTypeSelection .wt_selectionWrapper:hover {"+"background-position:0px -50px;"+"}"+".wt_surveyWidgetElementTypeSelection .wt_selectionFirstBox {"+'background-image:url("wt_SurveyWidget_defaultSelectionIcons_Pro.png");'+"}"+".wt_surveyWidgetElementTypeSelection .wt_selectionSecondBox {"+'background-image:url("wt_SurveyWidget_defaultSelectionIcons_Contra.png");'+"}"+".wt_surveyWidgetElementTypeSelection .activeSelection {"+"background-position:0px -50px;"+"}"+".wt_surveyWidgetElementTypeInput .wt_inputWrapper {"+"height:20px;"+"width:80%;"+"margin:0px auto;"+"padding:3px;"+"box-shadow:inset 0px 0px 2px 1px #c9c9c9;"+"border:1px solid #8a8a8a;"+"border-radius:5px;"+"line-height:18pt;"+"display:block;"+"}"+".wt_surveySubmit {"+"margin: 15px 25px;"+"padding: 15px;"+"background-color: ###SUBMIT_BACKGROUND###;"+"border-radius: 10px;"+"color: ###SUBMIT_FONT###;"+"font-size: 14px;"+"font-weight: bold;"+"cursor: pointer;"+"float: right;"+"}"};var safetagRating=[{"text":"Wie zufrieden bist Du mit dem Bereich Statistik?"},{"text":"Wie zufrieden bist Du mit dem Bereich Forum?"},{"text":"Wie zufrieden bist Du mit dem Bereich News?"}];var safetagSelection=[];var safetagSliderText="";var safetagSliderPlaceholder="";var safetagInputText="Deine Anmerkungen";var safetagInputParameter="customClickParameter[2]";var safetagInputMaxlength="50";var cssStyles={GLOBAL_FONT:"'Source Sans Pro',sans-serif"!=""?"'Source Sans Pro',sans-serif":"Arial,Verdana,Helvetica,sans-serif",GLOBAL_FONT_COLOR:"#"+("333333"!=""?"333333":"000000"),GLOBAL_FONT_SIZE:("12"!=""?"12":"12")+"px",BACKGROUND_OPACITY:"true"=="true"?"0.7":"1",WRAPPER_BACKGROUND:"#"+("dddddd"!=""?"dddddd":"d0d0d0"),ELEMENTS_BACKGROUND:"#"+(""!=""?"":"ffffff"),ELEMENTS_BORDER:"#"+(""!=""?"":"909090"),ELEMENT_BORDER_BOTTOM:"#"+(""!=""?"":"d0d0d0"),SUBMIT_BACKGROUND:"#"+("1d75a3"!=""?"1d75a3":"940a0a"),SUBMIT_FONT:"#"+("ffffff"!=""?"ffffff":"ffffff"),SLIDER_RANGE:"#"+(""!=""?"":"00A1E9")};var getParameter=function(parameterString){try{var temp=parameterString.split("[");var r={name:temp[0],id:temp[1].substr(0,temp[1].length-1)};return r}catch(e){return false}};if(typeof safetagRating==="object"&&safetagRating.length>0)for(var i=0;i<safetagRating.length;i++)if(typeof safetagRating[i].text==="string"&&safetagRating[i].text){var e={};e.type="rating";e.text=safetagRating[i].text;surveyConfiguration.widgetElements.push(e)}if(typeof safetagSelection==="object"&&safetagSelection.length>0)for(var i=0;i<safetagSelection.length;i++)if(typeof safetagSelection[i].parameter!=="undefinded"&&typeof safetagSelection[i].text!=="undefinded"&&safetagSelection[i].parameter&&safetagSelection[i].text){var p=getParameter(safetagSelection[i].parameter);var e={};e.type="selection";e.text=safetagSelection[i].text;e.parameter=p?p.name:safetagSelection[i].parameter;e.parameterID=p?p.id:false;e.values=safetagSelection[i].values;surveyConfiguration.css+="#wt_selection_"+
surveyConfiguration.widgetElements.length+'_first { background-image: url("'+document.location.protocol+"//"+safetagSelection[i].image1+'");}';surveyConfiguration.css+="#wt_selection_"+surveyConfiguration.widgetElements.length+'_second { background-image: url("'+document.location.protocol+"//"+safetagSelection[i].image2+'");}';surveyConfiguration.widgetElements.push(e)}if(typeof safetagSliderText==="string"&&safetagSliderText){var e={};e.type="slider";e.text=safetagSliderText;e.value={max:100,min:14};e.isYear=true;e.parameter="birthday";if(typeof safetagSliderPlaceholder==="string"&&safetagSliderPlaceholder)e.placeholder=safetagSliderPlaceholder;surveyConfiguration.widgetElements.push(e)}if(typeof safetagInputText==="string"&&typeof safetagInputParameter==="string"&&safetagInputText&&safetagInputParameter){var p=getParameter(safetagInputParameter);var e={};e.type="input";e.text=safetagInputText;if(typeof safetagInputMaxlength!=="undefined")e.maxlength=parseInt(safetagInputMaxlength);e.parameter=p.name;e.parameterID=p.id;surveyConfiguration.widgetElements.push(e)}for(var style in cssStyles){var regex=new RegExp("###"+style+"###","g");surveyConfiguration.css=surveyConfiguration.css.replace(regex,cssStyles[style])}var CookieManager=function(e,g,p){var c;this.name=e;this.keySeperator="~";this.fieldSeparator="#";this.durationSeperator="|";this.found=!1;this.expires=g;this.accessPath=p;this.rawValue="";this.fields=[];this.fieldsDuration=[];this.fieldnames=[];this.read=function(){var b=this.name+"\x3d",c=document.cookie;this.rawValue=null;this.found=!1;if(0<c.length){var a=c.indexOf(b);-1!=a&&(a+=b.length,b=c.indexOf(";",a),-1==b&&(b=c.length),this.rawValue=c.substring(a,b),this.found=!0)}if(null!=this.rawValue){a=c=b=0;do if(c=this.rawValue.indexOf(this.fieldSeparator,b),-1!=c){var b=this.rawValue.substring(b,c).split(this.durationSeperator),k=b[0].split(this.keySeperator);this.fields[unescape(k[0])]=unescape(k[1]);"session"!=b[1]?this.fieldsDuration[unescape(k[0])]=parseInt(unescape(b[1])):this.fieldsDuration[unescape(k[0])]=unescape(b[1]);a++;b=c+1}while(-1!=c&&c!=this.rawValue.length-1)}return this.found};this.getSize=function(){var b=(new Date).getTime(),d="";for(c in this.fields)if("session"==this.fieldsDuration[c]||this.fieldsDuration[c]>=b)d+=escape(c)+this.keySeperator+escape(this.fields[c])+this.durationSeperator+escape(this.fieldsDuration[c])+this.fieldSeparator;return d.length};this.write=function(){var b=(new Date).getTime(),d=!0,a=this.name+"\x3d";for(c in this.fields)if("session"==this.fieldsDuration[c]||this.fieldsDuration[c]>=b)a+=escape(c)+this.keySeperator+escape(this.fields[c])+this.durationSeperator+escape(this.fieldsDuration[c])+this.fieldSeparator,d=!1;b=d?-99999:this.expires;""!=b&&("number"==typeof b?(d=new Date,d.setTime((new Date).getTime()+864E5*b),a+="; expires\x3d"+d.toGMTString()):a+="; expires\x3d"+b.toGMTString());null!=this.accessPath&&(a+="; PATH\x3d"+this.accessPath);b=location.hostname;-1==b.search("^[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}$")&&(b=location.hostname.split("."),b=b[b.length-2]+"."+b[b.length-1]);document.cookie=a+("; DOMAIN\x3d"+b);return null};this.remove=function(){this.expires=-10;this.write();return this.read()};this.get=function(c){var d=(new Date).getTime();return"pi"==this.fieldsDuration[c]||"session"==this.fieldsDuration[c]||this.fieldsDuration[c]>=d?this.fields[c]:!1};this.set=function(c,d,a,k){a||(a=31536E3);var l=(new Date).getTime();this.fields[c]=d;this.fieldsDuration[c]="session"!=a&&"pi"!=a?l+1E3*parseInt(a):a;k||this.write();return d};this.prepare=function(c,d,a){this.set(c,d,a,!0)};this.read()};var $=function(e){var g=function(c){var b=this,d="undefined"!==typeof window.ontouchstart,a=function(a,b){c.addEventListener?c.addEventListener(a,b,!1):c.attachEvent&&c.attachEvent("on"+a,b)};this.element=c;this.append=function(a){c.appendChild(a.element);return this};this.attr=function(a){if("object"===typeof a){for(var b in a)c.setAttribute(b,a[b]);return this}return c.getAttribute(a)};this.css=function(a){if("object"===typeof a){for(var b in a)c.style[b]=a[b];return this}return c.style[a]};this.text=function(a){"number"===typeof a&&(a+="");return"string"===typeof a?("string"===typeof c.textContent?c.textContent=a:"string"===typeof c.innerText?c.innerText=a:c.innerHTML=a,this):"string"===typeof c.textContent?c.textContent:"string"===typeof c.innerText?c.innerText:c.innerHTML};this.height=function(){return c.offsetHeight};this.width=function(){return c.offsetWidth};this.offset=function(){for(var a={left:0,top:0},b=!1,d=c;!b;)a.left+=d.offsetLeft,a.top+=d.offsetTop,null===d.offsetParent?b=!0:d=d.offsetParent;return a};this.remove=function(){c.parentNode.removeChild(c);return this};this.click=function(c){a("click",function(a){c.call(b,a)});return this};this.keyup=function(c){a("keyup",function(a){c.call(b,a)});return this};this.mousedown=function(c){a(d?"touchstart":"mousedown",function(a){c.call(b,a)});return this};this.mousemove=function(c){a(d?"touchmove":"mousemove",function(a){c.call(b,a)});return this};this.mouseout=function(c){a("mouseout",function(a){c.call(b,a)});return this};this.mouseover=function(c){a("mouseover",function(a){c.call(b,a)});return this};this.mouseup=function(c){a(d?"touchend":"mouseup",function(a){c.call(b,a)});return this}};if(e){var p=null;"string"===typeof e&&(p="#"==e.charAt(0)?document.getElementById(e.substring(1)):"!"==e.charAt(0)?document.createElement(e.substring(1)):document.getElementsByTagName(e)[0]);"object"===typeof e&&(p=e);if(null!==p)return new g(p)}return null};var CreateSurveyWidget=function(e,g,p,c){var b="object"===typeof c&&null!==c?c:!1,d=this,a=null,k=!1,l=null,m=null,q=null,h=0,t=0,u="number"===typeof wt_maxWidgetElements?wt_maxWidgetElements:6,r=function(a){return{box:$("!div").attr({id:"wt_widgetElement_"+h,"class":"wt_surveyWidgetElement wt_surveyWidgetElementType"+a}),label:$("!div").attr({"class":"wt_surveyWidgetLabel"}),asses:$("!div").attr({"class":"wt_surveyWidgetAssesment"}),clear:$("!div").attr({"class":"wt_surveyWidgetClearer"})}},v=function(c){var b=r("Rating");b.label.text(c.text);b.asses.append($("!div").attr({"class":"wt_background"}));b.asses.append($("!div").attr({id:"wt_ratingWrapper_"+h,"class":"wt_wrapper"}));for(var s=0;5>s;s++){var d=$("!a");d.elementIndex=h;d.ratingIndex=s;d.ratingElement=t;d.click(function(c){c=$("#wt_ratingWrapper_"+this.elementIndex);var b=c.attr("class"),b=b.replace(/(\s)?wt_ratingClick_(\d){1}/g,"");c.attr({"class":b+" wt_ratingClick_"+this.ratingIndex});"undefined"===typeof a.surveyRating&&(a.surveyRating={});a.surveyRating[this.ratingElement]=this.ratingIndex+1;k=!0});d.mouseover(function(a){a=$("#wt_ratingWrapper_"+this.elementIndex);var c=a.attr("class"),c=c.replace(/(\s)?wt_ratingHover_(\d){1}/g,"");a.attr({"class":c+" wt_ratingHover_"+this.ratingIndex})});d.mouseout(function(a){a=$("#wt_ratingWrapper_"+this.elementIndex);var c=a.attr("class"),c=c.replace(/(\s)?wt_ratingHover_(\d){1}/g,"");a.attr({"class":c})});b.asses.append(d)}a.customClickParameter["500"]+=surveyConfiguration.name+";";a.customClickParameter["501"]+=c.text+";";a.customClickParameter["502"]+="0;";t++;b.box.append(b.label);b.box.append(b.asses);b.box.append(b.clear);return b.box},w=function(a){var c=r("Slider"),b=$("!div").attr({"class":"wt_wrapper"}),e=$("!div").attr({"class":"wt_sliderRange"}),h=$("!span").attr({"class":"wt_sliderHandle"}),n=$("!span").attr({"class":"wt_sliderText"}),g=30,l=!1;b.max=a.value.max;b.min=a.value.min;b.factor=(a.value.max-a.value.min)/100;b.placeholder="string"===typeof a.placeholder&&a.placeholder?!0:!1;b.placeholder&&"undefined"===typeof b.placeholderText&&(b.placeholderText=a.placeholder.replace(/(\W|\_)/ig,"\\$1"));b.placeholder&&(b.reg=RegExp(b.placeholderText));c.label.text(b.placeholder?a.text.replace(b.reg,""):a.text);b.click(function(f){"wt_sliderHandle"!==$(f.srcElement?f.srcElement:f.target).attr("class")?(f=100*(f.offsetX||f.layerX)/b.width(),0<=f&&100>=f&&(g=f,e.css({width:f+"%"}),h.css({left:f+"%"}),n.css({left:f+"%"}),n.text(parseInt(f*b.factor+b.min)),f="boolean"==typeof a.isYear&&a.isYear?(new Date).getFullYear()-
parseInt(f*b.factor+b.min)+"0101":parseInt(f*b.factor+b.min),d.setValueToResultObject(a.parameter,a.parameterID,f))):(f="boolean"==typeof a.isYear&&a.isYear?(new Date).getFullYear()-parseInt(g*b.factor+b.min)+"0101":parseInt(g*b.factor+b.min),d.setValueToResultObject(a.parameter,a.parameterID,f));b.placeholder&&c.label.text(a.text.replace(b.reg,n.text()));k=!0});h.mousedown(function(){l=!0;n.css({display:"block"}).text(parseInt(g*b.factor+b.min))});h.mouseover(function(){n.css({display:"block"}).text(parseInt(g*b.factor+b.min))});h.mouseout(function(){n.css({display:"none"})});$(document).mouseup(function(a){l=!1;n.css({display:"none"})});$(document).mousemove(function(f){if(l){var m=e.offset();f=100*(((f.pageX||f.clientX)-m.left)/b.width());0<=f&&100>=f&&(g=f,e.css({width:f+"%"}),h.css({left:f+"%"}),n.css({left:f+"%",display:"block"}).text(parseInt(g*b.factor+b.min)),b.placeholder&&c.label.text(a.text.replace(b.reg,n.text())),f="boolean"==typeof a.isYear&&a.isYear?(new Date).getFullYear()-parseInt(f*b.factor+
b.min)+"0101":parseInt(f*b.factor+b.min),d.setValueToResultObject(a.parameter,a.parameterID,f),k=!0)}});b.append(e);b.append(h);b.append(n);c.asses.append(b);c.box.append(c.label);c.box.append(c.asses);c.box.append(c.clear);return c.box},x=function(a){var b=r("Selection");b.label.text(a.text);var c=$("!div").attr({id:"wt_selection_"+h+"_first","class":"wt_selectionWrapper wt_selectionFirstBox"}),e=$("!div").attr({id:"wt_selection_"+h+"_second","class":"wt_selectionWrapper wt_selectionSecondBox"});c.elementIndex=h;e.elementIndex=h;if("string"===typeof a.values&&a.values){var g=a.values.split(";");c.value=g[0];e.value=g[1]}else c.value="0",e.value="1";c.click(function(){this.attr({"class":this.attr("class").replace(/(\s)?activeSelection/g,"")+" activeSelection"});var b=$("#wt_selection_"+this.elementIndex+"_second");b.attr({"class":b.attr("class").replace(/(\s)?activeSelection/g,"")});d.setValueToResultObject(a.parameter,a.parameterID,this.value);k=!0});e.click(function(){this.attr({"class":this.attr("class").replace(/(\s)?activeSelection/g,"")+" activeSelection"});var b=$("#wt_selection_"+this.elementIndex+"_first");b.attr({"class":b.attr("class").replace(/(\s)?activeSelection/g,"")});d.setValueToResultObject(a.parameter,a.parameterID,this.value);k=!0});b.asses.append(c);b.asses.append(e);b.box.append(b.label);b.box.append(b.asses);b.box.append(b.clear);return b.box},y=function(a){var b=r("Input");b.label.text(a.text);var c=$("!input").attr({id:"wt_inputWrapper_"+h,"class":"wt_inputWrapper",maxlength:("number"==typeof a.maxlength&&50>a.maxlength?a.maxlength:50)+""});c.keyup(function(){0<this.element.value.length&&(d.setValueToResultObject(a.parameter,a.parameterID,this.element.value),k=!0)});b.asses.append(c);b.box.append(b.label);b.box.append(b.asses);b.box.append(b.clear);return b.box},z=function(){q=$("!div").attr({id:"wt_surveyWidgetLayer"});l=$("!div").attr({id:"wt_surveyWidgetWrapper"});m=$("!div").attr({id:"wt_surveyWidgetWrapperBox"});l.append($("!span").attr({id:"wt_surveyWidgetCloser"}).click(function(){d.destroy(!1)}));"string"==typeof surveyConfiguration.widgetHeadline&&surveyConfiguration.widgetHeadline&&l.append($("!h2").text(surveyConfiguration.widgetHeadline));for(var a=0;a<surveyConfiguration.widgetElements.length&&a<u;a++)switch(surveyConfiguration.widgetElements[a].type){case"rating":m.append(v(surveyConfiguration.widgetElements[a]));h++;break;case"slider":m.append(w(surveyConfiguration.widgetElements[a]));h++;break;case"selection":m.append(x(surveyConfiguration.widgetElements[a]));h++;break;case"input":m.append(y(surveyConfiguration.widgetElements[a])),h++}"string"==typeof surveyConfiguration.image&&surveyConfiguration.image&&m.append($("!img").attr({src:protocol+surveyConfiguration.image}));m.append($("!div").attr({"class":"wt_surveySubmit"}).text("string"==typeof surveyConfiguration.submit&&""!=surveyConfiguration.submit?surveyConfiguration.submit:"Senden").click(function(){d.destroy(!0)}));m.append($("!div").attr({"class":"wt_surveyWidgetClearer"}));l.append(m);$("body").append(q).append(l)};this.setValueToResultObject=function(b,c,d){"string"===typeof b&&("string"===typeof c&&c?a[b][c]=d+"":a[b]=d+"")};this.destroy=function(c){if(null!==l&&null!==q){if(k){if("object"===typeof a.surveyRating&&null!==a.surveyRating)for(var d in a.surveyRating){var h=a.customClickParameter["502"].split(";");h[d]=a.surveyRating[d];a.customClickParameter["502"]=h.join(";")}a.customClickParameter["503"]=c?"filled out and submited":"filled out and aborted"}else a.customClickParameter["503"]="unused closed";a.linkId="Webtrekk Survey - "+surveyConfiguration.name;p.sendinfo(a);g&&(e.set(surveyConfiguration.name,"0",surveyConfiguration.cookieDuration),b&&b.css({display:"none"}));l.remove();q.remove()}};this.init=function(){a={customClickParameter:{500:"",501:"",502:"",503:""},customEcommerceParameter:{},customSessionParameter:{},urmCategory:{},emailOptout:!1,gender:!1,birthday:!1};z()}};if("object"===typeof surveyConfiguration){var protocol=document.location.protocol+"//",checkCompatibility=function(){var e=!0;if(navigator&&navigator.userAgent){var g=parseFloat(navigator.userAgent.replace(/(.*msie[\s]{0,1})([0-9]{1,2}|[0-9]{1,2}\.[0-9]{1,2})(;.*)/ig,"$2"));!isNaN(g)&&9>g&&(e=!1)}return e},hideElement=function(){if(3===surveyConfiguration.start){var e=$("#"+surveyConfiguration.element);null!==e&&e.css({display:"none"})}},clearOldSessionCookies=function(e){for(var g in e.fieldsDuration)"session"==e.fieldsDuration[g]&&e.prepare(g,"",-1E3);e.write()};if(checkCompatibility()){var wt_sw=new CookieManager("wt_sw",180,"/"),wt_sw_s=new CookieManager("wt_sw_s",!1,"/");wt_sw_s.get("wt_s")||clearOldSessionCookies(wt_sw);wt_sw_s.set("wt_s","1");0<surveyConfiguration.samplingRate&&(surveyConfiguration.sampling=surveyConfiguration.samplingType=!0);3==surveyConfiguration.start&&(surveyConfiguration.sampling=surveyConfiguration.samplingType=!1,surveyConfiguration.samplingRate=surveyConfiguration.timeout=0);surveyConfiguration.cookieDuration="number"===typeof surveyConfiguration.cookieDuration&&0<surveyConfiguration.cookieDuration?86400*(180>=surveyConfiguration.cookieDuration?surveyConfiguration.cookieDuration:180):"session";var setCookieOnSubmit=!1;surveyConfiguration.sampling&&(setCookieOnSubmit=!0);var allowedToSeeWidget=!0;if(surveyConfiguration.sampling){1<surveyConfiguration.samplingRate&&(allowedToSeeWidget=0===parseInt(Math.random()*surveyConfiguration.samplingRate));var cookieValue=wt_sw.get(surveyConfiguration.name);cookieValue?allowedToSeeWidget="1"===cookieValue:allowedToSeeWidget?wt_sw.set(surveyConfiguration.name,"1",surveyConfiguration.cookieDuration):wt_sw.set(surveyConfiguration.name,"0",surveyConfiguration.cookieDuration)}if(allowedToSeeWidget){var elementToClick=!1,displayElement=!1,elementAppend=!0;1===surveyConfiguration.start?elementToClick=$("!div").attr({id:"wt_surveyStart_Left","class":"wt_surveyStart"}).css({display:"none"}):2===surveyConfiguration.start?elementToClick=$("!div").attr({id:"wt_surveyStart_Right","class":"wt_surveyStart"}).css({display:"none"}):3===surveyConfiguration.start&&(elementToClick=$("#"+surveyConfiguration.element),elementAppend=!1);"object"===typeof elementToClick&&null!==elementToClick&&(elementToClick.click(function(){(new CreateSurveyWidget(wt_sw,setCookieOnSubmit,conf.instance,this)).init()}),elementAppend&&$("body").append(elementToClick),displayElement=!0);null!==elementToClick&&("string"==typeof surveyConfiguration.css&&surveyConfiguration.css?$("head").append($("!style").attr({type:"text/css"}).text(surveyConfiguration.css)):"string"==typeof surveyConfiguration.stylesheet&&surveyConfiguration.stylesheet&&$("head").append($("!link").attr({type:"text/css",rel:"stylesheet",href:protocol+surveyConfiguration.stylesheet})),window.setTimeout(function(){displayElement?elementAppend&&elementToClick.css({display:"block"}):(new CreateSurveyWidget(wt_sw,setCookieOnSubmit,conf.instance,elementToClick)).init()},surveyConfiguration.timeout))}else hideElement()}else hideElement()}}};window.wts.push(["wt_surveyWidget"])}}catch(e){safetagLog("closeHeadEvent error",e)}webtrekkV3.prototype.update=function(){};webtrekkV3.prototype.update();webtrekkV3.prototype.safetagInProgress=false;webtrekkV3.prototype.safetagParameter=pixelParameter;isCloseHeadEventStart=true;return true}return false};var openBodyEvent=function(){if(!isOpenBodyEventStart&&isCloseHeadEventStart){safetagLog("start open body event",(new Date).getTime());try{}catch(e){safetagLog("openBodyEvent error",e)}isOpenBodyEventStart=true;return true}return false};var closeBodyEvent=function(){if(overrideDocumentWriteGlobal){overrideDocumentWriteGlobal=false;window.document.open=window.wt_safetag.open;window.document.write=window.wt_safetag.write;window.document.writeln=window.wt_safetag.writeln;window.document.close=window.wt_safetag.close}if(!isCloseBodyEventStart&&isOpenBodyEventStart){safetagLog("start close body event",(new Date).getTime());if(typeof wt_pixelConfig==="function")wt_pixelConfig({mode:"page",type:"before"});if(getAttribute("autoSendinfo")&&getAttribute("autoSendinfo")!==null){window.wt=new webtrekkV3;wt.sendinfo()}try{}catch(e){safetagLog("closeBodyEvent error",e)}isCloseBodyEventStart=true;return true}return false};window.wt_safetag={"version":version,"getParam":getParam,"checkRegion":checkRegion,"checkRule":checkRule,"loadScripts":loadScripts,"selection":parseInt(cookiePolice.selection)};var overrideDocumentWrite=function(g){var n=function(){},f=[],h=!0,q=function(a,b){var e=[];(function(a,b){var f=function(a,b){if(a&&null!==a)for(var c="undefined"!==typeof a.children&&"number"===typeof a.children.length?a.children:a.childNodes,d=0;d<c.length;d++)!c[d]||1!==c[d].nodeType&&11!==c[d].nodeType&&9!==c[d].nodeType||("string"===typeof c[d].tagName&&c[d].tagName.toLowerCase()===b&&e.push(c[d]),f(c[d],b))};f(a,b)})(a,b);return e},r=function(a,b){var e=[],d=[];if(a&&b){for(var d="function"===typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"function"===typeof a.querySelectorAll?a.querySelectorAll(b||"*"):q(a,b),c=0,f=d.length;c<f;c++)e.push(d[c]);"string"===typeof a.tagName&&a.tagName.toLowerCase()===b&&(a._isScriptNodeOnly=!0,e.push(a))}return e},s=function(a){var b="";"string"===typeof a.text&&a.text?b=a.text:"string"===typeof a.textContent&&a.textContent&&(b=a.textContent);return b},k=function(a,b){return"string"===typeof a.getAttribute(b)?a.getAttribute(b):"object"===typeof a.getAttribute(b)&&"object"===typeof a.attributes[b]&&null!==a.attributes[b]&&null!==a.attributes[b].nodeValue&&"null"!==a.attributes[b].nodeValue?a.attributes[b].nodeValue:""},t=function(a){for(var b="id name type class rel language charset".split(" "),e=document.createElement("script"),d=0,c=b.length;d<c;d++){var f=k(a,b[d]);f&&(e[b[d]]=f)}k(e,"type")||(e.type="text/javascript");return e},u=function(a,b){var e=!1,d=t(a);if(k(a,"src")){var c=!1;d.src=a.src;d.async=!1;d.onerror=function(){c||(c=!0,b())};d.onload=function(){c||(c=!0,b())};d.onreadystatechange=function(){"loaded"!=this.readyState&&"complete"!=this.readyState||c||(c=!0,b())};e=!0}else{var f=s(a);f&&null!==f&&(d.text=f.replace(/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,""))}("undefined"!==typeof document.head&&document.head&&null!==document.head?document.head:document.getElementsByTagName("head")[0]).appendChild(d);e||b()},l=function(a,b,e,d){0<a.length?window.setTimeout(function(){if(f.length===b&&f[b-1][0]===e){var c=a.splice(0,1)[0];h=!0;u(c,function(){c&&null!==c&&(c.parentNode&&null!==c.parentNode)&&c.parentNode.removeChild(c);l(a,b,e,d)})}else l(a,b,e,d)},5):d()},m=function(a,b,e,d){if(0<a.length)window.setTimeout(function(){if(f.length===b&&f[b-1][0]===e){var c=r(a[0],"script");l(c,b,e,function(){var c=a.splice(0,1)[0];!c||null===c||"undefined"===typeof c._isScriptNodeOnly&&"wt_dwd"!==c.id||(c=!1);d(c);m(a,b,e,d)})}else m(a,b,e,d)},5);else if(f[b-1].shift(),0>=f[b-1].length)for(var c=f.length-1;-1<c&&!(0<f[c].length);c--)f.pop()},v=function(a,b){var e=document.createElement("div");e.innerHTML=a;a.toLowerCase()!==e.innerHTML.toLowerCase()&&(e.innerHTML='\x3cdiv id\x3d"wt_dwd"\x3e_\x3c/div\x3e'+a);for(var d=[],c=0,g=e.childNodes.length;c<g;c++)d.push(e.childNodes[c]);e=1;h?(h=!1,f.push([e])):(0>=f.length&&f.push([]),e=f[f.length-1].length+1,f[f.length-1].push(e));m(d,f.length,e,function(a){b(a)})},p=function(a){var b;b="undefined"!==typeof document.body&&document.body&&null!==document.body?document.body:document.getElementsByTagName("body")[0];v(a,function(a){a&&(1!==a.nodeType&&11!==a.nodeType&&9!==a.nodeType||b.appendChild(a))})};g||(g=window.document);g.open=n;g.write=p;g.writeln=p;g.close=n};overrideDocumentWrite(window.wt_safetag);if(checkRegion("url","wt_debug","1")||document&&document.cookie&&document.cookie.indexOf("wt_debug\x3d1")!==-1)debug=true;instantlyEvent();checkEvent("document.head||document.getElementsByTagName('head')[0]",closeHeadEvent);checkEvent("document.body||document.getElementsByTagName('body')[0]",openBodyEvent);if(document.readyState==="complete")checkEvent("true",closeBodyEvent);else registerEvent(window,"load",function(){checkEvent("true",closeBodyEvent)})})(window,document);;if(typeof webtrekkMediaTracking=="undefined"){var webtrekkMediaTracking=new Object();}
function wt_init_media(trackDomain,trackId,sampling){webtrekkMediaTracking.mediaStVersion=316;webtrekkMediaTracking.trackDomain=trackDomain;webtrekkMediaTracking.trackId=trackId;webtrekkMediaTracking.pixelSampling=sampling?sampling:0;webtrekkMediaTracking.deactivatePixel=false;webtrekkMediaTracking.posInterval=new Object();webtrekkMediaTracking.time=new Object();if(Math&&Math.random&&parseInt(Math.random()*parseInt(webtrekkMediaTracking.pixelSampling))!=0){webtrekkMediaTracking.deactivatePixel=true;}}
function wt_sendinfo_media(wt_mi,mk,mt1,mt2,mg,bw,vol,mute){var wt_mg="";var params="";var wt_re=typeof wt_mediaInterval!="undefined"?parseInt(wt_mediaInterval):3*2*5*2;var send=false;params+="&bw="+(bw?bw:"");params+="&vol="+(vol?vol:"");params+="&mut="+(mute?mute:"");if(mg){mg=mg.split(";");for(var z=0;z<mg.length;z++){var tmp=mg[z].split("=");if(mk!="init"&&tmp[0].indexOf("mg")!=-1){continue;}else{wt_mg+="&"+tmp[0]+"="+wt_stEscape(tmp[1]);}}}
if(mk=="init"){webtrekkMediaTracking.posInterval[wt_mi]="";webtrekkMediaTracking.time[wt_mi]="";}
if(typeof webtrekkMediaTracking.trackId=="undefined"&&typeof webtrekk=="object"){wt_init_media(webtrekk.trackDomain,webtrekk.trackId);}else if(typeof webtrekkMediaTracking.trackId=="undefined"&&typeof webtrekk=="undefined"){return;}
if(webtrekkMediaTracking.trackId&&typeof webtrekkMediaTracking.instance=="undefined"){webtrekkMediaTracking.instance=wt_getPixelInstance();webtrekkMediaTracking.eid=wt_getEid(webtrekkMediaTracking.trackId.split(","),webtrekkMediaTracking.instance.split(";"));webtrekkMediaTracking.pixelDeactivate=wt_getSampling(webtrekkMediaTracking.trackId.split(","),webtrekkMediaTracking.instance.split(";"));}
if(typeof mt2!="undefined"&&mt2!=""&&mt2&&(typeof webtrekkMediaTracking.posInterval[wt_mi]=="undefined"||webtrekkMediaTracking.posInterval[wt_mi]=="")){webtrekkMediaTracking.posInterval[wt_mi]=parseInt(mt2)/wt_re>=10?parseInt(mt2)/wt_re*1e3:10*1e3;}else if((typeof mt2=="undefined"||mt2=="")&&(typeof webtrekkMediaTracking.posInterval[wt_mi]=="undefined"||webtrekkMediaTracking.posInterval[wt_mi]=="")){webtrekkMediaTracking.posInterval[wt_mi]=3*2*5*2*1e3;}
var trackId=webtrekkMediaTracking.trackId.split(",");for(var i=0;i<trackId.length;i++){var tempParams=params;if(mk=="pos"&&!send){if(webtrekkMediaTracking.time[wt_mi]==""){webtrekkMediaTracking.time[wt_mi]=new Date().getTime();send=true;}else{var tempTime=new Date().getTime();if(tempTime-webtrekkMediaTracking.time[wt_mi]<webtrekkMediaTracking.posInterval[wt_mi]){return;}else{webtrekkMediaTracking.time[wt_mi]=tempTime;send=true;}}}
if(typeof webtrekkMediaTracking.eid[i]!="undefined"&&webtrekkMediaTracking.eid[i]!=""){tempParams+="&eid="+webtrekkMediaTracking.eid[i];}
if(typeof webtrekkMediaTracking.pixelDeactivate[i]!="undefined"&&webtrekkMediaTracking.pixelDeactivate[i]=="true"){continue;}
wt_stQuicksend(trackId[i],"st&mi="+wt_stEscape(wt_mi)+"&mk="+mk+"&mt1="+mt1+"&mt2="+mt2+wt_mg+tempParams);}}
function wt_stQuicksend(trackId,params,script){if(!webtrekkMediaTracking.trackDomain||!webtrekkMediaTracking.trackId||typeof webtrekkMediaTracking.deactivatePixel!="undefined"&&webtrekkMediaTracking.deactivatePixel){return;}
if(!script){script="wt.pl";}
params+="&x="+new Date().getTime();var wt_url=(location.protocol=="https:"?"https:":"http:")+"//"+webtrekkMediaTracking.trackDomain+"/"+trackId+"/"+script+"?p="+webtrekkMediaTracking.mediaStVersion+","+params;if(document.images){if(typeof wt_i=="undefined"){wt_i=new Array();}
var ii=wt_i.length;wt_i[ii]=new Image();wt_i[ii].src=wt_url;wt_i[ii].onload=function(){};}else{document.write("<img src='"+wt_url+"' height='1' width='1'>");}}
function wt_stEscape(u){if(typeof encodeURIComponent=="function"){return encodeURIComponent(u);}
return escape(u);}
function wt_typeof(v){return typeof v!="undefined"?1:0;}
function wt_getPixelInstance(){var wt_instance="";for(var index in window){if(typeof window[index]=="object"&&window[index]!=null){try{var contentId=window[index]["contentId"]?window[index]["contentId"]:false;var trackId=window[index]["trackId"]?window[index]["trackId"]:false;var trackDomain=window[index]["trackDomain"]?window[index]["trackDomain"]:false;var domain=window[index]["domain"]?window[index]["domain"]:false;var version=window[index]["version"]?window[index]["version"]:window["wt_version"]?window["wt_version"]:false;if(contentId&&trackId&&trackDomain&&domain&&version){wt_instance+=index+";";}}catch(e){}}}
return wt_instance;}
function wt_getEid(trackId,instance){var found=false;var wt_eid="";for(var i=0;i<trackId.length;i++){found=false;for(var j=0;j<instance.length-1;j++){var eid=window[instance[j]]["eid"]?window[instance[j]]["eid"]:instance[j]=="webtrekk"&&window["wt_cookie_eid"]?window["wt_cookie_eid"]:false;if(eid){var temp=window[instance[j]]["trackId"].split(",");for(var k=0;k<temp.length;k++){if(trackId[i]==temp[k]){wt_eid+=eid+";";found=true;break;}}}
if(found){break;}}
if(!found){wt_eid+=";";}}
return wt_eid.split(";");}
function wt_getSampling(trackId,instance){var found=false;var wt_sampling="";for(var i=0;i<trackId.length;i++){found=false;for(var j=0;j<instance.length-1;j++){var deactivatePixel=window[instance[j]]["deactivatePixel"]?window[instance[j]]["deactivatePixel"]:instance[j]=="webtrekk"&&window["wt_deactivatePixel"]?window["wt_deactivatePixel"]:false;var temp=window[instance[j]]["trackId"].split(",");for(var k=0;k<temp.length;k++){if(trackId[i]==temp[k]){wt_sampling+=deactivatePixel+";";found=true;break;}}
if(found){break;}}
if(!found){wt_sampling+=";";}}
return wt_sampling.split(";");};!function($){"use strict";var FOUNDATION_VERSION='6.1.1';var Foundation={version:FOUNDATION_VERSION,_plugins:{},_uuids:[],_activePlugins:{},rtl:function(){return $('html').attr('dir')==='rtl';},plugin:function(plugin,name){var className=(name||functionName(plugin));var attrName=hyphenate(className);this._plugins[attrName]=this[className]=plugin;},registerPlugin:function(plugin,name){var pluginName=name?hyphenate(name):functionName(plugin.constructor).toLowerCase();plugin.uuid=this.GetYoDigits(6,pluginName);if(!plugin.$element.attr('data-'+pluginName)){plugin.$element.attr('data-'+pluginName,plugin.uuid);}
if(!plugin.$element.data('zfPlugin')){plugin.$element.data('zfPlugin',plugin);}
plugin.$element.trigger('init.zf.'+pluginName);this._uuids.push(plugin.uuid);return;},unregisterPlugin:function(plugin){var pluginName=hyphenate(functionName(plugin.$element.data('zfPlugin').constructor));this._uuids.splice(this._uuids.indexOf(plugin.uuid),1);plugin.$element.removeAttr('data-'+pluginName).removeData('zfPlugin').trigger('destroyed.zf.'+pluginName);for(var prop in plugin){plugin[prop]=null;}
return;},reInit:function(plugins){var isJQ=plugins instanceof $;try{if(isJQ){plugins.each(function(){$(this).data('zfPlugin')._init();});}else{var type=typeof plugins,_this=this,fns={'object':function(plgs){plgs.forEach(function(p){$('[data-'+p+']').foundation('_init');});},'string':function(){$('[data-'+plugins+']').foundation('_init');},'undefined':function(){this['object'](Object.keys(_this._plugins));}};fns[type](plugins);}}catch(err){console.error(err);}finally{return plugins;}},GetYoDigits:function(length,namespace){length=length||6;return Math.round((Math.pow(36,length+1)-Math.random()*Math.pow(36,length))).toString(36).slice(1)+(namespace?'-'+namespace:'');},reflow:function(elem,plugins){if(typeof plugins==='undefined'){plugins=Object.keys(this._plugins);}
else if(typeof plugins==='string'){plugins=[plugins];}
var _this=this;$.each(plugins,function(i,name){var plugin=_this._plugins[name];var $elem=$(elem).find('[data-'+name+']').addBack('[data-'+name+']');$elem.each(function(){var $el=$(this),opts={};if($el.data('zfPlugin')){console.warn("Tried to initialize "+name+" on an element that already has a Foundation plugin.");return;}
if($el.attr('data-options')){var thing=$el.attr('data-options').split(';').forEach(function(e,i){var opt=e.split(':').map(function(el){return el.trim();});if(opt[0])opts[opt[0]]=parseValue(opt[1]);});}
try{$el.data('zfPlugin',new plugin($(this),opts));}catch(er){console.error(er);}finally{return;}});});},getFnName:functionName,transitionend:function($elem){var transitions={'transition':'transitionend','WebkitTransition':'webkitTransitionEnd','MozTransition':'transitionend','OTransition':'otransitionend'};var elem=document.createElement('div'),end;for(var t in transitions){if(typeof elem.style[t]!=='undefined'){end=transitions[t];}}
if(end){return end;}else{end=setTimeout(function(){$elem.triggerHandler('transitionend',[$elem]);},1);return'transitionend';}}};Foundation.util={throttle:function(func,delay){var timer=null;return function(){var context=this,args=arguments;if(timer===null){timer=setTimeout(function(){func.apply(context,args);timer=null;},delay);}};}};var foundation=function(method){var type=typeof method,$meta=$('meta.foundation-mq'),$noJS=$('.no-js');if(!$meta.length){$('<meta class="foundation-mq">').appendTo(document.head);}
if($noJS.length){$noJS.removeClass('no-js');}
if(type==='undefined'){Foundation.MediaQuery._init();Foundation.reflow(this);}else if(type==='string'){var args=Array.prototype.slice.call(arguments,1);var plugClass=this.data('zfPlugin');if(plugClass!==undefined&&plugClass[method]!==undefined){if(this.length===1){plugClass[method].apply(plugClass,args);}else{this.each(function(i,el){plugClass[method].apply($(el).data('zfPlugin'),args);});}}else{throw new ReferenceError("We're sorry, '"+method+"' is not an available method for "+(plugClass?functionName(plugClass):'this element')+'.');}}else{throw new TypeError("We're sorry, '"+type+"' is not a valid parameter. You must use a string representing the method you wish to invoke.");}
return this;};window.Foundation=Foundation;$.fn.foundation=foundation;(function(){if(!Date.now||!window.Date.now)
window.Date.now=Date.now=function(){return new Date().getTime();};var vendors=['webkit','moz'];for(var i=0;i<vendors.length&&!window.requestAnimationFrame;++i){var vp=vendors[i];window.requestAnimationFrame=window[vp+'RequestAnimationFrame'];window.cancelAnimationFrame=(window[vp+'CancelAnimationFrame']||window[vp+'CancelRequestAnimationFrame']);}
if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var lastTime=0;window.requestAnimationFrame=function(callback){var now=Date.now();var nextTime=Math.max(lastTime+16,now);return setTimeout(function(){callback(lastTime=nextTime);},nextTime-now);};window.cancelAnimationFrame=clearTimeout;}
if(!window.performance||!window.performance.now){window.performance={start:Date.now(),now:function(){return Date.now()-this.start;}};}})();if(!Function.prototype.bind){Function.prototype.bind=function(oThis){if(typeof this!=='function'){throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable');}
var aArgs=Array.prototype.slice.call(arguments,1),fToBind=this,fNOP=function(){},fBound=function(){return fToBind.apply(this instanceof fNOP?this:oThis,aArgs.concat(Array.prototype.slice.call(arguments)));};if(this.prototype){fNOP.prototype=this.prototype;}
fBound.prototype=new fNOP();return fBound;};}
function functionName(fn){if(Function.prototype.name===undefined){var funcNameRegex=/function\s([^(]{1,})\(/;var results=(funcNameRegex).exec((fn).toString());return(results&&results.length>1)?results[1].trim():"";}
else if(fn.prototype===undefined){return fn.constructor.name;}
else{return fn.prototype.constructor.name;}}
function parseValue(str){if(/true/.test(str))return true;else if(/false/.test(str))return false;else if(!isNaN(str*1))return parseFloat(str);return str;}
function hyphenate(str){return str.replace(/([a-z])([A-Z])/g,'$1-$2').toLowerCase();}}(jQuery);!function(Foundation,window){var ImNotTouchingYou=function(element,parent,lrOnly,tbOnly){var eleDims=GetDimensions(element),top,bottom,left,right;if(parent){var parDims=GetDimensions(parent);bottom=(eleDims.offset.top+eleDims.height<=parDims.height+parDims.offset.top);top=(eleDims.offset.top>=parDims.offset.top);left=(eleDims.offset.left>=parDims.offset.left);right=(eleDims.offset.left+eleDims.width<=parDims.width);}else{bottom=(eleDims.offset.top+eleDims.height<=eleDims.windowDims.height+eleDims.windowDims.offset.top);top=(eleDims.offset.top>=eleDims.windowDims.offset.top);left=(eleDims.offset.left>=eleDims.windowDims.offset.left);right=(eleDims.offset.left+eleDims.width<=eleDims.windowDims.width);}
var allDirs=[bottom,top,left,right];if(lrOnly){return left===right===true;}
if(tbOnly){return top===bottom===true;}
return allDirs.indexOf(false)===-1;};var GetDimensions=function(elem,test){elem=elem.length?elem[0]:elem;if(elem===window||elem===document){throw new Error("I'm sorry, Dave. I'm afraid I can't do that.");}
var rect=elem.getBoundingClientRect(),parRect=elem.parentNode.getBoundingClientRect(),winRect=document.body.getBoundingClientRect(),winY=window.pageYOffset,winX=window.pageXOffset;return{width:rect.width,height:rect.height,offset:{top:rect.top+winY,left:rect.left+winX},parentDims:{width:parRect.width,height:parRect.height,offset:{top:parRect.top+winY,left:parRect.left+winX}},windowDims:{width:winRect.width,height:winRect.height,offset:{top:winY,left:winX}}};};var GetOffsets=function(element,anchor,position,vOffset,hOffset,isOverflow){var $eleDims=GetDimensions(element),$anchorDims=anchor?GetDimensions(anchor):null;switch(position){case'top':return{left:$anchorDims.offset.left,top:$anchorDims.offset.top-($eleDims.height+vOffset)};break;case'left':return{left:$anchorDims.offset.left-($eleDims.width+hOffset),top:$anchorDims.offset.top};break;case'right':return{left:$anchorDims.offset.left+$anchorDims.width+hOffset,top:$anchorDims.offset.top};break;case'center top':return{left:($anchorDims.offset.left+($anchorDims.width/2))-($eleDims.width/2),top:$anchorDims.offset.top-($eleDims.height+vOffset)};break;case'center bottom':return{left:isOverflow?hOffset:(($anchorDims.offset.left+($anchorDims.width/2))-($eleDims.width/2)),top:$anchorDims.offset.top+$anchorDims.height+vOffset};break;case'center left':return{left:$anchorDims.offset.left-($eleDims.width+hOffset),top:($anchorDims.offset.top+($anchorDims.height/2))-($eleDims.height/2)};break;case'center right':return{left:$anchorDims.offset.left+$anchorDims.width+hOffset+1,top:($anchorDims.offset.top+($anchorDims.height/2))-($eleDims.height/2)};break;case'center':return{left:($eleDims.windowDims.offset.left+($eleDims.windowDims.width/2))-($eleDims.width/2),top:($eleDims.windowDims.offset.top+($eleDims.windowDims.height/2))-($eleDims.height/2)};break;case'reveal':return{left:($eleDims.windowDims.width-$eleDims.width)/2,top:$eleDims.windowDims.offset.top+vOffset};case'reveal full':return{left:$eleDims.windowDims.offset.left,top:$eleDims.windowDims.offset.top};break;default:return{left:$anchorDims.offset.left,top:$anchorDims.offset.top+$anchorDims.height+vOffset};}};Foundation.Box={ImNotTouchingYou:ImNotTouchingYou,GetDimensions:GetDimensions,GetOffsets:GetOffsets};}(window.Foundation,window);!function($,Foundation){'use strict';Foundation.Keyboard={};var keyCodes={9:'TAB',13:'ENTER',27:'ESCAPE',32:'SPACE',37:'ARROW_LEFT',38:'ARROW_UP',39:'ARROW_RIGHT',40:'ARROW_DOWN'};var keys=(function(kcs){var k={};for(var kc in kcs)k[kcs[kc]]=kcs[kc];return k;})(keyCodes);Foundation.Keyboard.keys=keys;var parseKey=function(event){var key=keyCodes[event.which||event.keyCode]||String.fromCharCode(event.which).toUpperCase();if(event.shiftKey)key='SHIFT_'+key;if(event.ctrlKey)key='CTRL_'+key;if(event.altKey)key='ALT_'+key;return key;};Foundation.Keyboard.parseKey=parseKey;var commands={};var handleKey=function(event,component,functions){var commandList=commands[component],keyCode=parseKey(event),cmds,command,fn;if(!commandList)return console.warn('Component not defined!');if(typeof commandList.ltr==='undefined'){cmds=commandList;}else{if(Foundation.rtl())cmds=$.extend({},commandList.ltr,commandList.rtl);else cmds=$.extend({},commandList.rtl,commandList.ltr);}
command=cmds[keyCode];fn=functions[command];if(fn&&typeof fn==='function'){fn.apply();if(functions.handled||typeof functions.handled==='function'){functions.handled.apply();}}else{if(functions.unhandled||typeof functions.unhandled==='function'){functions.unhandled.apply();}}};Foundation.Keyboard.handleKey=handleKey;var findFocusable=function($element){return $element.find('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]').filter(function(){if(!$(this).is(':visible')||$(this).attr('tabindex')<0){return false;}
return true;});};Foundation.Keyboard.findFocusable=findFocusable;var register=function(componentName,cmds){commands[componentName]=cmds;};Foundation.Keyboard.register=register;}(jQuery,window.Foundation);!function($,Foundation){var defaultQueries={'default':'only screen',landscape:'only screen and (orientation: landscape)',portrait:'only screen and (orientation: portrait)',retina:'only screen and (-webkit-min-device-pixel-ratio: 2),'+'only screen and (min--moz-device-pixel-ratio: 2),'+'only screen and (-o-min-device-pixel-ratio: 2/1),'+'only screen and (min-device-pixel-ratio: 2),'+'only screen and (min-resolution: 192dpi),'+'only screen and (min-resolution: 2dppx)'};var MediaQuery={queries:[],current:'',atLeast:function(size){var query=this.get(size);if(query){return window.matchMedia(query).matches;}
return false;},get:function(size){for(var i in this.queries){var query=this.queries[i];if(size===query.name)return query.value;}
return null;},_init:function(){var self=this;var extractedStyles=$('.foundation-mq').css('font-family');var namedQueries;namedQueries=parseStyleToObject(extractedStyles);for(var key in namedQueries){self.queries.push({name:key,value:'only screen and (min-width: '+namedQueries[key]+')'});}
this.current=this._getCurrentSize();this._watcher();},_getCurrentSize:function(){var matched;for(var i in this.queries){var query=this.queries[i];if(window.matchMedia(query.value).matches){matched=query;}}
if(typeof matched==='object'){return matched.name;}else{return matched;}},_watcher:function(){var _this=this;$(window).on('resize.zf.mediaquery',function(){var newSize=_this._getCurrentSize();if(newSize!==_this.current){$(window).trigger('changed.zf.mediaquery',[newSize,_this.current]);_this.current=newSize;}});}};Foundation.MediaQuery=MediaQuery;window.matchMedia||(window.matchMedia=function(){'use strict';var styleMedia=(window.styleMedia||window.media);if(!styleMedia){var style=document.createElement('style'),script=document.getElementsByTagName('script')[0],info=null;style.type='text/css';style.id='matchmediajs-test';script.parentNode.insertBefore(style,script);info=('getComputedStyle'in window)&&window.getComputedStyle(style,null)||style.currentStyle;styleMedia={matchMedium:function(media){var text='@media '+media+'{ #matchmediajs-test { width: 1px; } }';if(style.styleSheet){style.styleSheet.cssText=text;}else{style.textContent=text;}
return info.width==='1px';}};}
return function(media){return{matches:styleMedia.matchMedium(media||'all'),media:media||'all'};};}());function parseStyleToObject(str){var styleObject={};if(typeof str!=='string'){return styleObject;}
str=str.trim().slice(1,-1);if(!str){return styleObject;}
styleObject=str.split('&').reduce(function(ret,param){var parts=param.replace(/\+/g,' ').split('=');var key=parts[0];var val=parts[1];key=decodeURIComponent(key);val=val===undefined?null:decodeURIComponent(val);if(!ret.hasOwnProperty(key)){ret[key]=val;}else if(Array.isArray(ret[key])){ret[key].push(val);}else{ret[key]=[ret[key],val];}
return ret;},{});return styleObject;}}(jQuery,Foundation);!function($,Foundation){var initClasses=['mui-enter','mui-leave'];var activeClasses=['mui-enter-active','mui-leave-active'];function animate(isIn,element,animation,cb){element=$(element).eq(0);if(!element.length)return;var initClass=isIn?initClasses[0]:initClasses[1];var activeClass=isIn?activeClasses[0]:activeClasses[1];reset();element.addClass(animation).css('transition','none');requestAnimationFrame(function(){element.addClass(initClass);if(isIn)element.show();});requestAnimationFrame(function(){element[0].offsetWidth;element.css('transition','');element.addClass(activeClass);});element.one(Foundation.transitionend(element),finish);function finish(){if(!isIn)element.hide();reset();if(cb)cb.apply(element);}
function reset(){element[0].style.transitionDuration=0;element.removeClass(initClass+' '+activeClass+' '+animation);}}
var Motion={animateIn:function(element,animation,cb){animate(true,element,animation,cb);},animateOut:function(element,animation,cb){animate(false,element,animation,cb);}};var Move=function(duration,elem,fn){var anim,prog,start=null;function move(ts){if(!start)start=window.performance.now();prog=ts-start;fn.apply(elem);if(prog<duration){anim=window.requestAnimationFrame(move,elem);}
else{window.cancelAnimationFrame(anim);elem.trigger('finished.zf.animate',[elem]).triggerHandler('finished.zf.animate',[elem]);}}
anim=window.requestAnimationFrame(move);};Foundation.Move=Move;Foundation.Motion=Motion;}(jQuery,Foundation);!function($,Foundation){'use strict';Foundation.Nest={Feather:function(menu,type){menu.attr('role','menubar');type=type||'zf';var items=menu.find('li').attr({'role':'menuitem'}),subMenuClass='is-'+type+'-submenu',subItemClass=subMenuClass+'-item',hasSubClass='is-'+type+'-submenu-parent';menu.find('a:first').attr('tabindex',0);items.each(function(){var $item=$(this),$sub=$item.children('ul');if($sub.length){$item.addClass('has-submenu '+hasSubClass).attr({'aria-haspopup':true,'aria-selected':false,'aria-expanded':false,'aria-label':$item.children('a:first').text()});$sub.addClass('submenu '+subMenuClass).attr({'data-submenu':'','aria-hidden':true,'role':'menu'});}
if($item.parent('[data-submenu]').length){$item.addClass('is-submenu-item '+subItemClass);}});return;},Burn:function(menu,type){var items=menu.find('li').removeAttr('tabindex'),subMenuClass='is-'+type+'-submenu',subItemClass=subMenuClass+'-item',hasSubClass='is-'+type+'-submenu-parent';menu.find('*').removeClass(subMenuClass+' '+subItemClass+' '+hasSubClass+' has-submenu is-submenu-item submenu is-active').removeAttr('data-submenu').css('display','');}};}(jQuery,window.Foundation);!function($,Foundation){'use strict';var Timer=function(elem,options,cb){var _this=this,duration=options.duration,nameSpace=Object.keys(elem.data())[0]||'timer',remain=-1,start,timer;this.restart=function(){remain=-1;clearTimeout(timer);this.start();};this.start=function(){clearTimeout(timer);remain=remain<=0?duration:remain;elem.data('paused',false);start=Date.now();timer=setTimeout(function(){if(options.infinite){_this.restart();}
cb();},remain);elem.trigger('timerstart.zf.'+nameSpace);};this.pause=function(){clearTimeout(timer);elem.data('paused',true);var end=Date.now();remain=remain-(end-start);elem.trigger('timerpaused.zf.'+nameSpace);};};var onImagesLoaded=function(images,callback){var self=this,unloaded=images.length;if(unloaded===0){callback();}
var singleImageLoaded=function(){unloaded--;if(unloaded===0){callback();}};images.each(function(){if(this.complete){singleImageLoaded();}
else if(typeof this.naturalWidth!=='undefined'&&this.naturalWidth>0){singleImageLoaded();}
else{$(this).one('load',function(){singleImageLoaded();});}});};Foundation.Timer=Timer;Foundation.onImagesLoaded=onImagesLoaded;}(jQuery,window.Foundation);(function($){$.spotSwipe={version:'1.0.0',enabled:'ontouchstart'in document.documentElement,preventDefault:false,moveThreshold:75,timeThreshold:200};var startPosX,startPosY,startTime,elapsedTime,isMoving=false;function onTouchEnd(){this.removeEventListener('touchmove',onTouchMove);this.removeEventListener('touchend',onTouchEnd);isMoving=false;}
function onTouchMove(e){if($.spotSwipe.preventDefault){e.preventDefault();}
if(isMoving){var x=e.touches[0].pageX;var y=e.touches[0].pageY;var dx=startPosX-x;var dy=startPosY-y;var dir;elapsedTime=new Date().getTime()-startTime;if(Math.abs(dx)>=$.spotSwipe.moveThreshold&&elapsedTime<=$.spotSwipe.timeThreshold){dir=dx>0?'left':'right';}
if(dir){e.preventDefault();onTouchEnd.call(this);$(this).trigger('swipe',dir).trigger('swipe'+dir);}}}
function onTouchStart(e){if(e.touches.length==1){startPosX=e.touches[0].pageX;startPosY=e.touches[0].pageY;isMoving=true;startTime=new Date().getTime();this.addEventListener('touchmove',onTouchMove,false);this.addEventListener('touchend',onTouchEnd,false);}}
function init(){this.addEventListener&&this.addEventListener('touchstart',onTouchStart,false);}
function teardown(){this.removeEventListener('touchstart',onTouchStart);}
$.event.special.swipe={setup:init};$.each(['left','up','down','right'],function(){$.event.special['swipe'+this]={setup:function(){$(this).on('swipe',$.noop);}};});})(jQuery);!function($){$.fn.addTouch=function(){this.each(function(i,el){$(el).bind('touchstart touchmove touchend touchcancel',function(){handleTouch(event);});});var handleTouch=function(event){var touches=event.changedTouches,first=touches[0],eventTypes={touchstart:'mousedown',touchmove:'mousemove',touchend:'mouseup'},type=eventTypes[event.type];var simulatedEvent=document.createEvent('MouseEvent');simulatedEvent.initMouseEvent(type,true,true,window,1,first.screenX,first.screenY,first.clientX,first.clientY,false,false,false,false,0,null);first.target.dispatchEvent(simulatedEvent);};};}(jQuery);!function(Foundation,$){'use strict';$(document).on('click.zf.trigger','[data-open]',function(){var id=$(this).data('open');$('#'+id).triggerHandler('open.zf.trigger',[$(this)]);});$(document).on('click.zf.trigger','[data-close]',function(){var id=$(this).data('close');if(id){$('#'+id).triggerHandler('close.zf.trigger',[$(this)]);}
else{$(this).trigger('close.zf.trigger');}});$(document).on('click.zf.trigger','[data-toggle]',function(){var id=$(this).data('toggle');$('#'+id).triggerHandler('toggle.zf.trigger',[$(this)]);});$(document).on('close.zf.trigger','[data-closable]',function(){var animation=$(this).data('closable')||'fade-out';if(Foundation.Motion){Foundation.Motion.animateOut($(this),animation,function(){$(this).trigger('closed.zf');});}else{$(this).fadeOut().trigger('closed.zf');}});var MutationObserver=(function(){var prefixes=['WebKit','Moz','O','Ms',''];for(var i=0;i<prefixes.length;i++){if(prefixes[i]+'MutationObserver'in window){return window[prefixes[i]+'MutationObserver'];}}
return false;}());var checkListeners=function(){eventsListener();resizeListener();scrollListener();closemeListener();};$(window).load(function(){checkListeners();});var closemeListener=function(pluginName){var yetiBoxes=$('[data-yeti-box]'),plugNames=['dropdown','tooltip','reveal'];if(pluginName){if(typeof pluginName==='string'){plugNames.push(pluginName);}else if(typeof pluginName==='object'&&typeof pluginName[0]==='string'){plugNames.concat(pluginName);}else{console.error('Plugin names must be strings');}}
if(yetiBoxes.length){var listeners=plugNames.map(function(name){return'closeme.zf.'+name;}).join(' ');$(window).off(listeners).on(listeners,function(e,pluginId){var plugin=e.namespace.split('.')[0];var plugins=$('[data-'+plugin+']').not('[data-yeti-box="'+pluginId+'"]');plugins.each(function(){var _this=$(this);_this.triggerHandler('close.zf.trigger',[_this]);});});}};var resizeListener=function(debounce){var timer,$nodes=$('[data-resize]');if($nodes.length){$(window).off('resize.zf.trigger').on('resize.zf.trigger',function(e){if(timer){clearTimeout(timer);}
timer=setTimeout(function(){if(!MutationObserver){$nodes.each(function(){$(this).triggerHandler('resizeme.zf.trigger');});}
$nodes.attr('data-events',"resize");},debounce||10);});}};var scrollListener=function(debounce){var timer,$nodes=$('[data-scroll]');if($nodes.length){$(window).off('scroll.zf.trigger').on('scroll.zf.trigger',function(e){if(timer){clearTimeout(timer);}
timer=setTimeout(function(){if(!MutationObserver){$nodes.each(function(){$(this).triggerHandler('scrollme.zf.trigger');});}
$nodes.attr('data-events',"scroll");},debounce||10);});}};var eventsListener=function(){if(!MutationObserver){return false;}
var nodes=document.querySelectorAll('[data-resize], [data-scroll], [data-mutate]');var listeningElementsMutation=function(mutationRecordsList){var $target=$(mutationRecordsList[0].target);switch($target.attr("data-events")){case"resize":$target.triggerHandler('resizeme.zf.trigger',[$target]);break;case"scroll":$target.triggerHandler('scrollme.zf.trigger',[$target,window.pageYOffset]);break;default:return false;}}
if(nodes.length){for(var i=0;i<=nodes.length-1;i++){var elementObserver=new MutationObserver(listeningElementsMutation);elementObserver.observe(nodes[i],{attributes:true,childList:false,characterData:false,subtree:false,attributeFilter:["data-events"]});}}};Foundation.IHearYou=checkListeners;}(window.Foundation,window.jQuery);!function(Foundation,$){'use strict';function Abide(element,options){this.$element=element;this.options=$.extend({},Abide.defaults,this.$element.data(),options);this._init();Foundation.registerPlugin(this,'Abide');}
Abide.defaults={validateOn:'fieldChange',labelErrorClass:'is-invalid-label',inputErrorClass:'is-invalid-input',formErrorSelector:'.form-error',formErrorClass:'is-visible',liveValidate:false,patterns:{alpha:/^[a-zA-Z]+$/,alpha_numeric:/^[a-zA-Z0-9]+$/,integer:/^[-+]?\d+$/,number:/^[-+]?\d*(?:[\.\,]\d+)?$/,card:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,cvv:/^([0-9]){3,4}$/,email:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/,url:/^(https?|ftp|file|ssh):\/\/(((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/,domain:/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,8}$/,datetime:/^([0-2][0-9]{3})\-([0-1][0-9])\-([0-3][0-9])T([0-5][0-9])\:([0-5][0-9])\:([0-5][0-9])(Z|([\-\+]([0-1][0-9])\:00))$/,date:/(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))$/,time:/^(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]){2}$/,dateISO:/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/,month_day_year:/^(0[1-9]|1[012])[- \/.](0[1-9]|[12][0-9]|3[01])[- \/.]\d{4}$/,day_month_year:/^(0[1-9]|[12][0-9]|3[01])[- \/.](0[1-9]|1[012])[- \/.]\d{4}$/,color:/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/},validators:{equalTo:function(el,required,parent){return $('#'+el.attr('data-equalto')).val()===el.val();}}};Abide.prototype._init=function(){this.$inputs=this.$element.find('input, textarea, select').not('[data-abide-ignore]');this._events();};Abide.prototype._events=function(){var _this=this;this.$element.off('.abide').on('reset.zf.abide',function(e){_this.resetForm();}).on('submit.zf.abide',function(e){return _this.validateForm();});if(this.options.validateOn==='fieldChange'){this.$inputs.off('change.zf.abide').on('change.zf.abide',function(e){_this.validateInput($(this));});}
if(this.options.liveValidate){this.$inputs.off('input.zf.abide').on('input.zf.abide',function(e){_this.validateInput($(this));});}},Abide.prototype._reflow=function(){this._init();};Abide.prototype.requiredCheck=function($el){if(!$el.attr('required'))return true;var isGood=true;switch($el[0].type){case'checkbox':case'radio':isGood=$el[0].checked;break;case'select':case'select-one':case'select-multiple':var opt=$el.find('option:selected');if(!opt.length||!opt.val())isGood=false;break;default:if(!$el.val()||!$el.val().length)isGood=false;}
return isGood;};Abide.prototype.findFormError=function($el){var $error=$el.siblings(this.options.formErrorSelector)
if(!$error.length){$error=$el.parent().find(this.options.formErrorSelector);}
return $error;};Abide.prototype.findLabel=function($el){var $label=this.$element.find('label[for="'+$el[0].id+'"]');if(!$label.length){return $el.closest('label');}
return $label;};Abide.prototype.addErrorClasses=function($el){var $label=this.findLabel($el),$formError=this.findFormError($el);if($label.length){$label.addClass(this.options.labelErrorClass);}
if($formError.length){$formError.addClass(this.options.formErrorClass);}
$el.addClass(this.options.inputErrorClass).attr('data-invalid','');};Abide.prototype.removeErrorClasses=function($el){var $label=this.findLabel($el),$formError=this.findFormError($el);if($label.length){$label.removeClass(this.options.labelErrorClass);}
if($formError.length){$formError.removeClass(this.options.formErrorClass);}
$el.removeClass(this.options.inputErrorClass).removeAttr('data-invalid');};Abide.prototype.validateInput=function($el){var clearRequire=this.requiredCheck($el),validated=false,customValidator=true,validator=$el.attr('data-validator'),equalTo=true;switch($el[0].type){case'radio':validated=this.validateRadio($el.attr('name'));break;case'checkbox':validated=clearRequire;break;case'select':case'select-one':case'select-multiple':validated=clearRequire;break;default:validated=this.validateText($el);}
if(validator){customValidator=this.matchValidation($el,validator,$el.attr('required'));}
if($el.attr('data-equalto')){equalTo=this.options.validators.equalTo($el);}
var goodToGo=[clearRequire,validated,customValidator,equalTo].indexOf(false)===-1,message=(goodToGo?'valid':'invalid')+'.zf.abide';this[goodToGo?'removeErrorClasses':'addErrorClasses']($el);$el.trigger(message,$el[0]);return goodToGo;};Abide.prototype.validateForm=function(){var acc=[],_this=this;this.$inputs.each(function(){acc.push(_this.validateInput($(this)));});var noError=acc.indexOf(false)===-1;this.$element.find('[data-abide-error]').css('display',(noError?'none':'block'));this.$element.trigger((noError?'formvalid':'forminvalid')+'.zf.abide',[this.$element]);return noError;};Abide.prototype.validateText=function($el,pattern){pattern=(pattern||$el.attr('pattern')||$el.attr('type'));var inputText=$el.val();return inputText.length?this.options.patterns.hasOwnProperty(pattern)?this.options.patterns[pattern].test(inputText):pattern&&pattern!==$el.attr('type')?new RegExp(pattern).test(inputText):true:true;};Abide.prototype.validateRadio=function(groupName){var $group=this.$element.find(':radio[name="'+groupName+'"]'),counter=[],_this=this;$group.each(function(){var rdio=$(this),clear=_this.requiredCheck(rdio);counter.push(clear);if(clear)_this.removeErrorClasses(rdio);});return counter.indexOf(false)===-1;};Abide.prototype.matchValidation=function($el,validators,required){var _this=this;required=required?true:false;var clear=validators.split(' ').map(function(v){return _this.options.validators[v]($el,required,$el.parent());});return clear.indexOf(false)===-1;};Abide.prototype.resetForm=function(){var $form=this.$element,opts=this.options;$('.'+opts.labelErrorClass,$form).not('small').removeClass(opts.labelErrorClass);$('.'+opts.inputErrorClass,$form).not('small').removeClass(opts.inputErrorClass);$(opts.formErrorSelector+'.'+opts.formErrorClass).removeClass(opts.formErrorClass);$form.find('[data-abide-error]').css('display','none');$(':input',$form).not(':button, :submit, :reset, :hidden, [data-abide-ignore]').val('').removeAttr('data-invalid');$form.trigger('formreset.zf.abide',[$form]);};Abide.prototype.destroy=function(){var _this=this;this.$element.off('.abide').find('[data-abide-error]').css('display','none');this.$inputs.off('.abide').each(function(){_this.removeErrorClasses($(this));});Foundation.unregisterPlugin(this);};Foundation.plugin(Abide,'Abide');if(typeof module!=='undefined'&&typeof module.exports!=='undefined')
module.exports=Abide;if(typeof define==='function')
define(['foundation'],function(){return Abide;});}(Foundation,jQuery);!function($,Foundation){'use strict';function Accordion(element,options){this.$element=element;this.options=$.extend({},Accordion.defaults,this.$element.data(),options);this._init();Foundation.registerPlugin(this,'Accordion');Foundation.Keyboard.register('Accordion',{'ENTER':'toggle','SPACE':'toggle','ARROW_DOWN':'next','ARROW_UP':'previous'});}
Accordion.defaults={slideSpeed:250,multiExpand:false,allowAllClosed:false};Accordion.prototype._init=function(){this.$element.attr('role','tablist');this.$tabs=this.$element.children('li');if(this.$tabs.length==0){this.$tabs=this.$element.children('[data-accordion-item]');}
this.$tabs.each(function(idx,el){var $el=$(el),$content=$el.find('[data-tab-content]'),id=$content[0].id||Foundation.GetYoDigits(6,'accordion'),linkId=el.id||id+'-label';$el.find('a:first').attr({'aria-controls':id,'role':'tab','id':linkId,'aria-expanded':false,'aria-selected':false});$content.attr({'role':'tabpanel','aria-labelledby':linkId,'aria-hidden':true,'id':id});});var $initActive=this.$element.find('.is-active').children('[data-tab-content]');if($initActive.length){this.down($initActive,true);}
this._events();};Accordion.prototype._events=function(){var _this=this;this.$tabs.each(function(){var $elem=$(this);var $tabContent=$elem.children('[data-tab-content]');if($tabContent.length){$elem.children('a').off('click.zf.accordion keydown.zf.accordion').on('click.zf.accordion',function(e){e.preventDefault();if($elem.hasClass('is-active')){if(_this.options.allowAllClosed||$elem.siblings().hasClass('is-active')){_this.up($tabContent);}}
else{_this.down($tabContent);}}).on('keydown.zf.accordion',function(e){Foundation.Keyboard.handleKey(e,'Accordion',{toggle:function(){_this.toggle($tabContent);},next:function(){$elem.next().find('a').focus().trigger('click.zf.accordion');},previous:function(){$elem.prev().find('a').focus().trigger('click.zf.accordion');},handled:function(){e.preventDefault();e.stopPropagation();}});});}});};Accordion.prototype.toggle=function($target){if($target.parent().hasClass('is-active')){if(this.options.allowAllClosed||$target.parent().siblings().hasClass('is-active')){this.up($target);}else{return;}}else{this.down($target);}};Accordion.prototype.down=function($target,firstTime){var _this=this;if(!this.options.multiExpand&&!firstTime){var $currentActive=this.$element.find('.is-active').children('[data-tab-content]');if($currentActive.length){this.up($currentActive);}}
$target.attr('aria-hidden',false).parent('[data-tab-content]').addBack().parent().addClass('is-active');$target.slideDown(_this.options.slideSpeed);$('#'+$target.attr('aria-labelledby')).attr({'aria-expanded':true,'aria-selected':true});this.$element.trigger('down.zf.accordion',[$target]);};Accordion.prototype.up=function($target){var $aunts=$target.parent().siblings(),_this=this;var canClose=this.options.multiExpand?$aunts.hasClass('is-active'):$target.parent().hasClass('is-active');if(!this.options.allowAllClosed&&!canClose){return;}
$target.slideUp(_this.options.slideSpeed);$target.attr('aria-hidden',true).parent().removeClass('is-active');$('#'+$target.attr('aria-labelledby')).attr({'aria-expanded':false,'aria-selected':false});this.$element.trigger('up.zf.accordion',[$target]);};Accordion.prototype.destroy=function(){this.$element.find('[data-tab-content]').slideUp(0).css('display','');this.$element.find('a').off('.zf.accordion');Foundation.unregisterPlugin(this);};Foundation.plugin(Accordion,'Accordion');}(jQuery,window.Foundation);!function($){'use strict';function AccordionMenu(element,options){this.$element=element;this.options=$.extend({},AccordionMenu.defaults,this.$element.data(),options);Foundation.Nest.Feather(this.$element,'accordion');this._init();Foundation.registerPlugin(this,'AccordionMenu');Foundation.Keyboard.register('AccordionMenu',{'ENTER':'toggle','SPACE':'toggle','ARROW_RIGHT':'open','ARROW_UP':'up','ARROW_DOWN':'down','ARROW_LEFT':'close','ESCAPE':'closeAll','TAB':'down','SHIFT_TAB':'up'});}
AccordionMenu.defaults={slideSpeed:250,multiOpen:true};AccordionMenu.prototype._init=function(){this.$element.find('[data-submenu]').not('.is-active').slideUp(0);this.$element.attr({'role':'tablist','aria-multiselectable':this.options.multiOpen});this.$menuLinks=this.$element.find('.has-submenu');this.$menuLinks.each(function(){var linkId=this.id||Foundation.GetYoDigits(6,'acc-menu-link'),$elem=$(this),$sub=$elem.children('[data-submenu]'),subId=$sub[0].id||Foundation.GetYoDigits(6,'acc-menu'),isActive=$sub.hasClass('is-active');$elem.attr({'aria-controls':subId,'aria-expanded':isActive,'aria-selected':false,'role':'tab','id':linkId});$sub.attr({'aria-labelledby':linkId,'aria-hidden':!isActive,'role':'tabpanel','id':subId});});var initPanes=this.$element.find('.is-active');if(initPanes.length){var _this=this;initPanes.each(function(){_this.down($(this));});}
this._events();};AccordionMenu.prototype._events=function(){var _this=this;this.$element.find('li').each(function(){var $submenu=$(this).children('[data-submenu]');if($submenu.length){$(this).children('a').off('click.zf.accordionmenu').on('click.zf.accordionmenu',function(e){e.preventDefault();_this.toggle($submenu);});}}).on('keydown.zf.accordionmenu',function(e){var $element=$(this),$elements=$element.parent('ul').children('li'),$prevElement,$nextElement,$target=$element.children('[data-submenu]');$elements.each(function(i){if($(this).is($element)){$prevElement=$elements.eq(Math.max(0,i-1));$nextElement=$elements.eq(Math.min(i+1,$elements.length-1));if($(this).children('[data-submenu]:visible').length){$nextElement=$element.find('li:first-child');}
if($(this).is(':first-child')){$prevElement=$element.parents('li').first();}else if($prevElement.children('[data-submenu]:visible').length){$prevElement=$prevElement.find('li:last-child');}
if($(this).is(':last-child')){$nextElement=$element.parents('li').first().next('li');}
return;}});Foundation.Keyboard.handleKey(e,'AccordionMenu',{open:function(){if($target.is(':hidden')){_this.down($target);$target.find('li').first().focus();}},close:function(){if($target.length&&!$target.is(':hidden')){_this.up($target);}else if($element.parent('[data-submenu]').length){_this.up($element.parent('[data-submenu]'));$element.parents('li').first().focus();}},up:function(){$prevElement.focus();},down:function(){$nextElement.focus();},toggle:function(){if($element.children('[data-submenu]').length){_this.toggle($element.children('[data-submenu]'));}},closeAll:function(){_this.hideAll();},handled:function(){e.preventDefault();e.stopImmediatePropagation();}});});};AccordionMenu.prototype.hideAll=function(){this.$element.find('[data-submenu]').slideUp(this.options.slideSpeed);};AccordionMenu.prototype.toggle=function($target){if(!$target.is(':animated')){if(!$target.is(':hidden')){this.up($target);}
else{this.down($target);}}};AccordionMenu.prototype.down=function($target){var _this=this;if(!this.options.multiOpen){this.up(this.$element.find('.is-active').not($target.parentsUntil(this.$element).add($target)));}
$target.addClass('is-active').attr({'aria-hidden':false}).parent('.has-submenu').attr({'aria-expanded':true,'aria-selected':true});Foundation.Move(this.options.slideSpeed,$target,function(){$target.slideDown(_this.options.slideSpeed);});this.$element.trigger('down.zf.accordionMenu',[$target]);};AccordionMenu.prototype.up=function($target){var _this=this;Foundation.Move(this.options.slideSpeed,$target,function(){$target.slideUp(_this.options.slideSpeed);});$target.attr('aria-hidden',true).find('[data-submenu]').slideUp(0).attr('aria-hidden',true).end().parent('.has-submenu').attr({'aria-expanded':false,'aria-selected':false});this.$element.trigger('up.zf.accordionMenu',[$target]);};AccordionMenu.prototype.destroy=function(){this.$element.find('[data-submenu]').slideDown(0).css('display','');this.$element.find('a').off('click.zf.accordionMenu');Foundation.Nest.Burn(this.$element,'accordion');Foundation.unregisterPlugin(this);};Foundation.plugin(AccordionMenu,'AccordionMenu');}(jQuery,window.Foundation);!function($,Foundation){'use strict';function Drilldown(element,options){this.$element=element;this.options=$.extend({},Drilldown.defaults,this.$element.data(),options);Foundation.Nest.Feather(this.$element,'drilldown');this._init();Foundation.registerPlugin(this,'Drilldown');Foundation.Keyboard.register('Drilldown',{'ENTER':'open','SPACE':'open','ARROW_RIGHT':'next','ARROW_UP':'up','ARROW_DOWN':'down','ARROW_LEFT':'previous','ESCAPE':'close','TAB':'down','SHIFT_TAB':'up'});}
Drilldown.defaults={backButton:'<li class="js-drilldown-back"><a>Back</a></li>',wrapper:'<div></div>',closeOnClick:false};Drilldown.prototype._init=function(){this.$submenuAnchors=this.$element.find('li.has-submenu');this.$submenus=this.$submenuAnchors.children('[data-submenu]');this.$menuItems=this.$element.find('li').not('.js-drilldown-back').attr('role','menuitem');this._prepareMenu();this._keyboardEvents();};Drilldown.prototype._prepareMenu=function(){var _this=this;this.$submenuAnchors.each(function(){var $sub=$(this);var $link=$sub.find('a:first');$link.data('savedHref',$link.attr('href')).removeAttr('href');$sub.children('[data-submenu]').attr({'aria-hidden':true,'tabindex':0,'role':'menu'});_this._events($sub);});this.$submenus.each(function(){var $menu=$(this),$back=$menu.find('.js-drilldown-back');if(!$back.length){$menu.prepend(_this.options.backButton);}
_this._back($menu);});if(!this.$element.parent().hasClass('is-drilldown')){this.$wrapper=$(this.options.wrapper).addClass('is-drilldown').css(this._getMaxDims());this.$element.wrap(this.$wrapper);}};Drilldown.prototype._events=function($elem){var _this=this;$elem.off('click.zf.drilldown').on('click.zf.drilldown',function(e){if($(e.target).parentsUntil('ul','li').hasClass('is-drilldown-submenu-parent')){e.stopImmediatePropagation();e.preventDefault();}
_this._show($elem);if(_this.options.closeOnClick){var $body=$('body').not(_this.$wrapper);$body.off('.zf.drilldown').on('click.zf.drilldown',function(e){e.preventDefault();_this._hideAll();$body.off('.zf.drilldown');});}});};Drilldown.prototype._keyboardEvents=function(){var _this=this;this.$menuItems.add(this.$element.find('.js-drilldown-back')).on('keydown.zf.drilldown',function(e){var $element=$(this),$elements=$element.parent('ul').children('li'),$prevElement,$nextElement;$elements.each(function(i){if($(this).is($element)){$prevElement=$elements.eq(Math.max(0,i-1));$nextElement=$elements.eq(Math.min(i+1,$elements.length-1));return;}});Foundation.Keyboard.handleKey(e,'Drilldown',{next:function(){if($element.is(_this.$submenuAnchors)){_this._show($element);$element.on(Foundation.transitionend($element),function(){$element.find('ul li').filter(_this.$menuItems).first().focus();});}},previous:function(){_this._hide($element.parent('ul'));$element.parent('ul').on(Foundation.transitionend($element),function(){setTimeout(function(){$element.parent('ul').parent('li').focus();},1);});},up:function(){$prevElement.focus();},down:function(){$nextElement.focus();},close:function(){_this._back();},open:function(){if(!$element.is(_this.$menuItems)){_this._hide($element.parent('ul'));setTimeout(function(){$element.parent('ul').parent('li').focus();},1);}else if($element.is(_this.$submenuAnchors)){_this._show($element);setTimeout(function(){$element.find('ul li').filter(_this.$menuItems).first().focus();},1);}},handled:function(){e.preventDefault();e.stopImmediatePropagation();}});});};Drilldown.prototype._hideAll=function(){var $elem=this.$element.find('.is-drilldown-sub.is-active').addClass('is-closing');$elem.one(Foundation.transitionend($elem),function(e){$elem.removeClass('is-active is-closing');});this.$element.trigger('closed.zf.drilldown');};Drilldown.prototype._back=function($elem){var _this=this;$elem.off('click.zf.drilldown');$elem.children('.js-drilldown-back').on('click.zf.drilldown',function(e){e.stopImmediatePropagation();_this._hide($elem);});};Drilldown.prototype._menuLinkEvents=function(){var _this=this;this.$menuItems.not('.has-submenu').off('click.zf.drilldown').on('click.zf.drilldown',function(e){setTimeout(function(){_this._hideAll();},0);});};Drilldown.prototype._show=function($elem){$elem.children('[data-submenu]').addClass('is-active');this.$element.trigger('open.zf.drilldown',[$elem]);};Drilldown.prototype._hide=function($elem){var _this=this;$elem.addClass('is-closing').one(Foundation.transitionend($elem),function(){$elem.removeClass('is-active is-closing');});$elem.trigger('hide.zf.drilldown',[$elem]);};Drilldown.prototype._getMaxDims=function(){var max=0,result={};this.$submenus.add(this.$element).each(function(){var numOfElems=$(this).children('li').length;max=numOfElems>max?numOfElems:max;});result.height=max*this.$menuItems[0].getBoundingClientRect().height+'px';result.width=this.$element[0].getBoundingClientRect().width+'px';return result;};Drilldown.prototype.destroy=function(){this._hideAll();Foundation.Nest.Burn(this.$element,'drilldown');this.$element.unwrap().find('.js-drilldown-back').remove().end().find('.is-active, .is-closing, .is-drilldown-sub').removeClass('is-active is-closing is-drilldown-sub').end().find('[data-submenu]').removeAttr('aria-hidden tabindex role').off('.zf.drilldown').end().off('zf.drilldown');this.$element.find('a').each(function(){var $link=$(this);if($link.data('savedHref')){$link.attr('href',$link.data('savedHref')).removeData('savedHref');}else{return;}});Foundation.unregisterPlugin(this);};Foundation.plugin(Drilldown,'Drilldown');}(jQuery,window.Foundation);!function($,Foundation){'use strict';function Dropdown(element,options){this.$element=element;this.options=$.extend({},Dropdown.defaults,this.$element.data(),options);this._init();Foundation.registerPlugin(this,'Dropdown');Foundation.Keyboard.register('Dropdown',{'ENTER':'open','SPACE':'open','ESCAPE':'close','TAB':'tab_forward','SHIFT_TAB':'tab_backward'});}
Dropdown.defaults={hoverDelay:250,hover:false,hoverPane:false,vOffset:1,hOffset:1,positionClass:'',trapFocus:false,autoFocus:false,closeOnClick:false};Dropdown.prototype._init=function(){var $id=this.$element.attr('id');this.$anchor=$('[data-toggle="'+$id+'"]')||$('[data-open="'+$id+'"]');this.$anchor.attr({'aria-controls':$id,'data-is-focus':false,'data-yeti-box':$id,'aria-haspopup':true,'aria-expanded':false});this.options.positionClass=this.getPositionClass();this.counter=4;this.usedPositions=[];this.$element.attr({'aria-hidden':'true','data-yeti-box':$id,'data-resize':$id,'aria-labelledby':this.$anchor[0].id||Foundation.GetYoDigits(6,'dd-anchor')});this._events();};Dropdown.prototype.getPositionClass=function(){var position=this.$element[0].className.match(/(top|left|right)/g);position=position?position[0]:'';return position;};Dropdown.prototype._reposition=function(position){this.usedPositions.push(position?position:'bottom');if(!position&&(this.usedPositions.indexOf('top')<0)){this.$element.addClass('top');}else if(position==='top'&&(this.usedPositions.indexOf('bottom')<0)){this.$element.removeClass(position);}else if(position==='left'&&(this.usedPositions.indexOf('right')<0)){this.$element.removeClass(position).addClass('right');}else if(position==='right'&&(this.usedPositions.indexOf('left')<0)){this.$element.removeClass(position).addClass('left');}
else if(!position&&(this.usedPositions.indexOf('top')>-1)&&(this.usedPositions.indexOf('left')<0)){this.$element.addClass('left');}else if(position==='top'&&(this.usedPositions.indexOf('bottom')>-1)&&(this.usedPositions.indexOf('left')<0)){this.$element.removeClass(position).addClass('left');}else if(position==='left'&&(this.usedPositions.indexOf('right')>-1)&&(this.usedPositions.indexOf('bottom')<0)){this.$element.removeClass(position);}else if(position==='right'&&(this.usedPositions.indexOf('left')>-1)&&(this.usedPositions.indexOf('bottom')<0)){this.$element.removeClass(position);}
else{this.$element.removeClass(position);}
this.classChanged=true;this.counter--;};Dropdown.prototype._setPosition=function(){if(this.$anchor.attr('aria-expanded')==='false'){return false;}
var position=this.getPositionClass(),$eleDims=Foundation.Box.GetDimensions(this.$element),$anchorDims=Foundation.Box.GetDimensions(this.$anchor),_this=this,direction=(position==='left'?'left':((position==='right')?'left':'top')),param=(direction==='top')?'height':'width',offset=(param==='height')?this.options.vOffset:this.options.hOffset;if(($eleDims.width>=$eleDims.windowDims.width)||(!this.counter&&!Foundation.Box.ImNotTouchingYou(this.$element))){this.$element.offset(Foundation.Box.GetOffsets(this.$element,this.$anchor,'center bottom',this.options.vOffset,this.options.hOffset,true)).css({'width':$eleDims.windowDims.width-(this.options.hOffset*2),'height':'auto'});this.classChanged=true;return false;}
this.$element.offset(Foundation.Box.GetOffsets(this.$element,this.$anchor,position,this.options.vOffset,this.options.hOffset));while(!Foundation.Box.ImNotTouchingYou(this.$element)&&this.counter){this._reposition(position);this._setPosition();}};Dropdown.prototype._events=function(){var _this=this;this.$element.on({'open.zf.trigger':this.open.bind(this),'close.zf.trigger':this.close.bind(this),'toggle.zf.trigger':this.toggle.bind(this),'resizeme.zf.trigger':this._setPosition.bind(this)});if(this.options.hover){this.$anchor.off('mouseenter.zf.dropdown mouseleave.zf.dropdown').on('mouseenter.zf.dropdown',function(){clearTimeout(_this.timeout);_this.timeout=setTimeout(function(){_this.open();_this.$anchor.data('hover',true);},_this.options.hoverDelay);}).on('mouseleave.zf.dropdown',function(){clearTimeout(_this.timeout);_this.timeout=setTimeout(function(){_this.close();_this.$anchor.data('hover',false);},_this.options.hoverDelay);});if(this.options.hoverPane){this.$element.off('mouseenter.zf.dropdown mouseleave.zf.dropdown').on('mouseenter.zf.dropdown',function(){clearTimeout(_this.timeout);}).on('mouseleave.zf.dropdown',function(){clearTimeout(_this.timeout);_this.timeout=setTimeout(function(){_this.close();_this.$anchor.data('hover',false);},_this.options.hoverDelay);});}}
this.$anchor.add(this.$element).on('keydown.zf.dropdown',function(e){var $target=$(this),visibleFocusableElements=Foundation.Keyboard.findFocusable(_this.$element);Foundation.Keyboard.handleKey(e,'Dropdown',{tab_forward:function(){if(_this.$element.find(':focus').is(visibleFocusableElements.eq(-1))){if(_this.options.trapFocus){visibleFocusableElements.eq(0).focus();e.preventDefault();}else{_this.close();}}},tab_backward:function(){if(_this.$element.find(':focus').is(visibleFocusableElements.eq(0))||_this.$element.is(':focus')){if(_this.options.trapFocus){visibleFocusableElements.eq(-1).focus();e.preventDefault();}else{_this.close();}}},open:function(){if($target.is(_this.$anchor)){_this.open();_this.$element.attr('tabindex',-1).focus();e.preventDefault();}},close:function(){_this.close();_this.$anchor.focus();}});});};Dropdown.prototype._addBodyHandler=function(){var $body=$(document.body).not(this.$element),_this=this;$body.off('click.zf.dropdown').on('click.zf.dropdown',function(e){if(_this.$anchor.is(e.target)||_this.$anchor.find(e.target).length){return;}
if(_this.$element.find(e.target).length){return;}
_this.close();$body.off('click.zf.dropdown');});};Dropdown.prototype.open=function(){this.$element.trigger('closeme.zf.dropdown',this.$element.attr('id'));this.$anchor.addClass('hover').attr({'aria-expanded':true});this._setPosition();this.$element.addClass('is-open').attr({'aria-hidden':false});if(this.options.autoFocus){var $focusable=Foundation.Keyboard.findFocusable(this.$element);if($focusable.length){$focusable.eq(0).focus();}}
if(this.options.closeOnClick){this._addBodyHandler();}
this.$element.trigger('show.zf.dropdown',[this.$element]);};Dropdown.prototype.close=function(){if(!this.$element.hasClass('is-open')){return false;}
this.$element.removeClass('is-open').attr({'aria-hidden':true});this.$anchor.removeClass('hover').attr('aria-expanded',false);if(this.classChanged){var curPositionClass=this.getPositionClass();if(curPositionClass){this.$element.removeClass(curPositionClass);}
this.$element.addClass(this.options.positionClass).css({height:'',width:''});this.classChanged=false;this.counter=4;this.usedPositions.length=0;}
this.$element.trigger('hide.zf.dropdown',[this.$element]);};Dropdown.prototype.toggle=function(){if(this.$element.hasClass('is-open')){if(this.$anchor.data('hover'))return;this.close();}else{this.open();}};Dropdown.prototype.destroy=function(){this.$element.off('.zf.trigger').hide();this.$anchor.off('.zf.dropdown');Foundation.unregisterPlugin(this);};Foundation.plugin(Dropdown,'Dropdown');}(jQuery,window.Foundation);!function($,Foundation){'use strict';function DropdownMenu(element,options){this.$element=element;this.options=$.extend({},DropdownMenu.defaults,this.$element.data(),options);Foundation.Nest.Feather(this.$element,'dropdown');this._init();Foundation.registerPlugin(this,'DropdownMenu');Foundation.Keyboard.register('DropdownMenu',{'ENTER':'open','SPACE':'open','ARROW_RIGHT':'next','ARROW_UP':'up','ARROW_DOWN':'down','ARROW_LEFT':'previous','ESCAPE':'close'});}
DropdownMenu.defaults={disableHover:false,autoclose:true,hoverDelay:50,clickOpen:false,closingTime:500,alignment:'left',closeOnClick:true,verticalClass:'vertical',rightClass:'align-right',forceFollow:true};DropdownMenu.prototype._init=function(){var subs=this.$element.find('li.is-dropdown-submenu-parent');this.$element.children('.is-dropdown-submenu-parent').children('.is-dropdown-submenu').addClass('first-sub');this.$menuItems=this.$element.find('[role="menuitem"]');this.$tabs=this.$element.children('[role="menuitem"]');this.isVert=this.$element.hasClass(this.options.verticalClass);this.$tabs.find('ul.is-dropdown-submenu').addClass(this.options.verticalClass);if(this.$element.hasClass(this.options.rightClass)||this.options.alignment==='right'){this.options.alignment='right';subs.addClass('is-left-arrow opens-left');}else{subs.addClass('is-right-arrow opens-right');}
if(!this.isVert){this.$tabs.filter('.is-dropdown-submenu-parent').removeClass('is-right-arrow is-left-arrow opens-right opens-left').addClass('is-down-arrow');}
this.changed=false;this._events();};DropdownMenu.prototype._events=function(){var _this=this,hasTouch='ontouchstart'in window||(typeof window.ontouchstart!=='undefined'),parClass='is-dropdown-submenu-parent',delay;if(this.options.clickOpen||hasTouch){this.$menuItems.on('click.zf.dropdownmenu touchstart.zf.dropdownmenu',function(e){var $elem=$(e.target).parentsUntil('ul','.'+parClass),hasSub=$elem.hasClass(parClass),hasClicked=$elem.attr('data-is-click')==='true',$sub=$elem.children('.is-dropdown-submenu');if(hasSub){if(hasClicked){if(!_this.options.closeOnClick||(!_this.options.clickOpen&&!hasTouch)||(_this.options.forceFollow&&hasTouch)){return;}
else{e.stopImmediatePropagation();e.preventDefault();_this._hide($elem);}}else{e.preventDefault();e.stopImmediatePropagation();_this._show($elem.children('.is-dropdown-submenu'));$elem.add($elem.parentsUntil(_this.$element,'.'+parClass)).attr('data-is-click',true);}}else{return;}});}
if(!this.options.disableHover){this.$menuItems.on('mouseenter.zf.dropdownmenu',function(e){e.stopImmediatePropagation();var $elem=$(this),hasSub=$elem.hasClass(parClass);if(hasSub){clearTimeout(delay);delay=setTimeout(function(){_this._show($elem.children('.is-dropdown-submenu'));},_this.options.hoverDelay);}}).on('mouseleave.zf.dropdownmenu',function(e){var $elem=$(this),hasSub=$elem.hasClass(parClass);if(hasSub&&_this.options.autoclose){if($elem.attr('data-is-click')==='true'&&_this.options.clickOpen){return false;}
delay=setTimeout(function(){_this._hide($elem);},_this.options.closingTime);}});}
this.$menuItems.on('keydown.zf.dropdownmenu',function(e){var $element=$(e.target).parentsUntil('ul','[role="menuitem"]'),isTab=_this.$tabs.index($element)>-1,$elements=isTab?_this.$tabs:$element.siblings('li').add($element),$prevElement,$nextElement;$elements.each(function(i){if($(this).is($element)){$prevElement=$elements.eq(i-1);$nextElement=$elements.eq(i+1);return;}});var nextSibling=function(){if(!$element.is(':last-child'))$nextElement.children('a:first').focus();},prevSibling=function(){$prevElement.children('a:first').focus();},openSub=function(){var $sub=$element.children('ul.is-dropdown-submenu');if($sub.length){_this._show($sub);$element.find('li > a:first').focus();}else{return;}},closeSub=function(){var close=$element.parent('ul').parent('li');close.children('a:first').focus();_this._hide(close);};var functions={open:openSub,close:function(){_this._hide(_this.$element);_this.$menuItems.find('a:first').focus();},handled:function(){e.preventDefault();e.stopImmediatePropagation();}};if(isTab){if(_this.vertical){if(_this.options.alignment==='left'){$.extend(functions,{down:nextSibling,up:prevSibling,next:openSub,previous:closeSub});}else{$.extend(functions,{down:nextSibling,up:prevSibling,next:closeSub,previous:openSub});}}else{$.extend(functions,{next:nextSibling,previous:prevSibling,down:openSub,up:closeSub});}}else{if(_this.options.alignment==='left'){$.extend(functions,{next:openSub,previous:closeSub,down:nextSibling,up:prevSibling});}else{$.extend(functions,{next:closeSub,previous:openSub,down:nextSibling,up:prevSibling});}}
Foundation.Keyboard.handleKey(e,'DropdownMenu',functions);});};DropdownMenu.prototype._addBodyHandler=function(){var $body=$(document.body),_this=this;$body.off('mouseup.zf.dropdownmenu touchend.zf.dropdownmenu').on('mouseup.zf.dropdownmenu touchend.zf.dropdownmenu',function(e){var $link=_this.$element.find(e.target);if($link.length){return;}
_this._hide();$body.off('mouseup.zf.dropdownmenu touchend.zf.dropdownmenu');});};DropdownMenu.prototype._show=function($sub){var idx=this.$tabs.index(this.$tabs.filter(function(i,el){return $(el).find($sub).length>0;}));var $sibs=$sub.parent('li.is-dropdown-submenu-parent').siblings('li.is-dropdown-submenu-parent');this._hide($sibs,idx);$sub.css('visibility','hidden').addClass('js-dropdown-active').attr({'aria-hidden':false}).parent('li.is-dropdown-submenu-parent').addClass('is-active').attr({'aria-selected':true,'aria-expanded':true});var clear=Foundation.Box.ImNotTouchingYou($sub,null,true);if(!clear){var oldClass=this.options.alignment==='left'?'-right':'-left',$parentLi=$sub.parent('.is-dropdown-submenu-parent');$parentLi.removeClass('opens'+oldClass).addClass('opens-'+this.options.alignment);clear=Foundation.Box.ImNotTouchingYou($sub,null,true);if(!clear){$parentLi.removeClass('opens-'+this.options.alignment).addClass('opens-inner');}
this.changed=true;}
$sub.css('visibility','');if(this.options.closeOnClick){this._addBodyHandler();}
this.$element.trigger('show.zf.dropdownmenu',[$sub]);};DropdownMenu.prototype._hide=function($elem,idx){var $toClose;if($elem&&$elem.length){$toClose=$elem;}else if(idx!==undefined){$toClose=this.$tabs.not(function(i,el){return i===idx;});}
else{$toClose=this.$element;}
var somethingToClose=$toClose.hasClass('is-active')||$toClose.find('.is-active').length>0;if(somethingToClose){$toClose.find('li.is-active').add($toClose).attr({'aria-selected':false,'aria-expanded':false,'data-is-click':false}).removeClass('is-active');$toClose.find('ul.js-dropdown-active').attr({'aria-hidden':true}).removeClass('js-dropdown-active');if(this.changed||$toClose.find('opens-inner').length){var oldClass=this.options.alignment==='left'?'right':'left';$toClose.find('li.is-dropdown-submenu-parent').add($toClose).removeClass('opens-inner opens-'+this.options.alignment).addClass('opens-'+oldClass);this.changed=false;}
this.$element.trigger('hide.zf.dropdownmenu',[$toClose]);}};DropdownMenu.prototype.destroy=function(){this.$menuItems.off('.zf.dropdownmenu').removeAttr('data-is-click').removeClass('is-right-arrow is-left-arrow is-down-arrow opens-right opens-left opens-inner');Foundation.Nest.Burn(this.$element,'dropdown');Foundation.unregisterPlugin(this);};Foundation.plugin(DropdownMenu,'DropdownMenu');}(jQuery,window.Foundation);!function(Foundation,$){'use strict';function Equalizer(element,options){this.$element=element;this.options=$.extend({},Equalizer.defaults,this.$element.data(),options);this._init();Foundation.registerPlugin(this,'Equalizer');}
Equalizer.defaults={equalizeOnStack:true,equalizeByRow:false,equalizeOn:''};Equalizer.prototype._init=function(){var eqId=this.$element.attr('data-equalizer')||'';var $watched=this.$element.find('[data-equalizer-watch="'+eqId+'"]');this.$watched=$watched.length?$watched:this.$element.find('[data-equalizer-watch]');this.$element.attr('data-resize',(eqId||Foundation.GetYoDigits(6,'eq')));this.hasNested=this.$element.find('[data-equalizer]').length>0;this.isNested=this.$element.parentsUntil(document.body,'[data-equalizer]').length>0;this.isOn=false;var imgs=this.$element.find('img');var tooSmall;if(this.options.equalizeOn){tooSmall=this._checkMQ();$(window).on('changed.zf.mediaquery',this._checkMQ.bind(this));}else{this._events();}
if((tooSmall!==undefined&&tooSmall===false)||tooSmall===undefined){if(imgs.length){Foundation.onImagesLoaded(imgs,this._reflow.bind(this));}else{this._reflow();}}};Equalizer.prototype._pauseEvents=function(){this.isOn=false;this.$element.off('.zf.equalizer resizeme.zf.trigger');};Equalizer.prototype._events=function(){var _this=this;this._pauseEvents();if(this.hasNested){this.$element.on('postequalized.zf.equalizer',function(e){if(e.target!==_this.$element[0]){_this._reflow();}});}else{this.$element.on('resizeme.zf.trigger',this._reflow.bind(this));}
this.isOn=true;};Equalizer.prototype._checkMQ=function(){var tooSmall=!Foundation.MediaQuery.atLeast(this.options.equalizeOn);if(tooSmall){if(this.isOn){this._pauseEvents();this.$watched.css('height','auto');}}else{if(!this.isOn){this._events();}}
return tooSmall;}
Equalizer.prototype._killswitch=function(){return;};Equalizer.prototype._reflow=function(){if(!this.options.equalizeOnStack){if(this._isStacked()){this.$watched.css('height','auto');return false;}}
if(this.options.equalizeByRow){this.getHeightsByRow(this.applyHeightByRow.bind(this));}else{this.getHeights(this.applyHeight.bind(this));}};Equalizer.prototype._isStacked=function(){return this.$watched[0].offsetTop!==this.$watched[1].offsetTop;};Equalizer.prototype.getHeights=function(cb){var heights=[];for(var i=0,len=this.$watched.length;i<len;i++){this.$watched[i].style.height='auto';heights.push(this.$watched[i].offsetHeight);}
cb(heights);};Equalizer.prototype.getHeightsByRow=function(cb){var lastElTopOffset=this.$watched.first().offset().top,groups=[],group=0;groups[group]=[];for(var i=0,len=this.$watched.length;i<len;i++){this.$watched[i].style.height='auto';var elOffsetTop=$(this.$watched[i]).offset().top;if(elOffsetTop!=lastElTopOffset){group++;groups[group]=[];lastElTopOffset=elOffsetTop;};groups[group].push([this.$watched[i],this.$watched[i].offsetHeight]);}
for(var i=0,len=groups.length;i<len;i++){var heights=$(groups[i]).map(function(){return this[1]}).get();var max=Math.max.apply(null,heights);groups[i].push(max);}
cb(groups);};Equalizer.prototype.applyHeight=function(heights){var max=Math.max.apply(null,heights);this.$element.trigger('preequalized.zf.equalizer');this.$watched.css('height',max);this.$element.trigger('postequalized.zf.equalizer');};Equalizer.prototype.applyHeightByRow=function(groups){this.$element.trigger('preequalized.zf.equalizer');for(var i=0,len=groups.length;i<len;i++){var groupsILength=groups[i].length,max=groups[i][groupsILength-1];if(groupsILength<=2){$(groups[i][0][0]).css({'height':'auto'});continue;};this.$element.trigger('preequalizedrow.zf.equalizer');for(var j=0,lenJ=(groupsILength-1);j<lenJ;j++){$(groups[i][j][0]).css({'height':max});}
this.$element.trigger('postequalizedrow.zf.equalizer');}
this.$element.trigger('postequalized.zf.equalizer');};Equalizer.prototype.destroy=function(){this._pauseEvents();this.$watched.css('height','auto');Foundation.unregisterPlugin(this);};Foundation.plugin(Equalizer,'Equalizer');if(typeof module!=='undefined'&&typeof module.exports!=='undefined')
module.exports=Equalizer;if(typeof define==='function')
define(['foundation'],function(){return Equalizer;});}(Foundation,jQuery);!function(Foundation,$){'use strict';function Interchange(element,options){this.$element=element;this.options=$.extend({},Interchange.defaults,options);this.rules=[];this.currentPath='';this._init();this._events();Foundation.registerPlugin(this,'Interchange');}
Interchange.defaults={rules:null};Interchange.SPECIAL_QUERIES={'landscape':'screen and (orientation: landscape)','portrait':'screen and (orientation: portrait)','retina':'only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (min--moz-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min-device-pixel-ratio: 2), only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx)'};Interchange.prototype._init=function(){this._addBreakpoints();this._generateRules();this._reflow();};Interchange.prototype._events=function(){$(window).on('resize.zf.interchange',Foundation.util.throttle(this._reflow.bind(this),50));};Interchange.prototype._reflow=function(){var match;for(var i in this.rules){var rule=this.rules[i];if(window.matchMedia(rule.query).matches){match=rule;}}
if(match){this.replace(match.path);}};Interchange.prototype._addBreakpoints=function(){for(var i in Foundation.MediaQuery.queries){var query=Foundation.MediaQuery.queries[i];Interchange.SPECIAL_QUERIES[query.name]=query.value;}};Interchange.prototype._generateRules=function(){var rulesList=[];var rules;if(this.options.rules){rules=this.options.rules;}
else{rules=this.$element.data('interchange').match(/\[.*?\]/g);}
for(var i in rules){var rule=rules[i].slice(1,-1).split(', ');var path=rule.slice(0,-1).join('');var query=rule[rule.length-1];if(Interchange.SPECIAL_QUERIES[query]){query=Interchange.SPECIAL_QUERIES[query];}
rulesList.push({path:path,query:query});}
this.rules=rulesList;};Interchange.prototype.replace=function(path){if(this.currentPath===path)return;var _this=this;if(this.$element[0].nodeName==='IMG'){this.$element.attr('src',path).load(function(){_this.currentPath=path;});}
else if(path.match(/\.(gif|jpg|jpeg|tiff|png)([?#].*)?/i)){this.$element.css({'background-image':'url('+path+')'});}
else{$.get(path,function(response){_this.$element.html(response);$(response).foundation();_this.currentPath=path;});}
this.$element.trigger('replaced.zf.interchange');};Interchange.prototype.destroy=function(){};Foundation.plugin(Interchange,'Interchange');if(typeof module!=='undefined'&&typeof module.exports!=='undefined')
module.exports=Interchange;if(typeof define==='function')
define(['foundation'],function(){return Interchange;});}(Foundation,jQuery);!function(Foundation,$){'use strict';function Magellan(element,options){this.$element=element;this.options=$.extend({},Magellan.defaults,this.$element.data(),options);this._init();Foundation.registerPlugin(this,'Magellan');}
Magellan.defaults={animationDuration:500,animationEasing:'linear',threshold:50,activeClass:'active',deepLinking:false,barOffset:0};Magellan.prototype._init=function(){var id=this.$element[0].id||Foundation.GetYoDigits(6,'magellan'),_this=this;this.$targets=$('[data-magellan-target]');this.$links=this.$element.find('a');this.$element.attr({'data-resize':id,'data-scroll':id,'id':id});this.$active=$();this.scrollPos=parseInt(window.pageYOffset,10);this._events();};Magellan.prototype.calcPoints=function(){var _this=this,body=document.body,html=document.documentElement;this.points=[];this.winHeight=Math.round(Math.max(window.innerHeight,html.clientHeight));this.docHeight=Math.round(Math.max(body.scrollHeight,body.offsetHeight,html.clientHeight,html.scrollHeight,html.offsetHeight));this.$targets.each(function(){var $tar=$(this),pt=Math.round($tar.offset().top-_this.options.threshold);$tar.targetPoint=pt;_this.points.push(pt);});};Magellan.prototype._events=function(){var _this=this,$body=$('html, body'),opts={duration:_this.options.animationDuration,easing:_this.options.animationEasing};$(window).one('load',function(){_this.calcPoints();_this._updateActive();});this.$element.on({'resizeme.zf.trigger':this.reflow.bind(this),'scrollme.zf.trigger':this._updateActive.bind(this)}).on('click.zf.magellan','a[href^="#"]',function(e){e.preventDefault();var arrival=this.getAttribute('href'),scrollPos=$(arrival).offset().top-_this.options.threshold/2-_this.options.barOffset;$body.stop(true).animate({scrollTop:scrollPos},opts);});};Magellan.prototype.reflow=function(){this.calcPoints();this._updateActive();};Magellan.prototype._updateActive=function(){var winPos=parseInt(window.pageYOffset,10),curIdx;if(winPos+this.winHeight===this.docHeight){curIdx=this.points.length-1;}
else if(winPos<this.points[0]){curIdx=0;}
else{var isDown=this.scrollPos<winPos,_this=this,curVisible=this.points.filter(function(p,i){return isDown?p<=winPos:p-_this.options.threshold<=winPos;});curIdx=curVisible.length?curVisible.length-1:0;}
this.$active.removeClass(this.options.activeClass);this.$active=this.$links.eq(curIdx).addClass(this.options.activeClass);if(this.options.deepLinking){var hash=this.$active[0].getAttribute('href');if(window.history.pushState){window.history.pushState(null,null,hash);}else{window.location.hash=hash;}}
this.scrollPos=winPos;this.$element.trigger('update.zf.magellan',[this.$active]);};Magellan.prototype.destroy=function(){this.$element.off('.zf.trigger .zf.magellan').find('.'+this.options.activeClass).removeClass(this.options.activeClass);if(this.options.deepLinking){var hash=this.$active[0].getAttribute('href');window.location.hash.replace(hash,'');}
Foundation.unregisterPlugin(this);};Foundation.plugin(Magellan,'Magellan');if(typeof module!=='undefined'&&typeof module.exports!=='undefined')
module.exports=Magellan;if(typeof define==='function')
define(['foundation'],function(){return Magellan;});}(Foundation,jQuery);!function($,Foundation){'use strict';function OffCanvas(element,options){this.$element=element;this.options=$.extend({},OffCanvas.defaults,this.$element.data(),options);this.$lastTrigger=$();this._init();this._events();Foundation.registerPlugin(this,'OffCanvas');}
OffCanvas.defaults={closeOnClick:true,transitionTime:0,position:'left',forceTop:true,isRevealed:false,revealOn:null,autoFocus:true,revealClass:'reveal-for-',trapFocus:false};OffCanvas.prototype._init=function(){var id=this.$element.attr('id');this.$element.attr('aria-hidden','true');$(document).find('[data-open="'+id+'"], [data-close="'+id+'"], [data-toggle="'+id+'"]').attr('aria-expanded','false').attr('aria-controls',id);if(this.options.closeOnClick){if($('.js-off-canvas-exit').length){this.$exiter=$('.js-off-canvas-exit');}else{var exiter=document.createElement('div');exiter.setAttribute('class','js-off-canvas-exit');$('[data-off-canvas-content]').append(exiter);this.$exiter=$(exiter);}}
this.options.isRevealed=this.options.isRevealed||new RegExp(this.options.revealClass,'g').test(this.$element[0].className);if(this.options.isRevealed){this.options.revealOn=this.options.revealOn||this.$element[0].className.match(/(reveal-for-medium|reveal-for-large)/g)[0].split('-')[2];this._setMQChecker();}
if(!this.options.transitionTime){this.options.transitionTime=parseFloat(window.getComputedStyle($('[data-off-canvas-wrapper]')[0]).transitionDuration)*1000;}};OffCanvas.prototype._events=function(){this.$element.off('.zf.trigger .zf.offcanvas').on({'open.zf.trigger':this.open.bind(this),'close.zf.trigger':this.close.bind(this),'toggle.zf.trigger':this.toggle.bind(this),'keydown.zf.offcanvas':this._handleKeyboard.bind(this)});if(this.$exiter.length){var _this=this;this.$exiter.on({'click.zf.offcanvas':this.close.bind(this)});}};OffCanvas.prototype._setMQChecker=function(){var _this=this;$(window).on('changed.zf.mediaquery',function(){if(Foundation.MediaQuery.atLeast(_this.options.revealOn)){_this.reveal(true);}else{_this.reveal(false);}}).one('load.zf.offcanvas',function(){if(Foundation.MediaQuery.atLeast(_this.options.revealOn)){_this.reveal(true);}});};OffCanvas.prototype.reveal=function(isRevealed){var $closer=this.$element.find('[data-close]');if(isRevealed){this.close();this.isRevealed=true;this.$element.off('open.zf.trigger toggle.zf.trigger');if($closer.length){$closer.hide();}}else{this.isRevealed=false;this.$element.on({'open.zf.trigger':this.open.bind(this),'toggle.zf.trigger':this.toggle.bind(this)});if($closer.length){$closer.show();}}};OffCanvas.prototype.open=function(event,trigger){if(this.$element.hasClass('is-open')||this.isRevealed){return;}
var _this=this,$body=$(document.body);$('body').scrollTop(0);Foundation.Move(this.options.transitionTime,this.$element,function(){$('[data-off-canvas-wrapper]').addClass('is-off-canvas-open is-open-'+_this.options.position);_this.$element.addClass('is-open')});this.$element.attr('aria-hidden','false').trigger('opened.zf.offcanvas');if(trigger){this.$lastTrigger=trigger.attr('aria-expanded','true');}
if(this.options.autoFocus){this.$element.one('finished.zf.animate',function(){_this.$element.find('a, button').eq(0).focus();});}
if(this.options.trapFocus){$('[data-off-canvas-content]').attr('tabindex','-1');this._trapFocus();}};OffCanvas.prototype._trapFocus=function(){var focusable=Foundation.Keyboard.findFocusable(this.$element),first=focusable.eq(0),last=focusable.eq(-1);focusable.off('.zf.offcanvas').on('keydown.zf.offcanvas',function(e){if(e.which===9||e.keycode===9){if(e.target===last[0]&&!e.shiftKey){e.preventDefault();first.focus();}
if(e.target===first[0]&&e.shiftKey){e.preventDefault();last.focus();}}});};OffCanvas.prototype.close=function(cb){if(!this.$element.hasClass('is-open')||this.isRevealed){return;}
var _this=this;$('[data-off-canvas-wrapper]').removeClass('is-off-canvas-open is-open-'+_this.options.position);_this.$element.removeClass('is-open');this.$element.attr('aria-hidden','true').trigger('closed.zf.offcanvas');this.$lastTrigger.attr('aria-expanded','false');if(this.options.trapFocus){$('[data-off-canvas-content]').removeAttr('tabindex');}};OffCanvas.prototype.toggle=function(event,trigger){if(this.$element.hasClass('is-open')){this.close(event,trigger);}
else{this.open(event,trigger);}};OffCanvas.prototype._handleKeyboard=function(event){if(event.which!==27)return;event.stopPropagation();event.preventDefault();this.close();this.$lastTrigger.focus();};OffCanvas.prototype.destroy=function(){this.close();this.$element.off('.zf.trigger .zf.offcanvas');this.$exiter.off('.zf.offcanvas');Foundation.unregisterPlugin(this);};Foundation.plugin(OffCanvas,'OffCanvas');}(jQuery,Foundation);!function($,Foundation){'use strict';function Orbit(element,options){this.$element=element;this.options=$.extend({},Orbit.defaults,this.$element.data(),options);this._init();Foundation.registerPlugin(this,'Orbit');Foundation.Keyboard.register('Orbit',{'ltr':{'ARROW_RIGHT':'next','ARROW_LEFT':'previous'},'rtl':{'ARROW_LEFT':'next','ARROW_RIGHT':'previous'}});}
Orbit.defaults={bullets:true,navButtons:true,animInFromRight:'slide-in-right',animOutToRight:'slide-out-right',animInFromLeft:'slide-in-left',animOutToLeft:'slide-out-left',autoPlay:true,timerDelay:5000,infiniteWrap:true,swipe:true,pauseOnHover:true,accessible:true,containerClass:'orbit-container',slideClass:'orbit-slide',boxOfBullets:'orbit-bullets',nextClass:'orbit-next',prevClass:'orbit-previous',useMUI:true};Orbit.prototype._init=function(){this.$wrapper=this.$element.find('.'+this.options.containerClass);this.$slides=this.$element.find('.'+this.options.slideClass);var $images=this.$element.find('img'),initActive=this.$slides.filter('.is-active');if(!initActive.length){this.$slides.eq(0).addClass('is-active');}
if(!this.options.useMUI){this.$slides.addClass('no-motionui');}
if($images.length){Foundation.onImagesLoaded($images,this._prepareForOrbit.bind(this));}else{this._prepareForOrbit();}
if(this.options.bullets){this._loadBullets();}
this._events();if(this.options.autoPlay){this.geoSync();}
if(this.options.accessible){this.$wrapper.attr('tabindex',0);}};Orbit.prototype._loadBullets=function(){this.$bullets=this.$element.find('.'+this.options.boxOfBullets).find('button');};Orbit.prototype.geoSync=function(){var _this=this;this.timer=new Foundation.Timer(this.$element,{duration:this.options.timerDelay,infinite:false},function(){_this.changeSlide(true);});this.timer.start();};Orbit.prototype._prepareForOrbit=function(){var _this=this;this._setWrapperHeight(function(max){_this._setSlideHeight(max);});};Orbit.prototype._setWrapperHeight=function(cb){var max=0,temp,counter=0;this.$slides.each(function(){temp=this.getBoundingClientRect().height;$(this).attr('data-slide',counter);if(counter){$(this).css({'position':'relative','display':'none'});}
max=temp>max?temp:max;counter++;});if(counter===this.$slides.length){this.$wrapper.css({'height':max});cb(max);}};Orbit.prototype._setSlideHeight=function(height){this.$slides.each(function(){$(this).css('max-height',height);});};Orbit.prototype._events=function(){var _this=this;if(this.options.swipe){this.$slides.off('swipeleft.zf.orbit swiperight.zf.orbit').on('swipeleft.zf.orbit',function(e){e.preventDefault();_this.changeSlide(true);}).on('swiperight.zf.orbit',function(e){e.preventDefault();_this.changeSlide(false);});}
if(this.options.autoPlay){this.$slides.on('click.zf.orbit',function(){_this.$element.data('clickedOn',_this.$element.data('clickedOn')?false:true);_this.timer[_this.$element.data('clickedOn')?'pause':'start']();});if(this.options.pauseOnHover){this.$element.on('mouseenter.zf.orbit',function(){_this.timer.pause();}).on('mouseleave.zf.orbit',function(){if(!_this.$element.data('clickedOn')){_this.timer.start();}});}}
if(this.options.navButtons){var $controls=this.$element.find('.'+this.options.nextClass+', .'+this.options.prevClass);$controls.attr('tabindex',0).on('click.zf.orbit touchend.zf.orbit',function(){_this.changeSlide($(this).hasClass(_this.options.nextClass));});}
if(this.options.bullets){this.$bullets.on('click.zf.orbit touchend.zf.orbit',function(){if(/is-active/g.test(this.className)){return false;}
var idx=$(this).data('slide'),ltr=idx>_this.$slides.filter('.is-active').data('slide'),$slide=_this.$slides.eq(idx);_this.changeSlide(ltr,$slide,idx);});}
this.$wrapper.add(this.$bullets).on('keydown.zf.orbit',function(e){Foundation.Keyboard.handleKey(e,'Orbit',{next:function(){_this.changeSlide(true);},previous:function(){_this.changeSlide(false);},handled:function(){if($(e.target).is(_this.$bullets)){_this.$bullets.filter('.is-active').focus();}}});});};Orbit.prototype.changeSlide=function(isLTR,chosenSlide,idx){var $curSlide=this.$slides.filter('.is-active').eq(0);if(/mui/g.test($curSlide[0].className)){return false;}
var $firstSlide=this.$slides.first(),$lastSlide=this.$slides.last(),dirIn=isLTR?'Right':'Left',dirOut=isLTR?'Left':'Right',_this=this,$newSlide;if(!chosenSlide){$newSlide=isLTR?(this.options.infiniteWrap?$curSlide.next('.'+this.options.slideClass).length?$curSlide.next('.'+this.options.slideClass):$firstSlide:$curSlide.next('.'+this.options.slideClass)):(this.options.infiniteWrap?$curSlide.prev('.'+this.options.slideClass).length?$curSlide.prev('.'+this.options.slideClass):$lastSlide:$curSlide.prev('.'+this.options.slideClass));}else{$newSlide=chosenSlide;}
if($newSlide.length){if(this.options.bullets){idx=idx||this.$slides.index($newSlide);this._updateBullets(idx);}
if(this.options.useMUI){Foundation.Motion.animateIn($newSlide.addClass('is-active').css({'position':'absolute','top':0}),this.options['animInFrom'+dirIn],function(){$newSlide.css({'position':'relative','display':'block'}).attr('aria-live','polite');});Foundation.Motion.animateOut($curSlide.removeClass('is-active'),this.options['animOutTo'+dirOut],function(){$curSlide.removeAttr('aria-live');if(_this.options.autoPlay){_this.timer.restart();}});}else{$curSlide.removeClass('is-active is-in').removeAttr('aria-live').hide();$newSlide.addClass('is-active is-in').attr('aria-live','polite').show();if(this.options.autoPlay){this.timer.restart();}}
this.$element.trigger('slidechange.zf.orbit',[$newSlide]);}};Orbit.prototype._updateBullets=function(idx){var $oldBullet=this.$element.find('.'+this.options.boxOfBullets).find('.is-active').removeClass('is-active').blur(),span=$oldBullet.find('span:last').detach(),$newBullet=this.$bullets.eq(idx).addClass('is-active').append(span);};Orbit.prototype.destroy=function(){delete this.timer;this.$element.off('.zf.orbit').find('*').off('.zf.orbit').end().hide();Foundation.unregisterPlugin(this);};Foundation.plugin(Orbit,'Orbit');}(jQuery,window.Foundation);!function(Foundation,$){'use strict';var MenuPlugins={dropdown:{cssClass:'dropdown',plugin:Foundation._plugins['dropdown-menu']||null},drilldown:{cssClass:'drilldown',plugin:Foundation._plugins['drilldown']||null},accordion:{cssClass:'accordion-menu',plugin:Foundation._plugins['accordion-menu']||null}};var phMedia={small:'(min-width: 0px)',medium:'(min-width: 640px)'};function ResponsiveMenu(element){this.$element=$(element);this.rules=this.$element.data('responsive-menu');this.currentMq=null;this.currentPlugin=null;this._init();this._events();Foundation.registerPlugin(this,'ResponsiveMenu');}
ResponsiveMenu.defaults={};ResponsiveMenu.prototype._init=function(){var rulesTree={};var rules=this.rules.split(' ');for(var i=0;i<rules.length;i++){var rule=rules[i].split('-');var ruleSize=rule.length>1?rule[0]:'small';var rulePlugin=rule.length>1?rule[1]:rule[0];if(MenuPlugins[rulePlugin]!==null){rulesTree[ruleSize]=MenuPlugins[rulePlugin];}}
this.rules=rulesTree;if(!$.isEmptyObject(rulesTree)){this._checkMediaQueries();}};ResponsiveMenu.prototype._events=function(){var _this=this;$(window).on('changed.zf.mediaquery',function(){_this._checkMediaQueries();});};ResponsiveMenu.prototype._checkMediaQueries=function(){var matchedMq,_this=this;$.each(this.rules,function(key){if(Foundation.MediaQuery.atLeast(key)){matchedMq=key;}});if(!matchedMq)return;if(this.currentPlugin instanceof this.rules[matchedMq].plugin)return;$.each(MenuPlugins,function(key,value){_this.$element.removeClass(value.cssClass);});this.$element.addClass(this.rules[matchedMq].cssClass);if(this.currentPlugin)this.currentPlugin.destroy();this.currentPlugin=new this.rules[matchedMq].plugin(this.$element,{});};ResponsiveMenu.prototype.destroy=function(){this.currentPlugin.destroy();$(window).off('.zf.ResponsiveMenu');Foundation.unregisterPlugin(this);};Foundation.plugin(ResponsiveMenu,'ResponsiveMenu');}(Foundation,jQuery);!function($,Foundation){'use strict';function ResponsiveToggle(element,options){this.$element=$(element);this.options=$.extend({},ResponsiveToggle.defaults,this.$element.data(),options);this._init();this._events();Foundation.registerPlugin(this,'ResponsiveToggle');}
ResponsiveToggle.defaults={hideFor:'medium'};ResponsiveToggle.prototype._init=function(){var targetID=this.$element.data('responsive-toggle');if(!targetID){console.error('Your tab bar needs an ID of a Menu as the value of data-tab-bar.');}
this.$targetMenu=$('#'+targetID);this.$toggler=this.$element.find('[data-toggle]');this._update();};ResponsiveToggle.prototype._events=function(){var _this=this;$(window).on('changed.zf.mediaquery',this._update.bind(this));this.$toggler.on('click.zf.responsiveToggle',this.toggleMenu.bind(this));};ResponsiveToggle.prototype._update=function(){if(!Foundation.MediaQuery.atLeast(this.options.hideFor)){this.$element.show();this.$targetMenu.hide();}
else{this.$element.hide();this.$targetMenu.show();}};ResponsiveToggle.prototype.toggleMenu=function(){if(!Foundation.MediaQuery.atLeast(this.options.hideFor)){this.$targetMenu.toggle(0);this.$element.trigger('toggled.zf.responsiveToggle');}};ResponsiveToggle.prototype.destroy=function(){};Foundation.plugin(ResponsiveToggle,'ResponsiveToggle');}(jQuery,Foundation);!function(Foundation,$){'use strict';function Reveal(element,options){this.$element=element;this.options=$.extend({},Reveal.defaults,this.$element.data(),options);this._init();Foundation.registerPlugin(this,'Reveal');Foundation.Keyboard.register('Reveal',{'ENTER':'open','SPACE':'open','ESCAPE':'close','TAB':'tab_forward','SHIFT_TAB':'tab_backward'});}
Reveal.defaults={animationIn:'',animationOut:'',showDelay:0,hideDelay:0,closeOnClick:true,closeOnEsc:true,multipleOpened:false,vOffset:100,hOffset:0,fullScreen:false,btmOffsetPct:10,overlay:true,resetOnClose:false};Reveal.prototype._init=function(){this.id=this.$element.attr('id');this.isActive=false;this.$anchor=$('[data-open="'+this.id+'"]').length?$('[data-open="'+this.id+'"]'):$('[data-toggle="'+this.id+'"]');if(this.$anchor.length){var anchorId=this.$anchor[0].id||Foundation.GetYoDigits(6,'reveal');this.$anchor.attr({'aria-controls':this.id,'id':anchorId,'aria-haspopup':true,'tabindex':0});this.$element.attr({'aria-labelledby':anchorId});}
if(this.options.fullScreen||this.$element.hasClass('full')){this.options.fullScreen=true;this.options.overlay=false;}
if(this.options.overlay&&!this.$overlay){this.$overlay=this._makeOverlay(this.id);}
this.$element.attr({'role':'dialog','aria-hidden':true,'data-yeti-box':this.id,'data-resize':this.id});this._events();};Reveal.prototype._makeOverlay=function(id){var $overlay=$('<div></div>').addClass('reveal-overlay').attr({'tabindex':-1,'aria-hidden':true}).appendTo('body');if(this.options.closeOnClick){$overlay.attr({'data-close':id});}
return $overlay;};Reveal.prototype._events=function(){var _this=this;this.$element.on({'open.zf.trigger':this.open.bind(this),'close.zf.trigger':this.close.bind(this),'toggle.zf.trigger':this.toggle.bind(this),'resizeme.zf.trigger':function(){if(_this.$element.is(':visible')){_this._setPosition(function(){});}}});if(this.$anchor.length){this.$anchor.on('keydown.zf.reveal',function(e){if(e.which===13||e.which===32){e.stopPropagation();e.preventDefault();_this.open();}});}
if(this.options.closeOnClick&&this.options.overlay){this.$overlay.off('.zf.reveal').on('click.zf.reveal',this.close.bind(this));}};Reveal.prototype._setPosition=function(cb){var eleDims=Foundation.Box.GetDimensions(this.$element);var elePos=this.options.fullScreen?'reveal full':(eleDims.height>=(0.5*eleDims.windowDims.height))?'reveal':'center';if(elePos==='reveal full'){this.$element.offset(Foundation.Box.GetOffsets(this.$element,null,elePos,this.options.vOffset)).css({'height':eleDims.windowDims.height,'width':eleDims.windowDims.width});}else if(!Foundation.MediaQuery.atLeast('medium')||!Foundation.Box.ImNotTouchingYou(this.$element,null,true,false)){this.$element.css({'width':eleDims.windowDims.width-(this.options.hOffset*2)}).offset(Foundation.Box.GetOffsets(this.$element,null,'center',this.options.vOffset,this.options.hOffset));this.changedSize=true;}else{this.$element.css({'max-height':eleDims.windowDims.height-(this.options.vOffset*(this.options.btmOffsetPct/100+1)),'width':''}).offset(Foundation.Box.GetOffsets(this.$element,null,elePos,this.options.vOffset));}
cb();};Reveal.prototype.open=function(){var _this=this;this.isActive=true;this.$element.css({'visibility':'hidden'}).show().scrollTop(0);this._setPosition(function(){_this.$element.hide().css({'visibility':''});if(!_this.options.multipleOpened){_this.$element.trigger('closeme.zf.reveal',_this.id);}
if(_this.options.animationIn){if(_this.options.overlay){Foundation.Motion.animateIn(_this.$overlay,'fade-in',function(){Foundation.Motion.animateIn(_this.$element,_this.options.animationIn,function(){_this.focusableElements=Foundation.Keyboard.findFocusable(_this.$element);});});}else{Foundation.Motion.animateIn(_this.$element,_this.options.animationIn,function(){_this.focusableElements=Foundation.Keyboard.findFocusable(_this.$element);});}}else{if(_this.options.overlay){_this.$overlay.show(0,function(){_this.$element.show(_this.options.showDelay,function(){});});}else{_this.$element.show(_this.options.showDelay,function(){});}}});this.$element.attr({'aria-hidden':false}).attr('tabindex',-1).focus().trigger('open.zf.reveal');$('body').addClass('is-reveal-open').attr({'aria-hidden':(this.options.overlay||this.options.fullScreen)?true:false});setTimeout(function(){_this._extraHandlers();},0);};Reveal.prototype._extraHandlers=function(){var _this=this;this.focusableElements=Foundation.Keyboard.findFocusable(this.$element);if(!this.options.overlay&&this.options.closeOnClick&&!this.options.fullScreen){$('body').on('click.zf.reveal',function(e){_this.close();});}
if(this.options.closeOnEsc){$(window).on('keydown.zf.reveal',function(e){Foundation.Keyboard.handleKey(e,'Reveal',{close:function(){if(_this.options.closeOnEsc){_this.close();_this.$anchor.focus();}}});if(_this.focusableElements.length===0){e.preventDefault();}});}
this.$element.on('keydown.zf.reveal',function(e){var $target=$(this);Foundation.Keyboard.handleKey(e,'Reveal',{tab_forward:function(){if(_this.$element.find(':focus').is(_this.focusableElements.eq(-1))){_this.focusableElements.eq(0).focus();e.preventDefault();}},tab_backward:function(){if(_this.$element.find(':focus').is(_this.focusableElements.eq(0))||_this.$element.is(':focus')){_this.focusableElements.eq(-1).focus();e.preventDefault();}},open:function(){if(_this.$element.find(':focus').is(_this.$element.find('[data-close]'))){setTimeout(function(){_this.$anchor.focus();},1);}else if($target.is(_this.focusableElements)){_this.open();}},close:function(){if(_this.options.closeOnEsc){_this.close();_this.$anchor.focus();}}});});};Reveal.prototype.close=function(){if(!this.isActive||!this.$element.is(':visible')){return false;}
var _this=this;if(this.options.animationOut){Foundation.Motion.animateOut(this.$element,this.options.animationOut,function(){if(_this.options.overlay){Foundation.Motion.animateOut(_this.$overlay,'fade-out',function(){});}});}else{this.$element.hide(_this.options.hideDelay,function(){if(_this.options.overlay){_this.$overlay.hide(0,function(){});}});}
if(this.options.closeOnEsc){$(window).off('keydown.zf.reveal');}
if(!this.options.overlay&&this.options.closeOnClick){$('body').off('click.zf.reveal');}
this.$element.off('keydown.zf.reveal');if(this.changedSize){this.$element.css({'height':'','width':''});}
$('body').removeClass('is-reveal-open').attr({'aria-hidden':false,'tabindex':''});if(this.options.resetOnClose){this.$element.html(this.$element.html());}
this.isActive=false;this.$element.attr({'aria-hidden':true}).trigger('closed.zf.reveal');};Reveal.prototype.toggle=function(){if(this.isActive){this.close();}else{this.open();}};Reveal.prototype.destroy=function(){if(this.options.overlay){this.$overlay.hide().off().remove();}
this.$element.hide();this.$anchor.off();Foundation.unregisterPlugin(this);};Foundation.plugin(Reveal,'Reveal');if(typeof module!=='undefined'&&typeof module.exports!=='undefined')
module.exports=Reveal;if(typeof define==='function')
define(['foundation'],function(){return Reveal;});}(Foundation,jQuery);!function($,Foundation){'use strict';function Slider(element,options){this.$element=element;this.options=$.extend({},Slider.defaults,this.$element.data(),options);this._init();Foundation.registerPlugin(this,'Slider');Foundation.Keyboard.register('Slider',{'ltr':{'ARROW_RIGHT':'increase','ARROW_UP':'increase','ARROW_DOWN':'decrease','ARROW_LEFT':'decrease','SHIFT_ARROW_RIGHT':'increase_fast','SHIFT_ARROW_UP':'increase_fast','SHIFT_ARROW_DOWN':'decrease_fast','SHIFT_ARROW_LEFT':'decrease_fast'},'rtl':{'ARROW_LEFT':'increase','ARROW_RIGHT':'decrease','SHIFT_ARROW_LEFT':'increase_fast','SHIFT_ARROW_RIGHT':'decrease_fast'}});}
Slider.defaults={start:0,end:100,step:1,initialStart:0,initialEnd:100,binding:false,clickSelect:true,vertical:false,draggable:true,disabled:false,doubleSided:false,decimal:2,moveTime:200,disabledClass:'disabled'};Slider.prototype._init=function(){this.inputs=this.$element.find('input');this.handles=this.$element.find('[data-slider-handle]');this.$handle=this.handles.eq(0);this.$input=this.inputs.length?this.inputs.eq(0):$('#'+this.$handle.attr('aria-controls'));this.$fill=this.$element.find('[data-slider-fill]').css(this.options.vertical?'height':'width',0);var isDbl=false,_this=this;if(this.options.disabled||this.$element.hasClass(this.options.disabledClass)){this.options.disabled=true;this.$element.addClass(this.options.disabledClass);}
if(!this.inputs.length){this.inputs=$().add(this.$input);this.options.binding=true;}
this._setInitAttr(0);this._events(this.$handle);if(this.handles[1]){this.options.doubleSided=true;this.$handle2=this.handles.eq(1);this.$input2=this.inputs.length>1?this.inputs.eq(1):$('#'+this.$handle2.attr('aria-controls'));if(!this.inputs[1]){this.inputs=this.inputs.add(this.$input2);}
isDbl=true;this._setHandlePos(this.$handle,this.options.initialStart,true,function(){_this._setHandlePos(_this.$handle2,_this.options.initialEnd);});this._setInitAttr(1);this._events(this.$handle2);}
if(!isDbl){this._setHandlePos(this.$handle,this.options.initialStart,true);}};Slider.prototype._setHandlePos=function($hndl,location,noInvert,cb){location=parseFloat(location);if(location<this.options.start){location=this.options.start;}
else if(location>this.options.end){location=this.options.end;}
var isDbl=this.options.doubleSided,callback=cb||null;if(isDbl){if(this.handles.index($hndl)===0){var h2Val=parseFloat(this.$handle2.attr('aria-valuenow'));location=location>=h2Val?h2Val-this.options.step:location;}else{var h1Val=parseFloat(this.$handle.attr('aria-valuenow'));location=location<=h1Val?h1Val+this.options.step:location;}}
if(this.options.vertical&&!noInvert){location=this.options.end-location;}
var _this=this,vert=this.options.vertical,hOrW=vert?'height':'width',lOrT=vert?'top':'left',halfOfHandle=$hndl[0].getBoundingClientRect()[hOrW]/2,elemDim=this.$element[0].getBoundingClientRect()[hOrW],pctOfBar=percent(location,this.options.end).toFixed(2),pxToMove=(elemDim-halfOfHandle)*pctOfBar,movement=(percent(pxToMove,elemDim)*100).toFixed(this.options.decimal),location=location>0?parseFloat(location.toFixed(this.options.decimal)):0,anim,prog,start=null,css={};this._setValues($hndl,location);if(this.options.doubleSided){var isLeftHndl=this.handles.index($hndl)===0,dim,idx=this.handles.index($hndl);if(isLeftHndl){css[lOrT]=(pctOfBar>0?pctOfBar*100:0)+'%';dim=((percent(this.$handle2.position()[lOrT]+halfOfHandle,elemDim)-parseFloat(pctOfBar))*100).toFixed(this.options.decimal)+'%';css['min-'+hOrW]=dim;if(cb&&typeof cb==='function'){cb();}}else{var handleLeft=parseFloat(this.$handle[0].style.left);location=(location<100?location:100)-(!isNaN(handleLeft)?handleLeft:this.options.end-location);css['min-'+hOrW]=location+'%';}}
this.$element.one('finished.zf.animate',function(){_this.animComplete=true;_this.$element.trigger('moved.zf.slider',[$hndl]);});var moveTime=_this.$element.data('dragging')?1000/60:_this.options.moveTime;Foundation.Move(moveTime,$hndl,function(){$hndl.css(lOrT,movement+'%');if(!_this.options.doubleSided){_this.$fill.css(hOrW,pctOfBar*100+'%');}else{_this.$fill.css(css);}});};Slider.prototype._setInitAttr=function(idx){var id=this.inputs.eq(idx).attr('id')||Foundation.GetYoDigits(6,'slider');this.inputs.eq(idx).attr({'id':id,'max':this.options.end,'min':this.options.start});this.handles.eq(idx).attr({'role':'slider','aria-controls':id,'aria-valuemax':this.options.end,'aria-valuemin':this.options.start,'aria-valuenow':idx===0?this.options.initialStart:this.options.initialEnd,'aria-orientation':this.options.vertical?'vertical':'horizontal','tabindex':0});};Slider.prototype._setValues=function($handle,val){var idx=this.options.doubleSided?this.handles.index($handle):0;this.inputs.eq(idx).val(val);$handle.attr('aria-valuenow',val);};Slider.prototype._handleEvent=function(e,$handle,val){var value,hasVal;if(!val){e.preventDefault();var _this=this,vertical=this.options.vertical,param=vertical?'height':'width',direction=vertical?'top':'left',pageXY=vertical?e.pageY:e.pageX,halfOfHandle=this.$handle[0].getBoundingClientRect()[param]/2,barDim=this.$element[0].getBoundingClientRect()[param],barOffset=(this.$element.offset()[direction]-pageXY),barXY=barOffset>0?-halfOfHandle:(barOffset-halfOfHandle)<-barDim?barDim:Math.abs(barOffset),offsetPct=percent(barXY,barDim);value=(this.options.end-this.options.start)*offsetPct;hasVal=false;if(!$handle){var firstHndlPos=absPosition(this.$handle,direction,barXY,param),secndHndlPos=absPosition(this.$handle2,direction,barXY,param);$handle=firstHndlPos<=secndHndlPos?this.$handle:this.$handle2;}}else{value=val;hasVal=true;}
this._setHandlePos($handle,value,hasVal);};Slider.prototype._events=function($handle){if(this.options.disabled){return false;}
var _this=this,curHandle,timer;this.inputs.off('change.zf.slider').on('change.zf.slider',function(e){var idx=_this.inputs.index($(this));_this._handleEvent(e,_this.handles.eq(idx),$(this).val());});if(this.options.clickSelect){this.$element.off('click.zf.slider').on('click.zf.slider',function(e){if(_this.$element.data('dragging')){return false;}
_this.animComplete=false;if(_this.options.doubleSided){_this._handleEvent(e);}else{_this._handleEvent(e,_this.$handle);}});}
if(this.options.draggable){this.handles.addTouch();var $body=$('body');$handle.off('mousedown.zf.slider').on('mousedown.zf.slider',function(e){$handle.addClass('is-dragging');_this.$fill.addClass('is-dragging');_this.$element.data('dragging',true);_this.animComplete=false;curHandle=$(e.currentTarget);$body.on('mousemove.zf.slider',function(e){e.preventDefault();_this._handleEvent(e,curHandle);}).on('mouseup.zf.slider',function(e){_this.animComplete=true;_this._handleEvent(e,curHandle);$handle.removeClass('is-dragging');_this.$fill.removeClass('is-dragging');_this.$element.data('dragging',false);$body.off('mousemove.zf.slider mouseup.zf.slider');});});}
$handle.off('keydown.zf.slider').on('keydown.zf.slider',function(e){var idx=_this.options.doubleSided?_this.handles.index($(this)):0,oldValue=parseFloat(_this.inputs.eq(idx).val()),newValue;var _$handle=$(this);Foundation.Keyboard.handleKey(e,'Slider',{decrease:function(){newValue=oldValue-_this.options.step;},increase:function(){newValue=oldValue+_this.options.step;},decrease_fast:function(){newValue=oldValue-_this.options.step*10;},increase_fast:function(){newValue=oldValue+_this.options.step*10;},handled:function(){e.preventDefault();_this._setHandlePos(_$handle,newValue,true);}});});};Slider.prototype.destroy=function(){this.handles.off('.zf.slider');this.inputs.off('.zf.slider');this.$element.off('.zf.slider');Foundation.unregisterPlugin(this);};Foundation.plugin(Slider,'Slider');function percent(frac,num){return(frac/num);}
function absPosition($handle,dir,clickPos,param){return Math.abs(($handle.position()[dir]+($handle[param]()/2))-clickPos);}}(jQuery,window.Foundation);!function($,Foundation){'use strict';function Sticky(element,options){this.$element=element;this.options=$.extend({},Sticky.defaults,this.$element.data(),options);this._init();Foundation.registerPlugin(this,'Sticky');}
Sticky.defaults={container:'<div data-sticky-container></div>',stickTo:'top',anchor:'',topAnchor:'',btmAnchor:'',marginTop:1,marginBottom:1,stickyOn:'medium',stickyClass:'sticky',containerClass:'sticky-container',checkEvery:-1};Sticky.prototype._init=function(){var $parent=this.$element.parent('[data-sticky-container]'),id=this.$element[0].id||Foundation.GetYoDigits(6,'sticky'),_this=this;if(!$parent.length){this.wasWrapped=true;}
this.$container=$parent.length?$parent:$(this.options.container).wrapInner(this.$element);this.$container.addClass(this.options.containerClass);this.$element.addClass(this.options.stickyClass).attr({'data-resize':id});this.scrollCount=this.options.checkEvery;this.isStuck=false;if(this.options.anchor!==''){this.$anchor=$('#'+this.options.anchor);}else{this._parsePoints();}
this._setSizes(function(){_this._calc(false);});this._events(id.split('-').reverse().join('-'));};Sticky.prototype._parsePoints=function(){var top=this.options.topAnchor,btm=this.options.btmAnchor,pts=[top,btm],breaks={};if(top&&btm){for(var i=0,len=pts.length;i<len&&pts[i];i++){var pt;if(typeof pts[i]==='number'){pt=pts[i];}else{var place=pts[i].split(':'),anchor=$('#'+place[0]);pt=anchor.offset().top;if(place[1]&&place[1].toLowerCase()==='bottom'){pt+=anchor[0].getBoundingClientRect().height;}}
breaks[i]=pt;}}else{breaks={0:1,1:document.documentElement.scrollHeight};}
this.points=breaks;return;};Sticky.prototype._events=function(id){var _this=this,scrollListener=this.scrollListener='scroll.zf.'+id;if(this.isOn){return;}
if(this.canStick){this.isOn=true;$(window).off(scrollListener).on(scrollListener,function(e){if(_this.scrollCount===0){_this.scrollCount=_this.options.checkEvery;_this._setSizes(function(){_this._calc(false,window.pageYOffset);});}else{_this.scrollCount--;_this._calc(false,window.pageYOffset);}});}
this.$element.off('resizeme.zf.trigger').on('resizeme.zf.trigger',function(e,el){_this._setSizes(function(){_this._calc(false);if(_this.canStick){if(!_this.isOn){_this._events(id);}}else if(_this.isOn){_this._pauseListeners(scrollListener);}});});};Sticky.prototype._pauseListeners=function(scrollListener){this.isOn=false;$(window).off(scrollListener);this.$element.trigger('pause.zf.sticky');};Sticky.prototype._calc=function(checkSizes,scroll){if(checkSizes){this._setSizes();}
if(!this.canStick){if(this.isStuck){this._removeSticky(true);}
return false;}
if(!scroll){scroll=window.pageYOffset;}
if(scroll>=this.topPoint){if(scroll<=this.bottomPoint){if(!this.isStuck){this._setSticky();}}else{if(this.isStuck){this._removeSticky(false);}}}else{if(this.isStuck){this._removeSticky(true);}}};Sticky.prototype._setSticky=function(){var stickTo=this.options.stickTo,mrgn=stickTo==='top'?'marginTop':'marginBottom',notStuckTo=stickTo==='top'?'bottom':'top',css={};css[mrgn]=this.options[mrgn]+'em';css[stickTo]=0;css[notStuckTo]='auto';css['left']=this.$container.offset().left+parseInt(window.getComputedStyle(this.$container[0])["padding-left"],10);this.isStuck=true;this.$element.removeClass('is-anchored is-at-'+notStuckTo).addClass('is-stuck is-at-'+stickTo).css(css).trigger('sticky.zf.stuckto:'+stickTo);};Sticky.prototype._removeSticky=function(isTop){var stickTo=this.options.stickTo,stickToTop=stickTo==='top',css={},anchorPt=(this.points?this.points[1]-this.points[0]:this.anchorHeight)-this.elemHeight,mrgn=stickToTop?'marginTop':'marginBottom',notStuckTo=stickToTop?'bottom':'top',topOrBottom=isTop?'top':'bottom';css[mrgn]=0;if((isTop&&!stickToTop)||(stickToTop&&!isTop)){css[stickTo]=anchorPt;css[notStuckTo]=0;}else{css[stickTo]=0;css[notStuckTo]=anchorPt;}
css['left']='';this.isStuck=false;this.$element.removeClass('is-stuck is-at-'+stickTo).addClass('is-anchored is-at-'+topOrBottom).css(css).trigger('sticky.zf.unstuckfrom:'+topOrBottom);};Sticky.prototype._setSizes=function(cb){this.canStick=Foundation.MediaQuery.atLeast(this.options.stickyOn);if(!this.canStick){cb();}
var _this=this,newElemWidth=this.$container[0].getBoundingClientRect().width,comp=window.getComputedStyle(this.$container[0]),pdng=parseInt(comp['padding-right'],10);if(this.$anchor&&this.$anchor.length){this.anchorHeight=this.$anchor[0].getBoundingClientRect().height;}else{this._parsePoints();}
this.$element.css({'max-width':newElemWidth-pdng+'px'});var newContainerHeight=this.$element[0].getBoundingClientRect().height||this.containerHeight;this.containerHeight=newContainerHeight;this.$container.css({height:newContainerHeight});this.elemHeight=newContainerHeight;if(this.isStuck){this.$element.css({"left":this.$container.offset().left+parseInt(comp['padding-left'],10)});}
this._setBreakPoints(newContainerHeight,function(){if(cb){cb();}});};Sticky.prototype._setBreakPoints=function(elemHeight,cb){if(!this.canStick){if(cb){cb();}
else{return false;}}
var mTop=emCalc(this.options.marginTop),mBtm=emCalc(this.options.marginBottom),topPoint=this.points?this.points[0]:this.$anchor.offset().top,bottomPoint=this.points?this.points[1]:topPoint+this.anchorHeight,winHeight=window.innerHeight;if(this.options.stickTo==='top'){topPoint-=mTop;bottomPoint-=(elemHeight+mTop);}else if(this.options.stickTo==='bottom'){topPoint-=(winHeight-(elemHeight+mBtm));bottomPoint-=(winHeight-mBtm);}else{}
this.topPoint=topPoint;this.bottomPoint=bottomPoint;if(cb){cb();}};Sticky.prototype.destroy=function(){this._removeSticky(true);this.$element.removeClass(this.options.stickyClass+' is-anchored is-at-top').css({height:'',top:'',bottom:'','max-width':''}).off('resizeme.zf.trigger');this.$anchor.off('change.zf.sticky');$(window).off(this.scrollListener);if(this.wasWrapped){this.$element.unwrap();}else{this.$container.removeClass(this.options.containerClass).css({height:''});}
Foundation.unregisterPlugin(this);};function emCalc(em){return parseInt(window.getComputedStyle(document.body,null).fontSize,10)*em;}
Foundation.plugin(Sticky,'Sticky');}(jQuery,window.Foundation);!function($,Foundation){'use strict';function Tabs(element,options){this.$element=element;this.options=$.extend({},Tabs.defaults,this.$element.data(),options);this._init();Foundation.registerPlugin(this,'Tabs');Foundation.Keyboard.register('Tabs',{'ENTER':'open','SPACE':'open','ARROW_RIGHT':'next','ARROW_UP':'previous','ARROW_DOWN':'next','ARROW_LEFT':'previous'});}
Tabs.defaults={autoFocus:false,wrapOnKeys:true,matchHeight:false,linkClass:'tabs-title',panelClass:'tabs-panel'};Tabs.prototype._init=function(){var _this=this;this.$tabTitles=this.$element.find('.'+this.options.linkClass);this.$tabContent=$('[data-tabs-content="'+this.$element[0].id+'"]');this.$tabTitles.each(function(){var $elem=$(this),$link=$elem.find('a'),isActive=$elem.hasClass('is-active'),hash=$link.attr('href').slice(1),linkId=hash+'-label',$tabContent=$(hash);$elem.attr({'role':'presentation'});$link.attr({'role':'tab','aria-controls':hash,'aria-selected':isActive,'id':linkId});$tabContent.attr({'role':'tabpanel','aria-hidden':!isActive,'aria-labelledby':linkId});if(isActive&&_this.options.autoFocus){$link.focus();}});if(this.options.matchHeight){var $images=this.$tabContent.find('img');if($images.length){Foundation.onImagesLoaded($images,this._setHeight.bind(this));}else{this._setHeight();}}
this._events();};Tabs.prototype._events=function(){this._addKeyHandler();this._addClickHandler();if(this.options.matchHeight){$(window).on('changed.zf.mediaquery',this._setHeight.bind(this));}};Tabs.prototype._addClickHandler=function(){var _this=this;this.$element.off('click.zf.tabs').on('click.zf.tabs','.'+this.options.linkClass,function(e){e.preventDefault();e.stopPropagation();if($(this).hasClass('is-active')){return;}
_this._handleTabChange($(this));});};Tabs.prototype._addKeyHandler=function(){var _this=this;var $firstTab=_this.$element.find('li:first-of-type');var $lastTab=_this.$element.find('li:last-of-type');this.$tabTitles.off('keydown.zf.tabs').on('keydown.zf.tabs',function(e){if(e.which===9)return;e.stopPropagation();e.preventDefault();var $element=$(this),$elements=$element.parent('ul').children('li'),$prevElement,$nextElement;$elements.each(function(i){if($(this).is($element)){if(_this.options.wrapOnKeys){$prevElement=i===0?$elements.last():$elements.eq(i-1);$nextElement=i===$elements.length-1?$elements.first():$elements.eq(i+1);}else{$prevElement=$elements.eq(Math.max(0,i-1));$nextElement=$elements.eq(Math.min(i+1,$elements.length-1));}
return;}});Foundation.Keyboard.handleKey(e,'Tabs',{open:function(){$element.find('[role="tab"]').focus();_this._handleTabChange($element);},previous:function(){$prevElement.find('[role="tab"]').focus();_this._handleTabChange($prevElement);},next:function(){$nextElement.find('[role="tab"]').focus();_this._handleTabChange($nextElement);}});});};Tabs.prototype._handleTabChange=function($target){var $tabLink=$target.find('[role="tab"]'),hash=$tabLink.attr('href'),$targetContent=$(hash),$oldTab=this.$element.find('.'+this.options.linkClass+'.is-active').removeClass('is-active').find('[role="tab"]').attr({'aria-selected':'false'}).attr('href');$($oldTab).removeClass('is-active').attr({'aria-hidden':'true'});$target.addClass('is-active');$tabLink.attr({'aria-selected':'true'});$targetContent.addClass('is-active').attr({'aria-hidden':'false'});this.$element.trigger('change.zf.tabs',[$target]);};Tabs.prototype.selectTab=function(elem){var idStr;if(typeof elem==='object'){idStr=elem[0].id;}else{idStr=elem;}
if(idStr.indexOf('#')<0){idStr='#'+idStr;}
var $target=this.$tabTitles.find('[href="'+idStr+'"]').parent('.'+this.options.linkClass);this._handleTabChange($target);};Tabs.prototype._setHeight=function(){var max=0;this.$tabContent.find('.'+this.options.panelClass).css('height','').each(function(){var panel=$(this),isActive=panel.hasClass('is-active');if(!isActive){panel.css({'visibility':'hidden','display':'block'});}
var temp=this.getBoundingClientRect().height;if(!isActive){panel.css({'visibility':'','display':''});}
max=temp>max?temp:max;}).css('height',max+'px');};Tabs.prototype.destroy=function(){this.$element.find('.'+this.options.linkClass).off('.zf.tabs').hide().end().find('.'+this.options.panelClass).hide();if(this.options.matchHeight){$(window).off('changed.zf.mediaquery');}
Foundation.unregisterPlugin(this);};Foundation.plugin(Tabs,'Tabs');function checkClass($elem){return $elem.hasClass('is-active');}}(jQuery,window.Foundation);!function(Foundation,$){'use strict';function Toggler(element,options){this.$element=element;this.options=$.extend({},Toggler.defaults,element.data(),options);this.className='';this._init();this._events();Foundation.registerPlugin(this,'Toggler');}
Toggler.defaults={animate:false};Toggler.prototype._init=function(){var input;if(this.options.animate){input=this.options.animate.split(' ');this.animationIn=input[0];this.animationOut=input[1]||null;}
else{input=this.$element.data('toggler');this.className=input[0]==='.'?input.slice(1):input;}
var id=this.$element[0].id;$('[data-open="'+id+'"], [data-close="'+id+'"], [data-toggle="'+id+'"]').attr('aria-controls',id);this.$element.attr('aria-expanded',this.$element.is(':hidden')?false:true);};Toggler.prototype._events=function(){this.$element.off('toggle.zf.trigger').on('toggle.zf.trigger',this.toggle.bind(this));};Toggler.prototype.toggle=function(){this[this.options.animate?'_toggleAnimate':'_toggleClass']();};Toggler.prototype._toggleClass=function(){this.$element.toggleClass(this.className);var isOn=this.$element.hasClass(this.className);if(isOn){this.$element.trigger('on.zf.toggler');}
else{this.$element.trigger('off.zf.toggler');}
this._updateARIA(isOn);};Toggler.prototype._toggleAnimate=function(){var _this=this;if(this.$element.is(':hidden')){Foundation.Motion.animateIn(this.$element,this.animationIn,function(){this.trigger('on.zf.toggler');_this._updateARIA(true);});}
else{Foundation.Motion.animateOut(this.$element,this.animationOut,function(){this.trigger('off.zf.toggler');_this._updateARIA(false);});}};Toggler.prototype._updateARIA=function(isOn){this.$element.attr('aria-expanded',isOn?true:false);};Toggler.prototype.destroy=function(){this.$element.off('.zf.toggler');Foundation.unregisterPlugin(this);};Foundation.plugin(Toggler,'Toggler');if(typeof module!=='undefined'&&typeof module.exports!=='undefined')
module.exports=Toggler;if(typeof define==='function')
define(['foundation'],function(){return Toggler;});}(Foundation,jQuery);!function($,document,Foundation){'use strict';function Tooltip(element,options){this.$element=element;this.options=$.extend({},Tooltip.defaults,this.$element.data(),options);this.isActive=false;this.isClick=false;this._init();Foundation.registerPlugin(this,'Tooltip');}
Tooltip.defaults={disableForTouch:false,hoverDelay:200,fadeInDuration:150,fadeOutDuration:150,disableHover:false,templateClasses:'',tooltipClass:'tooltip',triggerClass:'has-tip',showOn:'small',template:'',tipText:'',touchCloseText:'Tap to close.',clickOpen:true,positionClass:'',vOffset:10,hOffset:12};Tooltip.prototype._init=function(){var elemId=this.$element.attr('aria-describedby')||Foundation.GetYoDigits(6,'tooltip');this.options.positionClass=this._getPositionClass(this.$element);this.options.tipText=this.options.tipText||this.$element.attr('title');this.template=this.options.template?$(this.options.template):this._buildTemplate(elemId);this.template.appendTo(document.body).text(this.options.tipText).hide();this.$element.attr({'title':'','aria-describedby':elemId,'data-yeti-box':elemId,'data-toggle':elemId,'data-resize':elemId}).addClass(this.triggerClass);this.usedPositions=[];this.counter=4;this.classChanged=false;this._events();};Tooltip.prototype._getPositionClass=function(element){if(!element){return'';}
var position=element[0].className.match(/(top|left|right)/g);position=position?position[0]:'';return position;};Tooltip.prototype._buildTemplate=function(id){var templateClasses=(this.options.tooltipClass+' '+this.options.positionClass).trim();var $template=$('<div></div>').addClass(templateClasses).attr({'role':'tooltip','aria-hidden':true,'data-is-active':false,'data-is-focus':false,'id':id});return $template;};Tooltip.prototype._reposition=function(position){this.usedPositions.push(position?position:'bottom');if(!position&&(this.usedPositions.indexOf('top')<0)){this.template.addClass('top');}else if(position==='top'&&(this.usedPositions.indexOf('bottom')<0)){this.template.removeClass(position);}else if(position==='left'&&(this.usedPositions.indexOf('right')<0)){this.template.removeClass(position).addClass('right');}else if(position==='right'&&(this.usedPositions.indexOf('left')<0)){this.template.removeClass(position).addClass('left');}
else if(!position&&(this.usedPositions.indexOf('top')>-1)&&(this.usedPositions.indexOf('left')<0)){this.template.addClass('left');}else if(position==='top'&&(this.usedPositions.indexOf('bottom')>-1)&&(this.usedPositions.indexOf('left')<0)){this.template.removeClass(position).addClass('left');}else if(position==='left'&&(this.usedPositions.indexOf('right')>-1)&&(this.usedPositions.indexOf('bottom')<0)){this.template.removeClass(position);}else if(position==='right'&&(this.usedPositions.indexOf('left')>-1)&&(this.usedPositions.indexOf('bottom')<0)){this.template.removeClass(position);}
else{this.template.removeClass(position);}
this.classChanged=true;this.counter--;};Tooltip.prototype._setPosition=function(){var position=this._getPositionClass(this.template),$tipDims=Foundation.Box.GetDimensions(this.template),$anchorDims=Foundation.Box.GetDimensions(this.$element),direction=(position==='left'?'left':((position==='right')?'left':'top')),param=(direction==='top')?'height':'width',offset=(param==='height')?this.options.vOffset:this.options.hOffset,_this=this;if(($tipDims.width>=$tipDims.windowDims.width)||(!this.counter&&!Foundation.Box.ImNotTouchingYou(this.template))){this.template.offset(Foundation.Box.GetOffsets(this.template,this.$element,'center bottom',this.options.vOffset,this.options.hOffset,true)).css({'width':$anchorDims.windowDims.width-(this.options.hOffset*2),'height':'auto'});return false;}
this.template.offset(Foundation.Box.GetOffsets(this.template,this.$element,'center '+(position||'bottom'),this.options.vOffset,this.options.hOffset));while(!Foundation.Box.ImNotTouchingYou(this.template)&&this.counter){this._reposition(position);this._setPosition();}};Tooltip.prototype.show=function(){if(this.options.showOn!=='all'&&!Foundation.MediaQuery.atLeast(this.options.showOn)){return false;}
var _this=this;this.template.css('visibility','hidden').show();this._setPosition();this.$element.trigger('closeme.zf.tooltip',this.template.attr('id'));this.template.attr({'data-is-active':true,'aria-hidden':false});_this.isActive=true;this.template.stop().hide().css('visibility','').fadeIn(this.options.fadeInDuration,function(){});this.$element.trigger('show.zf.tooltip');};Tooltip.prototype.hide=function(){var _this=this;this.template.stop().attr({'aria-hidden':true,'data-is-active':false}).fadeOut(this.options.fadeOutDuration,function(){_this.isActive=false;_this.isClick=false;if(_this.classChanged){_this.template.removeClass(_this._getPositionClass(_this.template)).addClass(_this.options.positionClass);_this.usedPositions=[];_this.counter=4;_this.classChanged=false;}});this.$element.trigger('hide.zf.tooltip');};Tooltip.prototype._events=function(){var _this=this;var $template=this.template;var isFocus=false;if(!this.options.disableHover){this.$element.on('mouseenter.zf.tooltip',function(e){if(!_this.isActive){_this.timeout=setTimeout(function(){_this.show();},_this.options.hoverDelay);}}).on('mouseleave.zf.tooltip',function(e){clearTimeout(_this.timeout);if(!isFocus||(!_this.isClick&&_this.options.clickOpen)){_this.hide();}});}
if(this.options.clickOpen){this.$element.on('mousedown.zf.tooltip',function(e){e.stopImmediatePropagation();if(_this.isClick){_this.hide();}else{_this.isClick=true;if((_this.options.disableHover||!_this.$element.attr('tabindex'))&&!_this.isActive){_this.show();}}});}
if(!this.options.disableForTouch){this.$element.on('tap.zf.tooltip touchend.zf.tooltip',function(e){_this.isActive?_this.hide():_this.show();});}
this.$element.on({'close.zf.trigger':this.hide.bind(this)});this.$element.on('focus.zf.tooltip',function(e){isFocus=true;if(_this.isClick){return false;}else{_this.show();}}).on('focusout.zf.tooltip',function(e){isFocus=false;_this.isClick=false;_this.hide();}).on('resizeme.zf.trigger',function(){if(_this.isActive){_this._setPosition();}});};Tooltip.prototype.toggle=function(){if(this.isActive){this.hide();}else{this.show();}};Tooltip.prototype.destroy=function(){this.$element.attr('title',this.template.text()).off('.zf.trigger .zf.tootip').removeAttr('aria-describedby').removeAttr('data-yeti-box').removeAttr('data-toggle').removeAttr('data-resize');this.template.remove();Foundation.unregisterPlugin(this);};Foundation.plugin(Tooltip,'Tooltip');}(jQuery,window.document,window.Foundation);;$(document).ready(function(){domainSwitch();loginBox();notificationBox();nachrichtenBox();profilBox();vereinsBox();favoritenBox();closeBox();boxOpen=false;function googleEvent(string){_gaq.push(['_trackEvent',string,'click','menu']);}
$('.breadcrumb-button').on('click',function(){_gaq.push(['_trackEvent','breadcrumb-button','click','menu']);});if(!document.addEventListener){document.attachEvent("touchstart",function(){});}else{document.addEventListener("touchstart",function(){},false);}
$("#featured").tabs({fx:{opacity:"toggle"}}).tabs("rotate",5000,true);});function domainSwitch(){$('#domain').on('click',function(event){event.preventDefault();$('#domain').toggleClass('aktiv');_gaq.push(['_trackEvent','domains','click']);var box=$('#domains');if(box.css('display')!=='block'){box.slideToggle(200);setTimeout(function(){boxOpen='#domains';},0);}else{box.slideToggle(200);boxOpen=false;}});}
function loginBox(){$('div#login').on('click',function(event){event.preventDefault();var box=$('#loginbox');var box_register=$('#registerbox');var box_pw_vergessen=$('#passwortVergessenBox');if(box_register.css('display')=='block'){box_register.slideToggle(200);boxOpen=false;}else if(box_pw_vergessen.css('display')=='block'){box_pw_vergessen.slideToggle(200);boxOpen=false;}else if(box.css('display')=='block'){box.slideToggle(200);boxOpen=false;}else{box.load(loginUrl+" #login-form",function(data){$('#loginbox :visible').slideToggle(200);$('#registerbox :visible').slideToggle(200);$('#passwortVergessenBox :visible').slideToggle(200);parseScript(data);box.slideToggle(200);boxOpen='#loginbox';$('#LoginForm_username').focus();initCss();});}});}
function notificationBox(){$('a#notifications-link').on('click',function(event){event.preventDefault();_gaq.push(['_trackEvent','benachrichtigungen-normal','click']);var box=$('#notificationsbox');if(box.css('display')!=='block'){box.load(notificationUrl,function(data){$(boxOpen).slideToggle(200);initCss();box.slideToggle(200);boxOpen='#notificationsbox';});}else{box.slideToggle(200);boxOpen=false;}
return false;});}
function nachrichtenBox(){$('a#pn-link').on('click',function(event){event.preventDefault();_gaq.push(['_trackEvent','nachrichten-normal','click']);var box=$('#pnbox');if(box.css('display')!=='block'){box.load(privateNachrichtenUrl,function(data){$(boxOpen).slideToggle(200);initCss();box.slideToggle(200);boxOpen='#pnbox';});}else{box.slideToggle(200);boxOpen=false;}
return false;});}
function profilBox(){$('a#profil-link').on('click',function(event){event.preventDefault();_gaq.push(['_trackEvent','user-profilbild','click']);$('#profilbox').toggleClass('aktiv');var box=$('#profilbox');if(box.css('display')!=='block'){$(boxOpen).slideToggle(200);box.slideToggle(200);setTimeout(function(){boxOpen='#profilbox';},200);}else{box.slideToggle(200);boxOpen=false;}
return false;});}
function vereinsBox(){$('.sticky-hauptnav a.profil-wappen').on('click',function(event){event.preventDefault();_gaq.push(['_trackEvent','user-wappen','click']);$('#vereinbox').toggleClass('aktiv');var box=$('#vereinbox');if(box.css('display')!=='block'){$(boxOpen).slideToggle(200);box.slideToggle(200);box.load(vereinUrl,function(data){initCss();boxOpen='#vereinbox';});}else{box.slideToggle(200);boxOpen=false;}
return false;});}
function favoritenBox(){$('#favorit-box').on('click',function(event){event.preventDefault();var box=$('#favorit-container');if(box.css('display')!=='block'){$('#favorit-content').load(favoritenUrl,function(data){$(boxOpen).slideToggle(200);parseScript(data);initCss();box.slideToggle(200);boxOpen='#favorit-container';});}});$('#favorit-button').on('click',function(event){event.preventDefault();jQuery.post(favoritenHandleUrl,{url:aktuelleUrl,title:titleString},function(data){if(data.deleted==false){$('#favorit-stern').removeAttr('class');$('#favorit-stern').attr('class','header-sprite icon-favoriten_blau');$('#favorit-button').val(favoritEntfernenText);}else{$('#favorit-stern').removeAttr('class');$('#favorit-stern').attr('class','header-sprite icon-favoriten');$('#favorit-button').val(favoritHinzufuegenText);}});});}
function closeBox(){$('body').on('click','a.close',function(event){event.preventDefault();$(this).closest('form').parent().slideToggle(200).empty();$(this).closest('div.noclose').slideToggle(200);boxOpen=false;});$(window).click(function(ev){if(boxOpen!==false&&$(ev.target).attr('id')!=boxOpen&&$(ev.target).closest("form").attr("class")!=="noclose"&&$(ev.target).closest("div").attr("class")!=='nt-loeschen close'&&$(ev.target).closest("div").attr("id")!=='alle-notifications-loeschen'){$(boxOpen).slideToggle(200);boxOpen=false;}});}
function humanMessage(message,status){var FlashMessageDummy='<div id="flash-msg-box" class="alert-box '+status+'"></div>';var gotFlashMessage=$(FlashMessageDummy).text(message);var makeGottLightbox=$('<div id="gott-lightbox"></div>').prependTo("#main").fadeIn().animate({opacity:1.0},3000).fadeOut("slow");gotFlashMessage.prependTo("#gott-lightbox");$("#gott-lightbox").on('click',function(event){event.preventDefault();$(makeGottLightbox).remove();});setTimeout(function(){$(makeGottLightbox).remove();},4000);}
$(function(){$('.js-switcher select').change(function(){switchPage($(this));});$('.js-switcher').submit(function(){switchPage($(this).find('select'));return false;});$('.js-form-params2path').submit(function(){sendFormParams2Path($(this));return false;});$('.toggler').click(function(){var target=$(this).attr('data-toggle');$('#'+target).toggle('fast');$(this).toggleClass('offen');});$('.info-content').click(function(){$(this).toggleClass('info-offen','fast');_gaq.push(['_trackEvent','info-text','click','info']);});$('.breadcrumb .home').click(function(){if($('#main').innerWidth()<768){$('.breadcrumb').toggleClass('breadcrumb-offen','fast');}});$('.breadcrumb-select select').change(function(){if($(this).val()!==''){$(this).parents('form.breadcrumb-form').find('.breadcrumb-button').removeAttr('disabled').removeClass('disabled');}});$(window).resize(function(){if($(window).width()>766){$('#mainmenue li:not(.megamenu_button)').show();}});});function switchPage(element){property=element.attr('name');value=element.val();pathname=window.location.pathname;n=pathname.lastIndexOf(property);if(n>0){pathname=pathname.substring(0,n-1);}
if(value!=''){pathname=pathname+'/'+property+'/'+value;}
window.location.href=pathname;}
function sendFormParams2Path(form){formParams=form.serializeArray();path='';jQuery.each(formParams,function(i,formParam){if(formParam.value){path=path+'/'+formParam.name+"/"+formParam.value;}});url=form.attr('action')+path;location.href=url;}
function wechselLiga(liga_id){var url=splitLocation();if(url[2]=='spielerbieten'){url[2]='transfermarkt';}
if(url[2]=='verein'||url[2]=='spieler'||url[2]=='spielerprofil'){location.href="http://"+window.location.host+"/"+url[1]+"/"+url[2]+"/"+url[3]+"/"+liga_id+"/"+url[5]+"/"+url[6];}else{location.href="http://"+window.location.host+"/"+url[1]+"/"+url[2]+"/"+url[3]+"/"+liga_id+"";}}
function wechselTipprunde(wettbewerb_id){var url=splitLocation();if(url[3]=='fanliga'){url[3]='fanligen';}
if(url[3]=='privateliga'){url[3]='privateligen';}
location.href="http://"+window.location.host+""+url[0]+"/"+url[1]+"/"+url[2]+"/"+url[3]+"/"+url[4]+"/"+wettbewerb_id+"";}
function splitLocation(){var parts=window.location.pathname.split('/');return parts;}
function nl2br(str,is_xhtml){var breakTag=(is_xhtml||typeof is_xhtml==='undefined')?'<br />':'<br>';return(str+'').replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,'$1'+breakTag+'$2');}
function formatiereMarktwert(marktwert){if(marktwert>=1000000000){marktwert=round((marktwert/1000000000),2);marktwert=number_format(marktwert,2,',','.')+' Mrd. ';}else if(marktwert>=1000000){marktwert=round((marktwert/1000000),2);marktwert=number_format(marktwert,2,',','.')+' Mio. ';}else if(marktwert==0){marktwert='-';}else if(marktwert<=-1000000){marktwert=round((marktwert/1000000),2);marktwert=number_format(marktwert,2,',','.')+' Mio. ';}else{marktwert=marktwert/1000;marktwert=number_format(marktwert,0,"",".")+' Tsd. ';}
return marktwert;}
function round(value,precision,mode){http:var m,f,isHalf,sgn;precision|=0;m=Math.pow(10,precision);value*=m;sgn=(value>0)|-(value<0);isHalf=value%1===0.5*sgn;f=Math.floor(value);if(isHalf){switch(mode){case'PHP_ROUND_HALF_DOWN':value=f+(sgn<0);break;case'PHP_ROUND_HALF_EVEN':value=f+(f%2*sgn);break;case'PHP_ROUND_HALF_ODD':value=f+!(f%2);break;default:value=f+(sgn>0);}}
return(isHalf?value:Math.round(value))/m;}
function number_format(number,decimals,dec_point,thousands_sep){number=(number+'').replace(/[^0-9+\-Ee.]/g,'');var n=!isFinite(+number)?0:+number,prec=!isFinite(+decimals)?0:Math.abs(decimals),sep=(typeof thousands_sep==='undefined')?',':thousands_sep,dec=(typeof dec_point==='undefined')?'.':dec_point,s='',toFixedFix=function(n,prec){var k=Math.pow(10,prec);return''+Math.round(n*k)/k;};s=(prec?toFixedFix(n,prec):''+Math.round(n)).split('.');if(s[0].length>3){s[0]=s[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,sep);}
if((s[1]||'').length<prec){s[1]=s[1]||'';s[1]+=new Array(prec-s[1].length+1).join('0');}
return s.join(dec);}
function changeIcon(schaetzung,originalwert){if(schaetzung>originalwert){$('#amount_icon').removeAttr('class').attr('class','icons_sprite green-arrow-ten');}else if(schaetzung<originalwert){$('#amount_icon').removeAttr('class').attr('class','icons_sprite red-arrow-ten');}else{$('#amount_icon').removeAttr('class').attr('class','icons_sprite grey-block-ten');}}
$(function(){var targets=$('[rel~=tooltip]'),target=false,tooltip=false,type=false,content=false;targets.bind('mouseenter',function(){target=$(this);type=target.attr('data-type');content=target.attr('data-content');tooltip=$('<div id="tooltip" class="loading"></div>');if(!content||content=='')
return false;tooltip.css('opacity',0).appendTo('body');if(type=='link'){$.get(content,function(data){tooltip.html(data).removeClass('loading');});}else{tooltip.html(content).removeClass('loading');}
var init_tooltip=function(){var pos_hor=target.offset().left+target.outerWidth()+10,pos_top=target.offset().top-25,typ_hor='left';if(pos_hor>$('#main').outerWidth()/2+$('#main').offset().left){pos_hor=$(window).width()-target.offset().left;typ_hor='right';}
if(pos_top<0){var pos_top=target.offset().top+target.outerHeight();}
tooltip.css(typ_hor,pos_hor).css('top',pos_top).animate({opacity:1},50);};init_tooltip();$(window).resize(init_tooltip);var remove_tooltip=function(){tooltip.animate({top:'-=10',opacity:0},50,function(){$(this).remove();});};target.bind('mouseleave',remove_tooltip);tooltip.bind('click',remove_tooltip);});});function tinyExecCommandAddTarget(editor_id,elm,command,user_interface,value){var editor=tinyMCE.get(editor_id);switch(command.toLowerCase()){case"createlink":$(editor.getBody()).find('a').attr('target','_blank');break;}};
/*! jQuery UI - v1.10.3 - 2013-06-12
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.menu.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js, jquery.ui.effect.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js
* Copyright 2013 jQuery Foundation and other contributors Licensed MIT */
(function($,undefined){var uuid=0,runiqueId=/^ui-id-\d+$/;$.ui=$.ui||{};$.extend($.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});$.fn.extend({focus:(function(orig){return function(delay,fn){return typeof delay==="number"?this.each(function(){var elem=this;setTimeout(function(){$(elem).focus();if(fn){fn.call(elem);}},delay);}):orig.apply(this,arguments);};})($.fn.focus),scrollParent:function(){var scrollParent;if(($.ui.ie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){scrollParent=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test($.css(this,"position"))&&(/(auto|scroll)/).test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"));}).eq(0);}else{scrollParent=this.parents().filter(function(){return(/(auto|scroll)/).test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"));}).eq(0);}
return(/fixed/).test(this.css("position"))||!scrollParent.length?$(document):scrollParent;},zIndex:function(zIndex){if(zIndex!==undefined){return this.css("zIndex",zIndex);}
if(this.length){var elem=$(this[0]),position,value;while(elem.length&&elem[0]!==document){position=elem.css("position");if(position==="absolute"||position==="relative"||position==="fixed"){value=parseInt(elem.css("zIndex"),10);if(!isNaN(value)&&value!==0){return value;}}
elem=elem.parent();}}
return 0;},uniqueId:function(){return this.each(function(){if(!this.id){this.id="ui-id-"+(++uuid);}});},removeUniqueId:function(){return this.each(function(){if(runiqueId.test(this.id)){$(this).removeAttr("id");}});}});function focusable(element,isTabIndexNotNaN){var map,mapName,img,nodeName=element.nodeName.toLowerCase();if("area"===nodeName){map=element.parentNode;mapName=map.name;if(!element.href||!mapName||map.nodeName.toLowerCase()!=="map"){return false;}
img=$("img[usemap=#"+mapName+"]")[0];return!!img&&visible(img);}
return(/input|select|textarea|button|object/.test(nodeName)?!element.disabled:"a"===nodeName?element.href||isTabIndexNotNaN:isTabIndexNotNaN)&&visible(element);}
function visible(element){return $.expr.filters.visible(element)&&!$(element).parents().addBack().filter(function(){return $.css(this,"visibility")==="hidden";}).length;}
$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(dataName){return function(elem){return!!$.data(elem,dataName);};}):function(elem,i,match){return!!$.data(elem,match[3]);},focusable:function(element){return focusable(element,!isNaN($.attr(element,"tabindex")));},tabbable:function(element){var tabIndex=$.attr(element,"tabindex"),isTabIndexNaN=isNaN(tabIndex);return(isTabIndexNaN||tabIndex>=0)&&focusable(element,!isTabIndexNaN);}});if(!$("<a>").outerWidth(1).jquery){$.each(["Width","Height"],function(i,name){var side=name==="Width"?["Left","Right"]:["Top","Bottom"],type=name.toLowerCase(),orig={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};function reduce(elem,size,border,margin){$.each(side,function(){size-=parseFloat($.css(elem,"padding"+this))||0;if(border){size-=parseFloat($.css(elem,"border"+this+"Width"))||0;}
if(margin){size-=parseFloat($.css(elem,"margin"+this))||0;}});return size;}
$.fn["inner"+name]=function(size){if(size===undefined){return orig["inner"+name].call(this);}
return this.each(function(){$(this).css(type,reduce(this,size)+"px");});};$.fn["outer"+name]=function(size,margin){if(typeof size!=="number"){return orig["outer"+name].call(this,size);}
return this.each(function(){$(this).css(type,reduce(this,size,true,margin)+"px");});};});}
if(!$.fn.addBack){$.fn.addBack=function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector));};}
if($("<a>").data("a-b","a").removeData("a-b").data("a-b")){$.fn.removeData=(function(removeData){return function(key){if(arguments.length){return removeData.call(this,$.camelCase(key));}else{return removeData.call(this);}};})($.fn.removeData);}
$.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());$.support.selectstart="onselectstart"in document.createElement("div");$.fn.extend({disableSelection:function(){return this.bind(($.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(event){event.preventDefault();});},enableSelection:function(){return this.unbind(".ui-disableSelection");}});$.extend($.ui,{plugin:{add:function(module,option,set){var i,proto=$.ui[module].prototype;for(i in set){proto.plugins[i]=proto.plugins[i]||[];proto.plugins[i].push([option,set[i]]);}},call:function(instance,name,args){var i,set=instance.plugins[name];if(!set||!instance.element[0].parentNode||instance.element[0].parentNode.nodeType===11){return;}
for(i=0;i<set.length;i++){if(instance.options[set[i][0]]){set[i][1].apply(instance.element,args);}}}},hasScroll:function(el,a){if($(el).css("overflow")==="hidden"){return false;}
var scroll=(a&&a==="left")?"scrollLeft":"scrollTop",has=false;if(el[scroll]>0){return true;}
el[scroll]=1;has=(el[scroll]>0);el[scroll]=0;return has;}});})(jQuery);(function($,undefined){var uuid=0,slice=Array.prototype.slice,_cleanData=$.cleanData;$.cleanData=function(elems){for(var i=0,elem;(elem=elems[i])!=null;i++){try{$(elem).triggerHandler("remove");}catch(e){}}
_cleanData(elems);};$.widget=function(name,base,prototype){var fullName,existingConstructor,constructor,basePrototype,proxiedPrototype={},namespace=name.split(".")[0];name=name.split(".")[1];fullName=namespace+"-"+name;if(!prototype){prototype=base;base=$.Widget;}
$.expr[":"][fullName.toLowerCase()]=function(elem){return!!$.data(elem,fullName);};$[namespace]=$[namespace]||{};existingConstructor=$[namespace][name];constructor=$[namespace][name]=function(options,element){if(!this._createWidget){return new constructor(options,element);}
if(arguments.length){this._createWidget(options,element);}};$.extend(constructor,existingConstructor,{version:prototype.version,_proto:$.extend({},prototype),_childConstructors:[]});basePrototype=new base();basePrototype.options=$.widget.extend({},basePrototype.options);$.each(prototype,function(prop,value){if(!$.isFunction(value)){proxiedPrototype[prop]=value;return;}
proxiedPrototype[prop]=(function(){var _super=function(){return base.prototype[prop].apply(this,arguments);},_superApply=function(args){return base.prototype[prop].apply(this,args);};return function(){var __super=this._super,__superApply=this._superApply,returnValue;this._super=_super;this._superApply=_superApply;returnValue=value.apply(this,arguments);this._super=__super;this._superApply=__superApply;return returnValue;};})();});constructor.prototype=$.widget.extend(basePrototype,{widgetEventPrefix:existingConstructor?basePrototype.widgetEventPrefix:name},proxiedPrototype,{constructor:constructor,namespace:namespace,widgetName:name,widgetFullName:fullName});if(existingConstructor){$.each(existingConstructor._childConstructors,function(i,child){var childPrototype=child.prototype;$.widget(childPrototype.namespace+"."+childPrototype.widgetName,constructor,child._proto);});delete existingConstructor._childConstructors;}else{base._childConstructors.push(constructor);}
$.widget.bridge(name,constructor);};$.widget.extend=function(target){var input=slice.call(arguments,1),inputIndex=0,inputLength=input.length,key,value;for(;inputIndex<inputLength;inputIndex++){for(key in input[inputIndex]){value=input[inputIndex][key];if(input[inputIndex].hasOwnProperty(key)&&value!==undefined){if($.isPlainObject(value)){target[key]=$.isPlainObject(target[key])?$.widget.extend({},target[key],value):$.widget.extend({},value);}else{target[key]=value;}}}}
return target;};$.widget.bridge=function(name,object){var fullName=object.prototype.widgetFullName||name;$.fn[name]=function(options){var isMethodCall=typeof options==="string",args=slice.call(arguments,1),returnValue=this;options=!isMethodCall&&args.length?$.widget.extend.apply(null,[options].concat(args)):options;if(isMethodCall){this.each(function(){var methodValue,instance=$.data(this,fullName);if(!instance){return $.error("cannot call methods on "+name+" prior to initialization; "+"attempted to call method '"+options+"'");}
if(!$.isFunction(instance[options])||options.charAt(0)==="_"){return $.error("no such method '"+options+"' for "+name+" widget instance");}
methodValue=instance[options].apply(instance,args);if(methodValue!==instance&&methodValue!==undefined){returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue;return false;}});}else{this.each(function(){var instance=$.data(this,fullName);if(instance){instance.option(options||{})._init();}else{$.data(this,fullName,new object(options,this));}});}
return returnValue;};};$.Widget=function(){};$.Widget._childConstructors=[];$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(options,element){element=$(element||this.defaultElement||this)[0];this.element=$(element);this.uuid=uuid++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=$.widget.extend({},this.options,this._getCreateOptions(),options);this.bindings=$();this.hoverable=$();this.focusable=$();if(element!==this){$.data(element,this.widgetFullName,this);this._on(true,this.element,{remove:function(event){if(event.target===element){this.destroy();}}});this.document=$(element.style?element.ownerDocument:element.document||element);this.window=$(this.document[0].defaultView||this.document[0].parentWindow);}
this._create();this._trigger("create",null,this._getCreateEventData());this._init();},_getCreateOptions:$.noop,_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus");},_destroy:$.noop,widget:function(){return this.element;},option:function(key,value){var options=key,parts,curOption,i;if(arguments.length===0){return $.widget.extend({},this.options);}
if(typeof key==="string"){options={};parts=key.split(".");key=parts.shift();if(parts.length){curOption=options[key]=$.widget.extend({},this.options[key]);for(i=0;i<parts.length-1;i++){curOption[parts[i]]=curOption[parts[i]]||{};curOption=curOption[parts[i]];}
key=parts.pop();if(value===undefined){return curOption[key]===undefined?null:curOption[key];}
curOption[key]=value;}else{if(value===undefined){return this.options[key]===undefined?null:this.options[key];}
options[key]=value;}}
this._setOptions(options);return this;},_setOptions:function(options){var key;for(key in options){this._setOption(key,options[key]);}
return this;},_setOption:function(key,value){this.options[key]=value;if(key==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!value).attr("aria-disabled",value);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus");}
return this;},enable:function(){return this._setOption("disabled",false);},disable:function(){return this._setOption("disabled",true);},_on:function(suppressDisabledCheck,element,handlers){var delegateElement,instance=this;if(typeof suppressDisabledCheck!=="boolean"){handlers=element;element=suppressDisabledCheck;suppressDisabledCheck=false;}
if(!handlers){handlers=element;element=this.element;delegateElement=this.widget();}else{element=delegateElement=$(element);this.bindings=this.bindings.add(element);}
$.each(handlers,function(event,handler){function handlerProxy(){if(!suppressDisabledCheck&&(instance.options.disabled===true||$(this).hasClass("ui-state-disabled"))){return;}
return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments);}
if(typeof handler!=="string"){handlerProxy.guid=handler.guid=handler.guid||handlerProxy.guid||$.guid++;}
var match=event.match(/^(\w+)\s*(.*)$/),eventName=match[1]+instance.eventNamespace,selector=match[2];if(selector){delegateElement.delegate(selector,eventName,handlerProxy);}else{element.bind(eventName,handlerProxy);}});},_off:function(element,eventName){eventName=(eventName||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;element.unbind(eventName).undelegate(eventName);},_delay:function(handler,delay){function handlerProxy(){return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments);}
var instance=this;return setTimeout(handlerProxy,delay||0);},_hoverable:function(element){this.hoverable=this.hoverable.add(element);this._on(element,{mouseenter:function(event){$(event.currentTarget).addClass("ui-state-hover");},mouseleave:function(event){$(event.currentTarget).removeClass("ui-state-hover");}});},_focusable:function(element){this.focusable=this.focusable.add(element);this._on(element,{focusin:function(event){$(event.currentTarget).addClass("ui-state-focus");},focusout:function(event){$(event.currentTarget).removeClass("ui-state-focus");}});},_trigger:function(type,event,data){var prop,orig,callback=this.options[type];data=data||{};event=$.Event(event);event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase();event.target=this.element[0];orig=event.originalEvent;if(orig){for(prop in orig){if(!(prop in event)){event[prop]=orig[prop];}}}
this.element.trigger(event,data);return!($.isFunction(callback)&&callback.apply(this.element[0],[event].concat(data))===false||event.isDefaultPrevented());}};$.each({show:"fadeIn",hide:"fadeOut"},function(method,defaultEffect){$.Widget.prototype["_"+method]=function(element,options,callback){if(typeof options==="string"){options={effect:options};}
var hasOptions,effectName=!options?method:options===true||typeof options==="number"?defaultEffect:options.effect||defaultEffect;options=options||{};if(typeof options==="number"){options={duration:options};}
hasOptions=!$.isEmptyObject(options);options.complete=callback;if(options.delay){element.delay(options.delay);}
if(hasOptions&&$.effects&&$.effects.effect[effectName]){element[method](options);}else if(effectName!==method&&element[effectName]){element[effectName](options.duration,options.easing,callback);}else{element.queue(function(next){$(this)[method]();if(callback){callback.call(element[0]);}
next();});}};});})(jQuery);(function($,undefined){var mouseHandled=false;$(document).mouseup(function(){mouseHandled=false;});$.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var that=this;this.element.bind("mousedown."+this.widgetName,function(event){return that._mouseDown(event);}).bind("click."+this.widgetName,function(event){if(true===$.data(event.target,that.widgetName+".preventClickEvent")){$.removeData(event.target,that.widgetName+".preventClickEvent");event.stopImmediatePropagation();return false;}});this.started=false;},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);if(this._mouseMoveDelegate){$(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);}},_mouseDown:function(event){if(mouseHandled){return;}
(this._mouseStarted&&this._mouseUp(event));this._mouseDownEvent=event;var that=this,btnIsLeft=(event.which===1),elIsCancel=(typeof this.options.cancel==="string"&&event.target.nodeName?$(event.target).closest(this.options.cancel).length:false);if(!btnIsLeft||elIsCancel||!this._mouseCapture(event)){return true;}
this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){that.mouseDelayMet=true;},this.options.delay);}
if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=(this._mouseStart(event)!==false);if(!this._mouseStarted){event.preventDefault();return true;}}
if(true===$.data(event.target,this.widgetName+".preventClickEvent")){$.removeData(event.target,this.widgetName+".preventClickEvent");}
this._mouseMoveDelegate=function(event){return that._mouseMove(event);};this._mouseUpDelegate=function(event){return that._mouseUp(event);};$(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);event.preventDefault();mouseHandled=true;return true;},_mouseMove:function(event){if($.ui.ie&&(!document.documentMode||document.documentMode<9)&&!event.button){return this._mouseUp(event);}
if(this._mouseStarted){this._mouseDrag(event);return event.preventDefault();}
if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,event)!==false);(this._mouseStarted?this._mouseDrag(event):this._mouseUp(event));}
return!this._mouseStarted;},_mouseUp:function(event){$(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(event.target===this._mouseDownEvent.target){$.data(event.target,this.widgetName+".preventClickEvent",true);}
this._mouseStop(event);}
return false;},_mouseDistanceMet:function(event){return(Math.max(Math.abs(this._mouseDownEvent.pageX-event.pageX),Math.abs(this._mouseDownEvent.pageY-event.pageY))>=this.options.distance);},_mouseDelayMet:function(){return this.mouseDelayMet;},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true;}});})(jQuery);(function($,undefined){$.ui=$.ui||{};var cachedScrollbarWidth,max=Math.max,abs=Math.abs,round=Math.round,rhorizontal=/left|center|right/,rvertical=/top|center|bottom/,roffset=/[\+\-]\d+(\.[\d]+)?%?/,rposition=/^\w+/,rpercent=/%$/,_position=$.fn.position;function getOffsets(offsets,width,height){return[parseFloat(offsets[0])*(rpercent.test(offsets[0])?width/100:1),parseFloat(offsets[1])*(rpercent.test(offsets[1])?height/100:1)];}
function parseCss(element,property){return parseInt($.css(element,property),10)||0;}
function getDimensions(elem){var raw=elem[0];if(raw.nodeType===9){return{width:elem.width(),height:elem.height(),offset:{top:0,left:0}};}
if($.isWindow(raw)){return{width:elem.width(),height:elem.height(),offset:{top:elem.scrollTop(),left:elem.scrollLeft()}};}
if(raw.preventDefault){return{width:0,height:0,offset:{top:raw.pageY,left:raw.pageX}};}
return{width:elem.outerWidth(),height:elem.outerHeight(),offset:elem.offset()};}
$.position={scrollbarWidth:function(){if(cachedScrollbarWidth!==undefined){return cachedScrollbarWidth;}
var w1,w2,div=$("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),innerDiv=div.children()[0];$("body").append(div);w1=innerDiv.offsetWidth;div.css("overflow","scroll");w2=innerDiv.offsetWidth;if(w1===w2){w2=div[0].clientWidth;}
div.remove();return(cachedScrollbarWidth=w1-w2);},getScrollInfo:function(within){var overflowX=within.isWindow?"":within.element.css("overflow-x"),overflowY=within.isWindow?"":within.element.css("overflow-y"),hasOverflowX=overflowX==="scroll"||(overflowX==="auto"&&within.width<within.element[0].scrollWidth),hasOverflowY=overflowY==="scroll"||(overflowY==="auto"&&within.height<within.element[0].scrollHeight);return{width:hasOverflowY?$.position.scrollbarWidth():0,height:hasOverflowX?$.position.scrollbarWidth():0};},getWithinInfo:function(element){var withinElement=$(element||window),isWindow=$.isWindow(withinElement[0]);return{element:withinElement,isWindow:isWindow,offset:withinElement.offset()||{left:0,top:0},scrollLeft:withinElement.scrollLeft(),scrollTop:withinElement.scrollTop(),width:isWindow?withinElement.width():withinElement.outerWidth(),height:isWindow?withinElement.height():withinElement.outerHeight()};}};$.fn.position=function(options){if(!options||!options.of){return _position.apply(this,arguments);}
options=$.extend({},options);var atOffset,targetWidth,targetHeight,targetOffset,basePosition,dimensions,target=$(options.of),within=$.position.getWithinInfo(options.within),scrollInfo=$.position.getScrollInfo(within),collision=(options.collision||"flip").split(" "),offsets={};dimensions=getDimensions(target);if(target[0].preventDefault){options.at="left top";}
targetWidth=dimensions.width;targetHeight=dimensions.height;targetOffset=dimensions.offset;basePosition=$.extend({},targetOffset);$.each(["my","at"],function(){var pos=(options[this]||"").split(" "),horizontalOffset,verticalOffset;if(pos.length===1){pos=rhorizontal.test(pos[0])?pos.concat(["center"]):rvertical.test(pos[0])?["center"].concat(pos):["center","center"];}
pos[0]=rhorizontal.test(pos[0])?pos[0]:"center";pos[1]=rvertical.test(pos[1])?pos[1]:"center";horizontalOffset=roffset.exec(pos[0]);verticalOffset=roffset.exec(pos[1]);offsets[this]=[horizontalOffset?horizontalOffset[0]:0,verticalOffset?verticalOffset[0]:0];options[this]=[rposition.exec(pos[0])[0],rposition.exec(pos[1])[0]];});if(collision.length===1){collision[1]=collision[0];}
if(options.at[0]==="right"){basePosition.left+=targetWidth;}else if(options.at[0]==="center"){basePosition.left+=targetWidth/2;}
if(options.at[1]==="bottom"){basePosition.top+=targetHeight;}else if(options.at[1]==="center"){basePosition.top+=targetHeight/2;}
atOffset=getOffsets(offsets.at,targetWidth,targetHeight);basePosition.left+=atOffset[0];basePosition.top+=atOffset[1];return this.each(function(){var collisionPosition,using,elem=$(this),elemWidth=elem.outerWidth(),elemHeight=elem.outerHeight(),marginLeft=parseCss(this,"marginLeft"),marginTop=parseCss(this,"marginTop"),collisionWidth=elemWidth+marginLeft+parseCss(this,"marginRight")+scrollInfo.width,collisionHeight=elemHeight+marginTop+parseCss(this,"marginBottom")+scrollInfo.height,position=$.extend({},basePosition),myOffset=getOffsets(offsets.my,elem.outerWidth(),elem.outerHeight());if(options.my[0]==="right"){position.left-=elemWidth;}else if(options.my[0]==="center"){position.left-=elemWidth/2;}
if(options.my[1]==="bottom"){position.top-=elemHeight;}else if(options.my[1]==="center"){position.top-=elemHeight/2;}
position.left+=myOffset[0];position.top+=myOffset[1];if(!$.support.offsetFractions){position.left=round(position.left);position.top=round(position.top);}
collisionPosition={marginLeft:marginLeft,marginTop:marginTop};$.each(["left","top"],function(i,dir){if($.ui.position[collision[i]]){$.ui.position[collision[i]][dir](position,{targetWidth:targetWidth,targetHeight:targetHeight,elemWidth:elemWidth,elemHeight:elemHeight,collisionPosition:collisionPosition,collisionWidth:collisionWidth,collisionHeight:collisionHeight,offset:[atOffset[0]+myOffset[0],atOffset[1]+myOffset[1]],my:options.my,at:options.at,within:within,elem:elem});}});if(options.using){using=function(props){var left=targetOffset.left-position.left,right=left+targetWidth-elemWidth,top=targetOffset.top-position.top,bottom=top+targetHeight-elemHeight,feedback={target:{element:target,left:targetOffset.left,top:targetOffset.top,width:targetWidth,height:targetHeight},element:{element:elem,left:position.left,top:position.top,width:elemWidth,height:elemHeight},horizontal:right<0?"left":left>0?"right":"center",vertical:bottom<0?"top":top>0?"bottom":"middle"};if(targetWidth<elemWidth&&abs(left+right)<targetWidth){feedback.horizontal="center";}
if(targetHeight<elemHeight&&abs(top+bottom)<targetHeight){feedback.vertical="middle";}
if(max(abs(left),abs(right))>max(abs(top),abs(bottom))){feedback.important="horizontal";}else{feedback.important="vertical";}
options.using.call(this,props,feedback);};}
elem.offset($.extend(position,{using:using}));});};$.ui.position={fit:{left:function(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollLeft:within.offset.left,outerWidth=within.width,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=withinOffset-collisionPosLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-withinOffset,newOverRight;if(data.collisionWidth>outerWidth){if(overLeft>0&&overRight<=0){newOverRight=position.left+overLeft+data.collisionWidth-outerWidth-withinOffset;position.left+=overLeft-newOverRight;}else if(overRight>0&&overLeft<=0){position.left=withinOffset;}else{if(overLeft>overRight){position.left=withinOffset+outerWidth-data.collisionWidth;}else{position.left=withinOffset;}}}else if(overLeft>0){position.left+=overLeft;}else if(overRight>0){position.left-=overRight;}else{position.left=max(position.left-collisionPosLeft,position.left);}},top:function(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollTop:within.offset.top,outerHeight=data.within.height,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=withinOffset-collisionPosTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-withinOffset,newOverBottom;if(data.collisionHeight>outerHeight){if(overTop>0&&overBottom<=0){newOverBottom=position.top+overTop+data.collisionHeight-outerHeight-withinOffset;position.top+=overTop-newOverBottom;}else if(overBottom>0&&overTop<=0){position.top=withinOffset;}else{if(overTop>overBottom){position.top=withinOffset+outerHeight-data.collisionHeight;}else{position.top=withinOffset;}}}else if(overTop>0){position.top+=overTop;}else if(overBottom>0){position.top-=overBottom;}else{position.top=max(position.top-collisionPosTop,position.top);}}},flip:{left:function(position,data){var within=data.within,withinOffset=within.offset.left+within.scrollLeft,outerWidth=within.width,offsetLeft=within.isWindow?within.scrollLeft:within.offset.left,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=collisionPosLeft-offsetLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-offsetLeft,myOffset=data.my[0]==="left"?-data.elemWidth:data.my[0]==="right"?data.elemWidth:0,atOffset=data.at[0]==="left"?data.targetWidth:data.at[0]==="right"?-data.targetWidth:0,offset=-2*data.offset[0],newOverRight,newOverLeft;if(overLeft<0){newOverRight=position.left+myOffset+atOffset+offset+data.collisionWidth-outerWidth-withinOffset;if(newOverRight<0||newOverRight<abs(overLeft)){position.left+=myOffset+atOffset+offset;}}
else if(overRight>0){newOverLeft=position.left-data.collisionPosition.marginLeft+myOffset+atOffset+offset-offsetLeft;if(newOverLeft>0||abs(newOverLeft)<overRight){position.left+=myOffset+atOffset+offset;}}},top:function(position,data){var within=data.within,withinOffset=within.offset.top+within.scrollTop,outerHeight=within.height,offsetTop=within.isWindow?within.scrollTop:within.offset.top,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=collisionPosTop-offsetTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-offsetTop,top=data.my[1]==="top",myOffset=top?-data.elemHeight:data.my[1]==="bottom"?data.elemHeight:0,atOffset=data.at[1]==="top"?data.targetHeight:data.at[1]==="bottom"?-data.targetHeight:0,offset=-2*data.offset[1],newOverTop,newOverBottom;if(overTop<0){newOverBottom=position.top+myOffset+atOffset+offset+data.collisionHeight-outerHeight-withinOffset;if((position.top+myOffset+atOffset+offset)>overTop&&(newOverBottom<0||newOverBottom<abs(overTop))){position.top+=myOffset+atOffset+offset;}}
else if(overBottom>0){newOverTop=position.top-data.collisionPosition.marginTop+myOffset+atOffset+offset-offsetTop;if((position.top+myOffset+atOffset+offset)>overBottom&&(newOverTop>0||abs(newOverTop)<overBottom)){position.top+=myOffset+atOffset+offset;}}}},flipfit:{left:function(){$.ui.position.flip.left.apply(this,arguments);$.ui.position.fit.left.apply(this,arguments);},top:function(){$.ui.position.flip.top.apply(this,arguments);$.ui.position.fit.top.apply(this,arguments);}}};(function(){var testElement,testElementParent,testElementStyle,offsetLeft,i,body=document.getElementsByTagName("body")[0],div=document.createElement("div");testElement=document.createElement(body?"div":"body");testElementStyle={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(body){$.extend(testElementStyle,{position:"absolute",left:"-1000px",top:"-1000px"});}
for(i in testElementStyle){testElement.style[i]=testElementStyle[i];}
testElement.appendChild(div);testElementParent=body||document.documentElement;testElementParent.insertBefore(testElement,testElementParent.firstChild);div.style.cssText="position: absolute; left: 10.7432222px;";offsetLeft=$(div).offset().left;$.support.offsetFractions=offsetLeft>10&&offsetLeft<11;testElement.innerHTML="";testElementParent.removeChild(testElement);})();}(jQuery));(function($,undefined){$.widget("ui.draggable",$.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){if(this.options.helper==="original"&&!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative";}
if(this.options.addClasses){this.element.addClass("ui-draggable");}
if(this.options.disabled){this.element.addClass("ui-draggable-disabled");}
this._mouseInit();},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();},_mouseCapture:function(event){var o=this.options;if(this.helper||o.disabled||$(event.target).closest(".ui-resizable-handle").length>0){return false;}
this.handle=this._getHandle(event);if(!this.handle){return false;}
$(o.iframeFix===true?"iframe":o.iframeFix).each(function(){$("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css($(this).offset()).appendTo("body");});return true;},_mouseStart:function(event){var o=this.options;this.helper=this._createHelper(event);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();if($.ui.ddmanager){$.ui.ddmanager.current=this;}
this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offsetParent=this.helper.offsetParent();this.offsetParentCssPosition=this.offsetParent.css("position");this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.offset.scroll=false;$.extend(this.offset,{click:{left:event.pageX-this.offset.left,top:event.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(event);this.originalPageX=event.pageX;this.originalPageY=event.pageY;(o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt));this._setContainment();if(this._trigger("start",event)===false){this._clear();return false;}
this._cacheHelperProportions();if($.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,event);}
this._mouseDrag(event,true);if($.ui.ddmanager){$.ui.ddmanager.dragStart(this,event);}
return true;},_mouseDrag:function(event,noPropagation){if(this.offsetParentCssPosition==="fixed"){this.offset.parent=this._getParentOffset();}
this.position=this._generatePosition(event);this.positionAbs=this._convertPositionTo("absolute");if(!noPropagation){var ui=this._uiHash();if(this._trigger("drag",event,ui)===false){this._mouseUp({});return false;}
this.position=ui.position;}
if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px";}
if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px";}
if($.ui.ddmanager){$.ui.ddmanager.drag(this,event);}
return false;},_mouseStop:function(event){var that=this,dropped=false;if($.ui.ddmanager&&!this.options.dropBehaviour){dropped=$.ui.ddmanager.drop(this,event);}
if(this.dropped){dropped=this.dropped;this.dropped=false;}
if(this.options.helper==="original"&&!$.contains(this.element[0].ownerDocument,this.element[0])){return false;}
if((this.options.revert==="invalid"&&!dropped)||(this.options.revert==="valid"&&dropped)||this.options.revert===true||($.isFunction(this.options.revert)&&this.options.revert.call(this.element,dropped))){$(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(that._trigger("stop",event)!==false){that._clear();}});}else{if(this._trigger("stop",event)!==false){this._clear();}}
return false;},_mouseUp:function(event){$("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this);});if($.ui.ddmanager){$.ui.ddmanager.dragStop(this,event);}
return $.ui.mouse.prototype._mouseUp.call(this,event);},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({});}else{this._clear();}
return this;},_getHandle:function(event){return this.options.handle?!!$(event.target).closest(this.element.find(this.options.handle)).length:true;},_createHelper:function(event){var o=this.options,helper=$.isFunction(o.helper)?$(o.helper.apply(this.element[0],[event])):(o.helper==="clone"?this.element.clone().removeAttr("id"):this.element);if(!helper.parents("body").length){helper.appendTo((o.appendTo==="parent"?this.element[0].parentNode:o.appendTo));}
if(helper[0]!==this.element[0]&&!(/(fixed|absolute)/).test(helper.css("position"))){helper.css("position","absolute");}
return helper;},_adjustOffsetFromHelper:function(obj){if(typeof obj==="string"){obj=obj.split(" ");}
if($.isArray(obj)){obj={left:+obj[0],top:+obj[1]||0};}
if("left"in obj){this.offset.click.left=obj.left+this.margins.left;}
if("right"in obj){this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left;}
if("top"in obj){this.offset.click.top=obj.top+this.margins.top;}
if("bottom"in obj){this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top;}},_getParentOffset:function(){var po=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0])){po.left+=this.scrollParent.scrollLeft();po.top+=this.scrollParent.scrollTop();}
if((this.offsetParent[0]===document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&$.ui.ie)){po={top:0,left:0};}
return{top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var p=this.element.position();return{top:p.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:p.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()};}else{return{top:0,left:0};}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0),right:(parseInt(this.element.css("marginRight"),10)||0),bottom:(parseInt(this.element.css("marginBottom"),10)||0)};},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};},_setContainment:function(){var over,c,ce,o=this.options;if(!o.containment){this.containment=null;return;}
if(o.containment==="window"){this.containment=[$(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,$(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,$(window).scrollLeft()+$(window).width()-this.helperProportions.width-this.margins.left,$(window).scrollTop()+($(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return;}
if(o.containment==="document"){this.containment=[0,0,$(document).width()-this.helperProportions.width-this.margins.left,($(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return;}
if(o.containment.constructor===Array){this.containment=o.containment;return;}
if(o.containment==="parent"){o.containment=this.helper[0].parentNode;}
c=$(o.containment);ce=c[0];if(!ce){return;}
over=c.css("overflow")!=="hidden";this.containment=[(parseInt(c.css("borderLeftWidth"),10)||0)+(parseInt(c.css("paddingLeft"),10)||0),(parseInt(c.css("borderTopWidth"),10)||0)+(parseInt(c.css("paddingTop"),10)||0),(over?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-(parseInt(c.css("borderRightWidth"),10)||0)-(parseInt(c.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(over?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-(parseInt(c.css("borderBottomWidth"),10)||0)-(parseInt(c.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=c;},_convertPositionTo:function(d,pos){if(!pos){pos=this.position;}
var mod=d==="absolute"?1:-1,scroll=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent;if(!this.offset.scroll){this.offset.scroll={top:scroll.scrollTop(),left:scroll.scrollLeft()};}
return{top:(pos.top+
this.offset.relative.top*mod+
this.offset.parent.top*mod-
((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():this.offset.scroll.top)*mod)),left:(pos.left+
this.offset.relative.left*mod+
this.offset.parent.left*mod-
((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():this.offset.scroll.left)*mod))};},_generatePosition:function(event){var containment,co,top,left,o=this.options,scroll=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,pageX=event.pageX,pageY=event.pageY;if(!this.offset.scroll){this.offset.scroll={top:scroll.scrollTop(),left:scroll.scrollLeft()};}
if(this.originalPosition){if(this.containment){if(this.relative_container){co=this.relative_container.offset();containment=[this.containment[0]+co.left,this.containment[1]+co.top,this.containment[2]+co.left,this.containment[3]+co.top];}
else{containment=this.containment;}
if(event.pageX-this.offset.click.left<containment[0]){pageX=containment[0]+this.offset.click.left;}
if(event.pageY-this.offset.click.top<containment[1]){pageY=containment[1]+this.offset.click.top;}
if(event.pageX-this.offset.click.left>containment[2]){pageX=containment[2]+this.offset.click.left;}
if(event.pageY-this.offset.click.top>containment[3]){pageY=containment[3]+this.offset.click.top;}}
if(o.grid){top=o.grid[1]?this.originalPageY+Math.round((pageY-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY;pageY=containment?((top-this.offset.click.top>=containment[1]||top-this.offset.click.top>containment[3])?top:((top-this.offset.click.top>=containment[1])?top-o.grid[1]:top+o.grid[1])):top;left=o.grid[0]?this.originalPageX+Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX;pageX=containment?((left-this.offset.click.left>=containment[0]||left-this.offset.click.left>containment[2])?left:((left-this.offset.click.left>=containment[0])?left-o.grid[0]:left+o.grid[0])):left;}}
return{top:(pageY-
this.offset.click.top-
this.offset.relative.top-
this.offset.parent.top+
(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():this.offset.scroll.top)),left:(pageX-
this.offset.click.left-
this.offset.relative.left-
this.offset.parent.left+
(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():this.offset.scroll.left))};},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval){this.helper.remove();}
this.helper=null;this.cancelHelperRemoval=false;},_trigger:function(type,event,ui){ui=ui||this._uiHash();$.ui.plugin.call(this,type,[event,ui]);if(type==="drag"){this.positionAbs=this._convertPositionTo("absolute");}
return $.Widget.prototype._trigger.call(this,type,event,ui);},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs};}});$.ui.plugin.add("draggable","connectToSortable",{start:function(event,ui){var inst=$(this).data("ui-draggable"),o=inst.options,uiSortable=$.extend({},ui,{item:inst.element});inst.sortables=[];$(o.connectToSortable).each(function(){var sortable=$.data(this,"ui-sortable");if(sortable&&!sortable.options.disabled){inst.sortables.push({instance:sortable,shouldRevert:sortable.options.revert});sortable.refreshPositions();sortable._trigger("activate",event,uiSortable);}});},stop:function(event,ui){var inst=$(this).data("ui-draggable"),uiSortable=$.extend({},ui,{item:inst.element});$.each(inst.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;inst.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=this.shouldRevert;}
this.instance._mouseStop(event);this.instance.options.helper=this.instance.options._helper;if(inst.options.helper==="original"){this.instance.currentItem.css({top:"auto",left:"auto"});}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",event,uiSortable);}});},drag:function(event,ui){var inst=$(this).data("ui-draggable"),that=this;$.each(inst.sortables,function(){var innermostIntersecting=false,thisSortable=this;this.instance.positionAbs=inst.positionAbs;this.instance.helperProportions=inst.helperProportions;this.instance.offset.click=inst.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){innermostIntersecting=true;$.each(inst.sortables,function(){this.instance.positionAbs=inst.positionAbs;this.instance.helperProportions=inst.helperProportions;this.instance.offset.click=inst.offset.click;if(this!==thisSortable&&this.instance._intersectsWith(this.instance.containerCache)&&$.contains(thisSortable.instance.element[0],this.instance.element[0])){innermostIntersecting=false;}
return innermostIntersecting;});}
if(innermostIntersecting){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=$(that).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return ui.helper[0];};event.target=this.instance.currentItem[0];this.instance._mouseCapture(event,true);this.instance._mouseStart(event,true,true);this.instance.offset.click.top=inst.offset.click.top;this.instance.offset.click.left=inst.offset.click.left;this.instance.offset.parent.left-=inst.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=inst.offset.parent.top-this.instance.offset.parent.top;inst._trigger("toSortable",event);inst.dropped=this.instance.element;inst.currentItem=inst.element;this.instance.fromOutside=inst;}
if(this.instance.currentItem){this.instance._mouseDrag(event);}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",event,this.instance._uiHash(this.instance));this.instance._mouseStop(event,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove();}
inst._trigger("fromSortable",event);inst.dropped=false;}}});}});$.ui.plugin.add("draggable","cursor",{start:function(){var t=$("body"),o=$(this).data("ui-draggable").options;if(t.css("cursor")){o._cursor=t.css("cursor");}
t.css("cursor",o.cursor);},stop:function(){var o=$(this).data("ui-draggable").options;if(o._cursor){$("body").css("cursor",o._cursor);}}});$.ui.plugin.add("draggable","opacity",{start:function(event,ui){var t=$(ui.helper),o=$(this).data("ui-draggable").options;if(t.css("opacity")){o._opacity=t.css("opacity");}
t.css("opacity",o.opacity);},stop:function(event,ui){var o=$(this).data("ui-draggable").options;if(o._opacity){$(ui.helper).css("opacity",o._opacity);}}});$.ui.plugin.add("draggable","scroll",{start:function(){var i=$(this).data("ui-draggable");if(i.scrollParent[0]!==document&&i.scrollParent[0].tagName!=="HTML"){i.overflowOffset=i.scrollParent.offset();}},drag:function(event){var i=$(this).data("ui-draggable"),o=i.options,scrolled=false;if(i.scrollParent[0]!==document&&i.scrollParent[0].tagName!=="HTML"){if(!o.axis||o.axis!=="x"){if((i.overflowOffset.top+i.scrollParent[0].offsetHeight)-event.pageY<o.scrollSensitivity){i.scrollParent[0].scrollTop=scrolled=i.scrollParent[0].scrollTop+o.scrollSpeed;}else if(event.pageY-i.overflowOffset.top<o.scrollSensitivity){i.scrollParent[0].scrollTop=scrolled=i.scrollParent[0].scrollTop-o.scrollSpeed;}}
if(!o.axis||o.axis!=="y"){if((i.overflowOffset.left+i.scrollParent[0].offsetWidth)-event.pageX<o.scrollSensitivity){i.scrollParent[0].scrollLeft=scrolled=i.scrollParent[0].scrollLeft+o.scrollSpeed;}else if(event.pageX-i.overflowOffset.left<o.scrollSensitivity){i.scrollParent[0].scrollLeft=scrolled=i.scrollParent[0].scrollLeft-o.scrollSpeed;}}}else{if(!o.axis||o.axis!=="x"){if(event.pageY-$(document).scrollTop()<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()-o.scrollSpeed);}else if($(window).height()-(event.pageY-$(document).scrollTop())<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()+o.scrollSpeed);}}
if(!o.axis||o.axis!=="y"){if(event.pageX-$(document).scrollLeft()<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed);}else if($(window).width()-(event.pageX-$(document).scrollLeft())<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed);}}}
if(scrolled!==false&&$.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(i,event);}}});$.ui.plugin.add("draggable","snap",{start:function(){var i=$(this).data("ui-draggable"),o=i.options;i.snapElements=[];$(o.snap.constructor!==String?(o.snap.items||":data(ui-draggable)"):o.snap).each(function(){var $t=$(this),$o=$t.offset();if(this!==i.element[0]){i.snapElements.push({item:this,width:$t.outerWidth(),height:$t.outerHeight(),top:$o.top,left:$o.left});}});},drag:function(event,ui){var ts,bs,ls,rs,l,r,t,b,i,first,inst=$(this).data("ui-draggable"),o=inst.options,d=o.snapTolerance,x1=ui.offset.left,x2=x1+inst.helperProportions.width,y1=ui.offset.top,y2=y1+inst.helperProportions.height;for(i=inst.snapElements.length-1;i>=0;i--){l=inst.snapElements[i].left;r=l+inst.snapElements[i].width;t=inst.snapElements[i].top;b=t+inst.snapElements[i].height;if(x2<l-d||x1>r+d||y2<t-d||y1>b+d||!$.contains(inst.snapElements[i].item.ownerDocument,inst.snapElements[i].item)){if(inst.snapElements[i].snapping){(inst.options.snap.release&&inst.options.snap.release.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item})));}
inst.snapElements[i].snapping=false;continue;}
if(o.snapMode!=="inner"){ts=Math.abs(t-y2)<=d;bs=Math.abs(b-y1)<=d;ls=Math.abs(l-x2)<=d;rs=Math.abs(r-x1)<=d;if(ts){ui.position.top=inst._convertPositionTo("relative",{top:t-inst.helperProportions.height,left:0}).top-inst.margins.top;}
if(bs){ui.position.top=inst._convertPositionTo("relative",{top:b,left:0}).top-inst.margins.top;}
if(ls){ui.position.left=inst._convertPositionTo("relative",{top:0,left:l-inst.helperProportions.width}).left-inst.margins.left;}
if(rs){ui.position.left=inst._convertPositionTo("relative",{top:0,left:r}).left-inst.margins.left;}}
first=(ts||bs||ls||rs);if(o.snapMode!=="outer"){ts=Math.abs(t-y1)<=d;bs=Math.abs(b-y2)<=d;ls=Math.abs(l-x1)<=d;rs=Math.abs(r-x2)<=d;if(ts){ui.position.top=inst._convertPositionTo("relative",{top:t,left:0}).top-inst.margins.top;}
if(bs){ui.position.top=inst._convertPositionTo("relative",{top:b-inst.helperProportions.height,left:0}).top-inst.margins.top;}
if(ls){ui.position.left=inst._convertPositionTo("relative",{top:0,left:l}).left-inst.margins.left;}
if(rs){ui.position.left=inst._convertPositionTo("relative",{top:0,left:r-inst.helperProportions.width}).left-inst.margins.left;}}
if(!inst.snapElements[i].snapping&&(ts||bs||ls||rs||first)){(inst.options.snap.snap&&inst.options.snap.snap.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item})));}
inst.snapElements[i].snapping=(ts||bs||ls||rs||first);}}});$.ui.plugin.add("draggable","stack",{start:function(){var min,o=this.data("ui-draggable").options,group=$.makeArray($(o.stack)).sort(function(a,b){return(parseInt($(a).css("zIndex"),10)||0)-(parseInt($(b).css("zIndex"),10)||0);});if(!group.length){return;}
min=parseInt($(group[0]).css("zIndex"),10)||0;$(group).each(function(i){$(this).css("zIndex",min+i);});this.css("zIndex",(min+group.length));}});$.ui.plugin.add("draggable","zIndex",{start:function(event,ui){var t=$(ui.helper),o=$(this).data("ui-draggable").options;if(t.css("zIndex")){o._zIndex=t.css("zIndex");}
t.css("zIndex",o.zIndex);},stop:function(event,ui){var o=$(this).data("ui-draggable").options;if(o._zIndex){$(ui.helper).css("zIndex",o._zIndex);}}});})(jQuery);(function($,undefined){function isOverAxis(x,reference,size){return(x>reference)&&(x<(reference+size));}
$.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var o=this.options,accept=o.accept;this.isover=false;this.isout=true;this.accept=$.isFunction(accept)?accept:function(d){return d.is(accept);};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};$.ui.ddmanager.droppables[o.scope]=$.ui.ddmanager.droppables[o.scope]||[];$.ui.ddmanager.droppables[o.scope].push(this);(o.addClasses&&this.element.addClass("ui-droppable"));},_destroy:function(){var i=0,drop=$.ui.ddmanager.droppables[this.options.scope];for(;i<drop.length;i++){if(drop[i]===this){drop.splice(i,1);}}
this.element.removeClass("ui-droppable ui-droppable-disabled");},_setOption:function(key,value){if(key==="accept"){this.accept=$.isFunction(value)?value:function(d){return d.is(value);};}
$.Widget.prototype._setOption.apply(this,arguments);},_activate:function(event){var draggable=$.ui.ddmanager.current;if(this.options.activeClass){this.element.addClass(this.options.activeClass);}
if(draggable){this._trigger("activate",event,this.ui(draggable));}},_deactivate:function(event){var draggable=$.ui.ddmanager.current;if(this.options.activeClass){this.element.removeClass(this.options.activeClass);}
if(draggable){this._trigger("deactivate",event,this.ui(draggable));}},_over:function(event){var draggable=$.ui.ddmanager.current;if(!draggable||(draggable.currentItem||draggable.element)[0]===this.element[0]){return;}
if(this.accept.call(this.element[0],(draggable.currentItem||draggable.element))){if(this.options.hoverClass){this.element.addClass(this.options.hoverClass);}
this._trigger("over",event,this.ui(draggable));}},_out:function(event){var draggable=$.ui.ddmanager.current;if(!draggable||(draggable.currentItem||draggable.element)[0]===this.element[0]){return;}
if(this.accept.call(this.element[0],(draggable.currentItem||draggable.element))){if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass);}
this._trigger("out",event,this.ui(draggable));}},_drop:function(event,custom){var draggable=custom||$.ui.ddmanager.current,childrenIntersection=false;if(!draggable||(draggable.currentItem||draggable.element)[0]===this.element[0]){return false;}
this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var inst=$.data(this,"ui-droppable");if(inst.options.greedy&&!inst.options.disabled&&inst.options.scope===draggable.options.scope&&inst.accept.call(inst.element[0],(draggable.currentItem||draggable.element))&&$.ui.intersect(draggable,$.extend(inst,{offset:inst.element.offset()}),inst.options.tolerance)){childrenIntersection=true;return false;}});if(childrenIntersection){return false;}
if(this.accept.call(this.element[0],(draggable.currentItem||draggable.element))){if(this.options.activeClass){this.element.removeClass(this.options.activeClass);}
if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass);}
this._trigger("drop",event,this.ui(draggable));return this.element;}
return false;},ui:function(c){return{draggable:(c.currentItem||c.element),helper:c.helper,position:c.position,offset:c.positionAbs};}});$.ui.intersect=function(draggable,droppable,toleranceMode){if(!droppable.offset){return false;}
var draggableLeft,draggableTop,x1=(draggable.positionAbs||draggable.position.absolute).left,x2=x1+draggable.helperProportions.width,y1=(draggable.positionAbs||draggable.position.absolute).top,y2=y1+draggable.helperProportions.height,l=droppable.offset.left,r=l+droppable.proportions.width,t=droppable.offset.top,b=t+droppable.proportions.height;switch(toleranceMode){case"fit":return(l<=x1&&x2<=r&&t<=y1&&y2<=b);case"intersect":return(l<x1+(draggable.helperProportions.width/2)&&x2-(draggable.helperProportions.width/2)<r&&t<y1+(draggable.helperProportions.height/2)&&y2-(draggable.helperProportions.height/2)<b);case"pointer":draggableLeft=((draggable.positionAbs||draggable.position.absolute).left+(draggable.clickOffset||draggable.offset.click).left);draggableTop=((draggable.positionAbs||draggable.position.absolute).top+(draggable.clickOffset||draggable.offset.click).top);return isOverAxis(draggableTop,t,droppable.proportions.height)&&isOverAxis(draggableLeft,l,droppable.proportions.width);case"touch":return((y1>=t&&y1<=b)||(y2>=t&&y2<=b)||(y1<t&&y2>b))&&((x1>=l&&x1<=r)||(x2>=l&&x2<=r)||(x1<l&&x2>r));default:return false;}};$.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,event){var i,j,m=$.ui.ddmanager.droppables[t.options.scope]||[],type=event?event.type:null,list=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();droppablesLoop:for(i=0;i<m.length;i++){if(m[i].options.disabled||(t&&!m[i].accept.call(m[i].element[0],(t.currentItem||t.element)))){continue;}
for(j=0;j<list.length;j++){if(list[j]===m[i].element[0]){m[i].proportions.height=0;continue droppablesLoop;}}
m[i].visible=m[i].element.css("display")!=="none";if(!m[i].visible){continue;}
if(type==="mousedown"){m[i]._activate.call(m[i],event);}
m[i].offset=m[i].element.offset();m[i].proportions={width:m[i].element[0].offsetWidth,height:m[i].element[0].offsetHeight};}},drop:function(draggable,event){var dropped=false;$.each(($.ui.ddmanager.droppables[draggable.options.scope]||[]).slice(),function(){if(!this.options){return;}
if(!this.options.disabled&&this.visible&&$.ui.intersect(draggable,this,this.options.tolerance)){dropped=this._drop.call(this,event)||dropped;}
if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],(draggable.currentItem||draggable.element))){this.isout=true;this.isover=false;this._deactivate.call(this,event);}});return dropped;},dragStart:function(draggable,event){draggable.element.parentsUntil("body").bind("scroll.droppable",function(){if(!draggable.options.refreshPositions){$.ui.ddmanager.prepareOffsets(draggable,event);}});},drag:function(draggable,event){if(draggable.options.refreshPositions){$.ui.ddmanager.prepareOffsets(draggable,event);}
$.each($.ui.ddmanager.droppables[draggable.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return;}
var parentInstance,scope,parent,intersects=$.ui.intersect(draggable,this,this.options.tolerance),c=!intersects&&this.isover?"isout":(intersects&&!this.isover?"isover":null);if(!c){return;}
if(this.options.greedy){scope=this.options.scope;parent=this.element.parents(":data(ui-droppable)").filter(function(){return $.data(this,"ui-droppable").options.scope===scope;});if(parent.length){parentInstance=$.data(parent[0],"ui-droppable");parentInstance.greedyChild=(c==="isover");}}
if(parentInstance&&c==="isover"){parentInstance.isover=false;parentInstance.isout=true;parentInstance._out.call(parentInstance,event);}
this[c]=true;this[c==="isout"?"isover":"isout"]=false;this[c==="isover"?"_over":"_out"].call(this,event);if(parentInstance&&c==="isout"){parentInstance.isout=false;parentInstance.isover=true;parentInstance._over.call(parentInstance,event);}});},dragStop:function(draggable,event){draggable.element.parentsUntil("body").unbind("scroll.droppable");if(!draggable.options.refreshPositions){$.ui.ddmanager.prepareOffsets(draggable,event);}}};})(jQuery);(function($,undefined){function num(v){return parseInt(v,10)||0;}
function isNumber(value){return!isNaN(parseInt(value,10));}
$.widget("ui.resizable",$.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var n,i,handle,axis,hname,that=this,o=this.options;this.element.addClass("ui-resizable");$.extend(this,{_aspectRatio:!!(o.aspectRatio),aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){this.element.wrap($("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize();}
this.handles=o.handles||(!$(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor===String){if(this.handles==="all"){this.handles="n,e,s,w,se,sw,ne,nw";}
n=this.handles.split(",");this.handles={};for(i=0;i<n.length;i++){handle=$.trim(n[i]);hname="ui-resizable-"+handle;axis=$("<div class='ui-resizable-handle "+hname+"'></div>");axis.css({zIndex:o.zIndex});if("se"===handle){axis.addClass("ui-icon ui-icon-gripsmall-diagonal-se");}
this.handles[handle]=".ui-resizable-"+handle;this.element.append(axis);}}
this._renderAxis=function(target){var i,axis,padPos,padWrapper;target=target||this.element;for(i in this.handles){if(this.handles[i].constructor===String){this.handles[i]=$(this.handles[i],this.element).show();}
if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){axis=$(this.handles[i],this.element);padWrapper=/sw|ne|nw|se|n|s/.test(i)?axis.outerHeight():axis.outerWidth();padPos=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join("");target.css(padPos,padWrapper);this._proportionallyResize();}
if(!$(this.handles[i]).length){continue;}}};this._renderAxis(this.element);this._handles=$(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!that.resizing){if(this.className){axis=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);}
that.axis=axis&&axis[1]?axis[1]:"se";}});if(o.autoHide){this._handles.hide();$(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(o.disabled){return;}
$(this).removeClass("ui-resizable-autohide");that._handles.show();}).mouseleave(function(){if(o.disabled){return;}
if(!that.resizing){$(this).addClass("ui-resizable-autohide");that._handles.hide();}});}
this._mouseInit();},_destroy:function(){this._mouseDestroy();var wrapper,_destroy=function(exp){$(exp).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove();};if(this.elementIsWrapper){_destroy(this.element);wrapper=this.element;this.originalElement.css({position:wrapper.css("position"),width:wrapper.outerWidth(),height:wrapper.outerHeight(),top:wrapper.css("top"),left:wrapper.css("left")}).insertAfter(wrapper);wrapper.remove();}
this.originalElement.css("resize",this.originalResizeStyle);_destroy(this.originalElement);return this;},_mouseCapture:function(event){var i,handle,capture=false;for(i in this.handles){handle=$(this.handles[i])[0];if(handle===event.target||$.contains(handle,event.target)){capture=true;}}
return!this.options.disabled&&capture;},_mouseStart:function(event){var curleft,curtop,cursor,o=this.options,iniPos=this.element.position(),el=this.element;this.resizing=true;if((/absolute/).test(el.css("position"))){el.css({position:"absolute",top:el.css("top"),left:el.css("left")});}else if(el.is(".ui-draggable")){el.css({position:"absolute",top:iniPos.top,left:iniPos.left});}
this._renderProxy();curleft=num(this.helper.css("left"));curtop=num(this.helper.css("top"));if(o.containment){curleft+=$(o.containment).scrollLeft()||0;curtop+=$(o.containment).scrollTop()||0;}
this.offset=this.helper.offset();this.position={left:curleft,top:curtop};this.size=this._helper?{width:el.outerWidth(),height:el.outerHeight()}:{width:el.width(),height:el.height()};this.originalSize=this._helper?{width:el.outerWidth(),height:el.outerHeight()}:{width:el.width(),height:el.height()};this.originalPosition={left:curleft,top:curtop};this.sizeDiff={width:el.outerWidth()-el.width(),height:el.outerHeight()-el.height()};this.originalMousePosition={left:event.pageX,top:event.pageY};this.aspectRatio=(typeof o.aspectRatio==="number")?o.aspectRatio:((this.originalSize.width/this.originalSize.height)||1);cursor=$(".ui-resizable-"+this.axis).css("cursor");$("body").css("cursor",cursor==="auto"?this.axis+"-resize":cursor);el.addClass("ui-resizable-resizing");this._propagate("start",event);return true;},_mouseDrag:function(event){var data,el=this.helper,props={},smp=this.originalMousePosition,a=this.axis,prevTop=this.position.top,prevLeft=this.position.left,prevWidth=this.size.width,prevHeight=this.size.height,dx=(event.pageX-smp.left)||0,dy=(event.pageY-smp.top)||0,trigger=this._change[a];if(!trigger){return false;}
data=trigger.apply(this,[event,dx,dy]);this._updateVirtualBoundaries(event.shiftKey);if(this._aspectRatio||event.shiftKey){data=this._updateRatio(data,event);}
data=this._respectSize(data,event);this._updateCache(data);this._propagate("resize",event);if(this.position.top!==prevTop){props.top=this.position.top+"px";}
if(this.position.left!==prevLeft){props.left=this.position.left+"px";}
if(this.size.width!==prevWidth){props.width=this.size.width+"px";}
if(this.size.height!==prevHeight){props.height=this.size.height+"px";}
el.css(props);if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize();}
if(!$.isEmptyObject(props)){this._trigger("resize",event,this.ui());}
return false;},_mouseStop:function(event){this.resizing=false;var pr,ista,soffseth,soffsetw,s,left,top,o=this.options,that=this;if(this._helper){pr=this._proportionallyResizeElements;ista=pr.length&&(/textarea/i).test(pr[0].nodeName);soffseth=ista&&$.ui.hasScroll(pr[0],"left")?0:that.sizeDiff.height;soffsetw=ista?0:that.sizeDiff.width;s={width:(that.helper.width()-soffsetw),height:(that.helper.height()-soffseth)};left=(parseInt(that.element.css("left"),10)+(that.position.left-that.originalPosition.left))||null;top=(parseInt(that.element.css("top"),10)+(that.position.top-that.originalPosition.top))||null;if(!o.animate){this.element.css($.extend(s,{top:top,left:left}));}
that.helper.height(that.size.height);that.helper.width(that.size.width);if(this._helper&&!o.animate){this._proportionallyResize();}}
$("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",event);if(this._helper){this.helper.remove();}
return false;},_updateVirtualBoundaries:function(forceAspectRatio){var pMinWidth,pMaxWidth,pMinHeight,pMaxHeight,b,o=this.options;b={minWidth:isNumber(o.minWidth)?o.minWidth:0,maxWidth:isNumber(o.maxWidth)?o.maxWidth:Infinity,minHeight:isNumber(o.minHeight)?o.minHeight:0,maxHeight:isNumber(o.maxHeight)?o.maxHeight:Infinity};if(this._aspectRatio||forceAspectRatio){pMinWidth=b.minHeight*this.aspectRatio;pMinHeight=b.minWidth/this.aspectRatio;pMaxWidth=b.maxHeight*this.aspectRatio;pMaxHeight=b.maxWidth/this.aspectRatio;if(pMinWidth>b.minWidth){b.minWidth=pMinWidth;}
if(pMinHeight>b.minHeight){b.minHeight=pMinHeight;}
if(pMaxWidth<b.maxWidth){b.maxWidth=pMaxWidth;}
if(pMaxHeight<b.maxHeight){b.maxHeight=pMaxHeight;}}
this._vBoundaries=b;},_updateCache:function(data){this.offset=this.helper.offset();if(isNumber(data.left)){this.position.left=data.left;}
if(isNumber(data.top)){this.position.top=data.top;}
if(isNumber(data.height)){this.size.height=data.height;}
if(isNumber(data.width)){this.size.width=data.width;}},_updateRatio:function(data){var cpos=this.position,csize=this.size,a=this.axis;if(isNumber(data.height)){data.width=(data.height*this.aspectRatio);}else if(isNumber(data.width)){data.height=(data.width/this.aspectRatio);}
if(a==="sw"){data.left=cpos.left+(csize.width-data.width);data.top=null;}
if(a==="nw"){data.top=cpos.top+(csize.height-data.height);data.left=cpos.left+(csize.width-data.width);}
return data;},_respectSize:function(data){var o=this._vBoundaries,a=this.axis,ismaxw=isNumber(data.width)&&o.maxWidth&&(o.maxWidth<data.width),ismaxh=isNumber(data.height)&&o.maxHeight&&(o.maxHeight<data.height),isminw=isNumber(data.width)&&o.minWidth&&(o.minWidth>data.width),isminh=isNumber(data.height)&&o.minHeight&&(o.minHeight>data.height),dw=this.originalPosition.left+this.originalSize.width,dh=this.position.top+this.size.height,cw=/sw|nw|w/.test(a),ch=/nw|ne|n/.test(a);if(isminw){data.width=o.minWidth;}
if(isminh){data.height=o.minHeight;}
if(ismaxw){data.width=o.maxWidth;}
if(ismaxh){data.height=o.maxHeight;}
if(isminw&&cw){data.left=dw-o.minWidth;}
if(ismaxw&&cw){data.left=dw-o.maxWidth;}
if(isminh&&ch){data.top=dh-o.minHeight;}
if(ismaxh&&ch){data.top=dh-o.maxHeight;}
if(!data.width&&!data.height&&!data.left&&data.top){data.top=null;}else if(!data.width&&!data.height&&!data.top&&data.left){data.left=null;}
return data;},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length){return;}
var i,j,borders,paddings,prel,element=this.helper||this.element;for(i=0;i<this._proportionallyResizeElements.length;i++){prel=this._proportionallyResizeElements[i];if(!this.borderDif){this.borderDif=[];borders=[prel.css("borderTopWidth"),prel.css("borderRightWidth"),prel.css("borderBottomWidth"),prel.css("borderLeftWidth")];paddings=[prel.css("paddingTop"),prel.css("paddingRight"),prel.css("paddingBottom"),prel.css("paddingLeft")];for(j=0;j<borders.length;j++){this.borderDif[j]=(parseInt(borders[j],10)||0)+(parseInt(paddings[j],10)||0);}}
prel.css({height:(element.height()-this.borderDif[0]-this.borderDif[2])||0,width:(element.width()-this.borderDif[1]-this.borderDif[3])||0});}},_renderProxy:function(){var el=this.element,o=this.options;this.elementOffset=el.offset();if(this._helper){this.helper=this.helper||$("<div style='overflow:hidden;'></div>");this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++o.zIndex});this.helper.appendTo("body").disableSelection();}else{this.helper=this.element;}},_change:{e:function(event,dx){return{width:this.originalSize.width+dx};},w:function(event,dx){var cs=this.originalSize,sp=this.originalPosition;return{left:sp.left+dx,width:cs.width-dx};},n:function(event,dx,dy){var cs=this.originalSize,sp=this.originalPosition;return{top:sp.top+dy,height:cs.height-dy};},s:function(event,dx,dy){return{height:this.originalSize.height+dy};},se:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]));},sw:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]));},ne:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]));},nw:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]));}},_propagate:function(n,event){$.ui.plugin.call(this,n,[event,this.ui()]);(n!=="resize"&&this._trigger(n,event,this.ui()));},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition};}});$.ui.plugin.add("resizable","animate",{stop:function(event){var that=$(this).data("ui-resizable"),o=that.options,pr=that._proportionallyResizeElements,ista=pr.length&&(/textarea/i).test(pr[0].nodeName),soffseth=ista&&$.ui.hasScroll(pr[0],"left")?0:that.sizeDiff.height,soffsetw=ista?0:that.sizeDiff.width,style={width:(that.size.width-soffsetw),height:(that.size.height-soffseth)},left=(parseInt(that.element.css("left"),10)+(that.position.left-that.originalPosition.left))||null,top=(parseInt(that.element.css("top"),10)+(that.position.top-that.originalPosition.top))||null;that.element.animate($.extend(style,top&&left?{top:top,left:left}:{}),{duration:o.animateDuration,easing:o.animateEasing,step:function(){var data={width:parseInt(that.element.css("width"),10),height:parseInt(that.element.css("height"),10),top:parseInt(that.element.css("top"),10),left:parseInt(that.element.css("left"),10)};if(pr&&pr.length){$(pr[0]).css({width:data.width,height:data.height});}
that._updateCache(data);that._propagate("resize",event);}});}});$.ui.plugin.add("resizable","containment",{start:function(){var element,p,co,ch,cw,width,height,that=$(this).data("ui-resizable"),o=that.options,el=that.element,oc=o.containment,ce=(oc instanceof $)?oc.get(0):(/parent/.test(oc))?el.parent().get(0):oc;if(!ce){return;}
that.containerElement=$(ce);if(/document/.test(oc)||oc===document){that.containerOffset={left:0,top:0};that.containerPosition={left:0,top:0};that.parentData={element:$(document),left:0,top:0,width:$(document).width(),height:$(document).height()||document.body.parentNode.scrollHeight};}
else{element=$(ce);p=[];$(["Top","Right","Left","Bottom"]).each(function(i,name){p[i]=num(element.css("padding"+name));});that.containerOffset=element.offset();that.containerPosition=element.position();that.containerSize={height:(element.innerHeight()-p[3]),width:(element.innerWidth()-p[1])};co=that.containerOffset;ch=that.containerSize.height;cw=that.containerSize.width;width=($.ui.hasScroll(ce,"left")?ce.scrollWidth:cw);height=($.ui.hasScroll(ce)?ce.scrollHeight:ch);that.parentData={element:ce,left:co.left,top:co.top,width:width,height:height};}},resize:function(event){var woset,hoset,isParent,isOffsetRelative,that=$(this).data("ui-resizable"),o=that.options,co=that.containerOffset,cp=that.position,pRatio=that._aspectRatio||event.shiftKey,cop={top:0,left:0},ce=that.containerElement;if(ce[0]!==document&&(/static/).test(ce.css("position"))){cop=co;}
if(cp.left<(that._helper?co.left:0)){that.size.width=that.size.width+(that._helper?(that.position.left-co.left):(that.position.left-cop.left));if(pRatio){that.size.height=that.size.width/that.aspectRatio;}
that.position.left=o.helper?co.left:0;}
if(cp.top<(that._helper?co.top:0)){that.size.height=that.size.height+(that._helper?(that.position.top-co.top):that.position.top);if(pRatio){that.size.width=that.size.height*that.aspectRatio;}
that.position.top=that._helper?co.top:0;}
that.offset.left=that.parentData.left+that.position.left;that.offset.top=that.parentData.top+that.position.top;woset=Math.abs((that._helper?that.offset.left-cop.left:(that.offset.left-cop.left))+that.sizeDiff.width);hoset=Math.abs((that._helper?that.offset.top-cop.top:(that.offset.top-co.top))+that.sizeDiff.height);isParent=that.containerElement.get(0)===that.element.parent().get(0);isOffsetRelative=/relative|absolute/.test(that.containerElement.css("position"));if(isParent&&isOffsetRelative){woset-=that.parentData.left;}
if(woset+that.size.width>=that.parentData.width){that.size.width=that.parentData.width-woset;if(pRatio){that.size.height=that.size.width/that.aspectRatio;}}
if(hoset+that.size.height>=that.parentData.height){that.size.height=that.parentData.height-hoset;if(pRatio){that.size.width=that.size.height*that.aspectRatio;}}},stop:function(){var that=$(this).data("ui-resizable"),o=that.options,co=that.containerOffset,cop=that.containerPosition,ce=that.containerElement,helper=$(that.helper),ho=helper.offset(),w=helper.outerWidth()-that.sizeDiff.width,h=helper.outerHeight()-that.sizeDiff.height;if(that._helper&&!o.animate&&(/relative/).test(ce.css("position"))){$(this).css({left:ho.left-cop.left-co.left,width:w,height:h});}
if(that._helper&&!o.animate&&(/static/).test(ce.css("position"))){$(this).css({left:ho.left-cop.left-co.left,width:w,height:h});}}});$.ui.plugin.add("resizable","alsoResize",{start:function(){var that=$(this).data("ui-resizable"),o=that.options,_store=function(exp){$(exp).each(function(){var el=$(this);el.data("ui-resizable-alsoresize",{width:parseInt(el.width(),10),height:parseInt(el.height(),10),left:parseInt(el.css("left"),10),top:parseInt(el.css("top"),10)});});};if(typeof(o.alsoResize)==="object"&&!o.alsoResize.parentNode){if(o.alsoResize.length){o.alsoResize=o.alsoResize[0];_store(o.alsoResize);}
else{$.each(o.alsoResize,function(exp){_store(exp);});}}else{_store(o.alsoResize);}},resize:function(event,ui){var that=$(this).data("ui-resizable"),o=that.options,os=that.originalSize,op=that.originalPosition,delta={height:(that.size.height-os.height)||0,width:(that.size.width-os.width)||0,top:(that.position.top-op.top)||0,left:(that.position.left-op.left)||0},_alsoResize=function(exp,c){$(exp).each(function(){var el=$(this),start=$(this).data("ui-resizable-alsoresize"),style={},css=c&&c.length?c:el.parents(ui.originalElement[0]).length?["width","height"]:["width","height","top","left"];$.each(css,function(i,prop){var sum=(start[prop]||0)+(delta[prop]||0);if(sum&&sum>=0){style[prop]=sum||null;}});el.css(style);});};if(typeof(o.alsoResize)==="object"&&!o.alsoResize.nodeType){$.each(o.alsoResize,function(exp,c){_alsoResize(exp,c);});}else{_alsoResize(o.alsoResize);}},stop:function(){$(this).removeData("resizable-alsoresize");}});$.ui.plugin.add("resizable","ghost",{start:function(){var that=$(this).data("ui-resizable"),o=that.options,cs=that.size;that.ghost=that.originalElement.clone();that.ghost.css({opacity:0.25,display:"block",position:"relative",height:cs.height,width:cs.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof o.ghost==="string"?o.ghost:"");that.ghost.appendTo(that.helper);},resize:function(){var that=$(this).data("ui-resizable");if(that.ghost){that.ghost.css({position:"relative",height:that.size.height,width:that.size.width});}},stop:function(){var that=$(this).data("ui-resizable");if(that.ghost&&that.helper){that.helper.get(0).removeChild(that.ghost.get(0));}}});$.ui.plugin.add("resizable","grid",{resize:function(){var that=$(this).data("ui-resizable"),o=that.options,cs=that.size,os=that.originalSize,op=that.originalPosition,a=that.axis,grid=typeof o.grid==="number"?[o.grid,o.grid]:o.grid,gridX=(grid[0]||1),gridY=(grid[1]||1),ox=Math.round((cs.width-os.width)/gridX)*gridX,oy=Math.round((cs.height-os.height)/gridY)*gridY,newWidth=os.width+ox,newHeight=os.height+oy,isMaxWidth=o.maxWidth&&(o.maxWidth<newWidth),isMaxHeight=o.maxHeight&&(o.maxHeight<newHeight),isMinWidth=o.minWidth&&(o.minWidth>newWidth),isMinHeight=o.minHeight&&(o.minHeight>newHeight);o.grid=grid;if(isMinWidth){newWidth=newWidth+gridX;}
if(isMinHeight){newHeight=newHeight+gridY;}
if(isMaxWidth){newWidth=newWidth-gridX;}
if(isMaxHeight){newHeight=newHeight-gridY;}
if(/^(se|s|e)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;}else if(/^(ne)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;that.position.top=op.top-oy;}else if(/^(sw)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;that.position.left=op.left-ox;}else{that.size.width=newWidth;that.size.height=newHeight;that.position.top=op.top-oy;that.position.left=op.left-ox;}}});})(jQuery);(function($,undefined){$.widget("ui.selectable",$.ui.mouse,{version:"1.10.3",options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var selectees,that=this;this.element.addClass("ui-selectable");this.dragged=false;this.refresh=function(){selectees=$(that.options.filter,that.element[0]);selectees.addClass("ui-selectee");selectees.each(function(){var $this=$(this),pos=$this.offset();$.data(this,"selectable-item",{element:this,$element:$this,left:pos.left,top:pos.top,right:pos.left+$this.outerWidth(),bottom:pos.top+$this.outerHeight(),startselected:false,selected:$this.hasClass("ui-selected"),selecting:$this.hasClass("ui-selecting"),unselecting:$this.hasClass("ui-unselecting")});});};this.refresh();this.selectees=selectees.addClass("ui-selectee");this._mouseInit();this.helper=$("<div class='ui-selectable-helper'></div>");},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");this._mouseDestroy();},_mouseStart:function(event){var that=this,options=this.options;this.opos=[event.pageX,event.pageY];if(this.options.disabled){return;}
this.selectees=$(options.filter,this.element[0]);this._trigger("start",event);$(options.appendTo).append(this.helper);this.helper.css({"left":event.pageX,"top":event.pageY,"width":0,"height":0});if(options.autoRefresh){this.refresh();}
this.selectees.filter(".ui-selected").each(function(){var selectee=$.data(this,"selectable-item");selectee.startselected=true;if(!event.metaKey&&!event.ctrlKey){selectee.$element.removeClass("ui-selected");selectee.selected=false;selectee.$element.addClass("ui-unselecting");selectee.unselecting=true;that._trigger("unselecting",event,{unselecting:selectee.element});}});$(event.target).parents().addBack().each(function(){var doSelect,selectee=$.data(this,"selectable-item");if(selectee){doSelect=(!event.metaKey&&!event.ctrlKey)||!selectee.$element.hasClass("ui-selected");selectee.$element.removeClass(doSelect?"ui-unselecting":"ui-selected").addClass(doSelect?"ui-selecting":"ui-unselecting");selectee.unselecting=!doSelect;selectee.selecting=doSelect;selectee.selected=doSelect;if(doSelect){that._trigger("selecting",event,{selecting:selectee.element});}else{that._trigger("unselecting",event,{unselecting:selectee.element});}
return false;}});},_mouseDrag:function(event){this.dragged=true;if(this.options.disabled){return;}
var tmp,that=this,options=this.options,x1=this.opos[0],y1=this.opos[1],x2=event.pageX,y2=event.pageY;if(x1>x2){tmp=x2;x2=x1;x1=tmp;}
if(y1>y2){tmp=y2;y2=y1;y1=tmp;}
this.helper.css({left:x1,top:y1,width:x2-x1,height:y2-y1});this.selectees.each(function(){var selectee=$.data(this,"selectable-item"),hit=false;if(!selectee||selectee.element===that.element[0]){return;}
if(options.tolerance==="touch"){hit=(!(selectee.left>x2||selectee.right<x1||selectee.top>y2||selectee.bottom<y1));}else if(options.tolerance==="fit"){hit=(selectee.left>x1&&selectee.right<x2&&selectee.top>y1&&selectee.bottom<y2);}
if(hit){if(selectee.selected){selectee.$element.removeClass("ui-selected");selectee.selected=false;}
if(selectee.unselecting){selectee.$element.removeClass("ui-unselecting");selectee.unselecting=false;}
if(!selectee.selecting){selectee.$element.addClass("ui-selecting");selectee.selecting=true;that._trigger("selecting",event,{selecting:selectee.element});}}else{if(selectee.selecting){if((event.metaKey||event.ctrlKey)&&selectee.startselected){selectee.$element.removeClass("ui-selecting");selectee.selecting=false;selectee.$element.addClass("ui-selected");selectee.selected=true;}else{selectee.$element.removeClass("ui-selecting");selectee.selecting=false;if(selectee.startselected){selectee.$element.addClass("ui-unselecting");selectee.unselecting=true;}
that._trigger("unselecting",event,{unselecting:selectee.element});}}
if(selectee.selected){if(!event.metaKey&&!event.ctrlKey&&!selectee.startselected){selectee.$element.removeClass("ui-selected");selectee.selected=false;selectee.$element.addClass("ui-unselecting");selectee.unselecting=true;that._trigger("unselecting",event,{unselecting:selectee.element});}}}});return false;},_mouseStop:function(event){var that=this;this.dragged=false;$(".ui-unselecting",this.element[0]).each(function(){var selectee=$.data(this,"selectable-item");selectee.$element.removeClass("ui-unselecting");selectee.unselecting=false;selectee.startselected=false;that._trigger("unselected",event,{unselected:selectee.element});});$(".ui-selecting",this.element[0]).each(function(){var selectee=$.data(this,"selectable-item");selectee.$element.removeClass("ui-selecting").addClass("ui-selected");selectee.selecting=false;selectee.selected=true;selectee.startselected=true;that._trigger("selected",event,{selected:selectee.element});});this._trigger("stop",event);this.helper.remove();return false;}});})(jQuery);(function($,undefined){function isOverAxis(x,reference,size){return(x>reference)&&(x<(reference+size));}
function isFloating(item){return(/left|right/).test(item.css("float"))||(/inline|table-cell/).test(item.css("display"));}
$.widget("ui.sortable",$.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var o=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?o.axis==="x"||isFloating(this.items[0].item):false;this.offset=this.element.offset();this._mouseInit();this.ready=true;},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var i=this.items.length-1;i>=0;i--){this.items[i].item.removeData(this.widgetName+"-item");}
return this;},_setOption:function(key,value){if(key==="disabled"){this.options[key]=value;this.widget().toggleClass("ui-sortable-disabled",!!value);}else{$.Widget.prototype._setOption.apply(this,arguments);}},_mouseCapture:function(event,overrideHandle){var currentItem=null,validHandle=false,that=this;if(this.reverting){return false;}
if(this.options.disabled||this.options.type==="static"){return false;}
this._refreshItems(event);$(event.target).parents().each(function(){if($.data(this,that.widgetName+"-item")===that){currentItem=$(this);return false;}});if($.data(event.target,that.widgetName+"-item")===that){currentItem=$(event.target);}
if(!currentItem){return false;}
if(this.options.handle&&!overrideHandle){$(this.options.handle,currentItem).find("*").addBack().each(function(){if(this===event.target){validHandle=true;}});if(!validHandle){return false;}}
this.currentItem=currentItem;this._removeCurrentsFromItems();return true;},_mouseStart:function(event,overrideHandle,noActivation){var i,body,o=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(event);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};$.extend(this.offset,{click:{left:event.pageX-this.offset.left,top:event.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(event);this.originalPageX=event.pageX;this.originalPageY=event.pageY;(o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt));this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!==this.currentItem[0]){this.currentItem.hide();}
this._createPlaceholder();if(o.containment){this._setContainment();}
if(o.cursor&&o.cursor!=="auto"){body=this.document.find("body");this.storedCursor=body.css("cursor");body.css("cursor",o.cursor);this.storedStylesheet=$("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(body);}
if(o.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity");}
this.helper.css("opacity",o.opacity);}
if(o.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex");}
this.helper.css("zIndex",o.zIndex);}
if(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"){this.overflowOffset=this.scrollParent.offset();}
this._trigger("start",event,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions();}
if(!noActivation){for(i=this.containers.length-1;i>=0;i--){this.containers[i]._trigger("activate",event,this._uiHash(this));}}
if($.ui.ddmanager){$.ui.ddmanager.current=this;}
if($.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,event);}
this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(event);return true;},_mouseDrag:function(event){var i,item,itemElement,intersection,o=this.options,scrolled=false;this.position=this._generatePosition(event);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs;}
if(this.options.scroll){if(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"){if((this.overflowOffset.top+this.scrollParent[0].offsetHeight)-event.pageY<o.scrollSensitivity){this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop+o.scrollSpeed;}else if(event.pageY-this.overflowOffset.top<o.scrollSensitivity){this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop-o.scrollSpeed;}
if((this.overflowOffset.left+this.scrollParent[0].offsetWidth)-event.pageX<o.scrollSensitivity){this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft+o.scrollSpeed;}else if(event.pageX-this.overflowOffset.left<o.scrollSensitivity){this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft-o.scrollSpeed;}}else{if(event.pageY-$(document).scrollTop()<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()-o.scrollSpeed);}else if($(window).height()-(event.pageY-$(document).scrollTop())<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()+o.scrollSpeed);}
if(event.pageX-$(document).scrollLeft()<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed);}else if($(window).width()-(event.pageX-$(document).scrollLeft())<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed);}}
if(scrolled!==false&&$.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,event);}}
this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px";}
if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px";}
for(i=this.items.length-1;i>=0;i--){item=this.items[i];itemElement=item.item[0];intersection=this._intersectsWithPointer(item);if(!intersection){continue;}
if(item.instance!==this.currentContainer){continue;}
if(itemElement!==this.currentItem[0]&&this.placeholder[intersection===1?"next":"prev"]()[0]!==itemElement&&!$.contains(this.placeholder[0],itemElement)&&(this.options.type==="semi-dynamic"?!$.contains(this.element[0],itemElement):true)){this.direction=intersection===1?"down":"up";if(this.options.tolerance==="pointer"||this._intersectsWithSides(item)){this._rearrange(event,item);}else{break;}
this._trigger("change",event,this._uiHash());break;}}
this._contactContainers(event);if($.ui.ddmanager){$.ui.ddmanager.drag(this,event);}
this._trigger("sort",event,this._uiHash());this.lastPositionAbs=this.positionAbs;return false;},_mouseStop:function(event,noPropagation){if(!event){return;}
if($.ui.ddmanager&&!this.options.dropBehaviour){$.ui.ddmanager.drop(this,event);}
if(this.options.revert){var that=this,cur=this.placeholder.offset(),axis=this.options.axis,animation={};if(!axis||axis==="x"){animation.left=cur.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft);}
if(!axis||axis==="y"){animation.top=cur.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop);}
this.reverting=true;$(this.helper).animate(animation,parseInt(this.options.revert,10)||500,function(){that._clear(event);});}else{this._clear(event,noPropagation);}
return false;},cancel:function(){if(this.dragging){this._mouseUp({target:null});if(this.options.helper==="original"){this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper");}else{this.currentItem.show();}
for(var i=this.containers.length-1;i>=0;i--){this.containers[i]._trigger("deactivate",null,this._uiHash(this));if(this.containers[i].containerCache.over){this.containers[i]._trigger("out",null,this._uiHash(this));this.containers[i].containerCache.over=0;}}}
if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0]);}
if(this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove();}
$.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){$(this.domPosition.prev).after(this.currentItem);}else{$(this.domPosition.parent).prepend(this.currentItem);}}
return this;},serialize:function(o){var items=this._getItemsAsjQuery(o&&o.connected),str=[];o=o||{};$(items).each(function(){var res=($(o.item||this).attr(o.attribute||"id")||"").match(o.expression||(/(.+)[\-=_](.+)/));if(res){str.push((o.key||res[1]+"[]")+"="+(o.key&&o.expression?res[1]:res[2]));}});if(!str.length&&o.key){str.push(o.key+"=");}
return str.join("&");},toArray:function(o){var items=this._getItemsAsjQuery(o&&o.connected),ret=[];o=o||{};items.each(function(){ret.push($(o.item||this).attr(o.attribute||"id")||"");});return ret;},_intersectsWith:function(item){var x1=this.positionAbs.left,x2=x1+this.helperProportions.width,y1=this.positionAbs.top,y2=y1+this.helperProportions.height,l=item.left,r=l+item.width,t=item.top,b=t+item.height,dyClick=this.offset.click.top,dxClick=this.offset.click.left,isOverElementHeight=(this.options.axis==="x")||((y1+dyClick)>t&&(y1+dyClick)<b),isOverElementWidth=(this.options.axis==="y")||((x1+dxClick)>l&&(x1+dxClick)<r),isOverElement=isOverElementHeight&&isOverElementWidth;if(this.options.tolerance==="pointer"||this.options.forcePointerForContainers||(this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>item[this.floating?"width":"height"])){return isOverElement;}else{return(l<x1+(this.helperProportions.width/2)&&x2-(this.helperProportions.width/2)<r&&t<y1+(this.helperProportions.height/2)&&y2-(this.helperProportions.height/2)<b);}},_intersectsWithPointer:function(item){var isOverElementHeight=(this.options.axis==="x")||isOverAxis(this.positionAbs.top+this.offset.click.top,item.top,item.height),isOverElementWidth=(this.options.axis==="y")||isOverAxis(this.positionAbs.left+this.offset.click.left,item.left,item.width),isOverElement=isOverElementHeight&&isOverElementWidth,verticalDirection=this._getDragVerticalDirection(),horizontalDirection=this._getDragHorizontalDirection();if(!isOverElement){return false;}
return this.floating?(((horizontalDirection&&horizontalDirection==="right")||verticalDirection==="down")?2:1):(verticalDirection&&(verticalDirection==="down"?2:1));},_intersectsWithSides:function(item){var isOverBottomHalf=isOverAxis(this.positionAbs.top+this.offset.click.top,item.top+(item.height/2),item.height),isOverRightHalf=isOverAxis(this.positionAbs.left+this.offset.click.left,item.left+(item.width/2),item.width),verticalDirection=this._getDragVerticalDirection(),horizontalDirection=this._getDragHorizontalDirection();if(this.floating&&horizontalDirection){return((horizontalDirection==="right"&&isOverRightHalf)||(horizontalDirection==="left"&&!isOverRightHalf));}else{return verticalDirection&&((verticalDirection==="down"&&isOverBottomHalf)||(verticalDirection==="up"&&!isOverBottomHalf));}},_getDragVerticalDirection:function(){var delta=this.positionAbs.top-this.lastPositionAbs.top;return delta!==0&&(delta>0?"down":"up");},_getDragHorizontalDirection:function(){var delta=this.positionAbs.left-this.lastPositionAbs.left;return delta!==0&&(delta>0?"right":"left");},refresh:function(event){this._refreshItems(event);this.refreshPositions();return this;},_connectWith:function(){var options=this.options;return options.connectWith.constructor===String?[options.connectWith]:options.connectWith;},_getItemsAsjQuery:function(connected){var i,j,cur,inst,items=[],queries=[],connectWith=this._connectWith();if(connectWith&&connected){for(i=connectWith.length-1;i>=0;i--){cur=$(connectWith[i]);for(j=cur.length-1;j>=0;j--){inst=$.data(cur[j],this.widgetFullName);if(inst&&inst!==this&&!inst.options.disabled){queries.push([$.isFunction(inst.options.items)?inst.options.items.call(inst.element):$(inst.options.items,inst.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),inst]);}}}}
queries.push([$.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):$(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(i=queries.length-1;i>=0;i--){queries[i][0].each(function(){items.push(this);});}
return $(items);},_removeCurrentsFromItems:function(){var list=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=$.grep(this.items,function(item){for(var j=0;j<list.length;j++){if(list[j]===item.item[0]){return false;}}
return true;});},_refreshItems:function(event){this.items=[];this.containers=[this];var i,j,cur,inst,targetData,_queries,item,queriesLength,items=this.items,queries=[[$.isFunction(this.options.items)?this.options.items.call(this.element[0],event,{item:this.currentItem}):$(this.options.items,this.element),this]],connectWith=this._connectWith();if(connectWith&&this.ready){for(i=connectWith.length-1;i>=0;i--){cur=$(connectWith[i]);for(j=cur.length-1;j>=0;j--){inst=$.data(cur[j],this.widgetFullName);if(inst&&inst!==this&&!inst.options.disabled){queries.push([$.isFunction(inst.options.items)?inst.options.items.call(inst.element[0],event,{item:this.currentItem}):$(inst.options.items,inst.element),inst]);this.containers.push(inst);}}}}
for(i=queries.length-1;i>=0;i--){targetData=queries[i][1];_queries=queries[i][0];for(j=0,queriesLength=_queries.length;j<queriesLength;j++){item=$(_queries[j]);item.data(this.widgetName+"-item",targetData);items.push({item:item,instance:targetData,width:0,height:0,left:0,top:0});}}},refreshPositions:function(fast){if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset();}
var i,item,t,p;for(i=this.items.length-1;i>=0;i--){item=this.items[i];if(item.instance!==this.currentContainer&&this.currentContainer&&item.item[0]!==this.currentItem[0]){continue;}
t=this.options.toleranceElement?$(this.options.toleranceElement,item.item):item.item;if(!fast){item.width=t.outerWidth();item.height=t.outerHeight();}
p=t.offset();item.left=p.left;item.top=p.top;}
if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this);}else{for(i=this.containers.length-1;i>=0;i--){p=this.containers[i].element.offset();this.containers[i].containerCache.left=p.left;this.containers[i].containerCache.top=p.top;this.containers[i].containerCache.width=this.containers[i].element.outerWidth();this.containers[i].containerCache.height=this.containers[i].element.outerHeight();}}
return this;},_createPlaceholder:function(that){that=that||this;var className,o=that.options;if(!o.placeholder||o.placeholder.constructor===String){className=o.placeholder;o.placeholder={element:function(){var nodeName=that.currentItem[0].nodeName.toLowerCase(),element=$("<"+nodeName+">",that.document[0]).addClass(className||that.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");if(nodeName==="tr"){that.currentItem.children().each(function(){$("<td>&#160;</td>",that.document[0]).attr("colspan",$(this).attr("colspan")||1).appendTo(element);});}else if(nodeName==="img"){element.attr("src",that.currentItem.attr("src"));}
if(!className){element.css("visibility","hidden");}
return element;},update:function(container,p){if(className&&!o.forcePlaceholderSize){return;}
if(!p.height()){p.height(that.currentItem.innerHeight()-parseInt(that.currentItem.css("paddingTop")||0,10)-parseInt(that.currentItem.css("paddingBottom")||0,10));}
if(!p.width()){p.width(that.currentItem.innerWidth()-parseInt(that.currentItem.css("paddingLeft")||0,10)-parseInt(that.currentItem.css("paddingRight")||0,10));}}};}
that.placeholder=$(o.placeholder.element.call(that.element,that.currentItem));that.currentItem.after(that.placeholder);o.placeholder.update(that,that.placeholder);},_contactContainers:function(event){var i,j,dist,itemWithLeastDistance,posProperty,sizeProperty,base,cur,nearBottom,floating,innermostContainer=null,innermostIndex=null;for(i=this.containers.length-1;i>=0;i--){if($.contains(this.currentItem[0],this.containers[i].element[0])){continue;}
if(this._intersectsWith(this.containers[i].containerCache)){if(innermostContainer&&$.contains(this.containers[i].element[0],innermostContainer.element[0])){continue;}
innermostContainer=this.containers[i];innermostIndex=i;}else{if(this.containers[i].containerCache.over){this.containers[i]._trigger("out",event,this._uiHash(this));this.containers[i].containerCache.over=0;}}}
if(!innermostContainer){return;}
if(this.containers.length===1){if(!this.containers[innermostIndex].containerCache.over){this.containers[innermostIndex]._trigger("over",event,this._uiHash(this));this.containers[innermostIndex].containerCache.over=1;}}else{dist=10000;itemWithLeastDistance=null;floating=innermostContainer.floating||isFloating(this.currentItem);posProperty=floating?"left":"top";sizeProperty=floating?"width":"height";base=this.positionAbs[posProperty]+this.offset.click[posProperty];for(j=this.items.length-1;j>=0;j--){if(!$.contains(this.containers[innermostIndex].element[0],this.items[j].item[0])){continue;}
if(this.items[j].item[0]===this.currentItem[0]){continue;}
if(floating&&!isOverAxis(this.positionAbs.top+this.offset.click.top,this.items[j].top,this.items[j].height)){continue;}
cur=this.items[j].item.offset()[posProperty];nearBottom=false;if(Math.abs(cur-base)>Math.abs(cur+this.items[j][sizeProperty]-base)){nearBottom=true;cur+=this.items[j][sizeProperty];}
if(Math.abs(cur-base)<dist){dist=Math.abs(cur-base);itemWithLeastDistance=this.items[j];this.direction=nearBottom?"up":"down";}}
if(!itemWithLeastDistance&&!this.options.dropOnEmpty){return;}
if(this.currentContainer===this.containers[innermostIndex]){return;}
itemWithLeastDistance?this._rearrange(event,itemWithLeastDistance,null,true):this._rearrange(event,null,this.containers[innermostIndex].element,true);this._trigger("change",event,this._uiHash());this.containers[innermostIndex]._trigger("change",event,this._uiHash(this));this.currentContainer=this.containers[innermostIndex];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[innermostIndex]._trigger("over",event,this._uiHash(this));this.containers[innermostIndex].containerCache.over=1;}},_createHelper:function(event){var o=this.options,helper=$.isFunction(o.helper)?$(o.helper.apply(this.element[0],[event,this.currentItem])):(o.helper==="clone"?this.currentItem.clone():this.currentItem);if(!helper.parents("body").length){$(o.appendTo!=="parent"?o.appendTo:this.currentItem[0].parentNode)[0].appendChild(helper[0]);}
if(helper[0]===this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")};}
if(!helper[0].style.width||o.forceHelperSize){helper.width(this.currentItem.width());}
if(!helper[0].style.height||o.forceHelperSize){helper.height(this.currentItem.height());}
return helper;},_adjustOffsetFromHelper:function(obj){if(typeof obj==="string"){obj=obj.split(" ");}
if($.isArray(obj)){obj={left:+obj[0],top:+obj[1]||0};}
if("left"in obj){this.offset.click.left=obj.left+this.margins.left;}
if("right"in obj){this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left;}
if("top"in obj){this.offset.click.top=obj.top+this.margins.top;}
if("bottom"in obj){this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top;}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var po=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&this.scrollParent[0]!==document.body&&$.contains(this.scrollParent[0],this.offsetParent[0])){po.left+=this.scrollParent.scrollLeft();po.top+=this.scrollParent.scrollTop();}
if(this.offsetParent[0]===document.body||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&$.ui.ie)){po={top:0,left:0};}
return{top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var p=this.currentItem.position();return{top:p.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:p.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()};}else{return{top:0,left:0};}},_cacheMargins:function(){this.margins={left:(parseInt(this.currentItem.css("marginLeft"),10)||0),top:(parseInt(this.currentItem.css("marginTop"),10)||0)};},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};},_setContainment:function(){var ce,co,over,o=this.options;if(o.containment==="parent"){o.containment=this.helper[0].parentNode;}
if(o.containment==="document"||o.containment==="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,$(o.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,($(o.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];}
if(!(/^(document|window|parent)$/).test(o.containment)){ce=$(o.containment)[0];co=$(o.containment).offset();over=($(ce).css("overflow")!=="hidden");this.containment=[co.left+(parseInt($(ce).css("borderLeftWidth"),10)||0)+(parseInt($(ce).css("paddingLeft"),10)||0)-this.margins.left,co.top+(parseInt($(ce).css("borderTopWidth"),10)||0)+(parseInt($(ce).css("paddingTop"),10)||0)-this.margins.top,co.left+(over?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-(parseInt($(ce).css("borderLeftWidth"),10)||0)-(parseInt($(ce).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,co.top+(over?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-(parseInt($(ce).css("borderTopWidth"),10)||0)-(parseInt($(ce).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top];}},_convertPositionTo:function(d,pos){if(!pos){pos=this.position;}
var mod=d==="absolute"?1:-1,scroll=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,scrollIsRootNode=(/(html|body)/i).test(scroll[0].tagName);return{top:(pos.top+
this.offset.relative.top*mod+
this.offset.parent.top*mod-
((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(scrollIsRootNode?0:scroll.scrollTop()))*mod)),left:(pos.left+
this.offset.relative.left*mod+
this.offset.parent.left*mod-
((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())*mod))};},_generatePosition:function(event){var top,left,o=this.options,pageX=event.pageX,pageY=event.pageY,scroll=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,scrollIsRootNode=(/(html|body)/i).test(scroll[0].tagName);if(this.cssPosition==="relative"&&!(this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0])){this.offset.relative=this._getRelativeOffset();}
if(this.originalPosition){if(this.containment){if(event.pageX-this.offset.click.left<this.containment[0]){pageX=this.containment[0]+this.offset.click.left;}
if(event.pageY-this.offset.click.top<this.containment[1]){pageY=this.containment[1]+this.offset.click.top;}
if(event.pageX-this.offset.click.left>this.containment[2]){pageX=this.containment[2]+this.offset.click.left;}
if(event.pageY-this.offset.click.top>this.containment[3]){pageY=this.containment[3]+this.offset.click.top;}}
if(o.grid){top=this.originalPageY+Math.round((pageY-this.originalPageY)/o.grid[1])*o.grid[1];pageY=this.containment?((top-this.offset.click.top>=this.containment[1]&&top-this.offset.click.top<=this.containment[3])?top:((top-this.offset.click.top>=this.containment[1])?top-o.grid[1]:top+o.grid[1])):top;left=this.originalPageX+Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0];pageX=this.containment?((left-this.offset.click.left>=this.containment[0]&&left-this.offset.click.left<=this.containment[2])?left:((left-this.offset.click.left>=this.containment[0])?left-o.grid[0]:left+o.grid[0])):left;}}
return{top:(pageY-
this.offset.click.top-
this.offset.relative.top-
this.offset.parent.top+
((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(scrollIsRootNode?0:scroll.scrollTop())))),left:(pageX-
this.offset.click.left-
this.offset.relative.left-
this.offset.parent.left+
((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())))};},_rearrange:function(event,i,a,hardRefresh){a?a[0].appendChild(this.placeholder[0]):i.item[0].parentNode.insertBefore(this.placeholder[0],(this.direction==="down"?i.item[0]:i.item[0].nextSibling));this.counter=this.counter?++this.counter:1;var counter=this.counter;this._delay(function(){if(counter===this.counter){this.refreshPositions(!hardRefresh);}});},_clear:function(event,noPropagation){this.reverting=false;var i,delayedTriggers=[];if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem);}
this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(i in this._storedCSS){if(this._storedCSS[i]==="auto"||this._storedCSS[i]==="static"){this._storedCSS[i]="";}}
this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper");}else{this.currentItem.show();}
if(this.fromOutside&&!noPropagation){delayedTriggers.push(function(event){this._trigger("receive",event,this._uiHash(this.fromOutside));});}
if((this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!noPropagation){delayedTriggers.push(function(event){this._trigger("update",event,this._uiHash());});}
if(this!==this.currentContainer){if(!noPropagation){delayedTriggers.push(function(event){this._trigger("remove",event,this._uiHash());});delayedTriggers.push((function(c){return function(event){c._trigger("receive",event,this._uiHash(this));};}).call(this,this.currentContainer));delayedTriggers.push((function(c){return function(event){c._trigger("update",event,this._uiHash(this));};}).call(this,this.currentContainer));}}
for(i=this.containers.length-1;i>=0;i--){if(!noPropagation){delayedTriggers.push((function(c){return function(event){c._trigger("deactivate",event,this._uiHash(this));};}).call(this,this.containers[i]));}
if(this.containers[i].containerCache.over){delayedTriggers.push((function(c){return function(event){c._trigger("out",event,this._uiHash(this));};}).call(this,this.containers[i]));this.containers[i].containerCache.over=0;}}
if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove();}
if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity);}
if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex);}
this.dragging=false;if(this.cancelHelperRemoval){if(!noPropagation){this._trigger("beforeStop",event,this._uiHash());for(i=0;i<delayedTriggers.length;i++){delayedTriggers[i].call(this,event);}
this._trigger("stop",event,this._uiHash());}
this.fromOutside=false;return false;}
if(!noPropagation){this._trigger("beforeStop",event,this._uiHash());}
this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(this.helper[0]!==this.currentItem[0]){this.helper.remove();}
this.helper=null;if(!noPropagation){for(i=0;i<delayedTriggers.length;i++){delayedTriggers[i].call(this,event);}
this._trigger("stop",event,this._uiHash());}
this.fromOutside=false;return true;},_trigger:function(){if($.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel();}},_uiHash:function(_inst){var inst=_inst||this;return{helper:inst.helper,placeholder:inst.placeholder||$([]),position:inst.position,originalPosition:inst.originalPosition,offset:inst.positionAbs,item:inst.currentItem,sender:_inst?_inst.element:null};}});})(jQuery);(function($,undefined){var uid=0,hideProps={},showProps={};hideProps.height=hideProps.paddingTop=hideProps.paddingBottom=hideProps.borderTopWidth=hideProps.borderBottomWidth="hide";showProps.height=showProps.paddingTop=showProps.paddingBottom=showProps.borderTopWidth=showProps.borderBottomWidth="show";$.widget("ui.accordion",{version:"1.10.3",options:{active:0,animate:{},collapsible:false,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var options=this.options;this.prevShow=this.prevHide=$();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");if(!options.collapsible&&(options.active===false||options.active==null)){options.active=0;}
this._processPanels();if(options.active<0){options.active+=this.headers.length;}
this._refresh();},_getCreateEventData:function(){return{header:this.active,panel:!this.active.length?$():this.active.next(),content:!this.active.length?$():this.active.next()};},_createIcons:function(){var icons=this.options.icons;if(icons){$("<span>").addClass("ui-accordion-header-icon ui-icon "+icons.header).prependTo(this.headers);this.active.children(".ui-accordion-header-icon").removeClass(icons.header).addClass(icons.activeHeader);this.headers.addClass("ui-accordion-icons");}},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove();},_destroy:function(){var contents;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){if(/^ui-accordion/.test(this.id)){this.removeAttribute("id");}});this._destroyIcons();contents=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){if(/^ui-accordion/.test(this.id)){this.removeAttribute("id");}});if(this.options.heightStyle!=="content"){contents.css("height","");}},_setOption:function(key,value){if(key==="active"){this._activate(value);return;}
if(key==="event"){if(this.options.event){this._off(this.headers,this.options.event);}
this._setupEvents(value);}
this._super(key,value);if(key==="collapsible"&&!value&&this.options.active===false){this._activate(0);}
if(key==="icons"){this._destroyIcons();if(value){this._createIcons();}}
if(key==="disabled"){this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!value);}},_keydown:function(event){if(event.altKey||event.ctrlKey){return;}
var keyCode=$.ui.keyCode,length=this.headers.length,currentIndex=this.headers.index(event.target),toFocus=false;switch(event.keyCode){case keyCode.RIGHT:case keyCode.DOWN:toFocus=this.headers[(currentIndex+1)%length];break;case keyCode.LEFT:case keyCode.UP:toFocus=this.headers[(currentIndex-1+length)%length];break;case keyCode.SPACE:case keyCode.ENTER:this._eventHandler(event);break;case keyCode.HOME:toFocus=this.headers[0];break;case keyCode.END:toFocus=this.headers[length-1];break;}
if(toFocus){$(event.target).attr("tabIndex",-1);$(toFocus).attr("tabIndex",0);toFocus.focus();event.preventDefault();}},_panelKeyDown:function(event){if(event.keyCode===$.ui.keyCode.UP&&event.ctrlKey){$(event.currentTarget).prev().focus();}},refresh:function(){var options=this.options;this._processPanels();if((options.active===false&&options.collapsible===true)||!this.headers.length){options.active=false;this.active=$();}else if(options.active===false){this._activate(0);}else if(this.active.length&&!$.contains(this.element[0],this.active[0])){if(this.headers.length===this.headers.find(".ui-state-disabled").length){options.active=false;this.active=$();}else{this._activate(Math.max(0,options.active-1));}}else{options.active=this.headers.index(this.active);}
this._destroyIcons();this._refresh();},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all");this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide();},_refresh:function(){var maxHeight,options=this.options,heightStyle=options.heightStyle,parent=this.element.parent(),accordionId=this.accordionId="ui-accordion-"+
(this.element.attr("id")||++uid);this.active=this._findActive(options.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(i){var header=$(this),headerId=header.attr("id"),panel=header.next(),panelId=panel.attr("id");if(!headerId){headerId=accordionId+"-header-"+i;header.attr("id",headerId);}
if(!panelId){panelId=accordionId+"-panel-"+i;panel.attr("id",panelId);}
header.attr("aria-controls",panelId);panel.attr("aria-labelledby",headerId);}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide();if(!this.active.length){this.headers.eq(0).attr("tabIndex",0);}else{this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"});}
this._createIcons();this._setupEvents(options.event);if(heightStyle==="fill"){maxHeight=parent.height();this.element.siblings(":visible").each(function(){var elem=$(this),position=elem.css("position");if(position==="absolute"||position==="fixed"){return;}
maxHeight-=elem.outerHeight(true);});this.headers.each(function(){maxHeight-=$(this).outerHeight(true);});this.headers.next().each(function(){$(this).height(Math.max(0,maxHeight-
$(this).innerHeight()+$(this).height()));}).css("overflow","auto");}else if(heightStyle==="auto"){maxHeight=0;this.headers.next().each(function(){maxHeight=Math.max(maxHeight,$(this).css("height","").height());}).height(maxHeight);}},_activate:function(index){var active=this._findActive(index)[0];if(active===this.active[0]){return;}
active=active||this.active[0];this._eventHandler({target:active,currentTarget:active,preventDefault:$.noop});},_findActive:function(selector){return typeof selector==="number"?this.headers.eq(selector):$();},_setupEvents:function(event){var events={keydown:"_keydown"};if(event){$.each(event.split(" "),function(index,eventName){events[eventName]="_eventHandler";});}
this._off(this.headers.add(this.headers.next()));this._on(this.headers,events);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers);},_eventHandler:function(event){var options=this.options,active=this.active,clicked=$(event.currentTarget),clickedIsActive=clicked[0]===active[0],collapsing=clickedIsActive&&options.collapsible,toShow=collapsing?$():clicked.next(),toHide=active.next(),eventData={oldHeader:active,oldPanel:toHide,newHeader:collapsing?$():clicked,newPanel:toShow};event.preventDefault();if((clickedIsActive&&!options.collapsible)||(this._trigger("beforeActivate",event,eventData)===false)){return;}
options.active=collapsing?false:this.headers.index(clicked);this.active=clickedIsActive?$():clicked;this._toggle(eventData);active.removeClass("ui-accordion-header-active ui-state-active");if(options.icons){active.children(".ui-accordion-header-icon").removeClass(options.icons.activeHeader).addClass(options.icons.header);}
if(!clickedIsActive){clicked.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top");if(options.icons){clicked.children(".ui-accordion-header-icon").removeClass(options.icons.header).addClass(options.icons.activeHeader);}
clicked.next().addClass("ui-accordion-content-active");}},_toggle:function(data){var toShow=data.newPanel,toHide=this.prevShow.length?this.prevShow:data.oldPanel;this.prevShow.add(this.prevHide).stop(true,true);this.prevShow=toShow;this.prevHide=toHide;if(this.options.animate){this._animate(toShow,toHide,data);}else{toHide.hide();toShow.show();this._toggleComplete(data);}
toHide.attr({"aria-expanded":"false","aria-hidden":"true"});toHide.prev().attr("aria-selected","false");if(toShow.length&&toHide.length){toHide.prev().attr("tabIndex",-1);}else if(toShow.length){this.headers.filter(function(){return $(this).attr("tabIndex")===0;}).attr("tabIndex",-1);}
toShow.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0});},_animate:function(toShow,toHide,data){var total,easing,duration,that=this,adjust=0,down=toShow.length&&(!toHide.length||(toShow.index()<toHide.index())),animate=this.options.animate||{},options=down&&animate.down||animate,complete=function(){that._toggleComplete(data);};if(typeof options==="number"){duration=options;}
if(typeof options==="string"){easing=options;}
easing=easing||options.easing||animate.easing;duration=duration||options.duration||animate.duration;if(!toHide.length){return toShow.animate(showProps,duration,easing,complete);}
if(!toShow.length){return toHide.animate(hideProps,duration,easing,complete);}
total=toShow.show().outerHeight();toHide.animate(hideProps,{duration:duration,easing:easing,step:function(now,fx){fx.now=Math.round(now);}});toShow.hide().animate(showProps,{duration:duration,easing:easing,complete:complete,step:function(now,fx){fx.now=Math.round(now);if(fx.prop!=="height"){adjust+=fx.now;}else if(that.options.heightStyle!=="content"){fx.now=Math.round(total-toHide.outerHeight()-adjust);adjust=0;}}});},_toggleComplete:function(data){var toHide=data.oldPanel;toHide.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");if(toHide.length){toHide.parent()[0].className=toHide.parent()[0].className;}
this._trigger("activate",null,data);}});})(jQuery);(function($,undefined){var requestIndex=0;$.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var suppressKeyPress,suppressKeyPressRepeat,suppressInput,nodeName=this.element[0].nodeName.toLowerCase(),isTextarea=nodeName==="textarea",isInput=nodeName==="input";this.isMultiLine=isTextarea?true:isInput?false:this.element.prop("isContentEditable");this.valueMethod=this.element[isTextarea||isInput?"val":"text"];this.isNewMenu=true;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(event){if(this.element.prop("readOnly")){suppressKeyPress=true;suppressInput=true;suppressKeyPressRepeat=true;return;}
suppressKeyPress=false;suppressInput=false;suppressKeyPressRepeat=false;var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:suppressKeyPress=true;this._move("previousPage",event);break;case keyCode.PAGE_DOWN:suppressKeyPress=true;this._move("nextPage",event);break;case keyCode.UP:suppressKeyPress=true;this._keyEvent("previous",event);break;case keyCode.DOWN:suppressKeyPress=true;this._keyEvent("next",event);break;case keyCode.ENTER:case keyCode.NUMPAD_ENTER:if(this.menu.active){suppressKeyPress=true;event.preventDefault();this.menu.select(event);}
break;case keyCode.TAB:if(this.menu.active){this.menu.select(event);}
break;case keyCode.ESCAPE:if(this.menu.element.is(":visible")){this._value(this.term);this.close(event);event.preventDefault();}
break;default:suppressKeyPressRepeat=true;this._searchTimeout(event);break;}},keypress:function(event){if(suppressKeyPress){suppressKeyPress=false;if(!this.isMultiLine||this.menu.element.is(":visible")){event.preventDefault();}
return;}
if(suppressKeyPressRepeat){return;}
var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:this._move("previousPage",event);break;case keyCode.PAGE_DOWN:this._move("nextPage",event);break;case keyCode.UP:this._keyEvent("previous",event);break;case keyCode.DOWN:this._keyEvent("next",event);break;}},input:function(event){if(suppressInput){suppressInput=false;event.preventDefault();return;}
this._searchTimeout(event);},focus:function(){this.selectedItem=null;this.previous=this._value();},blur:function(event){if(this.cancelBlur){delete this.cancelBlur;return;}
clearTimeout(this.searching);this.close(event);this._change(event);}});this._initSource();this.menu=$("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu");this._on(this.menu.element,{mousedown:function(event){event.preventDefault();this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;});var menuElement=this.menu.element[0];if(!$(event.target).closest(".ui-menu-item").length){this._delay(function(){var that=this;this.document.one("mousedown",function(event){if(event.target!==that.element[0]&&event.target!==menuElement&&!$.contains(menuElement,event.target)){that.close();}});});}},menufocus:function(event,ui){if(this.isNewMenu){this.isNewMenu=false;if(event.originalEvent&&/^mouse/.test(event.originalEvent.type)){this.menu.blur();this.document.one("mousemove",function(){$(event.target).trigger(event.originalEvent);});return;}}
var item=ui.item.data("ui-autocomplete-item");if(false!==this._trigger("focus",event,{item:item})){if(event.originalEvent&&/^key/.test(event.originalEvent.type)){this._value(item.value);}}else{this.liveRegion.text(item.value);}},menuselect:function(event,ui){var item=ui.item.data("ui-autocomplete-item"),previous=this.previous;if(this.element[0]!==this.document[0].activeElement){this.element.focus();this.previous=previous;this._delay(function(){this.previous=previous;this.selectedItem=item;});}
if(false!==this._trigger("select",event,{item:item})){this._value(item.value);}
this.term=this._value();this.close(event);this.selectedItem=item;}});this.liveRegion=$("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete");}});},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove();},_setOption:function(key,value){this._super(key,value);if(key==="source"){this._initSource();}
if(key==="appendTo"){this.menu.element.appendTo(this._appendTo());}
if(key==="disabled"&&value&&this.xhr){this.xhr.abort();}},_appendTo:function(){var element=this.options.appendTo;if(element){element=element.jquery||element.nodeType?$(element):this.document.find(element).eq(0);}
if(!element){element=this.element.closest(".ui-front");}
if(!element.length){element=this.document[0].body;}
return element;},_initSource:function(){var array,url,that=this;if($.isArray(this.options.source)){array=this.options.source;this.source=function(request,response){response($.ui.autocomplete.filter(array,request.term));};}else if(typeof this.options.source==="string"){url=this.options.source;this.source=function(request,response){if(that.xhr){that.xhr.abort();}
that.xhr=$.ajax({url:url,data:request,dataType:"json",success:function(data){response(data);},error:function(){response([]);}});};}else{this.source=this.options.source;}},_searchTimeout:function(event){clearTimeout(this.searching);this.searching=this._delay(function(){if(this.term!==this._value()){this.selectedItem=null;this.search(null,event);}},this.options.delay);},search:function(value,event){value=value!=null?value:this._value();this.term=this._value();if(value.length<this.options.minLength){return this.close(event);}
if(this._trigger("search",event)===false){return;}
return this._search(value);},_search:function(value){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=false;this.source({term:value},this._response());},_response:function(){var that=this,index=++requestIndex;return function(content){if(index===requestIndex){that.__response(content);}
that.pending--;if(!that.pending){that.element.removeClass("ui-autocomplete-loading");}};},__response:function(content){if(content){content=this._normalize(content);}
this._trigger("response",null,{content:content});if(!this.options.disabled&&content&&content.length&&!this.cancelSearch){this._suggest(content);this._trigger("open");}else{this._close();}},close:function(event){this.cancelSearch=true;this._close(event);},_close:function(event){if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.blur();this.isNewMenu=true;this._trigger("close",event);}},_change:function(event){if(this.previous!==this._value()){this._trigger("change",event,{item:this.selectedItem});}},_normalize:function(items){if(items.length&&items[0].label&&items[0].value){return items;}
return $.map(items,function(item){if(typeof item==="string"){return{label:item,value:item};}
return $.extend({label:item.label||item.value,value:item.value||item.label},item);});},_suggest:function(items){var ul=this.menu.element.empty();this._renderMenu(ul,items);this.isNewMenu=true;this.menu.refresh();ul.show();this._resizeMenu();ul.position($.extend({of:this.element},this.options.position));if(this.options.autoFocus){this.menu.next();}},_resizeMenu:function(){var ul=this.menu.element;ul.outerWidth(Math.max(ul.width("").outerWidth()+1,this.element.outerWidth()));},_renderMenu:function(ul,items){var that=this;$.each(items,function(index,item){that._renderItemData(ul,item);});},_renderItemData:function(ul,item){return this._renderItem(ul,item).data("ui-autocomplete-item",item);},_renderItem:function(ul,item){return $("<li>").append($("<a>").text(item.label)).appendTo(ul);},_move:function(direction,event){if(!this.menu.element.is(":visible")){this.search(null,event);return;}
if(this.menu.isFirstItem()&&/^previous/.test(direction)||this.menu.isLastItem()&&/^next/.test(direction)){this._value(this.term);this.menu.blur();return;}
this.menu[direction](event);},widget:function(){return this.menu.element;},_value:function(){return this.valueMethod.apply(this.element,arguments);},_keyEvent:function(keyEvent,event){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(keyEvent,event);event.preventDefault();}}});$.extend($.ui.autocomplete,{escapeRegex:function(value){return value.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");},filter:function(array,term){var matcher=new RegExp($.ui.autocomplete.escapeRegex(term),"i");return $.grep(array,function(value){return matcher.test(value.label||value.value||value);});}});$.widget("ui.autocomplete",$.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(amount){return amount+(amount>1?" results are":" result is")+" available, use up and down arrow keys to navigate.";}}},__response:function(content){var message;this._superApply(arguments);if(this.options.disabled||this.cancelSearch){return;}
if(content&&content.length){message=this.options.messages.results(content.length);}else{message=this.options.messages.noResults;}
this.liveRegion.text(message);}});}(jQuery));(function($,undefined){var lastActive,startXPos,startYPos,clickDragged,baseClasses="ui-button ui-widget ui-state-default ui-corner-all",stateClasses="ui-state-hover ui-state-active ",typeClasses="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",formResetHandler=function(){var form=$(this);setTimeout(function(){form.find(":ui-button").button("refresh");},1);},radioGroup=function(radio){var name=radio.name,form=radio.form,radios=$([]);if(name){name=name.replace(/'/g,"\\'");if(form){radios=$(form).find("[name='"+name+"']");}else{radios=$("[name='"+name+"']",radio.ownerDocument).filter(function(){return!this.form;});}}
return radios;};$.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:true,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,formResetHandler);if(typeof this.options.disabled!=="boolean"){this.options.disabled=!!this.element.prop("disabled");}else{this.element.prop("disabled",this.options.disabled);}
this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var that=this,options=this.options,toggleButton=this.type==="checkbox"||this.type==="radio",activeClass=!toggleButton?"ui-state-active":"",focusClass="ui-state-focus";if(options.label===null){options.label=(this.type==="input"?this.buttonElement.val():this.buttonElement.html());}
this._hoverable(this.buttonElement);this.buttonElement.addClass(baseClasses).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){if(options.disabled){return;}
if(this===lastActive){$(this).addClass("ui-state-active");}}).bind("mouseleave"+this.eventNamespace,function(){if(options.disabled){return;}
$(this).removeClass(activeClass);}).bind("click"+this.eventNamespace,function(event){if(options.disabled){event.preventDefault();event.stopImmediatePropagation();}});this.element.bind("focus"+this.eventNamespace,function(){that.buttonElement.addClass(focusClass);}).bind("blur"+this.eventNamespace,function(){that.buttonElement.removeClass(focusClass);});if(toggleButton){this.element.bind("change"+this.eventNamespace,function(){if(clickDragged){return;}
that.refresh();});this.buttonElement.bind("mousedown"+this.eventNamespace,function(event){if(options.disabled){return;}
clickDragged=false;startXPos=event.pageX;startYPos=event.pageY;}).bind("mouseup"+this.eventNamespace,function(event){if(options.disabled){return;}
if(startXPos!==event.pageX||startYPos!==event.pageY){clickDragged=true;}});}
if(this.type==="checkbox"){this.buttonElement.bind("click"+this.eventNamespace,function(){if(options.disabled||clickDragged){return false;}});}else if(this.type==="radio"){this.buttonElement.bind("click"+this.eventNamespace,function(){if(options.disabled||clickDragged){return false;}
$(this).addClass("ui-state-active");that.buttonElement.attr("aria-pressed","true");var radio=that.element[0];radioGroup(radio).not(radio).map(function(){return $(this).button("widget")[0];}).removeClass("ui-state-active").attr("aria-pressed","false");});}else{this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(options.disabled){return false;}
$(this).addClass("ui-state-active");lastActive=this;that.document.one("mouseup",function(){lastActive=null;});}).bind("mouseup"+this.eventNamespace,function(){if(options.disabled){return false;}
$(this).removeClass("ui-state-active");}).bind("keydown"+this.eventNamespace,function(event){if(options.disabled){return false;}
if(event.keyCode===$.ui.keyCode.SPACE||event.keyCode===$.ui.keyCode.ENTER){$(this).addClass("ui-state-active");}}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){$(this).removeClass("ui-state-active");});if(this.buttonElement.is("a")){this.buttonElement.keyup(function(event){if(event.keyCode===$.ui.keyCode.SPACE){$(this).click();}});}}
this._setOption("disabled",options.disabled);this._resetButton();},_determineButtonType:function(){var ancestor,labelSelector,checked;if(this.element.is("[type=checkbox]")){this.type="checkbox";}else if(this.element.is("[type=radio]")){this.type="radio";}else if(this.element.is("input")){this.type="input";}else{this.type="button";}
if(this.type==="checkbox"||this.type==="radio"){ancestor=this.element.parents().last();labelSelector="label[for='"+this.element.attr("id")+"']";this.buttonElement=ancestor.find(labelSelector);if(!this.buttonElement.length){ancestor=ancestor.length?ancestor.siblings():this.element.siblings();this.buttonElement=ancestor.filter(labelSelector);if(!this.buttonElement.length){this.buttonElement=ancestor.find(labelSelector);}}
this.element.addClass("ui-helper-hidden-accessible");checked=this.element.is(":checked");if(checked){this.buttonElement.addClass("ui-state-active");}
this.buttonElement.prop("aria-pressed",checked);}else{this.buttonElement=this.element;}},widget:function(){return this.buttonElement;},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass(baseClasses+" "+stateClasses+" "+typeClasses).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());if(!this.hasTitle){this.buttonElement.removeAttr("title");}},_setOption:function(key,value){this._super(key,value);if(key==="disabled"){if(value){this.element.prop("disabled",true);}else{this.element.prop("disabled",false);}
return;}
this._resetButton();},refresh:function(){var isDisabled=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");if(isDisabled!==this.options.disabled){this._setOption("disabled",isDisabled);}
if(this.type==="radio"){radioGroup(this.element[0]).each(function(){if($(this).is(":checked")){$(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true");}else{$(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false");}});}else if(this.type==="checkbox"){if(this.element.is(":checked")){this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true");}else{this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false");}}},_resetButton:function(){if(this.type==="input"){if(this.options.label){this.element.val(this.options.label);}
return;}
var buttonElement=this.buttonElement.removeClass(typeClasses),buttonText=$("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(buttonElement.empty()).text(),icons=this.options.icons,multipleIcons=icons.primary&&icons.secondary,buttonClasses=[];if(icons.primary||icons.secondary){if(this.options.text){buttonClasses.push("ui-button-text-icon"+(multipleIcons?"s":(icons.primary?"-primary":"-secondary")));}
if(icons.primary){buttonElement.prepend("<span class='ui-button-icon-primary ui-icon "+icons.primary+"'></span>");}
if(icons.secondary){buttonElement.append("<span class='ui-button-icon-secondary ui-icon "+icons.secondary+"'></span>");}
if(!this.options.text){buttonClasses.push(multipleIcons?"ui-button-icons-only":"ui-button-icon-only");if(!this.hasTitle){buttonElement.attr("title",$.trim(buttonText));}}}else{buttonClasses.push("ui-button-text-only");}
buttonElement.addClass(buttonClasses.join(" "));}});$.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset");},_init:function(){this.refresh();},_setOption:function(key,value){if(key==="disabled"){this.buttons.button("option",key,value);}
this._super(key,value);},refresh:function(){var rtl=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return $(this).button("widget")[0];}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(rtl?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(rtl?"ui-corner-left":"ui-corner-right").end().end();},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return $(this).button("widget")[0];}).removeClass("ui-corner-left ui-corner-right").end().button("destroy");}});}(jQuery));(function($,undefined){$.extend($.ui,{datepicker:{version:"1.10.3"}});var PROP_NAME="datepicker",instActive;function Datepicker(){this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false,disabled:false};$.extend(this._defaults,this.regional[""]);this.dpDiv=bindHover($("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"));}
$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv;},setDefaults:function(settings){extendRemove(this._defaults,settings||{});return this;},_attachDatepicker:function(target,settings){var nodeName,inline,inst;nodeName=target.nodeName.toLowerCase();inline=(nodeName==="div"||nodeName==="span");if(!target.id){this.uuid+=1;target.id="dp"+this.uuid;}
inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{});if(nodeName==="input"){this._connectDatepicker(target,inst);}else if(inline){this._inlineDatepicker(target,inst);}},_newInst:function(target,inline){var id=target[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:id,input:target,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:inline,dpDiv:(!inline?this.dpDiv:bindHover($("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")))};},_connectDatepicker:function(target,inst){var input=$(target);inst.append=$([]);inst.trigger=$([]);if(input.hasClass(this.markerClassName)){return;}
this._attachments(input,inst);input.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp);this._autoSize(inst);$.data(target,PROP_NAME,inst);if(inst.settings.disabled){this._disableDatepicker(target);}},_attachments:function(input,inst){var showOn,buttonText,buttonImage,appendText=this._get(inst,"appendText"),isRTL=this._get(inst,"isRTL");if(inst.append){inst.append.remove();}
if(appendText){inst.append=$("<span class='"+this._appendClass+"'>"+appendText+"</span>");input[isRTL?"before":"after"](inst.append);}
input.unbind("focus",this._showDatepicker);if(inst.trigger){inst.trigger.remove();}
showOn=this._get(inst,"showOn");if(showOn==="focus"||showOn==="both"){input.focus(this._showDatepicker);}
if(showOn==="button"||showOn==="both"){buttonText=this._get(inst,"buttonText");buttonImage=this._get(inst,"buttonImage");inst.trigger=$(this._get(inst,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:buttonImage,alt:buttonText,title:buttonText}):$("<button type='button'></button>").addClass(this._triggerClass).html(!buttonImage?buttonText:$("<img/>").attr({src:buttonImage,alt:buttonText,title:buttonText})));input[isRTL?"before":"after"](inst.trigger);inst.trigger.click(function(){if($.datepicker._datepickerShowing&&$.datepicker._lastInput===input[0]){$.datepicker._hideDatepicker();}else if($.datepicker._datepickerShowing&&$.datepicker._lastInput!==input[0]){$.datepicker._hideDatepicker();$.datepicker._showDatepicker(input[0]);}else{$.datepicker._showDatepicker(input[0]);}
return false;});}},_autoSize:function(inst){if(this._get(inst,"autoSize")&&!inst.inline){var findMax,max,maxI,i,date=new Date(2009,12-1,20),dateFormat=this._get(inst,"dateFormat");if(dateFormat.match(/[DM]/)){findMax=function(names){max=0;maxI=0;for(i=0;i<names.length;i++){if(names[i].length>max){max=names[i].length;maxI=i;}}
return maxI;};date.setMonth(findMax(this._get(inst,(dateFormat.match(/MM/)?"monthNames":"monthNamesShort"))));date.setDate(findMax(this._get(inst,(dateFormat.match(/DD/)?"dayNames":"dayNamesShort")))+20-date.getDay());}
inst.input.attr("size",this._formatDate(inst,date).length);}},_inlineDatepicker:function(target,inst){var divSpan=$(target);if(divSpan.hasClass(this.markerClassName)){return;}
divSpan.addClass(this.markerClassName).append(inst.dpDiv);$.data(target,PROP_NAME,inst);this._setDate(inst,this._getDefaultDate(inst),true);this._updateDatepicker(inst);this._updateAlternate(inst);if(inst.settings.disabled){this._disableDatepicker(target);}
inst.dpDiv.css("display","block");},_dialogDatepicker:function(input,date,onSelect,settings,pos){var id,browserWidth,browserHeight,scrollX,scrollY,inst=this._dialogInst;if(!inst){this.uuid+=1;id="dp"+this.uuid;this._dialogInput=$("<input type='text' id='"+id+"' style='position: absolute; top: -100px; width: 0px;'/>");this._dialogInput.keydown(this._doKeyDown);$("body").append(this._dialogInput);inst=this._dialogInst=this._newInst(this._dialogInput,false);inst.settings={};$.data(this._dialogInput[0],PROP_NAME,inst);}
extendRemove(inst.settings,settings||{});date=(date&&date.constructor===Date?this._formatDate(inst,date):date);this._dialogInput.val(date);this._pos=(pos?(pos.length?pos:[pos.pageX,pos.pageY]):null);if(!this._pos){browserWidth=document.documentElement.clientWidth;browserHeight=document.documentElement.clientHeight;scrollX=document.documentElement.scrollLeft||document.body.scrollLeft;scrollY=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[(browserWidth/2)-100+scrollX,(browserHeight/2)-150+scrollY];}
this._dialogInput.css("left",(this._pos[0]+20)+"px").css("top",this._pos[1]+"px");inst.settings.onSelect=onSelect;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);if($.blockUI){$.blockUI(this.dpDiv);}
$.data(this._dialogInput[0],PROP_NAME,inst);return this;},_destroyDatepicker:function(target){var nodeName,$target=$(target),inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return;}
nodeName=target.nodeName.toLowerCase();$.removeData(target,PROP_NAME);if(nodeName==="input"){inst.append.remove();inst.trigger.remove();$target.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp);}else if(nodeName==="div"||nodeName==="span"){$target.removeClass(this.markerClassName).empty();}},_enableDatepicker:function(target){var nodeName,inline,$target=$(target),inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return;}
nodeName=target.nodeName.toLowerCase();if(nodeName==="input"){target.disabled=false;inst.trigger.filter("button").each(function(){this.disabled=false;}).end().filter("img").css({opacity:"1.0",cursor:""});}else if(nodeName==="div"||nodeName==="span"){inline=$target.children("."+this._inlineClass);inline.children().removeClass("ui-state-disabled");inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",false);}
this._disabledInputs=$.map(this._disabledInputs,function(value){return(value===target?null:value);});},_disableDatepicker:function(target){var nodeName,inline,$target=$(target),inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return;}
nodeName=target.nodeName.toLowerCase();if(nodeName==="input"){target.disabled=true;inst.trigger.filter("button").each(function(){this.disabled=true;}).end().filter("img").css({opacity:"0.5",cursor:"default"});}else if(nodeName==="div"||nodeName==="span"){inline=$target.children("."+this._inlineClass);inline.children().addClass("ui-state-disabled");inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",true);}
this._disabledInputs=$.map(this._disabledInputs,function(value){return(value===target?null:value);});this._disabledInputs[this._disabledInputs.length]=target;},_isDisabledDatepicker:function(target){if(!target){return false;}
for(var i=0;i<this._disabledInputs.length;i++){if(this._disabledInputs[i]===target){return true;}}
return false;},_getInst:function(target){try{return $.data(target,PROP_NAME);}
catch(err){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(target,name,value){var settings,date,minDate,maxDate,inst=this._getInst(target);if(arguments.length===2&&typeof name==="string"){return(name==="defaults"?$.extend({},$.datepicker._defaults):(inst?(name==="all"?$.extend({},inst.settings):this._get(inst,name)):null));}
settings=name||{};if(typeof name==="string"){settings={};settings[name]=value;}
if(inst){if(this._curInst===inst){this._hideDatepicker();}
date=this._getDateDatepicker(target,true);minDate=this._getMinMaxDate(inst,"min");maxDate=this._getMinMaxDate(inst,"max");extendRemove(inst.settings,settings);if(minDate!==null&&settings.dateFormat!==undefined&&settings.minDate===undefined){inst.settings.minDate=this._formatDate(inst,minDate);}
if(maxDate!==null&&settings.dateFormat!==undefined&&settings.maxDate===undefined){inst.settings.maxDate=this._formatDate(inst,maxDate);}
if("disabled"in settings){if(settings.disabled){this._disableDatepicker(target);}else{this._enableDatepicker(target);}}
this._attachments($(target),inst);this._autoSize(inst);this._setDate(inst,date);this._updateAlternate(inst);this._updateDatepicker(inst);}},_changeDatepicker:function(target,name,value){this._optionDatepicker(target,name,value);},_refreshDatepicker:function(target){var inst=this._getInst(target);if(inst){this._updateDatepicker(inst);}},_setDateDatepicker:function(target,date){var inst=this._getInst(target);if(inst){this._setDate(inst,date);this._updateDatepicker(inst);this._updateAlternate(inst);}},_getDateDatepicker:function(target,noDefault){var inst=this._getInst(target);if(inst&&!inst.inline){this._setDateFromField(inst,noDefault);}
return(inst?this._getDate(inst):null);},_doKeyDown:function(event){var onSelect,dateStr,sel,inst=$.datepicker._getInst(event.target),handled=true,isRTL=inst.dpDiv.is(".ui-datepicker-rtl");inst._keyEvent=true;if($.datepicker._datepickerShowing){switch(event.keyCode){case 9:$.datepicker._hideDatepicker();handled=false;break;case 13:sel=$("td."+$.datepicker._dayOverClass+":not(."+
$.datepicker._currentClass+")",inst.dpDiv);if(sel[0]){$.datepicker._selectDay(event.target,inst.selectedMonth,inst.selectedYear,sel[0]);}
onSelect=$.datepicker._get(inst,"onSelect");if(onSelect){dateStr=$.datepicker._formatDate(inst);onSelect.apply((inst.input?inst.input[0]:null),[dateStr,inst]);}else{$.datepicker._hideDatepicker();}
return false;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(event.target,(event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths")),"M");break;case 34:$.datepicker._adjustDate(event.target,(event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths")),"M");break;case 35:if(event.ctrlKey||event.metaKey){$.datepicker._clearDate(event.target);}
handled=event.ctrlKey||event.metaKey;break;case 36:if(event.ctrlKey||event.metaKey){$.datepicker._gotoToday(event.target);}
handled=event.ctrlKey||event.metaKey;break;case 37:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,(isRTL?+1:-1),"D");}
handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey){$.datepicker._adjustDate(event.target,(event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths")),"M");}
break;case 38:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,-7,"D");}
handled=event.ctrlKey||event.metaKey;break;case 39:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,(isRTL?-1:+1),"D");}
handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey){$.datepicker._adjustDate(event.target,(event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths")),"M");}
break;case 40:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,+7,"D");}
handled=event.ctrlKey||event.metaKey;break;default:handled=false;}}else if(event.keyCode===36&&event.ctrlKey){$.datepicker._showDatepicker(this);}else{handled=false;}
if(handled){event.preventDefault();event.stopPropagation();}},_doKeyPress:function(event){var chars,chr,inst=$.datepicker._getInst(event.target);if($.datepicker._get(inst,"constrainInput")){chars=$.datepicker._possibleChars($.datepicker._get(inst,"dateFormat"));chr=String.fromCharCode(event.charCode==null?event.keyCode:event.charCode);return event.ctrlKey||event.metaKey||(chr<" "||!chars||chars.indexOf(chr)>-1);}},_doKeyUp:function(event){var date,inst=$.datepicker._getInst(event.target);if(inst.input.val()!==inst.lastVal){try{date=$.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),(inst.input?inst.input.val():null),$.datepicker._getFormatConfig(inst));if(date){$.datepicker._setDateFromField(inst);$.datepicker._updateAlternate(inst);$.datepicker._updateDatepicker(inst);}}
catch(err){}}
return true;},_showDatepicker:function(input){input=input.target||input;if(input.nodeName.toLowerCase()!=="input"){input=$("input",input.parentNode)[0];}
if($.datepicker._isDisabledDatepicker(input)||$.datepicker._lastInput===input){return;}
var inst,beforeShow,beforeShowSettings,isFixed,offset,showAnim,duration;inst=$.datepicker._getInst(input);if($.datepicker._curInst&&$.datepicker._curInst!==inst){$.datepicker._curInst.dpDiv.stop(true,true);if(inst&&$.datepicker._datepickerShowing){$.datepicker._hideDatepicker($.datepicker._curInst.input[0]);}}
beforeShow=$.datepicker._get(inst,"beforeShow");beforeShowSettings=beforeShow?beforeShow.apply(input,[input,inst]):{};if(beforeShowSettings===false){return;}
extendRemove(inst.settings,beforeShowSettings);inst.lastVal=null;$.datepicker._lastInput=input;$.datepicker._setDateFromField(inst);if($.datepicker._inDialog){input.value="";}
if(!$.datepicker._pos){$.datepicker._pos=$.datepicker._findPos(input);$.datepicker._pos[1]+=input.offsetHeight;}
isFixed=false;$(input).parents().each(function(){isFixed|=$(this).css("position")==="fixed";return!isFixed;});offset={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null;inst.dpDiv.empty();inst.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});$.datepicker._updateDatepicker(inst);offset=$.datepicker._checkOffset(inst,offset,isFixed);inst.dpDiv.css({position:($.datepicker._inDialog&&$.blockUI?"static":(isFixed?"fixed":"absolute")),display:"none",left:offset.left+"px",top:offset.top+"px"});if(!inst.inline){showAnim=$.datepicker._get(inst,"showAnim");duration=$.datepicker._get(inst,"duration");inst.dpDiv.zIndex($(input).zIndex()+1);$.datepicker._datepickerShowing=true;if($.effects&&$.effects.effect[showAnim]){inst.dpDiv.show(showAnim,$.datepicker._get(inst,"showOptions"),duration);}else{inst.dpDiv[showAnim||"show"](showAnim?duration:null);}
if($.datepicker._shouldFocusInput(inst)){inst.input.focus();}
$.datepicker._curInst=inst;}},_updateDatepicker:function(inst){this.maxRows=4;instActive=inst;inst.dpDiv.empty().append(this._generateHTML(inst));this._attachHandlers(inst);inst.dpDiv.find("."+this._dayOverClass+" a").mouseover();var origyearshtml,numMonths=this._getNumberOfMonths(inst),cols=numMonths[1],width=17;inst.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");if(cols>1){inst.dpDiv.addClass("ui-datepicker-multi-"+cols).css("width",(width*cols)+"em");}
inst.dpDiv[(numMonths[0]!==1||numMonths[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi");inst.dpDiv[(this._get(inst,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");if(inst===$.datepicker._curInst&&$.datepicker._datepickerShowing&&$.datepicker._shouldFocusInput(inst)){inst.input.focus();}
if(inst.yearshtml){origyearshtml=inst.yearshtml;setTimeout(function(){if(origyearshtml===inst.yearshtml&&inst.yearshtml){inst.dpDiv.find("select.ui-datepicker-year:first").replaceWith(inst.yearshtml);}
origyearshtml=inst.yearshtml=null;},0);}},_shouldFocusInput:function(inst){return inst.input&&inst.input.is(":visible")&&!inst.input.is(":disabled")&&!inst.input.is(":focus");},_checkOffset:function(inst,offset,isFixed){var dpWidth=inst.dpDiv.outerWidth(),dpHeight=inst.dpDiv.outerHeight(),inputWidth=inst.input?inst.input.outerWidth():0,inputHeight=inst.input?inst.input.outerHeight():0,viewWidth=document.documentElement.clientWidth+(isFixed?0:$(document).scrollLeft()),viewHeight=document.documentElement.clientHeight+(isFixed?0:$(document).scrollTop());offset.left-=(this._get(inst,"isRTL")?(dpWidth-inputWidth):0);offset.left-=(isFixed&&offset.left===inst.input.offset().left)?$(document).scrollLeft():0;offset.top-=(isFixed&&offset.top===(inst.input.offset().top+inputHeight))?$(document).scrollTop():0;offset.left-=Math.min(offset.left,(offset.left+dpWidth>viewWidth&&viewWidth>dpWidth)?Math.abs(offset.left+dpWidth-viewWidth):0);offset.top-=Math.min(offset.top,(offset.top+dpHeight>viewHeight&&viewHeight>dpHeight)?Math.abs(dpHeight+inputHeight):0);return offset;},_findPos:function(obj){var position,inst=this._getInst(obj),isRTL=this._get(inst,"isRTL");while(obj&&(obj.type==="hidden"||obj.nodeType!==1||$.expr.filters.hidden(obj))){obj=obj[isRTL?"previousSibling":"nextSibling"];}
position=$(obj).offset();return[position.left,position.top];},_hideDatepicker:function(input){var showAnim,duration,postProcess,onClose,inst=this._curInst;if(!inst||(input&&inst!==$.data(input,PROP_NAME))){return;}
if(this._datepickerShowing){showAnim=this._get(inst,"showAnim");duration=this._get(inst,"duration");postProcess=function(){$.datepicker._tidyDialog(inst);};if($.effects&&($.effects.effect[showAnim]||$.effects[showAnim])){inst.dpDiv.hide(showAnim,$.datepicker._get(inst,"showOptions"),duration,postProcess);}else{inst.dpDiv[(showAnim==="slideDown"?"slideUp":(showAnim==="fadeIn"?"fadeOut":"hide"))]((showAnim?duration:null),postProcess);}
if(!showAnim){postProcess();}
this._datepickerShowing=false;onClose=this._get(inst,"onClose");if(onClose){onClose.apply((inst.input?inst.input[0]:null),[(inst.input?inst.input.val():""),inst]);}
this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if($.blockUI){$.unblockUI();$("body").append(this.dpDiv);}}
this._inDialog=false;}},_tidyDialog:function(inst){inst.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar");},_checkExternalClick:function(event){if(!$.datepicker._curInst){return;}
var $target=$(event.target),inst=$.datepicker._getInst($target[0]);if((($target[0].id!==$.datepicker._mainDivId&&$target.parents("#"+$.datepicker._mainDivId).length===0&&!$target.hasClass($.datepicker.markerClassName)&&!$target.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&!($.datepicker._inDialog&&$.blockUI)))||($target.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!==inst)){$.datepicker._hideDatepicker();}},_adjustDate:function(id,offset,period){var target=$(id),inst=this._getInst(target[0]);if(this._isDisabledDatepicker(target[0])){return;}
this._adjustInstDate(inst,offset+
(period==="M"?this._get(inst,"showCurrentAtPos"):0),period);this._updateDatepicker(inst);},_gotoToday:function(id){var date,target=$(id),inst=this._getInst(target[0]);if(this._get(inst,"gotoCurrent")&&inst.currentDay){inst.selectedDay=inst.currentDay;inst.drawMonth=inst.selectedMonth=inst.currentMonth;inst.drawYear=inst.selectedYear=inst.currentYear;}else{date=new Date();inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();}
this._notifyChange(inst);this._adjustDate(target);},_selectMonthYear:function(id,select,period){var target=$(id),inst=this._getInst(target[0]);inst["selected"+(period==="M"?"Month":"Year")]=inst["draw"+(period==="M"?"Month":"Year")]=parseInt(select.options[select.selectedIndex].value,10);this._notifyChange(inst);this._adjustDate(target);},_selectDay:function(id,month,year,td){var inst,target=$(id);if($(td).hasClass(this._unselectableClass)||this._isDisabledDatepicker(target[0])){return;}
inst=this._getInst(target[0]);inst.selectedDay=inst.currentDay=$("a",td).html();inst.selectedMonth=inst.currentMonth=month;inst.selectedYear=inst.currentYear=year;this._selectDate(id,this._formatDate(inst,inst.currentDay,inst.currentMonth,inst.currentYear));},_clearDate:function(id){var target=$(id);this._selectDate(target,"");},_selectDate:function(id,dateStr){var onSelect,target=$(id),inst=this._getInst(target[0]);dateStr=(dateStr!=null?dateStr:this._formatDate(inst));if(inst.input){inst.input.val(dateStr);}
this._updateAlternate(inst);onSelect=this._get(inst,"onSelect");if(onSelect){onSelect.apply((inst.input?inst.input[0]:null),[dateStr,inst]);}else if(inst.input){inst.input.trigger("change");}
if(inst.inline){this._updateDatepicker(inst);}else{this._hideDatepicker();this._lastInput=inst.input[0];if(typeof(inst.input[0])!=="object"){inst.input.focus();}
this._lastInput=null;}},_updateAlternate:function(inst){var altFormat,date,dateStr,altField=this._get(inst,"altField");if(altField){altFormat=this._get(inst,"altFormat")||this._get(inst,"dateFormat");date=this._getDate(inst);dateStr=this.formatDate(altFormat,date,this._getFormatConfig(inst));$(altField).each(function(){$(this).val(dateStr);});}},noWeekends:function(date){var day=date.getDay();return[(day>0&&day<6),""];},iso8601Week:function(date){var time,checkDate=new Date(date.getTime());checkDate.setDate(checkDate.getDate()+4-(checkDate.getDay()||7));time=checkDate.getTime();checkDate.setMonth(0);checkDate.setDate(1);return Math.floor(Math.round((time-checkDate)/86400000)/7)+1;},parseDate:function(format,value,settings){if(format==null||value==null){throw"Invalid arguments";}
value=(typeof value==="object"?value.toString():value+"");if(value===""){return null;}
var iFormat,dim,extra,iValue=0,shortYearCutoffTemp=(settings?settings.shortYearCutoff:null)||this._defaults.shortYearCutoff,shortYearCutoff=(typeof shortYearCutoffTemp!=="string"?shortYearCutoffTemp:new Date().getFullYear()%100+parseInt(shortYearCutoffTemp,10)),dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,year=-1,month=-1,day=-1,doy=-1,literal=false,date,lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)===match);if(matches){iFormat++;}
return matches;},getNumber=function(match){var isDoubled=lookAhead(match),size=(match==="@"?14:(match==="!"?20:(match==="y"&&isDoubled?4:(match==="o"?3:2)))),digits=new RegExp("^\\d{1,"+size+"}"),num=value.substring(iValue).match(digits);if(!num){throw"Missing number at position "+iValue;}
iValue+=num[0].length;return parseInt(num[0],10);},getName=function(match,shortNames,longNames){var index=-1,names=$.map(lookAhead(match)?longNames:shortNames,function(v,k){return[[k,v]];}).sort(function(a,b){return-(a[1].length-b[1].length);});$.each(names,function(i,pair){var name=pair[1];if(value.substr(iValue,name.length).toLowerCase()===name.toLowerCase()){index=pair[0];iValue+=name.length;return false;}});if(index!==-1){return index+1;}else{throw"Unknown name at position "+iValue;}},checkLiteral=function(){if(value.charAt(iValue)!==format.charAt(iFormat)){throw"Unexpected literal at position "+iValue;}
iValue++;};for(iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)==="'"&&!lookAhead("'")){literal=false;}else{checkLiteral();}}else{switch(format.charAt(iFormat)){case"d":day=getNumber("d");break;case"D":getName("D",dayNamesShort,dayNames);break;case"o":doy=getNumber("o");break;case"m":month=getNumber("m");break;case"M":month=getName("M",monthNamesShort,monthNames);break;case"y":year=getNumber("y");break;case"@":date=new Date(getNumber("@"));year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case"!":date=new Date((getNumber("!")-this._ticksTo1970)/10000);year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case"'":if(lookAhead("'")){checkLiteral();}else{literal=true;}
break;default:checkLiteral();}}}
if(iValue<value.length){extra=value.substr(iValue);if(!/^\s+/.test(extra)){throw"Extra/unparsed characters found in date: "+extra;}}
if(year===-1){year=new Date().getFullYear();}else if(year<100){year+=new Date().getFullYear()-new Date().getFullYear()%100+
(year<=shortYearCutoff?0:-100);}
if(doy>-1){month=1;day=doy;do{dim=this._getDaysInMonth(year,month-1);if(day<=dim){break;}
month++;day-=dim;}while(true);}
date=this._daylightSavingAdjust(new Date(year,month-1,day));if(date.getFullYear()!==year||date.getMonth()+1!==month||date.getDate()!==day){throw"Invalid date";}
return date;},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+
Math.floor(1970/400))*24*60*60*10000000),formatDate:function(format,date,settings){if(!date){return"";}
var iFormat,dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)===match);if(matches){iFormat++;}
return matches;},formatNumber=function(match,value,len){var num=""+value;if(lookAhead(match)){while(num.length<len){num="0"+num;}}
return num;},formatName=function(match,value,shortNames,longNames){return(lookAhead(match)?longNames[value]:shortNames[value]);},output="",literal=false;if(date){for(iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)==="'"&&!lookAhead("'")){literal=false;}else{output+=format.charAt(iFormat);}}else{switch(format.charAt(iFormat)){case"d":output+=formatNumber("d",date.getDate(),2);break;case"D":output+=formatName("D",date.getDay(),dayNamesShort,dayNames);break;case"o":output+=formatNumber("o",Math.round((new Date(date.getFullYear(),date.getMonth(),date.getDate()).getTime()-new Date(date.getFullYear(),0,0).getTime())/86400000),3);break;case"m":output+=formatNumber("m",date.getMonth()+1,2);break;case"M":output+=formatName("M",date.getMonth(),monthNamesShort,monthNames);break;case"y":output+=(lookAhead("y")?date.getFullYear():(date.getYear()%100<10?"0":"")+date.getYear()%100);break;case"@":output+=date.getTime();break;case"!":output+=date.getTime()*10000+this._ticksTo1970;break;case"'":if(lookAhead("'")){output+="'";}else{literal=true;}
break;default:output+=format.charAt(iFormat);}}}}
return output;},_possibleChars:function(format){var iFormat,chars="",literal=false,lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)===match);if(matches){iFormat++;}
return matches;};for(iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)==="'"&&!lookAhead("'")){literal=false;}else{chars+=format.charAt(iFormat);}}else{switch(format.charAt(iFormat)){case"d":case"m":case"y":case"@":chars+="0123456789";break;case"D":case"M":return null;case"'":if(lookAhead("'")){chars+="'";}else{literal=true;}
break;default:chars+=format.charAt(iFormat);}}}
return chars;},_get:function(inst,name){return inst.settings[name]!==undefined?inst.settings[name]:this._defaults[name];},_setDateFromField:function(inst,noDefault){if(inst.input.val()===inst.lastVal){return;}
var dateFormat=this._get(inst,"dateFormat"),dates=inst.lastVal=inst.input?inst.input.val():null,defaultDate=this._getDefaultDate(inst),date=defaultDate,settings=this._getFormatConfig(inst);try{date=this.parseDate(dateFormat,dates,settings)||defaultDate;}catch(event){dates=(noDefault?"":dates);}
inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();inst.currentDay=(dates?date.getDate():0);inst.currentMonth=(dates?date.getMonth():0);inst.currentYear=(dates?date.getFullYear():0);this._adjustInstDate(inst);},_getDefaultDate:function(inst){return this._restrictMinMax(inst,this._determineDate(inst,this._get(inst,"defaultDate"),new Date()));},_determineDate:function(inst,date,defaultDate){var offsetNumeric=function(offset){var date=new Date();date.setDate(date.getDate()+offset);return date;},offsetString=function(offset){try{return $.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),offset,$.datepicker._getFormatConfig(inst));}
catch(e){}
var date=(offset.toLowerCase().match(/^c/)?$.datepicker._getDate(inst):null)||new Date(),year=date.getFullYear(),month=date.getMonth(),day=date.getDate(),pattern=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,matches=pattern.exec(offset);while(matches){switch(matches[2]||"d"){case"d":case"D":day+=parseInt(matches[1],10);break;case"w":case"W":day+=parseInt(matches[1],10)*7;break;case"m":case"M":month+=parseInt(matches[1],10);day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break;case"y":case"Y":year+=parseInt(matches[1],10);day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break;}
matches=pattern.exec(offset);}
return new Date(year,month,day);},newDate=(date==null||date===""?defaultDate:(typeof date==="string"?offsetString(date):(typeof date==="number"?(isNaN(date)?defaultDate:offsetNumeric(date)):new Date(date.getTime()))));newDate=(newDate&&newDate.toString()==="Invalid Date"?defaultDate:newDate);if(newDate){newDate.setHours(0);newDate.setMinutes(0);newDate.setSeconds(0);newDate.setMilliseconds(0);}
return this._daylightSavingAdjust(newDate);},_daylightSavingAdjust:function(date){if(!date){return null;}
date.setHours(date.getHours()>12?date.getHours()+2:0);return date;},_setDate:function(inst,date,noChange){var clear=!date,origMonth=inst.selectedMonth,origYear=inst.selectedYear,newDate=this._restrictMinMax(inst,this._determineDate(inst,date,new Date()));inst.selectedDay=inst.currentDay=newDate.getDate();inst.drawMonth=inst.selectedMonth=inst.currentMonth=newDate.getMonth();inst.drawYear=inst.selectedYear=inst.currentYear=newDate.getFullYear();if((origMonth!==inst.selectedMonth||origYear!==inst.selectedYear)&&!noChange){this._notifyChange(inst);}
this._adjustInstDate(inst);if(inst.input){inst.input.val(clear?"":this._formatDate(inst));}},_getDate:function(inst){var startDate=(!inst.currentYear||(inst.input&&inst.input.val()==="")?null:this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));return startDate;},_attachHandlers:function(inst){var stepMonths=this._get(inst,"stepMonths"),id="#"+inst.id.replace(/\\\\/g,"\\");inst.dpDiv.find("[data-handler]").map(function(){var handler={prev:function(){$.datepicker._adjustDate(id,-stepMonths,"M");},next:function(){$.datepicker._adjustDate(id,+stepMonths,"M");},hide:function(){$.datepicker._hideDatepicker();},today:function(){$.datepicker._gotoToday(id);},selectDay:function(){$.datepicker._selectDay(id,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return false;},selectMonth:function(){$.datepicker._selectMonthYear(id,this,"M");return false;},selectYear:function(){$.datepicker._selectMonthYear(id,this,"Y");return false;}};$(this).bind(this.getAttribute("data-event"),handler[this.getAttribute("data-handler")]);});},_generateHTML:function(inst){var maxDraw,prevText,prev,nextText,next,currentText,gotoDate,controls,buttonPanel,firstDay,showWeek,dayNames,dayNamesMin,monthNames,monthNamesShort,beforeShowDay,showOtherMonths,selectOtherMonths,defaultDate,html,dow,row,group,col,selectedDate,cornerClass,calender,thead,day,daysInMonth,leadDays,curRows,numRows,printDate,dRow,tbody,daySettings,otherMonth,unselectable,tempDate=new Date(),today=this._daylightSavingAdjust(new Date(tempDate.getFullYear(),tempDate.getMonth(),tempDate.getDate())),isRTL=this._get(inst,"isRTL"),showButtonPanel=this._get(inst,"showButtonPanel"),hideIfNoPrevNext=this._get(inst,"hideIfNoPrevNext"),navigationAsDateFormat=this._get(inst,"navigationAsDateFormat"),numMonths=this._getNumberOfMonths(inst),showCurrentAtPos=this._get(inst,"showCurrentAtPos"),stepMonths=this._get(inst,"stepMonths"),isMultiMonth=(numMonths[0]!==1||numMonths[1]!==1),currentDate=this._daylightSavingAdjust((!inst.currentDay?new Date(9999,9,9):new Date(inst.currentYear,inst.currentMonth,inst.currentDay))),minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),drawMonth=inst.drawMonth-showCurrentAtPos,drawYear=inst.drawYear;if(drawMonth<0){drawMonth+=12;drawYear--;}
if(maxDate){maxDraw=this._daylightSavingAdjust(new Date(maxDate.getFullYear(),maxDate.getMonth()-(numMonths[0]*numMonths[1])+1,maxDate.getDate()));maxDraw=(minDate&&maxDraw<minDate?minDate:maxDraw);while(this._daylightSavingAdjust(new Date(drawYear,drawMonth,1))>maxDraw){drawMonth--;if(drawMonth<0){drawMonth=11;drawYear--;}}}
inst.drawMonth=drawMonth;inst.drawYear=drawYear;prevText=this._get(inst,"prevText");prevText=(!navigationAsDateFormat?prevText:this.formatDate(prevText,this._daylightSavingAdjust(new Date(drawYear,drawMonth-stepMonths,1)),this._getFormatConfig(inst)));prev=(this._canAdjustMonth(inst,-1,drawYear,drawMonth)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click'"+" title='"+prevText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"e":"w")+"'>"+prevText+"</span></a>":(hideIfNoPrevNext?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+prevText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"e":"w")+"'>"+prevText+"</span></a>"));nextText=this._get(inst,"nextText");nextText=(!navigationAsDateFormat?nextText:this.formatDate(nextText,this._daylightSavingAdjust(new Date(drawYear,drawMonth+stepMonths,1)),this._getFormatConfig(inst)));next=(this._canAdjustMonth(inst,+1,drawYear,drawMonth)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click'"+" title='"+nextText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"w":"e")+"'>"+nextText+"</span></a>":(hideIfNoPrevNext?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+nextText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"w":"e")+"'>"+nextText+"</span></a>"));currentText=this._get(inst,"currentText");gotoDate=(this._get(inst,"gotoCurrent")&&inst.currentDay?currentDate:today);currentText=(!navigationAsDateFormat?currentText:this.formatDate(currentText,gotoDate,this._getFormatConfig(inst)));controls=(!inst.inline?"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+
this._get(inst,"closeText")+"</button>":"");buttonPanel=(showButtonPanel)?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(isRTL?controls:"")+
(this._isInRange(inst,gotoDate)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'"+">"+currentText+"</button>":"")+(isRTL?"":controls)+"</div>":"";firstDay=parseInt(this._get(inst,"firstDay"),10);firstDay=(isNaN(firstDay)?0:firstDay);showWeek=this._get(inst,"showWeek");dayNames=this._get(inst,"dayNames");dayNamesMin=this._get(inst,"dayNamesMin");monthNames=this._get(inst,"monthNames");monthNamesShort=this._get(inst,"monthNamesShort");beforeShowDay=this._get(inst,"beforeShowDay");showOtherMonths=this._get(inst,"showOtherMonths");selectOtherMonths=this._get(inst,"selectOtherMonths");defaultDate=this._getDefaultDate(inst);html="";dow;for(row=0;row<numMonths[0];row++){group="";this.maxRows=4;for(col=0;col<numMonths[1];col++){selectedDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,inst.selectedDay));cornerClass=" ui-corner-all";calender="";if(isMultiMonth){calender+="<div class='ui-datepicker-group";if(numMonths[1]>1){switch(col){case 0:calender+=" ui-datepicker-group-first";cornerClass=" ui-corner-"+(isRTL?"right":"left");break;case numMonths[1]-1:calender+=" ui-datepicker-group-last";cornerClass=" ui-corner-"+(isRTL?"left":"right");break;default:calender+=" ui-datepicker-group-middle";cornerClass="";break;}}
calender+="'>";}
calender+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+cornerClass+"'>"+
(/all|left/.test(cornerClass)&&row===0?(isRTL?next:prev):"")+
(/all|right/.test(cornerClass)&&row===0?(isRTL?prev:next):"")+
this._generateMonthYearHeader(inst,drawMonth,drawYear,minDate,maxDate,row>0||col>0,monthNames,monthNamesShort)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>";thead=(showWeek?"<th class='ui-datepicker-week-col'>"+this._get(inst,"weekHeader")+"</th>":"");for(dow=0;dow<7;dow++){day=(dow+firstDay)%7;thead+="<th"+((dow+firstDay+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+dayNames[day]+"'>"+dayNamesMin[day]+"</span></th>";}
calender+=thead+"</tr></thead><tbody>";daysInMonth=this._getDaysInMonth(drawYear,drawMonth);if(drawYear===inst.selectedYear&&drawMonth===inst.selectedMonth){inst.selectedDay=Math.min(inst.selectedDay,daysInMonth);}
leadDays=(this._getFirstDayOfMonth(drawYear,drawMonth)-firstDay+7)%7;curRows=Math.ceil((leadDays+daysInMonth)/7);numRows=(isMultiMonth?this.maxRows>curRows?this.maxRows:curRows:curRows);this.maxRows=numRows;printDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,1-leadDays));for(dRow=0;dRow<numRows;dRow++){calender+="<tr>";tbody=(!showWeek?"":"<td class='ui-datepicker-week-col'>"+
this._get(inst,"calculateWeek")(printDate)+"</td>");for(dow=0;dow<7;dow++){daySettings=(beforeShowDay?beforeShowDay.apply((inst.input?inst.input[0]:null),[printDate]):[true,""]);otherMonth=(printDate.getMonth()!==drawMonth);unselectable=(otherMonth&&!selectOtherMonths)||!daySettings[0]||(minDate&&printDate<minDate)||(maxDate&&printDate>maxDate);tbody+="<td class='"+
((dow+firstDay+6)%7>=5?" ui-datepicker-week-end":"")+
(otherMonth?" ui-datepicker-other-month":"")+
((printDate.getTime()===selectedDate.getTime()&&drawMonth===inst.selectedMonth&&inst._keyEvent)||(defaultDate.getTime()===printDate.getTime()&&defaultDate.getTime()===selectedDate.getTime())?" "+this._dayOverClass:"")+
(unselectable?" "+this._unselectableClass+" ui-state-disabled":"")+
(otherMonth&&!showOtherMonths?"":" "+daySettings[1]+
(printDate.getTime()===currentDate.getTime()?" "+this._currentClass:"")+
(printDate.getTime()===today.getTime()?" ui-datepicker-today":""))+"'"+
((!otherMonth||showOtherMonths)&&daySettings[2]?" title='"+daySettings[2].replace(/'/g,"&#39;")+"'":"")+
(unselectable?"":" data-handler='selectDay' data-event='click' data-month='"+printDate.getMonth()+"' data-year='"+printDate.getFullYear()+"'")+">"+
(otherMonth&&!showOtherMonths?"&#xa0;":(unselectable?"<span class='ui-state-default'>"+printDate.getDate()+"</span>":"<a class='ui-state-default"+
(printDate.getTime()===today.getTime()?" ui-state-highlight":"")+
(printDate.getTime()===currentDate.getTime()?" ui-state-active":"")+
(otherMonth?" ui-priority-secondary":"")+"' href='#'>"+printDate.getDate()+"</a>"))+"</td>";printDate.setDate(printDate.getDate()+1);printDate=this._daylightSavingAdjust(printDate);}
calender+=tbody+"</tr>";}
drawMonth++;if(drawMonth>11){drawMonth=0;drawYear++;}
calender+="</tbody></table>"+(isMultiMonth?"</div>"+
((numMonths[0]>0&&col===numMonths[1]-1)?"<div class='ui-datepicker-row-break'></div>":""):"");group+=calender;}
html+=group;}
html+=buttonPanel;inst._keyEvent=false;return html;},_generateMonthYearHeader:function(inst,drawMonth,drawYear,minDate,maxDate,secondary,monthNames,monthNamesShort){var inMinYear,inMaxYear,month,years,thisYear,determineYear,year,endYear,changeMonth=this._get(inst,"changeMonth"),changeYear=this._get(inst,"changeYear"),showMonthAfterYear=this._get(inst,"showMonthAfterYear"),html="<div class='ui-datepicker-title'>",monthHtml="";if(secondary||!changeMonth){monthHtml+="<span class='ui-datepicker-month'>"+monthNames[drawMonth]+"</span>";}else{inMinYear=(minDate&&minDate.getFullYear()===drawYear);inMaxYear=(maxDate&&maxDate.getFullYear()===drawYear);monthHtml+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(month=0;month<12;month++){if((!inMinYear||month>=minDate.getMonth())&&(!inMaxYear||month<=maxDate.getMonth())){monthHtml+="<option value='"+month+"'"+
(month===drawMonth?" selected='selected'":"")+">"+monthNamesShort[month]+"</option>";}}
monthHtml+="</select>";}
if(!showMonthAfterYear){html+=monthHtml+(secondary||!(changeMonth&&changeYear)?"&#xa0;":"");}
if(!inst.yearshtml){inst.yearshtml="";if(secondary||!changeYear){html+="<span class='ui-datepicker-year'>"+drawYear+"</span>";}else{years=this._get(inst,"yearRange").split(":");thisYear=new Date().getFullYear();determineYear=function(value){var year=(value.match(/c[+\-].*/)?drawYear+parseInt(value.substring(1),10):(value.match(/[+\-].*/)?thisYear+parseInt(value,10):parseInt(value,10)));return(isNaN(year)?thisYear:year);};year=determineYear(years[0]);endYear=Math.max(year,determineYear(years[1]||""));year=(minDate?Math.max(year,minDate.getFullYear()):year);endYear=(maxDate?Math.min(endYear,maxDate.getFullYear()):endYear);inst.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";for(;year<=endYear;year++){inst.yearshtml+="<option value='"+year+"'"+
(year===drawYear?" selected='selected'":"")+">"+year+"</option>";}
inst.yearshtml+="</select>";html+=inst.yearshtml;inst.yearshtml=null;}}
html+=this._get(inst,"yearSuffix");if(showMonthAfterYear){html+=(secondary||!(changeMonth&&changeYear)?"&#xa0;":"")+monthHtml;}
html+="</div>";return html;},_adjustInstDate:function(inst,offset,period){var year=inst.drawYear+(period==="Y"?offset:0),month=inst.drawMonth+(period==="M"?offset:0),day=Math.min(inst.selectedDay,this._getDaysInMonth(year,month))+(period==="D"?offset:0),date=this._restrictMinMax(inst,this._daylightSavingAdjust(new Date(year,month,day)));inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();if(period==="M"||period==="Y"){this._notifyChange(inst);}},_restrictMinMax:function(inst,date){var minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),newDate=(minDate&&date<minDate?minDate:date);return(maxDate&&newDate>maxDate?maxDate:newDate);},_notifyChange:function(inst){var onChange=this._get(inst,"onChangeMonthYear");if(onChange){onChange.apply((inst.input?inst.input[0]:null),[inst.selectedYear,inst.selectedMonth+1,inst]);}},_getNumberOfMonths:function(inst){var numMonths=this._get(inst,"numberOfMonths");return(numMonths==null?[1,1]:(typeof numMonths==="number"?[1,numMonths]:numMonths));},_getMinMaxDate:function(inst,minMax){return this._determineDate(inst,this._get(inst,minMax+"Date"),null);},_getDaysInMonth:function(year,month){return 32-this._daylightSavingAdjust(new Date(year,month,32)).getDate();},_getFirstDayOfMonth:function(year,month){return new Date(year,month,1).getDay();},_canAdjustMonth:function(inst,offset,curYear,curMonth){var numMonths=this._getNumberOfMonths(inst),date=this._daylightSavingAdjust(new Date(curYear,curMonth+(offset<0?offset:numMonths[0]*numMonths[1]),1));if(offset<0){date.setDate(this._getDaysInMonth(date.getFullYear(),date.getMonth()));}
return this._isInRange(inst,date);},_isInRange:function(inst,date){var yearSplit,currentYear,minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),minYear=null,maxYear=null,years=this._get(inst,"yearRange");if(years){yearSplit=years.split(":");currentYear=new Date().getFullYear();minYear=parseInt(yearSplit[0],10);maxYear=parseInt(yearSplit[1],10);if(yearSplit[0].match(/[+\-].*/)){minYear+=currentYear;}
if(yearSplit[1].match(/[+\-].*/)){maxYear+=currentYear;}}
return((!minDate||date.getTime()>=minDate.getTime())&&(!maxDate||date.getTime()<=maxDate.getTime())&&(!minYear||date.getFullYear()>=minYear)&&(!maxYear||date.getFullYear()<=maxYear));},_getFormatConfig:function(inst){var shortYearCutoff=this._get(inst,"shortYearCutoff");shortYearCutoff=(typeof shortYearCutoff!=="string"?shortYearCutoff:new Date().getFullYear()%100+parseInt(shortYearCutoff,10));return{shortYearCutoff:shortYearCutoff,dayNamesShort:this._get(inst,"dayNamesShort"),dayNames:this._get(inst,"dayNames"),monthNamesShort:this._get(inst,"monthNamesShort"),monthNames:this._get(inst,"monthNames")};},_formatDate:function(inst,day,month,year){if(!day){inst.currentDay=inst.selectedDay;inst.currentMonth=inst.selectedMonth;inst.currentYear=inst.selectedYear;}
var date=(day?(typeof day==="object"?day:this._daylightSavingAdjust(new Date(year,month,day))):this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));return this.formatDate(this._get(inst,"dateFormat"),date,this._getFormatConfig(inst));}});function bindHover(dpDiv){var selector="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return dpDiv.delegate(selector,"mouseout",function(){$(this).removeClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){$(this).removeClass("ui-datepicker-prev-hover");}
if(this.className.indexOf("ui-datepicker-next")!==-1){$(this).removeClass("ui-datepicker-next-hover");}}).delegate(selector,"mouseover",function(){if(!$.datepicker._isDisabledDatepicker(instActive.inline?dpDiv.parent()[0]:instActive.input[0])){$(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");$(this).addClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){$(this).addClass("ui-datepicker-prev-hover");}
if(this.className.indexOf("ui-datepicker-next")!==-1){$(this).addClass("ui-datepicker-next-hover");}}});}
function extendRemove(target,props){$.extend(target,props);for(var name in props){if(props[name]==null){target[name]=props[name];}}
return target;}
$.fn.datepicker=function(options){if(!this.length){return this;}
if(!$.datepicker.initialized){$(document).mousedown($.datepicker._checkExternalClick);$.datepicker.initialized=true;}
if($("#"+$.datepicker._mainDivId).length===0){$("body").append($.datepicker.dpDiv);}
var otherArgs=Array.prototype.slice.call(arguments,1);if(typeof options==="string"&&(options==="isDisabled"||options==="getDate"||options==="widget")){return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs));}
if(options==="option"&&arguments.length===2&&typeof arguments[1]==="string"){return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs));}
return this.each(function(){typeof options==="string"?$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this].concat(otherArgs)):$.datepicker._attachDatepicker(this,options);});};$.datepicker=new Datepicker();$.datepicker.initialized=false;$.datepicker.uuid=new Date().getTime();$.datepicker.version="1.10.3";})(jQuery);(function($,undefined){var sizeRelatedOptions={buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},resizableRelatedOptions={maxHeight:true,maxWidth:true,minHeight:true,minWidth:true};$.widget("ui.dialog",{version:"1.10.3",options:{appendTo:"body",autoOpen:true,buttons:[],closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",of:window,collision:"fit",using:function(pos){var topOffset=$(this).css(pos).offset().top;if(topOffset<0){$(this).css("top",pos.top-topOffset);}}},resizable:true,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");this.options.title=this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);this._createTitlebar();this._createButtonPane();if(this.options.draggable&&$.fn.draggable){this._makeDraggable();}
if(this.options.resizable&&$.fn.resizable){this._makeResizable();}
this._isOpen=false;},_init:function(){if(this.options.autoOpen){this.open();}},_appendTo:function(){var element=this.options.appendTo;if(element&&(element.jquery||element.nodeType)){return $(element);}
return this.document.find(element||"body").eq(0);},_destroy:function(){var next,originalPosition=this.originalPosition;this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(true,true).remove();if(this.originalTitle){this.element.attr("title",this.originalTitle);}
next=originalPosition.parent.children().eq(originalPosition.index);if(next.length&&next[0]!==this.element[0]){next.before(this.element);}else{originalPosition.parent.append(this.element);}},widget:function(){return this.uiDialog;},disable:$.noop,enable:$.noop,close:function(event){var that=this;if(!this._isOpen||this._trigger("beforeClose",event)===false){return;}
this._isOpen=false;this._destroyOverlay();if(!this.opener.filter(":focusable").focus().length){$(this.document[0].activeElement).blur();}
this._hide(this.uiDialog,this.options.hide,function(){that._trigger("close",event);});},isOpen:function(){return this._isOpen;},moveToTop:function(){this._moveToTop();},_moveToTop:function(event,silent){var moved=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;if(moved&&!silent){this._trigger("focus",event);}
return moved;},open:function(){var that=this;if(this._isOpen){if(this._moveToTop()){this._focusTabbable();}
return;}
this._isOpen=true;this.opener=$(this.document[0].activeElement);this._size();this._position();this._createOverlay();this._moveToTop(null,true);this._show(this.uiDialog,this.options.show,function(){that._focusTabbable();that._trigger("focus");});this._trigger("open");},_focusTabbable:function(){var hasFocus=this.element.find("[autofocus]");if(!hasFocus.length){hasFocus=this.element.find(":tabbable");}
if(!hasFocus.length){hasFocus=this.uiDialogButtonPane.find(":tabbable");}
if(!hasFocus.length){hasFocus=this.uiDialogTitlebarClose.filter(":tabbable");}
if(!hasFocus.length){hasFocus=this.uiDialog;}
hasFocus.eq(0).focus();},_keepFocus:function(event){function checkFocus(){var activeElement=this.document[0].activeElement,isActive=this.uiDialog[0]===activeElement||$.contains(this.uiDialog[0],activeElement);if(!isActive){this._focusTabbable();}}
event.preventDefault();checkFocus.call(this);this._delay(checkFocus);},_createWrapper:function(){this.uiDialog=$("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+
this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(event){if(this.options.closeOnEscape&&!event.isDefaultPrevented()&&event.keyCode&&event.keyCode===$.ui.keyCode.ESCAPE){event.preventDefault();this.close(event);return;}
if(event.keyCode!==$.ui.keyCode.TAB){return;}
var tabbables=this.uiDialog.find(":tabbable"),first=tabbables.filter(":first"),last=tabbables.filter(":last");if((event.target===last[0]||event.target===this.uiDialog[0])&&!event.shiftKey){first.focus(1);event.preventDefault();}else if((event.target===first[0]||event.target===this.uiDialog[0])&&event.shiftKey){last.focus(1);event.preventDefault();}},mousedown:function(event){if(this._moveToTop(event)){this._focusTabbable();}}});if(!this.element.find("[aria-describedby]").length){this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")});}},_createTitlebar:function(){var uiDialogTitle;this.uiDialogTitlebar=$("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);this._on(this.uiDialogTitlebar,{mousedown:function(event){if(!$(event.target).closest(".ui-dialog-titlebar-close")){this.uiDialog.focus();}}});this.uiDialogTitlebarClose=$("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:false}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(event){event.preventDefault();this.close(event);}});uiDialogTitle=$("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);this._title(uiDialogTitle);this.uiDialog.attr({"aria-labelledby":uiDialogTitle.attr("id")});},_title:function(title){if(!this.options.title){title.html("&#160;");}
title.text(this.options.title);},_createButtonPane:function(){this.uiDialogButtonPane=$("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiButtonSet=$("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons();},_createButtons:function(){var that=this,buttons=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();if($.isEmptyObject(buttons)||($.isArray(buttons)&&!buttons.length)){this.uiDialog.removeClass("ui-dialog-buttons");return;}
$.each(buttons,function(name,props){var click,buttonOptions;props=$.isFunction(props)?{click:props,text:name}:props;props=$.extend({type:"button"},props);click=props.click;props.click=function(){click.apply(that.element[0],arguments);};buttonOptions={icons:props.icons,text:props.showText};delete props.icons;delete props.showText;$("<button></button>",props).button(buttonOptions).appendTo(that.uiButtonSet);});this.uiDialog.addClass("ui-dialog-buttons");this.uiDialogButtonPane.appendTo(this.uiDialog);},_makeDraggable:function(){var that=this,options=this.options;function filteredUi(ui){return{position:ui.position,offset:ui.offset};}
this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(event,ui){$(this).addClass("ui-dialog-dragging");that._blockFrames();that._trigger("dragStart",event,filteredUi(ui));},drag:function(event,ui){that._trigger("drag",event,filteredUi(ui));},stop:function(event,ui){options.position=[ui.position.left-that.document.scrollLeft(),ui.position.top-that.document.scrollTop()];$(this).removeClass("ui-dialog-dragging");that._unblockFrames();that._trigger("dragStop",event,filteredUi(ui));}});},_makeResizable:function(){var that=this,options=this.options,handles=options.resizable,position=this.uiDialog.css("position"),resizeHandles=typeof handles==="string"?handles:"n,e,s,w,se,sw,ne,nw";function filteredUi(ui){return{originalPosition:ui.originalPosition,originalSize:ui.originalSize,position:ui.position,size:ui.size};}
this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:options.maxWidth,maxHeight:options.maxHeight,minWidth:options.minWidth,minHeight:this._minHeight(),handles:resizeHandles,start:function(event,ui){$(this).addClass("ui-dialog-resizing");that._blockFrames();that._trigger("resizeStart",event,filteredUi(ui));},resize:function(event,ui){that._trigger("resize",event,filteredUi(ui));},stop:function(event,ui){options.height=$(this).height();options.width=$(this).width();$(this).removeClass("ui-dialog-resizing");that._unblockFrames();that._trigger("resizeStop",event,filteredUi(ui));}}).css("position",position);},_minHeight:function(){var options=this.options;return options.height==="auto"?options.minHeight:Math.min(options.minHeight,options.height);},_position:function(){var isVisible=this.uiDialog.is(":visible");if(!isVisible){this.uiDialog.show();}
this.uiDialog.position(this.options.position);if(!isVisible){this.uiDialog.hide();}},_setOptions:function(options){var that=this,resize=false,resizableOptions={};$.each(options,function(key,value){that._setOption(key,value);if(key in sizeRelatedOptions){resize=true;}
if(key in resizableRelatedOptions){resizableOptions[key]=value;}});if(resize){this._size();this._position();}
if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option",resizableOptions);}},_setOption:function(key,value){var isDraggable,isResizable,uiDialog=this.uiDialog;if(key==="dialogClass"){uiDialog.removeClass(this.options.dialogClass).addClass(value);}
if(key==="disabled"){return;}
this._super(key,value);if(key==="appendTo"){this.uiDialog.appendTo(this._appendTo());}
if(key==="buttons"){this._createButtons();}
if(key==="closeText"){this.uiDialogTitlebarClose.button({label:""+value});}
if(key==="draggable"){isDraggable=uiDialog.is(":data(ui-draggable)");if(isDraggable&&!value){uiDialog.draggable("destroy");}
if(!isDraggable&&value){this._makeDraggable();}}
if(key==="position"){this._position();}
if(key==="resizable"){isResizable=uiDialog.is(":data(ui-resizable)");if(isResizable&&!value){uiDialog.resizable("destroy");}
if(isResizable&&typeof value==="string"){uiDialog.resizable("option","handles",value);}
if(!isResizable&&value!==false){this._makeResizable();}}
if(key==="title"){this._title(this.uiDialogTitlebar.find(".ui-dialog-title"));}},_size:function(){var nonContentHeight,minContentHeight,maxContentHeight,options=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});if(options.minWidth>options.width){options.width=options.minWidth;}
nonContentHeight=this.uiDialog.css({height:"auto",width:options.width}).outerHeight();minContentHeight=Math.max(0,options.minHeight-nonContentHeight);maxContentHeight=typeof options.maxHeight==="number"?Math.max(0,options.maxHeight-nonContentHeight):"none";if(options.height==="auto"){this.element.css({minHeight:minContentHeight,maxHeight:maxContentHeight,height:"auto"});}else{this.element.height(Math.max(0,options.height-nonContentHeight));}
if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option","minHeight",this._minHeight());}},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var iframe=$(this);return $("<div>").css({position:"absolute",width:iframe.outerWidth(),height:iframe.outerHeight()}).appendTo(iframe.parent()).offset(iframe.offset())[0];});},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks;}},_allowInteraction:function(event){if($(event.target).closest(".ui-dialog").length){return true;}
return!!$(event.target).closest(".ui-datepicker").length;},_createOverlay:function(){if(!this.options.modal){return;}
var that=this,widgetFullName=this.widgetFullName;if(!$.ui.dialog.overlayInstances){this._delay(function(){if($.ui.dialog.overlayInstances){this.document.bind("focusin.dialog",function(event){if(!that._allowInteraction(event)){event.preventDefault();$(".ui-dialog:visible:last .ui-dialog-content").data(widgetFullName)._focusTabbable();}});}});}
this.overlay=$("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo());this._on(this.overlay,{mousedown:"_keepFocus"});$.ui.dialog.overlayInstances++;},_destroyOverlay:function(){if(!this.options.modal){return;}
if(this.overlay){$.ui.dialog.overlayInstances--;if(!$.ui.dialog.overlayInstances){this.document.unbind("focusin.dialog");}
this.overlay.remove();this.overlay=null;}}});$.ui.dialog.overlayInstances=0;if($.uiBackCompat!==false){$.widget("ui.dialog",$.ui.dialog,{_position:function(){var position=this.options.position,myAt=[],offset=[0,0],isVisible;if(position){if(typeof position==="string"||(typeof position==="object"&&"0"in position)){myAt=position.split?position.split(" "):[position[0],position[1]];if(myAt.length===1){myAt[1]=myAt[0];}
$.each(["left","top"],function(i,offsetPosition){if(+myAt[i]===myAt[i]){offset[i]=myAt[i];myAt[i]=offsetPosition;}});position={my:myAt[0]+(offset[0]<0?offset[0]:"+"+offset[0])+" "+
myAt[1]+(offset[1]<0?offset[1]:"+"+offset[1]),at:myAt.join(" ")};}
position=$.extend({},$.ui.dialog.prototype.options.position,position);}else{position=$.ui.dialog.prototype.options.position;}
isVisible=this.uiDialog.is(":visible");if(!isVisible){this.uiDialog.show();}
this.uiDialog.position(position);if(!isVisible){this.uiDialog.hide();}}});}}(jQuery));(function($,undefined){$.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=false;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,$.proxy(function(event){if(this.options.disabled){event.preventDefault();}},this));if(this.options.disabled){this.element.addClass("ui-state-disabled").attr("aria-disabled","true");}
this._on({"mousedown .ui-menu-item > a":function(event){event.preventDefault();},"click .ui-state-disabled > a":function(event){event.preventDefault();},"click .ui-menu-item:has(a)":function(event){var target=$(event.target).closest(".ui-menu-item");if(!this.mouseHandled&&target.not(".ui-state-disabled").length){this.mouseHandled=true;this.select(event);if(target.has(".ui-menu").length){this.expand(event);}else if(!this.element.is(":focus")){this.element.trigger("focus",[true]);if(this.active&&this.active.parents(".ui-menu").length===1){clearTimeout(this.timer);}}}},"mouseenter .ui-menu-item":function(event){var target=$(event.currentTarget);target.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(event,target);},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(event,keepActiveItem){var item=this.active||this.element.children(".ui-menu-item").eq(0);if(!keepActiveItem){this.focus(event,item);}},blur:function(event){this._delay(function(){if(!$.contains(this.element[0],this.document[0].activeElement)){this.collapseAll(event);}});},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(event){if(!$(event.target).closest(".ui-menu").length){this.collapseAll(event);}
this.mouseHandled=false;}});},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var elem=$(this);if(elem.data("ui-menu-submenu-carat")){elem.remove();}});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content");},_keydown:function(event){var match,prev,character,skip,regex,preventDefault=true;function escape(value){return value.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");}
switch(event.keyCode){case $.ui.keyCode.PAGE_UP:this.previousPage(event);break;case $.ui.keyCode.PAGE_DOWN:this.nextPage(event);break;case $.ui.keyCode.HOME:this._move("first","first",event);break;case $.ui.keyCode.END:this._move("last","last",event);break;case $.ui.keyCode.UP:this.previous(event);break;case $.ui.keyCode.DOWN:this.next(event);break;case $.ui.keyCode.LEFT:this.collapse(event);break;case $.ui.keyCode.RIGHT:if(this.active&&!this.active.is(".ui-state-disabled")){this.expand(event);}
break;case $.ui.keyCode.ENTER:case $.ui.keyCode.SPACE:this._activate(event);break;case $.ui.keyCode.ESCAPE:this.collapse(event);break;default:preventDefault=false;prev=this.previousFilter||"";character=String.fromCharCode(event.keyCode);skip=false;clearTimeout(this.filterTimer);if(character===prev){skip=true;}else{character=prev+character;}
regex=new RegExp("^"+escape(character),"i");match=this.activeMenu.children(".ui-menu-item").filter(function(){return regex.test($(this).children("a").text());});match=skip&&match.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):match;if(!match.length){character=String.fromCharCode(event.keyCode);regex=new RegExp("^"+escape(character),"i");match=this.activeMenu.children(".ui-menu-item").filter(function(){return regex.test($(this).children("a").text());});}
if(match.length){this.focus(event,match);if(match.length>1){this.previousFilter=character;this.filterTimer=this._delay(function(){delete this.previousFilter;},1000);}else{delete this.previousFilter;}}else{delete this.previousFilter;}}
if(preventDefault){event.preventDefault();}},_activate:function(event){if(!this.active.is(".ui-state-disabled")){if(this.active.children("a[aria-haspopup='true']").length){this.expand(event);}else{this.select(event);}}},refresh:function(){var menus,icon=this.options.icons.submenu,submenus=this.element.find(this.options.menus);submenus.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var menu=$(this),item=menu.prev("a"),submenuCarat=$("<span>").addClass("ui-menu-icon ui-icon "+icon).data("ui-menu-submenu-carat",true);item.attr("aria-haspopup","true").prepend(submenuCarat);menu.attr("aria-labelledby",item.attr("id"));});menus=submenus.add(this.element);menus.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()});menus.children(":not(.ui-menu-item)").each(function(){var item=$(this);if(!/[^\-\u2014\u2013\s]/.test(item.text())){item.addClass("ui-widget-content ui-menu-divider");}});menus.children(".ui-state-disabled").attr("aria-disabled","true");if(this.active&&!$.contains(this.element[0],this.active[0])){this.blur();}},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role];},_setOption:function(key,value){if(key==="icons"){this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(value.submenu);}
this._super(key,value);},focus:function(event,item){var nested,focused;this.blur(event,event&&event.type==="focus");this._scrollIntoView(item);this.active=item.first();focused=this.active.children("a").addClass("ui-state-focus");if(this.options.role){this.element.attr("aria-activedescendant",focused.attr("id"));}
this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");if(event&&event.type==="keydown"){this._close();}else{this.timer=this._delay(function(){this._close();},this.delay);}
nested=item.children(".ui-menu");if(nested.length&&(/^mouse/.test(event.type))){this._startOpening(nested);}
this.activeMenu=item.parent();this._trigger("focus",event,{item:item});},_scrollIntoView:function(item){var borderTop,paddingTop,offset,scroll,elementHeight,itemHeight;if(this._hasScroll()){borderTop=parseFloat($.css(this.activeMenu[0],"borderTopWidth"))||0;paddingTop=parseFloat($.css(this.activeMenu[0],"paddingTop"))||0;offset=item.offset().top-this.activeMenu.offset().top-borderTop-paddingTop;scroll=this.activeMenu.scrollTop();elementHeight=this.activeMenu.height();itemHeight=item.height();if(offset<0){this.activeMenu.scrollTop(scroll+offset);}else if(offset+itemHeight>elementHeight){this.activeMenu.scrollTop(scroll+offset-elementHeight+itemHeight);}}},blur:function(event,fromFocus){if(!fromFocus){clearTimeout(this.timer);}
if(!this.active){return;}
this.active.children("a").removeClass("ui-state-focus");this.active=null;this._trigger("blur",event,{item:this.active});},_startOpening:function(submenu){clearTimeout(this.timer);if(submenu.attr("aria-hidden")!=="true"){return;}
this.timer=this._delay(function(){this._close();this._open(submenu);},this.delay);},_open:function(submenu){var position=$.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(submenu.parents(".ui-menu")).hide().attr("aria-hidden","true");submenu.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(position);},collapseAll:function(event,all){clearTimeout(this.timer);this.timer=this._delay(function(){var currentMenu=all?this.element:$(event&&event.target).closest(this.element.find(".ui-menu"));if(!currentMenu.length){currentMenu=this.element;}
this._close(currentMenu);this.blur(event);this.activeMenu=currentMenu;},this.delay);},_close:function(startMenu){if(!startMenu){startMenu=this.active?this.active.parent():this.element;}
startMenu.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active");},collapse:function(event){var newItem=this.active&&this.active.parent().closest(".ui-menu-item",this.element);if(newItem&&newItem.length){this._close();this.focus(event,newItem);}},expand:function(event){var newItem=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();if(newItem&&newItem.length){this._open(newItem.parent());this._delay(function(){this.focus(event,newItem);});}},next:function(event){this._move("next","first",event);},previous:function(event){this._move("prev","last",event);},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length;},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length;},_move:function(direction,filter,event){var next;if(this.active){if(direction==="first"||direction==="last"){next=this.active
[direction==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1);}else{next=this.active
[direction+"All"](".ui-menu-item").eq(0);}}
if(!next||!next.length||!this.active){next=this.activeMenu.children(".ui-menu-item")[filter]();}
this.focus(event,next);},nextPage:function(event){var item,base,height;if(!this.active){this.next(event);return;}
if(this.isLastItem()){return;}
if(this._hasScroll()){base=this.active.offset().top;height=this.element.height();this.active.nextAll(".ui-menu-item").each(function(){item=$(this);return item.offset().top-base-height<0;});this.focus(event,item);}else{this.focus(event,this.activeMenu.children(".ui-menu-item")
[!this.active?"first":"last"]());}},previousPage:function(event){var item,base,height;if(!this.active){this.next(event);return;}
if(this.isFirstItem()){return;}
if(this._hasScroll()){base=this.active.offset().top;height=this.element.height();this.active.prevAll(".ui-menu-item").each(function(){item=$(this);return item.offset().top-base+height>0;});this.focus(event,item);}else{this.focus(event,this.activeMenu.children(".ui-menu-item").first());}},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight");},select:function(event){this.active=this.active||$(event.target).closest(".ui-menu-item");var ui={item:this.active};if(!this.active.has(".ui-menu").length){this.collapseAll(event,true);}
this._trigger("select",event,ui);}});}(jQuery));(function($,undefined){$.widget("ui.progressbar",{version:"1.10.3",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min});this.valueDiv=$("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this._refreshValue();},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.valueDiv.remove();},value:function(newValue){if(newValue===undefined){return this.options.value;}
this.options.value=this._constrainedValue(newValue);this._refreshValue();},_constrainedValue:function(newValue){if(newValue===undefined){newValue=this.options.value;}
this.indeterminate=newValue===false;if(typeof newValue!=="number"){newValue=0;}
return this.indeterminate?false:Math.min(this.options.max,Math.max(this.min,newValue));},_setOptions:function(options){var value=options.value;delete options.value;this._super(options);this.options.value=this._constrainedValue(value);this._refreshValue();},_setOption:function(key,value){if(key==="max"){value=Math.max(this.min,value);}
this._super(key,value);},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min);},_refreshValue:function(){var value=this.options.value,percentage=this._percentage();this.valueDiv.toggle(this.indeterminate||value>this.min).toggleClass("ui-corner-right",value===this.options.max).width(percentage.toFixed(0)+"%");this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate);if(this.indeterminate){this.element.removeAttr("aria-valuenow");if(!this.overlayDiv){this.overlayDiv=$("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv);}}else{this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":value});if(this.overlayDiv){this.overlayDiv.remove();this.overlayDiv=null;}}
if(this.oldValue!==value){this.oldValue=value;this._trigger("change");}
if(value===this.options.max){this._trigger("complete");}}});})(jQuery);(function($,undefined){var numPages=5;$.widget("ui.slider",$.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider"+" ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all");this._refresh();this._setOption("disabled",this.options.disabled);this._animateOff=false;},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue();},_createHandles:function(){var i,handleCount,options=this.options,existingHandles=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),handle="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",handles=[];handleCount=(options.values&&options.values.length)||1;if(existingHandles.length>handleCount){existingHandles.slice(handleCount).remove();existingHandles=existingHandles.slice(0,handleCount);}
for(i=existingHandles.length;i<handleCount;i++){handles.push(handle);}
this.handles=existingHandles.add($(handles.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(i){$(this).data("ui-slider-handle-index",i);});},_createRange:function(){var options=this.options,classes="";if(options.range){if(options.range===true){if(!options.values){options.values=[this._valueMin(),this._valueMin()];}else if(options.values.length&&options.values.length!==2){options.values=[options.values[0],options.values[0]];}else if($.isArray(options.values)){options.values=options.values.slice(0);}}
if(!this.range||!this.range.length){this.range=$("<div></div>").appendTo(this.element);classes="ui-slider-range"+" ui-widget-header ui-corner-all";}else{this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({"left":"","bottom":""});}
this.range.addClass(classes+
((options.range==="min"||options.range==="max")?" ui-slider-range-"+options.range:""));}else{this.range=$([]);}},_setupEvents:function(){var elements=this.handles.add(this.range).filter("a");this._off(elements);this._on(elements,this._handleEvents);this._hoverable(elements);this._focusable(elements);},_destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider"+" ui-slider-horizontal"+" ui-slider-vertical"+" ui-widget"+" ui-widget-content"+" ui-corner-all");this._mouseDestroy();},_mouseCapture:function(event){var position,normValue,distance,closestHandle,index,allowed,offset,mouseOverHandle,that=this,o=this.options;if(o.disabled){return false;}
this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();position={x:event.pageX,y:event.pageY};normValue=this._normValueFromMouse(position);distance=this._valueMax()-this._valueMin()+1;this.handles.each(function(i){var thisDistance=Math.abs(normValue-that.values(i));if((distance>thisDistance)||(distance===thisDistance&&(i===that._lastChangedValue||that.values(i)===o.min))){distance=thisDistance;closestHandle=$(this);index=i;}});allowed=this._start(event,index);if(allowed===false){return false;}
this._mouseSliding=true;this._handleIndex=index;closestHandle.addClass("ui-state-active").focus();offset=closestHandle.offset();mouseOverHandle=!$(event.target).parents().addBack().is(".ui-slider-handle");this._clickOffset=mouseOverHandle?{left:0,top:0}:{left:event.pageX-offset.left-(closestHandle.width()/2),top:event.pageY-offset.top-
(closestHandle.height()/2)-
(parseInt(closestHandle.css("borderTopWidth"),10)||0)-
(parseInt(closestHandle.css("borderBottomWidth"),10)||0)+
(parseInt(closestHandle.css("marginTop"),10)||0)};if(!this.handles.hasClass("ui-state-hover")){this._slide(event,index,normValue);}
this._animateOff=true;return true;},_mouseStart:function(){return true;},_mouseDrag:function(event){var position={x:event.pageX,y:event.pageY},normValue=this._normValueFromMouse(position);this._slide(event,this._handleIndex,normValue);return false;},_mouseStop:function(event){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(event,this._handleIndex);this._change(event,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false;},_detectOrientation:function(){this.orientation=(this.options.orientation==="vertical")?"vertical":"horizontal";},_normValueFromMouse:function(position){var pixelTotal,pixelMouse,percentMouse,valueTotal,valueMouse;if(this.orientation==="horizontal"){pixelTotal=this.elementSize.width;pixelMouse=position.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0);}else{pixelTotal=this.elementSize.height;pixelMouse=position.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0);}
percentMouse=(pixelMouse/pixelTotal);if(percentMouse>1){percentMouse=1;}
if(percentMouse<0){percentMouse=0;}
if(this.orientation==="vertical"){percentMouse=1-percentMouse;}
valueTotal=this._valueMax()-this._valueMin();valueMouse=this._valueMin()+percentMouse*valueTotal;return this._trimAlignValue(valueMouse);},_start:function(event,index){var uiHash={handle:this.handles[index],value:this.value()};if(this.options.values&&this.options.values.length){uiHash.value=this.values(index);uiHash.values=this.values();}
return this._trigger("start",event,uiHash);},_slide:function(event,index,newVal){var otherVal,newValues,allowed;if(this.options.values&&this.options.values.length){otherVal=this.values(index?0:1);if((this.options.values.length===2&&this.options.range===true)&&((index===0&&newVal>otherVal)||(index===1&&newVal<otherVal))){newVal=otherVal;}
if(newVal!==this.values(index)){newValues=this.values();newValues[index]=newVal;allowed=this._trigger("slide",event,{handle:this.handles[index],value:newVal,values:newValues});otherVal=this.values(index?0:1);if(allowed!==false){this.values(index,newVal,true);}}}else{if(newVal!==this.value()){allowed=this._trigger("slide",event,{handle:this.handles[index],value:newVal});if(allowed!==false){this.value(newVal);}}}},_stop:function(event,index){var uiHash={handle:this.handles[index],value:this.value()};if(this.options.values&&this.options.values.length){uiHash.value=this.values(index);uiHash.values=this.values();}
this._trigger("stop",event,uiHash);},_change:function(event,index){if(!this._keySliding&&!this._mouseSliding){var uiHash={handle:this.handles[index],value:this.value()};if(this.options.values&&this.options.values.length){uiHash.value=this.values(index);uiHash.values=this.values();}
this._lastChangedValue=index;this._trigger("change",event,uiHash);}},value:function(newValue){if(arguments.length){this.options.value=this._trimAlignValue(newValue);this._refreshValue();this._change(null,0);return;}
return this._value();},values:function(index,newValue){var vals,newValues,i;if(arguments.length>1){this.options.values[index]=this._trimAlignValue(newValue);this._refreshValue();this._change(null,index);return;}
if(arguments.length){if($.isArray(arguments[0])){vals=this.options.values;newValues=arguments[0];for(i=0;i<vals.length;i+=1){vals[i]=this._trimAlignValue(newValues[i]);this._change(null,i);}
this._refreshValue();}else{if(this.options.values&&this.options.values.length){return this._values(index);}else{return this.value();}}}else{return this._values();}},_setOption:function(key,value){var i,valsLength=0;if(key==="range"&&this.options.range===true){if(value==="min"){this.options.value=this._values(0);this.options.values=null;}else if(value==="max"){this.options.value=this._values(this.options.values.length-1);this.options.values=null;}}
if($.isArray(this.options.values)){valsLength=this.options.values.length;}
$.Widget.prototype._setOption.apply(this,arguments);switch(key){case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(i=0;i<valsLength;i+=1){this._change(null,i);}
this._animateOff=false;break;case"min":case"max":this._animateOff=true;this._refreshValue();this._animateOff=false;break;case"range":this._animateOff=true;this._refresh();this._animateOff=false;break;}},_value:function(){var val=this.options.value;val=this._trimAlignValue(val);return val;},_values:function(index){var val,vals,i;if(arguments.length){val=this.options.values[index];val=this._trimAlignValue(val);return val;}else if(this.options.values&&this.options.values.length){vals=this.options.values.slice();for(i=0;i<vals.length;i+=1){vals[i]=this._trimAlignValue(vals[i]);}
return vals;}else{return[];}},_trimAlignValue:function(val){if(val<=this._valueMin()){return this._valueMin();}
if(val>=this._valueMax()){return this._valueMax();}
var step=(this.options.step>0)?this.options.step:1,valModStep=(val-this._valueMin())%step,alignValue=val-valModStep;if(Math.abs(valModStep)*2>=step){alignValue+=(valModStep>0)?step:(-step);}
return parseFloat(alignValue.toFixed(5));},_valueMin:function(){return this.options.min;},_valueMax:function(){return this.options.max;},_refreshValue:function(){var lastValPercent,valPercent,value,valueMin,valueMax,oRange=this.options.range,o=this.options,that=this,animate=(!this._animateOff)?o.animate:false,_set={};if(this.options.values&&this.options.values.length){this.handles.each(function(i){valPercent=(that.values(i)-that._valueMin())/(that._valueMax()-that._valueMin())*100;_set[that.orientation==="horizontal"?"left":"bottom"]=valPercent+"%";$(this).stop(1,1)[animate?"animate":"css"](_set,o.animate);if(that.options.range===true){if(that.orientation==="horizontal"){if(i===0){that.range.stop(1,1)[animate?"animate":"css"]({left:valPercent+"%"},o.animate);}
if(i===1){that.range[animate?"animate":"css"]({width:(valPercent-lastValPercent)+"%"},{queue:false,duration:o.animate});}}else{if(i===0){that.range.stop(1,1)[animate?"animate":"css"]({bottom:(valPercent)+"%"},o.animate);}
if(i===1){that.range[animate?"animate":"css"]({height:(valPercent-lastValPercent)+"%"},{queue:false,duration:o.animate});}}}
lastValPercent=valPercent;});}else{value=this.value();valueMin=this._valueMin();valueMax=this._valueMax();valPercent=(valueMax!==valueMin)?(value-valueMin)/(valueMax-valueMin)*100:0;_set[this.orientation==="horizontal"?"left":"bottom"]=valPercent+"%";this.handle.stop(1,1)[animate?"animate":"css"](_set,o.animate);if(oRange==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[animate?"animate":"css"]({width:valPercent+"%"},o.animate);}
if(oRange==="max"&&this.orientation==="horizontal"){this.range[animate?"animate":"css"]({width:(100-valPercent)+"%"},{queue:false,duration:o.animate});}
if(oRange==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[animate?"animate":"css"]({height:valPercent+"%"},o.animate);}
if(oRange==="max"&&this.orientation==="vertical"){this.range[animate?"animate":"css"]({height:(100-valPercent)+"%"},{queue:false,duration:o.animate});}}},_handleEvents:{keydown:function(event){var allowed,curVal,newVal,step,index=$(event.target).data("ui-slider-handle-index");switch(event.keyCode){case $.ui.keyCode.HOME:case $.ui.keyCode.END:case $.ui.keyCode.PAGE_UP:case $.ui.keyCode.PAGE_DOWN:case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:event.preventDefault();if(!this._keySliding){this._keySliding=true;$(event.target).addClass("ui-state-active");allowed=this._start(event,index);if(allowed===false){return;}}
break;}
step=this.options.step;if(this.options.values&&this.options.values.length){curVal=newVal=this.values(index);}else{curVal=newVal=this.value();}
switch(event.keyCode){case $.ui.keyCode.HOME:newVal=this._valueMin();break;case $.ui.keyCode.END:newVal=this._valueMax();break;case $.ui.keyCode.PAGE_UP:newVal=this._trimAlignValue(curVal+((this._valueMax()-this._valueMin())/numPages));break;case $.ui.keyCode.PAGE_DOWN:newVal=this._trimAlignValue(curVal-((this._valueMax()-this._valueMin())/numPages));break;case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:if(curVal===this._valueMax()){return;}
newVal=this._trimAlignValue(curVal+step);break;case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:if(curVal===this._valueMin()){return;}
newVal=this._trimAlignValue(curVal-step);break;}
this._slide(event,index,newVal);},click:function(event){event.preventDefault();},keyup:function(event){var index=$(event.target).data("ui-slider-handle-index");if(this._keySliding){this._keySliding=false;this._stop(event,index);this._change(event,index);$(event.target).removeClass("ui-state-active");}}}});}(jQuery));(function($){function modifier(fn){return function(){var previous=this.element.val();fn.apply(this,arguments);this._refresh();if(previous!==this.element.val()){this._trigger("change");}};}
$.widget("ui.spinner",{version:"1.10.3",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:true,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);this._value(this.element.val(),true);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete");}});},_getCreateOptions:function(){var options={},element=this.element;$.each(["min","max","step"],function(i,option){var value=element.attr(option);if(value!==undefined&&value.length){options[option]=value;}});return options;},_events:{keydown:function(event){if(this._start(event)&&this._keydown(event)){event.preventDefault();}},keyup:"_stop",focus:function(){this.previous=this.element.val();},blur:function(event){if(this.cancelBlur){delete this.cancelBlur;return;}
this._stop();this._refresh();if(this.previous!==this.element.val()){this._trigger("change",event);}},mousewheel:function(event,delta){if(!delta){return;}
if(!this.spinning&&!this._start(event)){return false;}
this._spin((delta>0?1:-1)*this.options.step,event);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){if(this.spinning){this._stop(event);}},100);event.preventDefault();},"mousedown .ui-spinner-button":function(event){var previous;previous=this.element[0]===this.document[0].activeElement?this.previous:this.element.val();function checkFocus(){var isActive=this.element[0]===this.document[0].activeElement;if(!isActive){this.element.focus();this.previous=previous;this._delay(function(){this.previous=previous;});}}
event.preventDefault();checkFocus.call(this);this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;checkFocus.call(this);});if(this._start(event)===false){return;}
this._repeat(null,$(event.currentTarget).hasClass("ui-spinner-up")?1:-1,event);},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(event){if(!$(event.currentTarget).hasClass("ui-state-active")){return;}
if(this._start(event)===false){return false;}
this._repeat(null,$(event.currentTarget).hasClass("ui-spinner-up")?1:-1,event);},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var uiSpinner=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=uiSpinner.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");if(this.buttons.height()>Math.ceil(uiSpinner.height()*0.5)&&uiSpinner.height()>0){uiSpinner.height(uiSpinner.height());}
if(this.options.disabled){this.disable();}},_keydown:function(event){var options=this.options,keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.UP:this._repeat(null,1,event);return true;case keyCode.DOWN:this._repeat(null,-1,event);return true;case keyCode.PAGE_UP:this._repeat(null,options.page,event);return true;case keyCode.PAGE_DOWN:this._repeat(null,-options.page,event);return true;}
return false;},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>";},_buttonHtml:function(){return""+"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'>"+"<span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>";},_start:function(event){if(!this.spinning&&this._trigger("start",event)===false){return false;}
if(!this.counter){this.counter=1;}
this.spinning=true;return true;},_repeat:function(i,steps,event){i=i||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,steps,event);},i);this._spin(steps*this.options.step,event);},_spin:function(step,event){var value=this.value()||0;if(!this.counter){this.counter=1;}
value=this._adjustValue(value+step*this._increment(this.counter));if(!this.spinning||this._trigger("spin",event,{value:value})!==false){this._value(value);this.counter++;}},_increment:function(i){var incremental=this.options.incremental;if(incremental){return $.isFunction(incremental)?incremental(i):Math.floor(i*i*i/50000-i*i/500+17*i/200+1);}
return 1;},_precision:function(){var precision=this._precisionOf(this.options.step);if(this.options.min!==null){precision=Math.max(precision,this._precisionOf(this.options.min));}
return precision;},_precisionOf:function(num){var str=num.toString(),decimal=str.indexOf(".");return decimal===-1?0:str.length-decimal-1;},_adjustValue:function(value){var base,aboveMin,options=this.options;base=options.min!==null?options.min:0;aboveMin=value-base;aboveMin=Math.round(aboveMin/options.step)*options.step;value=base+aboveMin;value=parseFloat(value.toFixed(this._precision()));if(options.max!==null&&value>options.max){return options.max;}
if(options.min!==null&&value<options.min){return options.min;}
return value;},_stop:function(event){if(!this.spinning){return;}
clearTimeout(this.timer);clearTimeout(this.mousewheelTimer);this.counter=0;this.spinning=false;this._trigger("stop",event);},_setOption:function(key,value){if(key==="culture"||key==="numberFormat"){var prevValue=this._parse(this.element.val());this.options[key]=value;this.element.val(this._format(prevValue));return;}
if(key==="max"||key==="min"||key==="step"){if(typeof value==="string"){value=this._parse(value);}}
if(key==="icons"){this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(value.up);this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(value.down);}
this._super(key,value);if(key==="disabled"){if(value){this.element.prop("disabled",true);this.buttons.button("disable");}else{this.element.prop("disabled",false);this.buttons.button("enable");}}},_setOptions:modifier(function(options){this._super(options);this._value(this.element.val());}),_parse:function(val){if(typeof val==="string"&&val!==""){val=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(val,10,this.options.culture):+val;}
return val===""||isNaN(val)?null:val;},_format:function(value){if(value===""){return"";}
return window.Globalize&&this.options.numberFormat?Globalize.format(value,this.options.numberFormat,this.options.culture):value;},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())});},_value:function(value,allowAny){var parsed;if(value!==""){parsed=this._parse(value);if(parsed!==null){if(!allowAny){parsed=this._adjustValue(parsed);}
value=this._format(parsed);}}
this.element.val(value);this._refresh();},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",false).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element);},stepUp:modifier(function(steps){this._stepUp(steps);}),_stepUp:function(steps){if(this._start()){this._spin((steps||1)*this.options.step);this._stop();}},stepDown:modifier(function(steps){this._stepDown(steps);}),_stepDown:function(steps){if(this._start()){this._spin((steps||1)*-this.options.step);this._stop();}},pageUp:modifier(function(pages){this._stepUp((pages||1)*this.options.page);}),pageDown:modifier(function(pages){this._stepDown((pages||1)*this.options.page);}),value:function(newVal){if(!arguments.length){return this._parse(this.element.val());}
modifier(this._value).call(this,newVal);},widget:function(){return this.uiSpinner;}});}(jQuery));(function($,undefined){var tabId=0,rhash=/#.*$/;function getNextTabId(){return++tabId;}
function isLocal(anchor){return anchor.hash.length>1&&decodeURIComponent(anchor.href.replace(rhash,""))===decodeURIComponent(location.href.replace(rhash,""));}
$.widget("ui.tabs",{version:"1.10.3",delay:300,options:{active:null,collapsible:false,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var that=this,options=this.options;this.running=false;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",options.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(event){if($(this).is(".ui-state-disabled")){event.preventDefault();}}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){if($(this).closest("li").is(".ui-state-disabled")){this.blur();}});this._processTabs();options.active=this._initialActive();if($.isArray(options.disabled)){options.disabled=$.unique(options.disabled.concat($.map(this.tabs.filter(".ui-state-disabled"),function(li){return that.tabs.index(li);}))).sort();}
if(this.options.active!==false&&this.anchors.length){this.active=this._findActive(options.active);}else{this.active=$();}
this._refresh();if(this.active.length){this.load(options.active);}},_initialActive:function(){var active=this.options.active,collapsible=this.options.collapsible,locationHash=location.hash.substring(1);if(active===null){if(locationHash){this.tabs.each(function(i,tab){if($(tab).attr("aria-controls")===locationHash){active=i;return false;}});}
if(active===null){active=this.tabs.index(this.tabs.filter(".ui-tabs-active"));}
if(active===null||active===-1){active=this.tabs.length?0:false;}}
if(active!==false){active=this.tabs.index(this.tabs.eq(active));if(active===-1){active=collapsible?false:0;}}
if(!collapsible&&active===false&&this.anchors.length){active=0;}
return active;},_getCreateEventData:function(){return{tab:this.active,panel:!this.active.length?$():this._getPanelForTab(this.active)};},_tabKeydown:function(event){var focusedTab=$(this.document[0].activeElement).closest("li"),selectedIndex=this.tabs.index(focusedTab),goingForward=true;if(this._handlePageNav(event)){return;}
switch(event.keyCode){case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:selectedIndex++;break;case $.ui.keyCode.UP:case $.ui.keyCode.LEFT:goingForward=false;selectedIndex--;break;case $.ui.keyCode.END:selectedIndex=this.anchors.length-1;break;case $.ui.keyCode.HOME:selectedIndex=0;break;case $.ui.keyCode.SPACE:event.preventDefault();clearTimeout(this.activating);this._activate(selectedIndex);return;case $.ui.keyCode.ENTER:event.preventDefault();clearTimeout(this.activating);this._activate(selectedIndex===this.options.active?false:selectedIndex);return;default:return;}
event.preventDefault();clearTimeout(this.activating);selectedIndex=this._focusNextTab(selectedIndex,goingForward);if(!event.ctrlKey){focusedTab.attr("aria-selected","false");this.tabs.eq(selectedIndex).attr("aria-selected","true");this.activating=this._delay(function(){this.option("active",selectedIndex);},this.delay);}},_panelKeydown:function(event){if(this._handlePageNav(event)){return;}
if(event.ctrlKey&&event.keyCode===$.ui.keyCode.UP){event.preventDefault();this.active.focus();}},_handlePageNav:function(event){if(event.altKey&&event.keyCode===$.ui.keyCode.PAGE_UP){this._activate(this._focusNextTab(this.options.active-1,false));return true;}
if(event.altKey&&event.keyCode===$.ui.keyCode.PAGE_DOWN){this._activate(this._focusNextTab(this.options.active+1,true));return true;}},_findNextTab:function(index,goingForward){var lastTabIndex=this.tabs.length-1;function constrain(){if(index>lastTabIndex){index=0;}
if(index<0){index=lastTabIndex;}
return index;}
while($.inArray(constrain(),this.options.disabled)!==-1){index=goingForward?index+1:index-1;}
return index;},_focusNextTab:function(index,goingForward){index=this._findNextTab(index,goingForward);this.tabs.eq(index).focus();return index;},_setOption:function(key,value){if(key==="active"){this._activate(value);return;}
if(key==="disabled"){this._setupDisabled(value);return;}
this._super(key,value);if(key==="collapsible"){this.element.toggleClass("ui-tabs-collapsible",value);if(!value&&this.options.active===false){this._activate(0);}}
if(key==="event"){this._setupEvents(value);}
if(key==="heightStyle"){this._setupHeightStyle(value);}},_tabId:function(tab){return tab.attr("aria-controls")||"ui-tabs-"+getNextTabId();},_sanitizeSelector:function(hash){return hash?hash.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):"";},refresh:function(){var options=this.options,lis=this.tablist.children(":has(a[href])");options.disabled=$.map(lis.filter(".ui-state-disabled"),function(tab){return lis.index(tab);});this._processTabs();if(options.active===false||!this.anchors.length){options.active=false;this.active=$();}else if(this.active.length&&!$.contains(this.tablist[0],this.active[0])){if(this.tabs.length===options.disabled.length){options.active=false;this.active=$();}else{this._activate(this._findNextTab(Math.max(0,options.active-1),false));}}else{options.active=this.tabs.index(this.active);}
this._refresh();},_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"});if(!this.active.length){this.tabs.eq(0).attr("tabIndex",0);}else{this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0});this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"});}},_processTabs:function(){var that=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist");this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return $("a",this)[0];}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=$();this.anchors.each(function(i,anchor){var selector,panel,panelId,anchorId=$(anchor).uniqueId().attr("id"),tab=$(anchor).closest("li"),originalAriaControls=tab.attr("aria-controls");if(isLocal(anchor)){selector=anchor.hash;panel=that.element.find(that._sanitizeSelector(selector));}else{panelId=that._tabId(tab);selector="#"+panelId;panel=that.element.find(selector);if(!panel.length){panel=that._createPanel(panelId);panel.insertAfter(that.panels[i-1]||that.tablist);}
panel.attr("aria-live","polite");}
if(panel.length){that.panels=that.panels.add(panel);}
if(originalAriaControls){tab.data("ui-tabs-aria-controls",originalAriaControls);}
tab.attr({"aria-controls":selector.substring(1),"aria-labelledby":anchorId});panel.attr("aria-labelledby",anchorId);});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel");},_getList:function(){return this.element.find("ol,ul").eq(0);},_createPanel:function(id){return $("<div>").attr("id",id).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",true);},_setupDisabled:function(disabled){if($.isArray(disabled)){if(!disabled.length){disabled=false;}else if(disabled.length===this.anchors.length){disabled=true;}}
for(var i=0,li;(li=this.tabs[i]);i++){if(disabled===true||$.inArray(i,disabled)!==-1){$(li).addClass("ui-state-disabled").attr("aria-disabled","true");}else{$(li).removeClass("ui-state-disabled").removeAttr("aria-disabled");}}
this.options.disabled=disabled;},_setupEvents:function(event){var events={click:function(event){event.preventDefault();}};if(event){$.each(event.split(" "),function(index,eventName){events[eventName]="_eventHandler";});}
this._off(this.anchors.add(this.tabs).add(this.panels));this._on(this.anchors,events);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs);},_setupHeightStyle:function(heightStyle){var maxHeight,parent=this.element.parent();if(heightStyle==="fill"){maxHeight=parent.height();maxHeight-=this.element.outerHeight()-this.element.height();this.element.siblings(":visible").each(function(){var elem=$(this),position=elem.css("position");if(position==="absolute"||position==="fixed"){return;}
maxHeight-=elem.outerHeight(true);});this.element.children().not(this.panels).each(function(){maxHeight-=$(this).outerHeight(true);});this.panels.each(function(){$(this).height(Math.max(0,maxHeight-
$(this).innerHeight()+$(this).height()));}).css("overflow","auto");}else if(heightStyle==="auto"){maxHeight=0;this.panels.each(function(){maxHeight=Math.max(maxHeight,$(this).height("").height());}).height(maxHeight);}},_eventHandler:function(event){var options=this.options,active=this.active,anchor=$(event.currentTarget),tab=anchor.closest("li"),clickedIsActive=tab[0]===active[0],collapsing=clickedIsActive&&options.collapsible,toShow=collapsing?$():this._getPanelForTab(tab),toHide=!active.length?$():this._getPanelForTab(active),eventData={oldTab:active,oldPanel:toHide,newTab:collapsing?$():tab,newPanel:toShow};event.preventDefault();if(tab.hasClass("ui-state-disabled")||tab.hasClass("ui-tabs-loading")||this.running||(clickedIsActive&&!options.collapsible)||(this._trigger("beforeActivate",event,eventData)===false)){return;}
options.active=collapsing?false:this.tabs.index(tab);this.active=clickedIsActive?$():tab;if(this.xhr){this.xhr.abort();}
if(!toHide.length&&!toShow.length){$.error("jQuery UI Tabs: Mismatching fragment identifier.");}
if(toShow.length){this.load(this.tabs.index(tab),event);}
this._toggle(event,eventData);},_toggle:function(event,eventData){var that=this,toShow=eventData.newPanel,toHide=eventData.oldPanel;this.running=true;function complete(){that.running=false;that._trigger("activate",event,eventData);}
function show(){eventData.newTab.closest("li").addClass("ui-tabs-active ui-state-active");if(toShow.length&&that.options.show){that._show(toShow,that.options.show,complete);}else{toShow.show();complete();}}
if(toHide.length&&this.options.hide){this._hide(toHide,this.options.hide,function(){eventData.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");show();});}else{eventData.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");toHide.hide();show();}
toHide.attr({"aria-expanded":"false","aria-hidden":"true"});eventData.oldTab.attr("aria-selected","false");if(toShow.length&&toHide.length){eventData.oldTab.attr("tabIndex",-1);}else if(toShow.length){this.tabs.filter(function(){return $(this).attr("tabIndex")===0;}).attr("tabIndex",-1);}
toShow.attr({"aria-expanded":"true","aria-hidden":"false"});eventData.newTab.attr({"aria-selected":"true",tabIndex:0});},_activate:function(index){var anchor,active=this._findActive(index);if(active[0]===this.active[0]){return;}
if(!active.length){active=this.active;}
anchor=active.find(".ui-tabs-anchor")[0];this._eventHandler({target:anchor,currentTarget:anchor,preventDefault:$.noop});},_findActive:function(index){return index===false?$():this.tabs.eq(index);},_getIndex:function(index){if(typeof index==="string"){index=this.anchors.index(this.anchors.filter("[href$='"+index+"']"));}
return index;},_destroy:function(){if(this.xhr){this.xhr.abort();}
this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();this.tabs.add(this.panels).each(function(){if($.data(this,"ui-tabs-destroy")){$(this).remove();}else{$(this).removeClass("ui-state-default ui-state-active ui-state-disabled "+"ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role");}});this.tabs.each(function(){var li=$(this),prev=li.data("ui-tabs-aria-controls");if(prev){li.attr("aria-controls",prev).removeData("ui-tabs-aria-controls");}else{li.removeAttr("aria-controls");}});this.panels.show();if(this.options.heightStyle!=="content"){this.panels.css("height","");}},enable:function(index){var disabled=this.options.disabled;if(disabled===false){return;}
if(index===undefined){disabled=false;}else{index=this._getIndex(index);if($.isArray(disabled)){disabled=$.map(disabled,function(num){return num!==index?num:null;});}else{disabled=$.map(this.tabs,function(li,num){return num!==index?num:null;});}}
this._setupDisabled(disabled);},disable:function(index){var disabled=this.options.disabled;if(disabled===true){return;}
if(index===undefined){disabled=true;}else{index=this._getIndex(index);if($.inArray(index,disabled)!==-1){return;}
if($.isArray(disabled)){disabled=$.merge([index],disabled).sort();}else{disabled=[index];}}
this._setupDisabled(disabled);},load:function(index,event){index=this._getIndex(index);var that=this,tab=this.tabs.eq(index),anchor=tab.find(".ui-tabs-anchor"),panel=this._getPanelForTab(tab),eventData={tab:tab,panel:panel};if(isLocal(anchor[0])){return;}
this.xhr=$.ajax(this._ajaxSettings(anchor,event,eventData));if(this.xhr&&this.xhr.statusText!=="canceled"){tab.addClass("ui-tabs-loading");panel.attr("aria-busy","true");this.xhr.success(function(response){setTimeout(function(){panel.html(response);that._trigger("load",event,eventData);},1);}).complete(function(jqXHR,status){setTimeout(function(){if(status==="abort"){that.panels.stop(false,true);}
tab.removeClass("ui-tabs-loading");panel.removeAttr("aria-busy");if(jqXHR===that.xhr){delete that.xhr;}},1);});}},_ajaxSettings:function(anchor,event,eventData){var that=this;return{url:anchor.attr("href"),beforeSend:function(jqXHR,settings){return that._trigger("beforeLoad",event,$.extend({jqXHR:jqXHR,ajaxSettings:settings},eventData));}};},_getPanelForTab:function(tab){var id=$(tab).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+id));}});})(jQuery);(function($){var increments=0;function addDescribedBy(elem,id){var describedby=(elem.attr("aria-describedby")||"").split(/\s+/);describedby.push(id);elem.data("ui-tooltip-id",id).attr("aria-describedby",$.trim(describedby.join(" ")));}
function removeDescribedBy(elem){var id=elem.data("ui-tooltip-id"),describedby=(elem.attr("aria-describedby")||"").split(/\s+/),index=$.inArray(id,describedby);if(index!==-1){describedby.splice(index,1);}
elem.removeData("ui-tooltip-id");describedby=$.trim(describedby.join(" "));if(describedby){elem.attr("aria-describedby",describedby);}else{elem.removeAttr("aria-describedby");}}
$.widget("ui.tooltip",{version:"1.10.3",options:{content:function(){var title=$(this).attr("title")||"";return $("<a>").text(title).html();},hide:true,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:true,tooltipClass:null,track:false,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};if(this.options.disabled){this._disable();}},_setOption:function(key,value){var that=this;if(key==="disabled"){this[value?"_disable":"_enable"]();this.options[key]=value;return;}
this._super(key,value);if(key==="content"){$.each(this.tooltips,function(id,element){that._updateContent(element);});}},_disable:function(){var that=this;$.each(this.tooltips,function(id,element){var event=$.Event("blur");event.target=event.currentTarget=element[0];that.close(event,true);});this.element.find(this.options.items).addBack().each(function(){var element=$(this);if(element.is("[title]")){element.data("ui-tooltip-title",element.attr("title")).attr("title","");}});},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var element=$(this);if(element.data("ui-tooltip-title")){element.attr("title",element.data("ui-tooltip-title"));}});},open:function(event){var that=this,target=$(event?event.target:this.element).closest(this.options.items);if(!target.length||target.data("ui-tooltip-id")){return;}
if(target.attr("title")){target.data("ui-tooltip-title",target.attr("title"));}
target.data("ui-tooltip-open",true);if(event&&event.type==="mouseover"){target.parents().each(function(){var parent=$(this),blurEvent;if(parent.data("ui-tooltip-open")){blurEvent=$.Event("blur");blurEvent.target=blurEvent.currentTarget=this;that.close(blurEvent,true);}
if(parent.attr("title")){parent.uniqueId();that.parents[this.id]={element:this,title:parent.attr("title")};parent.attr("title","");}});}
this._updateContent(target,event);},_updateContent:function(target,event){var content,contentOption=this.options.content,that=this,eventType=event?event.type:null;if(typeof contentOption==="string"){return this._open(event,target,contentOption);}
content=contentOption.call(target[0],function(response){if(!target.data("ui-tooltip-open")){return;}
that._delay(function(){if(event){event.type=eventType;}
this._open(event,target,response);});});if(content){this._open(event,target,content);}},_open:function(event,target,content){var tooltip,events,delayedShow,positionOption=$.extend({},this.options.position);if(!content){return;}
tooltip=this._find(target);if(tooltip.length){tooltip.find(".ui-tooltip-content").html(content);return;}
if(target.is("[title]")){if(event&&event.type==="mouseover"){target.attr("title","");}else{target.removeAttr("title");}}
tooltip=this._tooltip(target);addDescribedBy(target,tooltip.attr("id"));tooltip.find(".ui-tooltip-content").html(content);function position(event){positionOption.of=event;if(tooltip.is(":hidden")){return;}
tooltip.position(positionOption);}
if(this.options.track&&event&&/^mouse/.test(event.type)){this._on(this.document,{mousemove:position});position(event);}else{tooltip.position($.extend({of:target},this.options.position));}
tooltip.hide();this._show(tooltip,this.options.show);if(this.options.show&&this.options.show.delay){delayedShow=this.delayedShow=setInterval(function(){if(tooltip.is(":visible")){position(positionOption.of);clearInterval(delayedShow);}},$.fx.interval);}
this._trigger("open",event,{tooltip:tooltip});events={keyup:function(event){if(event.keyCode===$.ui.keyCode.ESCAPE){var fakeEvent=$.Event(event);fakeEvent.currentTarget=target[0];this.close(fakeEvent,true);}},remove:function(){this._removeTooltip(tooltip);}};if(!event||event.type==="mouseover"){events.mouseleave="close";}
if(!event||event.type==="focusin"){events.focusout="close";}
this._on(true,target,events);},close:function(event){var that=this,target=$(event?event.currentTarget:this.element),tooltip=this._find(target);if(this.closing){return;}
clearInterval(this.delayedShow);if(target.data("ui-tooltip-title")){target.attr("title",target.data("ui-tooltip-title"));}
removeDescribedBy(target);tooltip.stop(true);this._hide(tooltip,this.options.hide,function(){that._removeTooltip($(this));});target.removeData("ui-tooltip-open");this._off(target,"mouseleave focusout keyup");if(target[0]!==this.element[0]){this._off(target,"remove");}
this._off(this.document,"mousemove");if(event&&event.type==="mouseleave"){$.each(this.parents,function(id,parent){$(parent.element).attr("title",parent.title);delete that.parents[id];});}
this.closing=true;this._trigger("close",event,{tooltip:tooltip});this.closing=false;},_tooltip:function(element){var id="ui-tooltip-"+increments++,tooltip=$("<div>").attr({id:id,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+
(this.options.tooltipClass||""));$("<div>").addClass("ui-tooltip-content").appendTo(tooltip);tooltip.appendTo(this.document[0].body);this.tooltips[id]=element;return tooltip;},_find:function(target){var id=target.data("ui-tooltip-id");return id?$("#"+id):$();},_removeTooltip:function(tooltip){tooltip.remove();delete this.tooltips[tooltip.attr("id")];},_destroy:function(){var that=this;$.each(this.tooltips,function(id,element){var event=$.Event("blur");event.target=event.currentTarget=element[0];that.close(event,true);$("#"+id).remove();if(element.data("ui-tooltip-title")){element.attr("title",element.data("ui-tooltip-title"));element.removeData("ui-tooltip-title");}});}});}(jQuery));(function($,undefined){var dataSpace="ui-effects-";$.effects={effect:{}};
/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
(function(jQuery,undefined){var stepHooks="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",rplusequals=/^([\-+])=\s*(\d+\.?\d*)/,stringParsers=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[execResult[1],execResult[2],execResult[3],execResult[4]];}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[execResult[1]*2.55,execResult[2]*2.55,execResult[3]*2.55,execResult[4]];}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(execResult){return[parseInt(execResult[1],16),parseInt(execResult[2],16),parseInt(execResult[3],16)];}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(execResult){return[parseInt(execResult[1]+execResult[1],16),parseInt(execResult[2]+execResult[2],16),parseInt(execResult[3]+execResult[3],16)];}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(execResult){return[execResult[1],execResult[2]/100,execResult[3]/100,execResult[4]];}}],color=jQuery.Color=function(color,green,blue,alpha){return new jQuery.Color.fn.parse(color,green,blue,alpha);},spaces={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},propTypes={"byte":{floor:true,max:255},"percent":{max:1},"degrees":{mod:360,floor:true}},support=color.support={},supportElem=jQuery("<p>")[0],colors,each=jQuery.each;supportElem.style.cssText="background-color:rgba(1,1,1,.5)";support.rgba=supportElem.style.backgroundColor.indexOf("rgba")>-1;each(spaces,function(spaceName,space){space.cache="_"+spaceName;space.props.alpha={idx:3,type:"percent",def:1};});function clamp(value,prop,allowEmpty){var type=propTypes[prop.type]||{};if(value==null){return(allowEmpty||!prop.def)?null:prop.def;}
value=type.floor?~~value:parseFloat(value);if(isNaN(value)){return prop.def;}
if(type.mod){return(value+type.mod)%type.mod;}
return 0>value?0:type.max<value?type.max:value;}
function stringParse(string){var inst=color(),rgba=inst._rgba=[];string=string.toLowerCase();each(stringParsers,function(i,parser){var parsed,match=parser.re.exec(string),values=match&&parser.parse(match),spaceName=parser.space||"rgba";if(values){parsed=inst[spaceName](values);inst[spaces[spaceName].cache]=parsed[spaces[spaceName].cache];rgba=inst._rgba=parsed._rgba;return false;}});if(rgba.length){if(rgba.join()==="0,0,0,0"){jQuery.extend(rgba,colors.transparent);}
return inst;}
return colors[string];}
color.fn=jQuery.extend(color.prototype,{parse:function(red,green,blue,alpha){if(red===undefined){this._rgba=[null,null,null,null];return this;}
if(red.jquery||red.nodeType){red=jQuery(red).css(green);green=undefined;}
var inst=this,type=jQuery.type(red),rgba=this._rgba=[];if(green!==undefined){red=[red,green,blue,alpha];type="array";}
if(type==="string"){return this.parse(stringParse(red)||colors._default);}
if(type==="array"){each(spaces.rgba.props,function(key,prop){rgba[prop.idx]=clamp(red[prop.idx],prop);});return this;}
if(type==="object"){if(red instanceof color){each(spaces,function(spaceName,space){if(red[space.cache]){inst[space.cache]=red[space.cache].slice();}});}else{each(spaces,function(spaceName,space){var cache=space.cache;each(space.props,function(key,prop){if(!inst[cache]&&space.to){if(key==="alpha"||red[key]==null){return;}
inst[cache]=space.to(inst._rgba);}
inst[cache][prop.idx]=clamp(red[key],prop,true);});if(inst[cache]&&jQuery.inArray(null,inst[cache].slice(0,3))<0){inst[cache][3]=1;if(space.from){inst._rgba=space.from(inst[cache]);}}});}
return this;}},is:function(compare){var is=color(compare),same=true,inst=this;each(spaces,function(_,space){var localCache,isCache=is[space.cache];if(isCache){localCache=inst[space.cache]||space.to&&space.to(inst._rgba)||[];each(space.props,function(_,prop){if(isCache[prop.idx]!=null){same=(isCache[prop.idx]===localCache[prop.idx]);return same;}});}
return same;});return same;},_space:function(){var used=[],inst=this;each(spaces,function(spaceName,space){if(inst[space.cache]){used.push(spaceName);}});return used.pop();},transition:function(other,distance){var end=color(other),spaceName=end._space(),space=spaces[spaceName],startColor=this.alpha()===0?color("transparent"):this,start=startColor[space.cache]||space.to(startColor._rgba),result=start.slice();end=end[space.cache];each(space.props,function(key,prop){var index=prop.idx,startValue=start[index],endValue=end[index],type=propTypes[prop.type]||{};if(endValue===null){return;}
if(startValue===null){result[index]=endValue;}else{if(type.mod){if(endValue-startValue>type.mod/2){startValue+=type.mod;}else if(startValue-endValue>type.mod/2){startValue-=type.mod;}}
result[index]=clamp((endValue-startValue)*distance+startValue,prop);}});return this[spaceName](result);},blend:function(opaque){if(this._rgba[3]===1){return this;}
var rgb=this._rgba.slice(),a=rgb.pop(),blend=color(opaque)._rgba;return color(jQuery.map(rgb,function(v,i){return(1-a)*blend[i]+a*v;}));},toRgbaString:function(){var prefix="rgba(",rgba=jQuery.map(this._rgba,function(v,i){return v==null?(i>2?1:0):v;});if(rgba[3]===1){rgba.pop();prefix="rgb(";}
return prefix+rgba.join()+")";},toHslaString:function(){var prefix="hsla(",hsla=jQuery.map(this.hsla(),function(v,i){if(v==null){v=i>2?1:0;}
if(i&&i<3){v=Math.round(v*100)+"%";}
return v;});if(hsla[3]===1){hsla.pop();prefix="hsl(";}
return prefix+hsla.join()+")";},toHexString:function(includeAlpha){var rgba=this._rgba.slice(),alpha=rgba.pop();if(includeAlpha){rgba.push(~~(alpha*255));}
return"#"+jQuery.map(rgba,function(v){v=(v||0).toString(16);return v.length===1?"0"+v:v;}).join("");},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString();}});color.fn.parse.prototype=color.fn;function hue2rgb(p,q,h){h=(h+1)%1;if(h*6<1){return p+(q-p)*h*6;}
if(h*2<1){return q;}
if(h*3<2){return p+(q-p)*((2/3)-h)*6;}
return p;}
spaces.hsla.to=function(rgba){if(rgba[0]==null||rgba[1]==null||rgba[2]==null){return[null,null,null,rgba[3]];}
var r=rgba[0]/255,g=rgba[1]/255,b=rgba[2]/255,a=rgba[3],max=Math.max(r,g,b),min=Math.min(r,g,b),diff=max-min,add=max+min,l=add*0.5,h,s;if(min===max){h=0;}else if(r===max){h=(60*(g-b)/diff)+360;}else if(g===max){h=(60*(b-r)/diff)+120;}else{h=(60*(r-g)/diff)+240;}
if(diff===0){s=0;}else if(l<=0.5){s=diff/add;}else{s=diff/(2-add);}
return[Math.round(h)%360,s,l,a==null?1:a];};spaces.hsla.from=function(hsla){if(hsla[0]==null||hsla[1]==null||hsla[2]==null){return[null,null,null,hsla[3]];}
var h=hsla[0]/360,s=hsla[1],l=hsla[2],a=hsla[3],q=l<=0.5?l*(1+s):l+s-l*s,p=2*l-q;return[Math.round(hue2rgb(p,q,h+(1/3))*255),Math.round(hue2rgb(p,q,h)*255),Math.round(hue2rgb(p,q,h-(1/3))*255),a];};each(spaces,function(spaceName,space){var props=space.props,cache=space.cache,to=space.to,from=space.from;color.fn[spaceName]=function(value){if(to&&!this[cache]){this[cache]=to(this._rgba);}
if(value===undefined){return this[cache].slice();}
var ret,type=jQuery.type(value),arr=(type==="array"||type==="object")?value:arguments,local=this[cache].slice();each(props,function(key,prop){var val=arr[type==="object"?key:prop.idx];if(val==null){val=local[prop.idx];}
local[prop.idx]=clamp(val,prop);});if(from){ret=color(from(local));ret[cache]=local;return ret;}else{return color(local);}};each(props,function(key,prop){if(color.fn[key]){return;}
color.fn[key]=function(value){var vtype=jQuery.type(value),fn=(key==="alpha"?(this._hsla?"hsla":"rgba"):spaceName),local=this[fn](),cur=local[prop.idx],match;if(vtype==="undefined"){return cur;}
if(vtype==="function"){value=value.call(this,cur);vtype=jQuery.type(value);}
if(value==null&&prop.empty){return this;}
if(vtype==="string"){match=rplusequals.exec(value);if(match){value=cur+parseFloat(match[2])*(match[1]==="+"?1:-1);}}
local[prop.idx]=value;return this[fn](local);};});});color.hook=function(hook){var hooks=hook.split(" ");each(hooks,function(i,hook){jQuery.cssHooks[hook]={set:function(elem,value){var parsed,curElem,backgroundColor="";if(value!=="transparent"&&(jQuery.type(value)!=="string"||(parsed=stringParse(value)))){value=color(parsed||value);if(!support.rgba&&value._rgba[3]!==1){curElem=hook==="backgroundColor"?elem.parentNode:elem;while((backgroundColor===""||backgroundColor==="transparent")&&curElem&&curElem.style){try{backgroundColor=jQuery.css(curElem,"backgroundColor");curElem=curElem.parentNode;}catch(e){}}
value=value.blend(backgroundColor&&backgroundColor!=="transparent"?backgroundColor:"_default");}
value=value.toRgbaString();}
try{elem.style[hook]=value;}catch(e){}}};jQuery.fx.step[hook]=function(fx){if(!fx.colorInit){fx.start=color(fx.elem,hook);fx.end=color(fx.end);fx.colorInit=true;}
jQuery.cssHooks[hook].set(fx.elem,fx.start.transition(fx.end,fx.pos));};});};color.hook(stepHooks);jQuery.cssHooks.borderColor={expand:function(value){var expanded={};each(["Top","Right","Bottom","Left"],function(i,part){expanded["border"+part+"Color"]=value;});return expanded;}};colors=jQuery.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"};})(jQuery);(function(){var classAnimationActions=["add","remove","toggle"],shorthandStyles={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};$.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(_,prop){$.fx.step[prop]=function(fx){if(fx.end!=="none"&&!fx.setAttr||fx.pos===1&&!fx.setAttr){jQuery.style(fx.elem,prop,fx.end);fx.setAttr=true;}};});function getElementStyles(elem){var key,len,style=elem.ownerDocument.defaultView?elem.ownerDocument.defaultView.getComputedStyle(elem,null):elem.currentStyle,styles={};if(style&&style.length&&style[0]&&style[style[0]]){len=style.length;while(len--){key=style[len];if(typeof style[key]==="string"){styles[$.camelCase(key)]=style[key];}}}else{for(key in style){if(typeof style[key]==="string"){styles[key]=style[key];}}}
return styles;}
function styleDifference(oldStyle,newStyle){var diff={},name,value;for(name in newStyle){value=newStyle[name];if(oldStyle[name]!==value){if(!shorthandStyles[name]){if($.fx.step[name]||!isNaN(parseFloat(value))){diff[name]=value;}}}}
return diff;}
if(!$.fn.addBack){$.fn.addBack=function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector));};}
$.effects.animateClass=function(value,duration,easing,callback){var o=$.speed(duration,easing,callback);return this.queue(function(){var animated=$(this),baseClass=animated.attr("class")||"",applyClassChange,allAnimations=o.children?animated.find("*").addBack():animated;allAnimations=allAnimations.map(function(){var el=$(this);return{el:el,start:getElementStyles(this)};});applyClassChange=function(){$.each(classAnimationActions,function(i,action){if(value[action]){animated[action+"Class"](value[action]);}});};applyClassChange();allAnimations=allAnimations.map(function(){this.end=getElementStyles(this.el[0]);this.diff=styleDifference(this.start,this.end);return this;});animated.attr("class",baseClass);allAnimations=allAnimations.map(function(){var styleInfo=this,dfd=$.Deferred(),opts=$.extend({},o,{queue:false,complete:function(){dfd.resolve(styleInfo);}});this.el.animate(this.diff,opts);return dfd.promise();});$.when.apply($,allAnimations.get()).done(function(){applyClassChange();$.each(arguments,function(){var el=this.el;$.each(this.diff,function(key){el.css(key,"");});});o.complete.call(animated[0]);});});};$.fn.extend({addClass:(function(orig){return function(classNames,speed,easing,callback){return speed?$.effects.animateClass.call(this,{add:classNames},speed,easing,callback):orig.apply(this,arguments);};})($.fn.addClass),removeClass:(function(orig){return function(classNames,speed,easing,callback){return arguments.length>1?$.effects.animateClass.call(this,{remove:classNames},speed,easing,callback):orig.apply(this,arguments);};})($.fn.removeClass),toggleClass:(function(orig){return function(classNames,force,speed,easing,callback){if(typeof force==="boolean"||force===undefined){if(!speed){return orig.apply(this,arguments);}else{return $.effects.animateClass.call(this,(force?{add:classNames}:{remove:classNames}),speed,easing,callback);}}else{return $.effects.animateClass.call(this,{toggle:classNames},force,speed,easing);}};})($.fn.toggleClass),switchClass:function(remove,add,speed,easing,callback){return $.effects.animateClass.call(this,{add:add,remove:remove},speed,easing,callback);}});})();(function(){$.extend($.effects,{version:"1.10.3",save:function(element,set){for(var i=0;i<set.length;i++){if(set[i]!==null){element.data(dataSpace+set[i],element[0].style[set[i]]);}}},restore:function(element,set){var val,i;for(i=0;i<set.length;i++){if(set[i]!==null){val=element.data(dataSpace+set[i]);if(val===undefined){val="";}
element.css(set[i],val);}}},setMode:function(el,mode){if(mode==="toggle"){mode=el.is(":hidden")?"show":"hide";}
return mode;},getBaseline:function(origin,original){var y,x;switch(origin[0]){case"top":y=0;break;case"middle":y=0.5;break;case"bottom":y=1;break;default:y=origin[0]/original.height;}
switch(origin[1]){case"left":x=0;break;case"center":x=0.5;break;case"right":x=1;break;default:x=origin[1]/original.width;}
return{x:x,y:y};},createWrapper:function(element){if(element.parent().is(".ui-effects-wrapper")){return element.parent();}
var props={width:element.outerWidth(true),height:element.outerHeight(true),"float":element.css("float")},wrapper=$("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),size={width:element.width(),height:element.height()},active=document.activeElement;try{active.id;}catch(e){active=document.body;}
element.wrap(wrapper);if(element[0]===active||$.contains(element[0],active)){$(active).focus();}
wrapper=element.parent();if(element.css("position")==="static"){wrapper.css({position:"relative"});element.css({position:"relative"});}else{$.extend(props,{position:element.css("position"),zIndex:element.css("z-index")});$.each(["top","left","bottom","right"],function(i,pos){props[pos]=element.css(pos);if(isNaN(parseInt(props[pos],10))){props[pos]="auto";}});element.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"});}
element.css(size);return wrapper.css(props).show();},removeWrapper:function(element){var active=document.activeElement;if(element.parent().is(".ui-effects-wrapper")){element.parent().replaceWith(element);if(element[0]===active||$.contains(element[0],active)){$(active).focus();}}
return element;},setTransition:function(element,list,factor,value){value=value||{};$.each(list,function(i,x){var unit=element.cssUnit(x);if(unit[0]>0){value[x]=unit[0]*factor+unit[1];}});return value;}});function _normalizeArguments(effect,options,speed,callback){if($.isPlainObject(effect)){options=effect;effect=effect.effect;}
effect={effect:effect};if(options==null){options={};}
if($.isFunction(options)){callback=options;speed=null;options={};}
if(typeof options==="number"||$.fx.speeds[options]){callback=speed;speed=options;options={};}
if($.isFunction(speed)){callback=speed;speed=null;}
if(options){$.extend(effect,options);}
speed=speed||options.duration;effect.duration=$.fx.off?0:typeof speed==="number"?speed:speed in $.fx.speeds?$.fx.speeds[speed]:$.fx.speeds._default;effect.complete=callback||options.complete;return effect;}
function standardAnimationOption(option){if(!option||typeof option==="number"||$.fx.speeds[option]){return true;}
if(typeof option==="string"&&!$.effects.effect[option]){return true;}
if($.isFunction(option)){return true;}
if(typeof option==="object"&&!option.effect){return true;}
return false;}
$.fn.extend({effect:function(){var args=_normalizeArguments.apply(this,arguments),mode=args.mode,queue=args.queue,effectMethod=$.effects.effect[args.effect];if($.fx.off||!effectMethod){if(mode){return this[mode](args.duration,args.complete);}else{return this.each(function(){if(args.complete){args.complete.call(this);}});}}
function run(next){var elem=$(this),complete=args.complete,mode=args.mode;function done(){if($.isFunction(complete)){complete.call(elem[0]);}
if($.isFunction(next)){next();}}
if(elem.is(":hidden")?mode==="hide":mode==="show"){elem[mode]();done();}else{effectMethod.call(elem[0],args,done);}}
return queue===false?this.each(run):this.queue(queue||"fx",run);},show:(function(orig){return function(option){if(standardAnimationOption(option)){return orig.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args.mode="show";return this.effect.call(this,args);}};})($.fn.show),hide:(function(orig){return function(option){if(standardAnimationOption(option)){return orig.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args.mode="hide";return this.effect.call(this,args);}};})($.fn.hide),toggle:(function(orig){return function(option){if(standardAnimationOption(option)||typeof option==="boolean"){return orig.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args.mode="toggle";return this.effect.call(this,args);}};})($.fn.toggle),cssUnit:function(key){var style=this.css(key),val=[];$.each(["em","px","%","pt"],function(i,unit){if(style.indexOf(unit)>0){val=[parseFloat(style),unit];}});return val;}});})();(function(){var baseEasings={};$.each(["Quad","Cubic","Quart","Quint","Expo"],function(i,name){baseEasings[name]=function(p){return Math.pow(p,i+2);};});$.extend(baseEasings,{Sine:function(p){return 1-Math.cos(p*Math.PI/2);},Circ:function(p){return 1-Math.sqrt(1-p*p);},Elastic:function(p){return p===0||p===1?p:-Math.pow(2,8*(p-1))*Math.sin(((p-1)*80-7.5)*Math.PI/15);},Back:function(p){return p*p*(3*p-2);},Bounce:function(p){var pow2,bounce=4;while(p<((pow2=Math.pow(2,--bounce))-1)/11){}
return 1/Math.pow(4,3-bounce)-7.5625*Math.pow((pow2*3-2)/22-p,2);}});$.each(baseEasings,function(name,easeIn){$.easing["easeIn"+name]=easeIn;$.easing["easeOut"+name]=function(p){return 1-easeIn(1-p);};$.easing["easeInOut"+name]=function(p){return p<0.5?easeIn(p*2)/2:1-easeIn(p*-2+2)/2;};});})();})(jQuery);(function($,undefined){var rvertical=/up|down|vertical/,rpositivemotion=/up|left|vertical|horizontal/;$.effects.effect.blind=function(o,done){var el=$(this),props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.mode||"hide"),direction=o.direction||"up",vertical=rvertical.test(direction),ref=vertical?"height":"width",ref2=vertical?"top":"left",motion=rpositivemotion.test(direction),animation={},show=mode==="show",wrapper,distance,margin;if(el.parent().is(".ui-effects-wrapper")){$.effects.save(el.parent(),props);}else{$.effects.save(el,props);}
el.show();wrapper=$.effects.createWrapper(el).css({overflow:"hidden"});distance=wrapper[ref]();margin=parseFloat(wrapper.css(ref2))||0;animation[ref]=show?distance:0;if(!motion){el.css(vertical?"bottom":"right",0).css(vertical?"top":"left","auto").css({position:"absolute"});animation[ref2]=show?margin:distance+margin;}
if(show){wrapper.css(ref,0);if(!motion){wrapper.css(ref2,margin+distance);}}
wrapper.animate(animation,{duration:o.duration,easing:o.easing,queue:false,complete:function(){if(mode==="hide"){el.hide();}
$.effects.restore(el,props);$.effects.removeWrapper(el);done();}});};})(jQuery);(function($,undefined){$.effects.effect.bounce=function(o,done){var el=$(this),props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.mode||"effect"),hide=mode==="hide",show=mode==="show",direction=o.direction||"up",distance=o.distance,times=o.times||5,anims=times*2+(show||hide?1:0),speed=o.duration/anims,easing=o.easing,ref=(direction==="up"||direction==="down")?"top":"left",motion=(direction==="up"||direction==="left"),i,upAnim,downAnim,queue=el.queue(),queuelen=queue.length;if(show||hide){props.push("opacity");}
$.effects.save(el,props);el.show();$.effects.createWrapper(el);if(!distance){distance=el[ref==="top"?"outerHeight":"outerWidth"]()/3;}
if(show){downAnim={opacity:1};downAnim[ref]=0;el.css("opacity",0).css(ref,motion?-distance*2:distance*2).animate(downAnim,speed,easing);}
if(hide){distance=distance/Math.pow(2,times-1);}
downAnim={};downAnim[ref]=0;for(i=0;i<times;i++){upAnim={};upAnim[ref]=(motion?"-=":"+=")+distance;el.animate(upAnim,speed,easing).animate(downAnim,speed,easing);distance=hide?distance*2:distance/2;}
if(hide){upAnim={opacity:0};upAnim[ref]=(motion?"-=":"+=")+distance;el.animate(upAnim,speed,easing);}
el.queue(function(){if(hide){el.hide();}
$.effects.restore(el,props);$.effects.removeWrapper(el);done();});if(queuelen>1){queue.splice.apply(queue,[1,0].concat(queue.splice(queuelen,anims+1)));}
el.dequeue();};})(jQuery);(function($,undefined){$.effects.effect.clip=function(o,done){var el=$(this),props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.mode||"hide"),show=mode==="show",direction=o.direction||"vertical",vert=direction==="vertical",size=vert?"height":"width",position=vert?"top":"left",animation={},wrapper,animate,distance;$.effects.save(el,props);el.show();wrapper=$.effects.createWrapper(el).css({overflow:"hidden"});animate=(el[0].tagName==="IMG")?wrapper:el;distance=animate[size]();if(show){animate.css(size,0);animate.css(position,distance/2);}
animation[size]=show?distance:0;animation[position]=show?0:distance/2;animate.animate(animation,{queue:false,duration:o.duration,easing:o.easing,complete:function(){if(!show){el.hide();}
$.effects.restore(el,props);$.effects.removeWrapper(el);done();}});};})(jQuery);(function($,undefined){$.effects.effect.drop=function(o,done){var el=$(this),props=["position","top","bottom","left","right","opacity","height","width"],mode=$.effects.setMode(el,o.mode||"hide"),show=mode==="show",direction=o.direction||"left",ref=(direction==="up"||direction==="down")?"top":"left",motion=(direction==="up"||direction==="left")?"pos":"neg",animation={opacity:show?1:0},distance;$.effects.save(el,props);el.show();$.effects.createWrapper(el);distance=o.distance||el[ref==="top"?"outerHeight":"outerWidth"](true)/2;if(show){el.css("opacity",0).css(ref,motion==="pos"?-distance:distance);}
animation[ref]=(show?(motion==="pos"?"+=":"-="):(motion==="pos"?"-=":"+="))+
distance;el.animate(animation,{queue:false,duration:o.duration,easing:o.easing,complete:function(){if(mode==="hide"){el.hide();}
$.effects.restore(el,props);$.effects.removeWrapper(el);done();}});};})(jQuery);(function($,undefined){$.effects.effect.explode=function(o,done){var rows=o.pieces?Math.round(Math.sqrt(o.pieces)):3,cells=rows,el=$(this),mode=$.effects.setMode(el,o.mode||"hide"),show=mode==="show",offset=el.show().css("visibility","hidden").offset(),width=Math.ceil(el.outerWidth()/cells),height=Math.ceil(el.outerHeight()/rows),pieces=[],i,j,left,top,mx,my;function childComplete(){pieces.push(this);if(pieces.length===rows*cells){animComplete();}}
for(i=0;i<rows;i++){top=offset.top+i*height;my=i-(rows-1)/2;for(j=0;j<cells;j++){left=offset.left+j*width;mx=j-(cells-1)/2;el.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-j*width,top:-i*height}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:width,height:height,left:left+(show?mx*width:0),top:top+(show?my*height:0),opacity:show?0:1}).animate({left:left+(show?0:mx*width),top:top+(show?0:my*height),opacity:show?1:0},o.duration||500,o.easing,childComplete);}}
function animComplete(){el.css({visibility:"visible"});$(pieces).remove();if(!show){el.hide();}
done();}};})(jQuery);(function($,undefined){$.effects.effect.fade=function(o,done){var el=$(this),mode=$.effects.setMode(el,o.mode||"toggle");el.animate({opacity:mode},{queue:false,duration:o.duration,easing:o.easing,complete:done});};})(jQuery);(function($,undefined){$.effects.effect.fold=function(o,done){var el=$(this),props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.mode||"hide"),show=mode==="show",hide=mode==="hide",size=o.size||15,percent=/([0-9]+)%/.exec(size),horizFirst=!!o.horizFirst,widthFirst=show!==horizFirst,ref=widthFirst?["width","height"]:["height","width"],duration=o.duration/2,wrapper,distance,animation1={},animation2={};$.effects.save(el,props);el.show();wrapper=$.effects.createWrapper(el).css({overflow:"hidden"});distance=widthFirst?[wrapper.width(),wrapper.height()]:[wrapper.height(),wrapper.width()];if(percent){size=parseInt(percent[1],10)/100*distance[hide?0:1];}
if(show){wrapper.css(horizFirst?{height:0,width:size}:{height:size,width:0});}
animation1[ref[0]]=show?distance[0]:size;animation2[ref[1]]=show?distance[1]:0;wrapper.animate(animation1,duration,o.easing).animate(animation2,duration,o.easing,function(){if(hide){el.hide();}
$.effects.restore(el,props);$.effects.removeWrapper(el);done();});};})(jQuery);(function($,undefined){$.effects.effect.highlight=function(o,done){var elem=$(this),props=["backgroundImage","backgroundColor","opacity"],mode=$.effects.setMode(elem,o.mode||"show"),animation={backgroundColor:elem.css("backgroundColor")};if(mode==="hide"){animation.opacity=0;}
$.effects.save(elem,props);elem.show().css({backgroundImage:"none",backgroundColor:o.color||"#ffff99"}).animate(animation,{queue:false,duration:o.duration,easing:o.easing,complete:function(){if(mode==="hide"){elem.hide();}
$.effects.restore(elem,props);done();}});};})(jQuery);(function($,undefined){$.effects.effect.pulsate=function(o,done){var elem=$(this),mode=$.effects.setMode(elem,o.mode||"show"),show=mode==="show",hide=mode==="hide",showhide=(show||mode==="hide"),anims=((o.times||5)*2)+(showhide?1:0),duration=o.duration/anims,animateTo=0,queue=elem.queue(),queuelen=queue.length,i;if(show||!elem.is(":visible")){elem.css("opacity",0).show();animateTo=1;}
for(i=1;i<anims;i++){elem.animate({opacity:animateTo},duration,o.easing);animateTo=1-animateTo;}
elem.animate({opacity:animateTo},duration,o.easing);elem.queue(function(){if(hide){elem.hide();}
done();});if(queuelen>1){queue.splice.apply(queue,[1,0].concat(queue.splice(queuelen,anims+1)));}
elem.dequeue();};})(jQuery);(function($,undefined){$.effects.effect.puff=function(o,done){var elem=$(this),mode=$.effects.setMode(elem,o.mode||"hide"),hide=mode==="hide",percent=parseInt(o.percent,10)||150,factor=percent/100,original={height:elem.height(),width:elem.width(),outerHeight:elem.outerHeight(),outerWidth:elem.outerWidth()};$.extend(o,{effect:"scale",queue:false,fade:true,mode:mode,complete:done,percent:hide?percent:100,from:hide?original:{height:original.height*factor,width:original.width*factor,outerHeight:original.outerHeight*factor,outerWidth:original.outerWidth*factor}});elem.effect(o);};$.effects.effect.scale=function(o,done){var el=$(this),options=$.extend(true,{},o),mode=$.effects.setMode(el,o.mode||"effect"),percent=parseInt(o.percent,10)||(parseInt(o.percent,10)===0?0:(mode==="hide"?0:100)),direction=o.direction||"both",origin=o.origin,original={height:el.height(),width:el.width(),outerHeight:el.outerHeight(),outerWidth:el.outerWidth()},factor={y:direction!=="horizontal"?(percent/100):1,x:direction!=="vertical"?(percent/100):1};options.effect="size";options.queue=false;options.complete=done;if(mode!=="effect"){options.origin=origin||["middle","center"];options.restore=true;}
options.from=o.from||(mode==="show"?{height:0,width:0,outerHeight:0,outerWidth:0}:original);options.to={height:original.height*factor.y,width:original.width*factor.x,outerHeight:original.outerHeight*factor.y,outerWidth:original.outerWidth*factor.x};if(options.fade){if(mode==="show"){options.from.opacity=0;options.to.opacity=1;}
if(mode==="hide"){options.from.opacity=1;options.to.opacity=0;}}
el.effect(options);};$.effects.effect.size=function(o,done){var original,baseline,factor,el=$(this),props0=["position","top","bottom","left","right","width","height","overflow","opacity"],props1=["position","top","bottom","left","right","overflow","opacity"],props2=["width","height","overflow"],cProps=["fontSize"],vProps=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],hProps=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],mode=$.effects.setMode(el,o.mode||"effect"),restore=o.restore||mode!=="effect",scale=o.scale||"both",origin=o.origin||["middle","center"],position=el.css("position"),props=restore?props0:props1,zero={height:0,width:0,outerHeight:0,outerWidth:0};if(mode==="show"){el.show();}
original={height:el.height(),width:el.width(),outerHeight:el.outerHeight(),outerWidth:el.outerWidth()};if(o.mode==="toggle"&&mode==="show"){el.from=o.to||zero;el.to=o.from||original;}else{el.from=o.from||(mode==="show"?zero:original);el.to=o.to||(mode==="hide"?zero:original);}
factor={from:{y:el.from.height/original.height,x:el.from.width/original.width},to:{y:el.to.height/original.height,x:el.to.width/original.width}};if(scale==="box"||scale==="both"){if(factor.from.y!==factor.to.y){props=props.concat(vProps);el.from=$.effects.setTransition(el,vProps,factor.from.y,el.from);el.to=$.effects.setTransition(el,vProps,factor.to.y,el.to);}
if(factor.from.x!==factor.to.x){props=props.concat(hProps);el.from=$.effects.setTransition(el,hProps,factor.from.x,el.from);el.to=$.effects.setTransition(el,hProps,factor.to.x,el.to);}}
if(scale==="content"||scale==="both"){if(factor.from.y!==factor.to.y){props=props.concat(cProps).concat(props2);el.from=$.effects.setTransition(el,cProps,factor.from.y,el.from);el.to=$.effects.setTransition(el,cProps,factor.to.y,el.to);}}
$.effects.save(el,props);el.show();$.effects.createWrapper(el);el.css("overflow","hidden").css(el.from);if(origin){baseline=$.effects.getBaseline(origin,original);el.from.top=(original.outerHeight-el.outerHeight())*baseline.y;el.from.left=(original.outerWidth-el.outerWidth())*baseline.x;el.to.top=(original.outerHeight-el.to.outerHeight)*baseline.y;el.to.left=(original.outerWidth-el.to.outerWidth)*baseline.x;}
el.css(el.from);if(scale==="content"||scale==="both"){vProps=vProps.concat(["marginTop","marginBottom"]).concat(cProps);hProps=hProps.concat(["marginLeft","marginRight"]);props2=props0.concat(vProps).concat(hProps);el.find("*[width]").each(function(){var child=$(this),c_original={height:child.height(),width:child.width(),outerHeight:child.outerHeight(),outerWidth:child.outerWidth()};if(restore){$.effects.save(child,props2);}
child.from={height:c_original.height*factor.from.y,width:c_original.width*factor.from.x,outerHeight:c_original.outerHeight*factor.from.y,outerWidth:c_original.outerWidth*factor.from.x};child.to={height:c_original.height*factor.to.y,width:c_original.width*factor.to.x,outerHeight:c_original.height*factor.to.y,outerWidth:c_original.width*factor.to.x};if(factor.from.y!==factor.to.y){child.from=$.effects.setTransition(child,vProps,factor.from.y,child.from);child.to=$.effects.setTransition(child,vProps,factor.to.y,child.to);}
if(factor.from.x!==factor.to.x){child.from=$.effects.setTransition(child,hProps,factor.from.x,child.from);child.to=$.effects.setTransition(child,hProps,factor.to.x,child.to);}
child.css(child.from);child.animate(child.to,o.duration,o.easing,function(){if(restore){$.effects.restore(child,props2);}});});}
el.animate(el.to,{queue:false,duration:o.duration,easing:o.easing,complete:function(){if(el.to.opacity===0){el.css("opacity",el.from.opacity);}
if(mode==="hide"){el.hide();}
$.effects.restore(el,props);if(!restore){if(position==="static"){el.css({position:"relative",top:el.to.top,left:el.to.left});}else{$.each(["top","left"],function(idx,pos){el.css(pos,function(_,str){var val=parseInt(str,10),toRef=idx?el.to.left:el.to.top;if(str==="auto"){return toRef+"px";}
return val+toRef+"px";});});}}
$.effects.removeWrapper(el);done();}});};})(jQuery);(function($,undefined){$.effects.effect.shake=function(o,done){var el=$(this),props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.mode||"effect"),direction=o.direction||"left",distance=o.distance||20,times=o.times||3,anims=times*2+1,speed=Math.round(o.duration/anims),ref=(direction==="up"||direction==="down")?"top":"left",positiveMotion=(direction==="up"||direction==="left"),animation={},animation1={},animation2={},i,queue=el.queue(),queuelen=queue.length;$.effects.save(el,props);el.show();$.effects.createWrapper(el);animation[ref]=(positiveMotion?"-=":"+=")+distance;animation1[ref]=(positiveMotion?"+=":"-=")+distance*2;animation2[ref]=(positiveMotion?"-=":"+=")+distance*2;el.animate(animation,speed,o.easing);for(i=1;i<times;i++){el.animate(animation1,speed,o.easing).animate(animation2,speed,o.easing);}
el.animate(animation1,speed,o.easing).animate(animation,speed/2,o.easing).queue(function(){if(mode==="hide"){el.hide();}
$.effects.restore(el,props);$.effects.removeWrapper(el);done();});if(queuelen>1){queue.splice.apply(queue,[1,0].concat(queue.splice(queuelen,anims+1)));}
el.dequeue();};})(jQuery);(function($,undefined){$.effects.effect.slide=function(o,done){var el=$(this),props=["position","top","bottom","left","right","width","height"],mode=$.effects.setMode(el,o.mode||"show"),show=mode==="show",direction=o.direction||"left",ref=(direction==="up"||direction==="down")?"top":"left",positiveMotion=(direction==="up"||direction==="left"),distance,animation={};$.effects.save(el,props);el.show();distance=o.distance||el[ref==="top"?"outerHeight":"outerWidth"](true);$.effects.createWrapper(el).css({overflow:"hidden"});if(show){el.css(ref,positiveMotion?(isNaN(distance)?"-"+distance:-distance):distance);}
animation[ref]=(show?(positiveMotion?"+=":"-="):(positiveMotion?"-=":"+="))+
distance;el.animate(animation,{queue:false,duration:o.duration,easing:o.easing,complete:function(){if(mode==="hide"){el.hide();}
$.effects.restore(el,props);$.effects.removeWrapper(el);done();}});};})(jQuery);(function($,undefined){$.effects.effect.transfer=function(o,done){var elem=$(this),target=$(o.to),targetFixed=target.css("position")==="fixed",body=$("body"),fixTop=targetFixed?body.scrollTop():0,fixLeft=targetFixed?body.scrollLeft():0,endPosition=target.offset(),animation={top:endPosition.top-fixTop,left:endPosition.left-fixLeft,height:target.innerHeight(),width:target.innerWidth()},startPosition=elem.offset(),transfer=$("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(o.className).css({top:startPosition.top-fixTop,left:startPosition.left-fixLeft,height:elem.innerHeight(),width:elem.innerWidth(),position:targetFixed?"fixed":"absolute"}).animate(animation,o.duration,o.easing,function(){transfer.remove();done();});};})(jQuery);;$(document).on('ready ajaxSuccess',function(){$(document).foundation();});;;(function($){var plugin={};var defaults={mode:'horizontal',slideSelector:'',infiniteLoop:true,hideControlOnEnd:false,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:false,captions:false,ticker:false,tickerHover:false,adaptiveHeight:false,adaptiveHeightSpeed:500,video:false,useCSS:true,preloadImages:'visible',responsive:true,slideZIndex:50,wrapperClass:'bx-wrapper',touchEnabled:true,swipeThreshold:50,oneToOneTouch:true,preventDefaultSwipeX:true,preventDefaultSwipeY:false,pager:true,pagerType:'full',pagerShortSeparator:' / ',pagerSelector:null,buildPager:null,pagerCustom:null,controls:true,nextText:'Next',prevText:'Prev',nextSelector:null,prevSelector:null,autoControls:false,startText:'Start',stopText:'Stop',autoControlsCombine:false,autoControlsSelector:null,auto:false,pause:4000,autoStart:true,autoDirection:'next',autoHover:false,autoDelay:0,autoSlideForOnePage:false,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){try{ReloadPixelImages();}catch(err){}
return false;},onSlideNext:function(){},onSlidePrev:function(){},onSliderResize:function(){}}
$.fn.bxSlider=function(options){if(this.length==0)return this;if(this.length>1){this.each(function(){$(this).bxSlider(options)});return this;}
var slider={};var el=this;plugin.el=this;var windowWidth=$(window).width();var windowHeight=$(window).height();var init=function(){slider.settings=$.extend({},defaults,options);slider.settings.slideWidth=parseInt(slider.settings.slideWidth);slider.children=el.children(slider.settings.slideSelector);if(slider.children.length<slider.settings.minSlides)slider.settings.minSlides=slider.children.length;if(slider.children.length<slider.settings.maxSlides)slider.settings.maxSlides=slider.children.length;if(slider.settings.randomStart)slider.settings.startSlide=Math.floor(Math.random()*slider.children.length);slider.active={index:slider.settings.startSlide}
slider.carousel=slider.settings.minSlides>1||slider.settings.maxSlides>1;if(slider.carousel)slider.settings.preloadImages='all';slider.minThreshold=(slider.settings.minSlides*slider.settings.slideWidth)+((slider.settings.minSlides-1)*slider.settings.slideMargin);slider.maxThreshold=(slider.settings.maxSlides*slider.settings.slideWidth)+((slider.settings.maxSlides-1)*slider.settings.slideMargin);slider.working=false;slider.controls={};slider.interval=null;slider.animProp=slider.settings.mode=='vertical'?'top':'left';slider.usingCSS=slider.settings.useCSS&&slider.settings.mode!='fade'&&(function(){var div=document.createElement('div');var props=['WebkitPerspective','MozPerspective','OPerspective','msPerspective'];for(var i in props){if(div.style[props[i]]!==undefined){slider.cssPrefix=props[i].replace('Perspective','').toLowerCase();slider.animProp='-'+slider.cssPrefix+'-transform';return true;}}
return false;}());if(slider.settings.mode=='vertical')slider.settings.maxSlides=slider.settings.minSlides;el.data("origStyle",el.attr("style"));el.children(slider.settings.slideSelector).each(function(){$(this).data("origStyle",$(this).attr("style"));});setup();}
var setup=function(){el.wrap('<div class="'+slider.settings.wrapperClass+'"><div class="bx-viewport"></div></div>');slider.viewport=el.parent();slider.loader=$('<div class="bx-loading" />');slider.viewport.prepend(slider.loader);el.css({width:slider.settings.mode=='horizontal'?(slider.children.length*100+215)+'%':'auto',position:'relative'});if(slider.usingCSS&&slider.settings.easing){el.css('-'+slider.cssPrefix+'-transition-timing-function',slider.settings.easing);}else if(!slider.settings.easing){slider.settings.easing='swing';}
var slidesShowing=getNumberSlidesShowing();slider.viewport.css({width:'100%',overflow:'hidden',position:'relative'});slider.viewport.parent().css({maxWidth:getViewportMaxWidth()});if(!slider.settings.pager){slider.viewport.parent().css({margin:'0 auto 0px'});}
slider.children.css({'float':slider.settings.mode=='horizontal'?'left':'none',listStyle:'none',position:'relative'});slider.children.css('width',getSlideWidth());if(slider.settings.mode=='horizontal'&&slider.settings.slideMargin>0)slider.children.css('marginRight',slider.settings.slideMargin);if(slider.settings.mode=='vertical'&&slider.settings.slideMargin>0)slider.children.css('marginBottom',slider.settings.slideMargin);if(slider.settings.mode=='fade'){slider.children.css({position:'absolute',zIndex:0,display:'none'});slider.children.eq(slider.settings.startSlide).css({zIndex:slider.settings.slideZIndex,display:'block'});}
slider.controls.el=$('<div class="bx-controls" />');if(slider.settings.captions)appendCaptions();slider.active.last=slider.settings.startSlide==getPagerQty()-1;if(slider.settings.video)el.fitVids();var preloadSelector=slider.children.eq(slider.settings.startSlide);if(slider.settings.preloadImages=="all")preloadSelector=slider.children;if(!slider.settings.ticker){if(slider.settings.pager)appendPager();if(slider.settings.controls)appendControls();if(slider.settings.auto&&slider.settings.autoControls)appendControlsAuto();if(slider.settings.controls||slider.settings.autoControls||slider.settings.pager)slider.viewport.after(slider.controls.el);}else{slider.settings.pager=false;}
loadElements(preloadSelector,start);}
var loadElements=function(selector,callback){var total=selector.find('img, iframe').length;if(total==0){callback();return;}
var count=0;selector.find('img, iframe').each(function(){$(this).one('load',function(){if(++count==total)callback();}).each(function(){if(this.complete)$(this).load();});});}
var start=function(){if(slider.settings.infiniteLoop&&slider.settings.mode!='fade'&&!slider.settings.ticker){var slice=slider.settings.mode=='vertical'?slider.settings.minSlides:slider.settings.maxSlides;var sliceAppend=slider.children.slice(0,slice).clone().addClass('bx-clone');var slicePrepend=slider.children.slice(-slice).clone().addClass('bx-clone');el.append(sliceAppend).prepend(slicePrepend);}
slider.loader.remove();setSlidePosition();if(slider.settings.mode=='vertical')slider.settings.adaptiveHeight=true;slider.viewport.height(getViewportHeight());el.redrawSlider();slider.settings.onSliderLoad(slider.active.index);slider.initialized=true;if(slider.settings.responsive)$(window).bind('resize',resizeWindow);if(slider.settings.auto&&slider.settings.autoStart&&(getPagerQty()>1||slider.settings.autoSlideForOnePage))initAuto();if(slider.settings.ticker)initTicker();if(slider.settings.pager)updatePagerActive(slider.settings.startSlide);if(slider.settings.controls)updateDirectionControls();if(slider.settings.touchEnabled&&!slider.settings.ticker)initTouch();}
var getViewportHeight=function(){var height=0;var children=$();if(slider.settings.mode!='vertical'&&!slider.settings.adaptiveHeight){children=slider.children;}else{if(!slider.carousel){children=slider.children.eq(slider.active.index);}else{var currentIndex=slider.settings.moveSlides==1?slider.active.index:slider.active.index*getMoveBy();children=slider.children.eq(currentIndex);for(i=1;i<=slider.settings.maxSlides-1;i++){if(currentIndex+i>=slider.children.length){children=children.add(slider.children.eq(i-1));}else{children=children.add(slider.children.eq(currentIndex+i));}}}}
if(slider.settings.mode=='vertical'){children.each(function(index){height+=$(this).outerHeight();});if(slider.settings.slideMargin>0){height+=slider.settings.slideMargin*(slider.settings.minSlides-1);}}else{height=Math.max.apply(Math,children.map(function(){return $(this).outerHeight(false);}).get());}
if(slider.viewport.css('box-sizing')=='border-box'){height+=parseFloat(slider.viewport.css('padding-top'))+parseFloat(slider.viewport.css('padding-bottom'))+
parseFloat(slider.viewport.css('border-top-width'))+parseFloat(slider.viewport.css('border-bottom-width'));}else if(slider.viewport.css('box-sizing')=='padding-box'){height+=parseFloat(slider.viewport.css('padding-top'))+parseFloat(slider.viewport.css('padding-bottom'));}
return height;}
var getViewportMaxWidth=function(){var width='100%';if(slider.settings.slideWidth>0){if(slider.settings.mode=='horizontal'){width=(slider.settings.maxSlides*slider.settings.slideWidth)+((slider.settings.maxSlides-1)*slider.settings.slideMargin);}else{width=slider.settings.slideWidth;}}
return width;}
var getSlideWidth=function(){var newElWidth=slider.settings.slideWidth;var wrapWidth=slider.viewport.width();if(slider.settings.slideWidth==0||(slider.settings.slideWidth>wrapWidth&&!slider.carousel)||slider.settings.mode=='vertical'){newElWidth=wrapWidth;}else if(slider.settings.maxSlides>1&&slider.settings.mode=='horizontal'){if(wrapWidth>slider.maxThreshold){}else if(wrapWidth<slider.minThreshold){newElWidth=(wrapWidth-(slider.settings.slideMargin*(slider.settings.minSlides-1)))/slider.settings.minSlides;}}
return newElWidth;}
var getNumberSlidesShowing=function(){var slidesShowing=1;if(slider.settings.mode=='horizontal'&&slider.settings.slideWidth>0){if(slider.viewport.width()<slider.minThreshold){slidesShowing=slider.settings.minSlides;}else if(slider.viewport.width()>slider.maxThreshold){slidesShowing=slider.settings.maxSlides;}else{var childWidth=slider.children.first().width()+slider.settings.slideMargin;slidesShowing=Math.floor((slider.viewport.width()+
slider.settings.slideMargin)/childWidth);}}else if(slider.settings.mode=='vertical'){slidesShowing=slider.settings.minSlides;}
return slidesShowing;}
var getPagerQty=function(){var pagerQty=0;if(slider.settings.moveSlides>0){if(slider.settings.infiniteLoop){pagerQty=Math.ceil(slider.children.length/getMoveBy());}else{var breakPoint=0;var counter=0
while(breakPoint<slider.children.length){++pagerQty;breakPoint=counter+getNumberSlidesShowing();counter+=slider.settings.moveSlides<=getNumberSlidesShowing()?slider.settings.moveSlides:getNumberSlidesShowing();}}}else{pagerQty=Math.ceil(slider.children.length/getNumberSlidesShowing());}
return pagerQty;}
var getMoveBy=function(){if(slider.settings.moveSlides>0&&slider.settings.moveSlides<=getNumberSlidesShowing()){return slider.settings.moveSlides;}
return getNumberSlidesShowing();}
var setSlidePosition=function(){if(slider.children.length>slider.settings.maxSlides&&slider.active.last&&!slider.settings.infiniteLoop){if(slider.settings.mode=='horizontal'){var lastChild=slider.children.last();var position=lastChild.position();setPositionProperty(-(position.left-(slider.viewport.width()-lastChild.outerWidth())),'reset',0);}else if(slider.settings.mode=='vertical'){var lastShowingIndex=slider.children.length-slider.settings.minSlides;var position=slider.children.eq(lastShowingIndex).position();setPositionProperty(-position.top,'reset',0);}}else{var position=slider.children.eq(slider.active.index*getMoveBy()).position();if(slider.active.index==getPagerQty()-1)slider.active.last=true;if(position!=undefined){if(slider.settings.mode=='horizontal')setPositionProperty(-position.left,'reset',0);else if(slider.settings.mode=='vertical')setPositionProperty(-position.top,'reset',0);}}}
var setPositionProperty=function(value,type,duration,params){if(slider.usingCSS){var propValue=slider.settings.mode=='vertical'?'translate3d(0, '+value+'px, 0)':'translate3d('+value+'px, 0, 0)';el.css('-'+slider.cssPrefix+'-transition-duration',duration/1000+'s');if(type=='slide'){el.css(slider.animProp,propValue);el.bind('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd',function(){el.unbind('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd');updateAfterSlideTransition();});}else if(type=='reset'){el.css(slider.animProp,propValue);}else if(type=='ticker'){el.css('-'+slider.cssPrefix+'-transition-timing-function','linear');el.css(slider.animProp,propValue);el.bind('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd',function(){el.unbind('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd');setPositionProperty(params['resetValue'],'reset',0);tickerLoop();});}}else{var animateObj={};animateObj[slider.animProp]=value;if(type=='slide'){el.animate(animateObj,duration,slider.settings.easing,function(){updateAfterSlideTransition();});}else if(type=='reset'){el.css(slider.animProp,value)}else if(type=='ticker'){el.animate(animateObj,speed,'linear',function(){setPositionProperty(params['resetValue'],'reset',0);tickerLoop();});}}}
var populatePager=function(){var pagerHtml='';var pagerQty=getPagerQty();for(var i=0;i<pagerQty;i++){var linkContent='';if(slider.settings.buildPager&&$.isFunction(slider.settings.buildPager)){linkContent=slider.settings.buildPager(i);slider.pagerEl.addClass('bx-custom-pager');}else{linkContent=i+1;slider.pagerEl.addClass('bx-default-pager');}
pagerHtml+='<div class="bx-pager-item"><a href="" data-slide-index="'+i+'" class="bx-pager-link">'+linkContent+'</a></div>';};slider.pagerEl.html(pagerHtml);}
var appendPager=function(){if(!slider.settings.pagerCustom){slider.pagerEl=$('<div class="bx-pager" />');if(slider.settings.pagerSelector){$(slider.settings.pagerSelector).html(slider.pagerEl);}else{slider.controls.el.addClass('bx-has-pager').append(slider.pagerEl);}
populatePager();}else{slider.pagerEl=$(slider.settings.pagerCustom);}
slider.pagerEl.on('click','a',clickPagerBind);}
var appendControls=function(){slider.controls.next=$('<a class="bx-next" href="">'+slider.settings.nextText+'</a>');slider.controls.prev=$('<a class="bx-prev" href="">'+slider.settings.prevText+'</a>');slider.controls.next.bind('click',clickNextBind);slider.controls.prev.bind('click',clickPrevBind);if(slider.settings.nextSelector){$(slider.settings.nextSelector).append(slider.controls.next);}
if(slider.settings.prevSelector){$(slider.settings.prevSelector).append(slider.controls.prev);}
if(!slider.settings.nextSelector&&!slider.settings.prevSelector){slider.controls.directionEl=$('<div class="bx-controls-direction" />');slider.controls.directionEl.append(slider.controls.prev).append(slider.controls.next);slider.controls.el.addClass('bx-has-controls-direction').append(slider.controls.directionEl);}}
var appendControlsAuto=function(){slider.controls.start=$('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+slider.settings.startText+'</a></div>');slider.controls.stop=$('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+slider.settings.stopText+'</a></div>');slider.controls.autoEl=$('<div class="bx-controls-auto" />');slider.controls.autoEl.on('click','.bx-start',clickStartBind);slider.controls.autoEl.on('click','.bx-stop',clickStopBind);if(slider.settings.autoControlsCombine){slider.controls.autoEl.append(slider.controls.start);}else{slider.controls.autoEl.append(slider.controls.start).append(slider.controls.stop);}
if(slider.settings.autoControlsSelector){$(slider.settings.autoControlsSelector).html(slider.controls.autoEl);}else{slider.controls.el.addClass('bx-has-controls-auto').append(slider.controls.autoEl);}
updateAutoControls(slider.settings.autoStart?'stop':'start');}
var appendCaptions=function(){slider.children.each(function(index){var title=$(this).find('img:first').attr('title');if(title!=undefined&&(''+title).length){$(this).append('<div class="bx-caption"><span>'+title+'</span></div>');}});}
var clickNextBind=function(e){if(slider.settings.auto)el.stopAuto();el.goToNextSlide();e.preventDefault();}
var clickPrevBind=function(e){if(slider.settings.auto)el.stopAuto();el.goToPrevSlide();e.preventDefault();}
var clickStartBind=function(e){el.startAuto();e.preventDefault();}
var clickStopBind=function(e){el.stopAuto();e.preventDefault();}
var clickPagerBind=function(e){if(slider.settings.auto)el.stopAuto();var pagerLink=$(e.currentTarget);if(pagerLink.attr('data-slide-index')!==undefined){var pagerIndex=parseInt(pagerLink.attr('data-slide-index'));if(pagerIndex!=slider.active.index)el.goToSlide(pagerIndex);e.preventDefault();}}
var updatePagerActive=function(slideIndex){var len=slider.children.length;if(slider.settings.pagerType=='short'){if(slider.settings.maxSlides>1){len=Math.ceil(slider.children.length/slider.settings.maxSlides);}
slider.pagerEl.html((slideIndex+1)+slider.settings.pagerShortSeparator+len);return;}
slider.pagerEl.find('a').removeClass('active');slider.pagerEl.each(function(i,el){$(el).find('a').eq(slideIndex).addClass('active');});}
var updateAfterSlideTransition=function(){if(slider.settings.infiniteLoop){var position='';if(slider.active.index==0){position=slider.children.eq(0).position();}else if(slider.active.index==getPagerQty()-1&&slider.carousel){position=slider.children.eq((getPagerQty()-1)*getMoveBy()).position();}else if(slider.active.index==slider.children.length-1){position=slider.children.eq(slider.children.length-1).position();}
if(position){if(slider.settings.mode=='horizontal'){setPositionProperty(-position.left,'reset',0);}
else if(slider.settings.mode=='vertical'){setPositionProperty(-position.top,'reset',0);}}}
slider.working=false;slider.settings.onSlideAfter(slider.children.eq(slider.active.index),slider.oldIndex,slider.active.index);}
var updateAutoControls=function(state){if(slider.settings.autoControlsCombine){slider.controls.autoEl.html(slider.controls[state]);}else{slider.controls.autoEl.find('a').removeClass('active');slider.controls.autoEl.find('a:not(.bx-'+state+')').addClass('active');}}
var updateDirectionControls=function(){if(getPagerQty()==1){slider.controls.prev.addClass('disabled');slider.controls.next.addClass('disabled');}else if(!slider.settings.infiniteLoop&&slider.settings.hideControlOnEnd){if(slider.active.index==0){slider.controls.prev.addClass('disabled');slider.controls.next.removeClass('disabled');}else if(slider.active.index==getPagerQty()-1){slider.controls.next.addClass('disabled');slider.controls.prev.removeClass('disabled');}else{slider.controls.prev.removeClass('disabled');slider.controls.next.removeClass('disabled');}}}
var initAuto=function(){if(slider.settings.autoDelay>0){var timeout=setTimeout(el.startAuto,slider.settings.autoDelay);}else{el.startAuto();}
if(slider.settings.autoHover){el.hover(function(){if(slider.interval){el.stopAuto(true);slider.autoPaused=true;}},function(){if(slider.autoPaused){el.startAuto(true);slider.autoPaused=null;}});}}
var initTicker=function(){var startPosition=0;if(slider.settings.autoDirection=='next'){el.append(slider.children.clone().addClass('bx-clone'));}else{el.prepend(slider.children.clone().addClass('bx-clone'));var position=slider.children.first().position();startPosition=slider.settings.mode=='horizontal'?-position.left:-position.top;}
setPositionProperty(startPosition,'reset',0);slider.settings.pager=false;slider.settings.controls=false;slider.settings.autoControls=false;if(slider.settings.tickerHover&&!slider.usingCSS){slider.viewport.hover(function(){el.stop();},function(){var totalDimens=0;slider.children.each(function(index){totalDimens+=slider.settings.mode=='horizontal'?$(this).outerWidth(true):$(this).outerHeight(true);});var ratio=slider.settings.speed/totalDimens;var property=slider.settings.mode=='horizontal'?'left':'top';var newSpeed=ratio*(totalDimens-(Math.abs(parseInt(el.css(property)))));tickerLoop(newSpeed);});}
tickerLoop();}
var tickerLoop=function(resumeSpeed){speed=resumeSpeed?resumeSpeed:slider.settings.speed;var position={left:0,top:0};var reset={left:0,top:0};if(slider.settings.autoDirection=='next'){position=el.find('.bx-clone').first().position();}else{reset=slider.children.first().position();}
var animateProperty=slider.settings.mode=='horizontal'?-position.left:-position.top;var resetValue=slider.settings.mode=='horizontal'?-reset.left:-reset.top;var params={resetValue:resetValue};setPositionProperty(animateProperty,'ticker',speed,params);}
var initTouch=function(){slider.touch={start:{x:0,y:0},end:{x:0,y:0}}
slider.viewport.bind('touchstart',onTouchStart);}
var onTouchStart=function(e){if(slider.working){e.preventDefault();}else{slider.touch.originalPos=el.position();var orig=e.originalEvent;slider.touch.start.x=orig.changedTouches[0].pageX;slider.touch.start.y=orig.changedTouches[0].pageY;slider.viewport.bind('touchmove',onTouchMove);slider.viewport.bind('touchend',onTouchEnd);}}
var onTouchMove=function(e){var orig=e.originalEvent;var xMovement=Math.abs(orig.changedTouches[0].pageX-slider.touch.start.x);var yMovement=Math.abs(orig.changedTouches[0].pageY-slider.touch.start.y);if((xMovement*3)>yMovement&&slider.settings.preventDefaultSwipeX){e.preventDefault();}else if((yMovement*3)>xMovement&&slider.settings.preventDefaultSwipeY){e.preventDefault();}
if(slider.settings.mode!='fade'&&slider.settings.oneToOneTouch){var value=0;if(slider.settings.mode=='horizontal'){var change=orig.changedTouches[0].pageX-slider.touch.start.x;value=slider.touch.originalPos.left+change;}else{var change=orig.changedTouches[0].pageY-slider.touch.start.y;value=slider.touch.originalPos.top+change;}
setPositionProperty(value,'reset',0);}}
var onTouchEnd=function(e){slider.viewport.unbind('touchmove',onTouchMove);var orig=e.originalEvent;var value=0;slider.touch.end.x=orig.changedTouches[0].pageX;slider.touch.end.y=orig.changedTouches[0].pageY;if(slider.settings.mode=='fade'){var distance=Math.abs(slider.touch.start.x-slider.touch.end.x);if(distance>=slider.settings.swipeThreshold){slider.touch.start.x>slider.touch.end.x?el.goToNextSlide():el.goToPrevSlide();el.stopAuto();}}else{var distance=0;if(slider.settings.mode=='horizontal'){distance=slider.touch.end.x-slider.touch.start.x;value=slider.touch.originalPos.left;}else{distance=slider.touch.end.y-slider.touch.start.y;value=slider.touch.originalPos.top;}
if(!slider.settings.infiniteLoop&&((slider.active.index==0&&distance>0)||(slider.active.last&&distance<0))){setPositionProperty(value,'reset',200);}else{if(Math.abs(distance)>=slider.settings.swipeThreshold){distance<0?el.goToNextSlide():el.goToPrevSlide();el.stopAuto();}else{setPositionProperty(value,'reset',200);}}}
slider.viewport.unbind('touchend',onTouchEnd);}
var resizeWindow=function(e){if(!slider.initialized)return;var windowWidthNew=$(window).width();var windowHeightNew=$(window).height();if(windowWidth!=windowWidthNew||windowHeight!=windowHeightNew){windowWidth=windowWidthNew;windowHeight=windowHeightNew;el.redrawSlider();slider.settings.onSliderResize.call(el,slider.active.index);}}
el.goToSlide=function(slideIndex,direction){if(slider.working||slider.active.index==slideIndex)return;slider.working=true;slider.oldIndex=slider.active.index;if(slideIndex<0){slider.active.index=getPagerQty()-1;}else if(slideIndex>=getPagerQty()){slider.active.index=0;}else{slider.active.index=slideIndex;}
slider.settings.onSlideBefore(slider.children.eq(slider.active.index),slider.oldIndex,slider.active.index);if(direction=='next'){slider.settings.onSlideNext(slider.children.eq(slider.active.index),slider.oldIndex,slider.active.index);}else if(direction=='prev'){slider.settings.onSlidePrev(slider.children.eq(slider.active.index),slider.oldIndex,slider.active.index);}
slider.active.last=slider.active.index>=getPagerQty()-1;if(slider.settings.pager)updatePagerActive(slider.active.index);if(slider.settings.controls)updateDirectionControls();if(slider.settings.mode=='fade'){if(slider.settings.adaptiveHeight&&slider.viewport.height()!=getViewportHeight()){slider.viewport.animate({height:getViewportHeight()},slider.settings.adaptiveHeightSpeed);}
slider.children.filter(':visible').fadeOut(slider.settings.speed).css({zIndex:0});slider.children.eq(slider.active.index).css('zIndex',slider.settings.slideZIndex+1).fadeIn(slider.settings.speed,function(){$(this).css('zIndex',slider.settings.slideZIndex);updateAfterSlideTransition();});}else{if(slider.settings.adaptiveHeight&&slider.viewport.height()!=getViewportHeight()){slider.viewport.animate({height:getViewportHeight()},slider.settings.adaptiveHeightSpeed);}
var moveBy=0;var position={left:0,top:0};if(!slider.settings.infiniteLoop&&slider.carousel&&slider.active.last){if(slider.settings.mode=='horizontal'){var lastChild=slider.children.eq(slider.children.length-1);position=lastChild.position();moveBy=slider.viewport.width()-lastChild.outerWidth();}else{var lastShowingIndex=slider.children.length-slider.settings.minSlides;position=slider.children.eq(lastShowingIndex).position();}}else if(slider.carousel&&slider.active.last&&direction=='prev'){var eq=slider.settings.moveSlides==1?slider.settings.maxSlides-getMoveBy():((getPagerQty()-1)*getMoveBy())-(slider.children.length-slider.settings.maxSlides);var lastChild=el.children('.bx-clone').eq(eq);position=lastChild.position();}else if(direction=='next'&&slider.active.index==0){position=el.find('> .bx-clone').eq(slider.settings.maxSlides).position();slider.active.last=false;}else if(slideIndex>=0){var requestEl=slideIndex*getMoveBy();position=slider.children.eq(requestEl).position();}
if("undefined"!==typeof(position)){var value=slider.settings.mode=='horizontal'?-(position.left-moveBy):-position.top;setPositionProperty(value,'slide',slider.settings.speed);}}}
el.goToNextSlide=function(){if(!slider.settings.infiniteLoop&&slider.active.last)return;var pagerIndex=parseInt(slider.active.index)+1;el.goToSlide(pagerIndex,'next');}
el.goToPrevSlide=function(){if(!slider.settings.infiniteLoop&&slider.active.index==0)return;var pagerIndex=parseInt(slider.active.index)-1;el.goToSlide(pagerIndex,'prev');}
el.startAuto=function(preventControlUpdate){if(slider.interval)return;slider.interval=setInterval(function(){slider.settings.autoDirection=='next'?el.goToNextSlide():el.goToPrevSlide();},slider.settings.pause);if(slider.settings.autoControls&&preventControlUpdate!=true)updateAutoControls('stop');}
el.stopAuto=function(preventControlUpdate){if(!slider.interval)return;clearInterval(slider.interval);slider.interval=null;if(slider.settings.autoControls&&preventControlUpdate!=true)updateAutoControls('start');}
el.getCurrentSlide=function(){return slider.active.index;}
el.getCurrentSlideElement=function(){return slider.children.eq(slider.active.index);}
el.getSlideCount=function(){return slider.children.length;}
el.redrawSlider=function(){slider.children.add(el.find('.bx-clone')).width(getSlideWidth());slider.viewport.css('height',getViewportHeight());if(!slider.settings.ticker)setSlidePosition();if(slider.active.last)slider.active.index=getPagerQty()-1;if(slider.active.index>=getPagerQty())slider.active.last=true;if(slider.settings.pager&&!slider.settings.pagerCustom){populatePager();updatePagerActive(slider.active.index);}}
el.destroySlider=function(){if(!slider.initialized)return;slider.initialized=false;$('.bx-clone',this).remove();slider.children.each(function(){$(this).data("origStyle")!=undefined?$(this).attr("style",$(this).data("origStyle")):$(this).removeAttr('style');});$(this).data("origStyle")!=undefined?this.attr("style",$(this).data("origStyle")):$(this).removeAttr('style');$(this).unwrap().unwrap();if(slider.controls.el)slider.controls.el.remove();if(slider.controls.next)slider.controls.next.remove();if(slider.controls.prev)slider.controls.prev.remove();if(slider.pagerEl&&slider.settings.controls)slider.pagerEl.remove();$('.bx-caption',this).remove();if(slider.controls.autoEl)slider.controls.autoEl.remove();clearInterval(slider.interval);if(slider.settings.responsive)$(window).unbind('resize',resizeWindow);}
el.reloadSlider=function(settings){if(settings!=undefined)options=settings;el.destroySlider();init();}
init();return this;}})(jQuery);;(function($){"use strict";var arrayRemove=function(from,to){var rest=this.slice((to||from)+1||this.length);this.length=from<0?this.length+from:from;return this.push.apply(this,rest);};$.fn.ajaxChosen=function(ajaxOptions,options,chosenOptions){var select=$(this),chosen,keyRight,input,inputBG,callback,throttle=false,requestQueue=[],typing=false,loadingImg='/images/loading.gif';if($('option',select).length===0){select.append('<option value=""></option>');}
if(chosenOptions){select.chosen(chosenOptions);}else{select.chosen();}
chosen=select.next();input=$('input',chosen);inputBG=input.get(0)?input.get(0).style.background:'';if('success'in ajaxOptions&&$.isFunction(ajaxOptions.success)){callback=ajaxOptions.success;}
ajaxOptions.success=function(data,textStatus,jqXHR){var items=data,selected,requestQueueLength=requestQueue.length,old=false,keep=false;if(typing){requestQueue.shift();return false;}
if(requestQueueLength>1){$.each(requestQueue,function(idx,elem){if(data.q===elem){if(idx!==(requestQueueLength-1)){old=true;arrayRemove.call(requestQueue,idx);}else{keep=true;requestQueue.length=0;}
return false;}});if(old||!keep){return false;}}else{if(typeof requestQueue.shift()==='undefined'){return false;}}
if('processItems'in options&&$.isFunction(options.processItems)){items=options.processItems(data);}else if('results'in items){items=items.results;}else{console.log('Expected results key in data, but was not found. Options could not be built');return false;}
selected=$('option:selected',select).not(':empty').clone().attr('selected',true);$('option',select).remove();$('<option value=""/>').appendTo(select);selected.appendTo(select);if($.isArray(items)){$.each(items,function(i,opt){$('<option value="'+opt.id+'">'+opt.text+'</option>').appendTo(select);});}else{$.each(items,function(value,text){$('<option value="'+value+'">'+text+'</option>').appendTo(select);});}
select.trigger("liszt:updated");keyRight=$.Event('keyup');keyRight.which=39;input.val(data.q).trigger(keyRight).get(0).style.background=inputBG;if(items.length>0){$('.no-results',chosen).hide();}else{$('.no-results',chosen).show();}
if(callback){callback(data,textStatus,jqXHR);}};options||(options={});if('loadingImg'in options){loadingImg=options.loadingImg;}
$('.chzn-search > input, .chzn-choices .search-field input',chosen).bind('keyup',function(e){var field=$(this),q=field.val();if((e.which===9)||(e.which===13)||(e.which===16)||(e.which===17)||(e.which===18)||(e.which===19)||(e.which===20)||(e.which===27)||(e.which===33)||(e.which===34)||(e.which===35)||(e.which===36)||(e.which===37)||(e.which===38)||(e.which===39)||(e.which===40)||(e.which===44)||(e.which===45)||(e.which===144)||(e.which===145)||(e.which===91)||(e.which===93)||(e.which===224)||(e.which>=112&&e.which<=123)){return false;}
if('useAjax'in options&&$.isFunction(options.useAjax)){if(!options.useAjax(e)){return false;}}
if($.trim(q).length===0){return false;}
typing=true;$('.no-results',chosen).hide();if($.isArray(ajaxOptions.data)){if(ajaxOptions.data[ajaxOptions.data.length-1].name==='q'){ajaxOptions.data.pop();}
ajaxOptions.data=ajaxOptions.data.concat({name:'q',value:q});}else{if(!('data'in ajaxOptions)){ajaxOptions.data={};}
$.extend(ajaxOptions.data,{data:{q:q}});}
if('generateUrl'in options&&$.isFunction(options.generateUrl)){ajaxOptions.url=options.generateUrl(q);}
input.get(0).style.background='transparent url("'+loadingImg+'") no-repeat right 3px';if(throttle){clearTimeout(throttle);}
throttle=setTimeout(function(){requestQueue.push(q);typing=false;$.ajax(ajaxOptions);},700);});return select;};})(jQuery);
;/*!
 * iCheck v0.9.1 jQuery plugin, http://git.io/uhUPMA
 */
(function(f){function C(a,c,d){var b=a[0],e=/er/.test(d)?k:/bl/.test(d)?u:j;active=d==E?{checked:b[j],disabled:b[u],indeterminate:"true"==a.attr(k)||"false"==a.attr(v)}:b[e];if(/^(ch|di|in)/.test(d)&&!active)p(a,e);else if(/^(un|en|de)/.test(d)&&active)w(a,e);else if(d==E)for(var e in active)active[e]?p(a,e,!0):w(a,e,!0);else if(!c||"toggle"==d){if(!c)a[r]("ifClicked");active?b[l]!==x&&w(a,e):p(a,e)}}function p(a,c,d){var b=a[0],e=a.parent(),g=c==j,H=c==k,m=H?v:g?I:"enabled",r=h(b,m+y(b[l])),L=h(b,
c+y(b[l]));if(!0!==b[c]){if(!d&&c==j&&b[l]==x&&b.name){var p=a.closest("form"),s='input[name="'+b.name+'"]',s=p.length?p.find(s):f(s);s.each(function(){this!==b&&f.data(this,n)&&w(f(this),c)})}H?(b[c]=!0,b[j]&&w(a,j,"force")):(d||(b[c]=!0),g&&b[k]&&w(a,k,!1));J(a,g,c,d)}b[u]&&h(b,z,!0)&&e.find("."+F).css(z,"default");e[t](L||h(b,c));e[A](r||h(b,m)||"")}function w(a,c,d){var b=a[0],e=a.parent(),g=c==j,f=c==k,m=f?v:g?I:"enabled",n=h(b,m+y(b[l])),p=h(b,c+y(b[l]));if(!1!==b[c]){if(f||!d||"force"==d)b[c]=
!1;J(a,g,m,d)}!b[u]&&h(b,z,!0)&&e.find("."+F).css(z,"pointer");e[A](p||h(b,c)||"");e[t](n||h(b,m))}function K(a,c){if(f.data(a,n)){var d=f(a);d.parent().html(d.attr("style",f.data(a,n).s||"")[r](c||""));d.off(".i").unwrap();f(D+'[for="'+a.id+'"]').add(d.closest(D)).off(".i")}}function h(a,c,d){if(f.data(a,n))return f.data(a,n).o[c+(d?"":"Class")]}function y(a){return a.charAt(0).toUpperCase()+a.slice(1)}function J(a,c,d,b){if(!b){if(c)a[r]("ifToggled");a[r]("ifChanged")[r]("if"+y(d))}}var n="iCheck",
F=n+"-helper",x="radio",j="checked",I="un"+j,u="disabled",v="determinate",k="in"+v,E="update",l="type",t="addClass",A="removeClass",r="trigger",D="label",z="cursor",G=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini/i.test(navigator.userAgent);f.fn[n]=function(a,c){var d=":checkbox, :"+x,b=f(),e=function(a){a.each(function(){var a=f(this);b=a.is(d)?b.add(a):b.add(a.find(d))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(a))return a=a.toLowerCase(),
e(this),b.each(function(){"destroy"==a?K(this,"ifDestroyed"):C(f(this),!0,a);f.isFunction(c)&&c()});if("object"==typeof a||!a){var g=f.extend({checkedClass:j,disabledClass:u,indeterminateClass:k,labelHover:!0},a),h=g.handle,m=g.hoverClass||"hover",y=g.focusClass||"focus",v=g.activeClass||"active",z=!!g.labelHover,s=g.labelHoverClass||"hover",B=(""+g.increaseArea).replace("%","")|0;if("checkbox"==h||h==x)d=":"+h;-50>B&&(B=-50);e(this);return b.each(function(){K(this);var a=f(this),b=this,c=b.id,d=
-B+"%",e=100+2*B+"%",e={position:"absolute",top:d,left:d,display:"block",width:e,height:e,margin:0,padding:0,background:"#fff",border:0,opacity:0},d=G?{position:"absolute",visibility:"hidden"}:B?e:{position:"absolute",opacity:0},h="checkbox"==b[l]?g.checkboxClass||"icheckbox":g.radioClass||"i"+x,k=f(D+'[for="'+c+'"]').add(a.closest(D)),q=a.wrap('<div class="'+h+'"/>')[r]("ifCreated").parent().append(g.insert),e=f('<ins class="'+F+'"/>').css(e).appendTo(q);a.data(n,{o:g,s:a.attr("style")}).css(d);
g.inheritClass&&q[t](b.className);g.inheritID&&c&&q.attr("id",n+"-"+c);"static"==q.css("position")&&q.css("position","relative");C(a,!0,E);if(k.length)k.on("click.i mouseenter.i mouseleave.i touchbegin.i touchend.i",function(c){var d=c[l],e=f(this);if(!b[u])if("click"==d?C(a,!1,!0):z&&(/ve|nd/.test(d)?(q[A](m),e[A](s)):(q[t](m),e[t](s))),G)c.stopPropagation();else return!1});a.on("click.i focus.i blur.i keyup.i keydown.i keypress.i",function(c){var d=c[l];c=c.keyCode;if("click"==d)return!1;if("keydown"==
d&&32==c)return b[l]==x&&b[j]||(b[j]?w(a,j):p(a,j)),!1;if("keyup"==d&&b[l]==x)!b[j]&&p(a,j);else if(/us|ur/.test(d))q["blur"==d?A:t](y)});e.on("click mousedown mouseup mouseover mouseout touchbegin.i touchend.i",function(d){var c=d[l],e=/wn|up/.test(c)?v:m;if(!b[u]){if("click"==c)C(a,!1,!0);else{if(/wn|er|in/.test(c))q[t](e);else q[A](e+" "+v);if(k.length&&z&&e==m)k[/ut|nd/.test(c)?A:t](s)}if(G)d.stopPropagation();else return!1}})})}return this}})(jQuery);
;;function formErrors(data,form,errorCss){errorCss=errorCss||"row error";var summary='';if(data!=''){summary="<p class=\"errorbox\">";$.each(data,function(key,val){$(form+" #"+key+"_em_").html(val.toString());$(form+" #"+key+"_em_").show();$("#"+key).parent().addClass(errorCss);summary=summary+"- "+val.toString()+"<br />";});summary+="</p>";}
$(form+' .msgBox').html(summary.toString());$(form+' .msgBox').show();}
function formSuccess(data,form){var summary='';if(data!=''){summary="<div class=\"alert-box success\">";$.each(data,function(key,val){if(key!='success'){$(form+" #"+key+"_em_").html(val.toString());$(form+" #"+key+"_em_").show();$("#"+key).parent().addClass("row success");summary=summary+val.toString()+"<br />";}});summary+="</div>";}
$(form+' .msgBox').html(summary.toString());$(form+' .msgBox').show();$('.alert-box').delay(8000).fadeOut(2000);}
function replaceSuccess(data,form){var summary='';$(form+' fieldset').html('');if(data!=''){summary="<div class=\"alert-box success\" style=\"margin:5px;position:relative\">";$.each(data,function(key,val){if(key!='success'){$(form+" #"+key+"_em_").html(val.toString());$(form+" #"+key+"_em_").show();$("#"+key).parent().addClass("row success");summary=summary+val.toString()+"<br />";}});summary+="</div>";}
$(form+' fieldset').html(summary.toString());$(form+' fieldset').show();}
function hideFormErrors(form){$(form+" .errorbox").html('');$(form+" .errorboxe").hide();$(form+" .errorbox-icon").html('');$(form+" .errorbox-icon").hide();}
function parseScript(strcode){var scripts=new Array();while(strcode.indexOf("<script")>-1||strcode.indexOf("</script")>-1){var s=strcode.indexOf("<script");var s_e=strcode.indexOf(">",s);var e=strcode.indexOf("</script",s);var e_e=strcode.indexOf(">",e);scripts.push(strcode.substring(s_e+1,e));strcode=strcode.substring(0,s)+strcode.substring(e_e+1);}
for(var i=0;i<scripts.length;i++){try{eval(scripts[i]);}
catch(ex){}}}
function limitTextArea(areaID,infoID,charLimit){var ele=$('#'+areaID);var len=$('#'+areaID).val().length;var counter=charLimit-len;if(len>=charLimit){var value=ele.val();var newValue=value.substring(0,charLimit);ele.val(newValue);if(counter<1){$('#'+infoID).css("color","#FF0F0F");}else{$('#'+infoID).css("color","#4f4f4f");}}
$('#'+infoID).text(counter);}
function getLines(eleID){txt=$('#'+eleID).val();row=txt.split("\n");return row.length;}
function limitTextAreaRows(areaID,infoID,rowLimit){var allowedNumberOfLines=rowLimit;var len=getLines(areaID);var counter=allowedNumberOfLines-len;if(len>=allowedNumberOfLines){var modifiedText=$('#'+areaID).val().split("\n").slice(0,allowedNumberOfLines);$('#'+areaID).val(modifiedText.join("\n"));}
if(counter<1){$('#'+infoID).css("color","#FF0F0F");}else{$('#'+infoID).css("color","#4f4f4f");}
$('#'+infoID).text(counter);};window.instansive||(window.instansive=function(){"use strict";var n=[],t=0,i=!1,o=0,e=function(i){var o=setInterval(function(){var e=document.querySelectorAll(".instansive-widget");e.length>0&&(clearInterval(o),n=e,t=n.length,i())},100)},a=function(n,t){n.contentWindow&&n.contentWindow.postMessage("sizing:"+t,window.location.protocol+"//instansive.com")},s=function(){for(var i=0;t>i;i++)a(n[i],i)},r=function(t){if(t.origin==window.location.protocol+"//instansive.com"){var i=t.data.split(":");try{"sizing"==i[0]&&void 0!=n[parseInt(i[2])]&&(n[parseInt(i[2])].style.height=i[1]+"px")}catch(o){}}},c=function(n){if(n.origin==window.location.protocol+"//instansive.com"){var t=n.data.split(":");try{if("sizing_iid"==t[0]){var i=document.getElementById(t[2]);void 0!=i&&(i.style.height=t[1]+"px")}}catch(o){}}},d=function(){e(function(){for(var e=0;t>e;e++)n[e].onload=function(){o++,a(this,e)};var d=setInterval(function(){o>=t&&(clearInterval(d),i=!0,window.addEventListener?(window.addEventListener("message",r,!1),window.addEventListener("message",c,!0)):(window.attachEvent("onmessage",r),window.attachEvent("onmessage",c)),window.onresize=s,window.onload=s,s(),setInterval(function(){s()},5e3))},75)})};return d(),{refresh:function(){if(i)for(var o=0;t>o;o++)a(n[o],o)},reload:function(){d()}}}()),window.instansive.refresh();;$(document).ready(function(){stickyNavi();stickyArrowScrollTop();$('#mainmenue, #submenue').megaMenuCompleteSet({menu_speed_show:200,menu_speed_hide:100,menu_speed_delay:200,menu_effect:'hover_slide',menu_click_outside:0,menu_show_onload:0,menu_responsive:1});var config={'.chzn-select':{},'.chzn-select-deselect':{allow_single_deselect:true},'.chzn-select-no-single':{disable_search_threshold:10},'.chzn-select-no-results':{no_results_text:'Oops, nothing found!'},'.chzn-select-width':{width:"95%"}};for(var selector in config){$(selector).chosen(config[selector]);}});function stickyArrowScrollTop(){$('#arrow-up-xy').on('click',function(){$("html, body").animate({scrollTop:0},600);return false;});};function stickyNavi(){if(window.matchMedia('only screen and (min-width: 768px)').matches){var stickyTop=$('.sticky-hauptnav').offset().top;$(window).on('load scroll',function(){if($(window).scrollTop()>=stickyTop){$("body").css("padding-top","40px");$(".navibalken").addClass("sticky-navibalken");$(".navihalter").addClass("sticky-nav-zindex");$(".naviback").addClass("sticky-nav");$(".sticky-logo").removeClass("hide-sticky");$(".sticky-hauptnav .megamenu_container").addClass("megamenu_container-sticky-nav");$(".megamenu_dark_bar .megamenu > li:hover > a, .megamenu_dark_bar .megamenu > li.aktiv > a, .megamenu_dark_bar .megamenu > li > a").addClass("sticky-schrift");$(".ub-abgemeldet").addClass("ub-abgemeldet-sticky");$("span.anmelden").hide();$(".sticky-notifications .profil-pn").removeClass("hide-sticky");$(".sticky-notifications .profil-nt").removeClass("hide-sticky");$("#arrow-up-xy").removeClass("hide-sticky");$(".popuphalter").addClass("popuphalter-sticky");$(".dropdown_fullwidth").addClass("dropdown-sticky");$(".profildaten").addClass('sticky');$("div.profil-pn").insertAfter('#profilbox a#einstellungen');$("div.profil-pn").addClass('profil-pn-sticky');$("div.profil-nt").insertAfter('#profilbox div.profil-pn');$("div.profil-nt").addClass('profil-nt-sticky');$(".profilmenu-pn-text").show();$(".profilmenu-nt-text").show();$(".header-pn").hide();$(".header-nt").hide();$("#schnellsuche").hide();$("#schnellsuche-sticky").show();}else{$("body").css("padding-top","0px");$(".navibalken").removeClass("sticky-navibalken");$(".navihalter").removeClass("sticky-nav-zindex");$(".naviback").removeClass("sticky-nav");$(".sticky-logo").addClass("hide-sticky");$(".sticky-hauptnav .megamenu_container").removeClass("megamenu_container-sticky-nav");$(".megamenu_dark_bar .megamenu > li:hover > a, .megamenu_dark_bar .megamenu > li.aktiv > a, .megamenu_dark_bar .megamenu > li > a").removeClass("sticky-schrift");$(".ub-abgemeldet").removeClass("ub-abgemeldet-sticky");$("span.anmelden").show();$(".sticky-notifications .profil-pn").addClass("hide-sticky");$(".sticky-notifications .profil-nt").addClass("hide-sticky");$("#arrow-up-xy").addClass("hide-sticky");$(".popuphalter").removeClass("popuphalter-sticky");$(".dropdown_fullwidth").removeClass("dropdown-sticky");$(".profildaten").removeClass('sticky');$("div.profil-nt").removeClass('profil-nt-sticky');$("div.profil-pn").insertBefore('.ub-angemeldet .profildaten');$("div.profil-pn").removeClass('profil-pn-sticky');$("div.profil-nt").insertBefore('.ub-angemeldet .profildaten');$(".profilmenu-pn-text").hide();$(".profilmenu-nt-text").hide();$(".header-pn").show();$(".header-nt").show();$("#schnellsuche").show();$("#schnellsuche-sticky").hide();}});$(window).on('scroll',function(){if($(window).scrollTop()){}else{$(".userbox .profil-pn").removeClass("hide-sticky");$(".userbox .profil-nt").removeClass("hide-sticky");};});}};;(function($){var settings={menu_speed_show:300,menu_speed_hide:200,menu_speed_delay:200,menu_effect:'hover_fade',menu_click_outside:0,menu_show_onload:0,menu_responsive:1,hoverIntentConfig:{sensitivity:2,interval:100,over:megaMenuOver,timeout:200,out:megaMenuOut}};var methods={init:function(options){settings=$.extend(1,settings,options);return this.each(function(){var megaMenu=$(this),menuItem=$(megaMenu).children('li'),menuItemLink=$(menuItem).children('.megamenu_drop'),menuDropDown=$(menuItem).find('.dropdown_container, .dropdown_fullwidth'),menuItemFlyOut=$(menuItem).find('.dropdown_parent'),menuItemFlyOutLink=$(menuItemFlyOut).children('a'),menuItemFlyOutDropDown=$(menuItemFlyOut).find('.dropdown_flyout_level'),menuButton=$(megaMenu).children('.megamenu_button');menuItemElement=$(menuItem).add(menuItemFlyOut);menuDropDownElement=$(menuDropDown).add(menuItemFlyOutDropDown);if(("ontouchstart"in document.documentElement)&&(settings.menu_responsive===1)){if($('#main').innerWidth()<768){$(menuDropDown).css({'left':'-1px','top':'auto'}).hide();$(menuItemFlyOutDropDown).css({'left':'0','top':'0'}).hide();$(menuItem).hide(0);$(menuButton).show(0);}else{megaMenuDropDownPosition();}
$(menuButton).children('a').hammer().on('tap',function(){$(menuButton).toggleClass('megamenu_button_active');$(menuItem).not(":eq(0)").toggle(0);});$(menuItemElement).toggleClass('noactive');$(menuItemLink).hammer().on('tap',function(){var $this=$(this);$this.parent(menuItem).toggleClass('active noactive').find(menuDropDown).toggle(0);$this.parent(menuItem).siblings().addClass('noactive').removeClass('active').find(menuDropDown).hide(0);return false;});$(menuItemFlyOutLink).hammer().on('tap',function(){var $this=$(this);$this.parent(menuItemFlyOut).toggleClass('active noactive').find(menuItemFlyOutDropDown).first().toggle(0);$this.parent(menuItemFlyOut).siblings().addClass('noactive').removeClass('active').find(menuItemFlyOutDropDown).hide(0);$this.parent(menuItemFlyOut).siblings().find(menuItemFlyOut).addClass('noactive').removeClass('active');return false;});$(document).hammer().on('tap',function(){$(menuItemElement).addClass('noactive');$(menuDropDownElement).hide(0);});$(megaMenu).hammer().on('tap',function(event){event.stopPropagation();});$(window).bind('orientationchange',function(){$(menuItemElement).addClass('noactive');$(menuDropDownElement).hide(0);});return;}else{megaMenuDropDownPosition();$(window).resize(function(){megaMenuDropDownPosition();});$(menuButton).children('a').click(function(){$(menuButton).toggleClass('megamenu_button_active');$(menuItem).not(":eq(0)").toggle(0);});if(settings.menu_click_outside===1){$(document).click(function(){$(menuItemElement).removeClass('active');$(menuDropDownElement).hide(0);});$(megaMenu).click(function(event){event.stopPropagation();});}
switch(settings.menu_effect){case'open_close_fade':var menuEffectShow='fadeToggle',menuEffectHide='fadeOut';break;case'open_close_slide':var menuEffectShow='slideToggle',menuEffectHide='slideUp';break;case'open_close_toggle':var menuEffectShow='toggle',menuEffectHide='hide';break;}
switch(settings.menu_effect){case'hover_fade':case'hover_slide':case'hover_toggle':case'click_fade':case'click_slide':case'click_toggle':$(menuItem).hoverIntent(settings.hoverIntentConfig);$(menuItemFlyOut).hoverIntent(settings.hoverIntentConfig);break;case'open_close_fade':case'open_close_slide':case'open_close_toggle':$('.megamenu > li:nth-child('+settings.menu_show_onload+')').find(menuDropDown).show().closest(menuItem).toggleClass('active');$(menuItem).unbind('mouseenter mouseleave').click(function(){var $this=$(this);$this.siblings().removeClass('active').find(menuDropDown)[menuEffectHide](settings.menu_speed_hide);$this.toggleClass('active').find(menuDropDown).first().delay(settings.menu_speed_delay)[menuEffectShow](settings.menu_speed_show).click(function(event){event.stopPropagation();});});$(menuItemFlyOut).unbind('mouseenter mouseleave').click(function(){var $this=$(this);$this.siblings().removeClass('active').find(menuItemFlyOutDropDown)[menuEffectHide](settings.menu_speed_hide);$this.siblings().find('li').removeClass('active');$this.toggleClass('active').find(menuItemFlyOutDropDown).first().delay(settings.menu_speed_delay)[menuEffectShow](settings.menu_speed_show).click(function(event){event.stopPropagation();});});break;}}});},update:function(options){settings=$.extend(1,settings,options);}};$.fn.megaMenuCompleteSet=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1));}else if(typeof method==='object'||!method){return methods.init.apply(this,arguments);}else{$.error('No found method '+method);}};function megaMenuOver(){var $this=$(this),dropDownMega=$('.dropdown_container, .dropdown_fullwidth',$this),dropDownFlyOutLevel=$this.children('.dropdown_flyout_level');dropDownMega=$(dropDownMega).add(dropDownFlyOutLevel);switch(settings.menu_effect){case'hover_fade':$(dropDownMega).fadeIn(settings.menu_speed_show);break;case'hover_slide':$(dropDownMega).slideDown(settings.menu_speed_show);break;case'hover_toggle':$(dropDownMega).show(settings.menu_speed_show);break;case'click_fade':$this.click(function(){$(dropDownMega).fadeIn(settings.menu_speed_show);});break;case'click_slide':$this.click(function(){$(dropDownMega).slideDown(settings.menu_speed_show);});break;case'click_toggle':$this.click(function(){$(dropDownMega).show(settings.menu_speed_show);});break;}}
function megaMenuOut(){var $this=$(this),dropDownMega=$('.dropdown_container, .dropdown_fullwidth, .dropdown_flyout_level',$this);switch(settings.menu_effect){case'hover_fade':case'click_fade':$(dropDownMega).fadeOut(settings.menu_speed_hide);break;case'hover_slide':case'click_slide':$(dropDownMega).slideUp(settings.menu_speed_hide);break;case'hover_toggle':case'click_toggle':$(dropDownMega).toggle(settings.menu_speed_hide);break;}}
function megaMenuDropDownPosition(){if(($('#main').innerWidth()<768)&&(settings.menu_responsive===1)){$('.dropdown_container, .dropdown_fullwidth').css({'left':'-1px','top':'auto'}).hide();$('.dropdown_first').css({'left':'0'}).hide();$('.dropdown_flyout_level, .dropdown_flyout_level_left').css({'left':'0','top':'0'}).hide();}
else{$('.dropdown_container').css({'left':'auto','top':'auto'}).hide();$('.dropdown_fullwidth').css({'left':'-1px','top':'auto'}).hide();$('.dropdown_flyout_level').css({'left':'95%','top':'-21px'}).hide();$('.dropdown_flyout_level_left').css({'left':'-108%','right':'100%'}).hide();}
$('.megamenu_container_vertical').find('.dropdown_container, .dropdown_fullwidth').css({'top':'0'});}})(jQuery);;(function($){$.fn.hoverIntent=function(f,g){var cfg={sensitivity:7,interval:100,timeout:0};cfg=$.extend(cfg,g?{over:f,out:g}:f);var cX,cY,pX,pY;var track=function(ev){cX=ev.pageX;cY=ev.pageY};var compare=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);if((Math.abs(pX-cX)+Math.abs(pY-cY))<cfg.sensitivity){$(ob).unbind("mousemove",track);ob.hoverIntent_s=1;return cfg.over.apply(ob,[ev])}else{pX=cX;pY=cY;ob.hoverIntent_t=setTimeout(function(){compare(ev,ob)},cfg.interval)}};var delay=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);ob.hoverIntent_s=0;return cfg.out.apply(ob,[ev])};var handleHover=function(e){var ev=jQuery.extend({},e);var ob=this;if(ob.hoverIntent_t){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t)}if(e.type=="mouseenter"){pX=ev.pageX;pY=ev.pageY;$(ob).bind("mousemove",track);if(ob.hoverIntent_s!=1){ob.hoverIntent_t=setTimeout(function(){compare(ev,ob)},cfg.interval)}}else{$(ob).unbind("mousemove",track);if(ob.hoverIntent_s==1){ob.hoverIntent_t=setTimeout(function(){delay(ev,ob)},cfg.timeout)}}};return this.bind('mouseenter',handleHover).bind('mouseleave',handleHover)}})(jQuery);
/*! Hammer.JS - v1.0.2 - 2013-02-27
 * http://eightmedia.github.com/hammer.js
 *
 * Copyright (c) 2013 Jorik Tangelder <j.tangelder@gmail.com>;
 * Licensed under the MIT license */
(function(t){"use strict";function e(){if(!n.READY){n.event.determineEventTypes();for(var t in n.gestures)n.gestures.hasOwnProperty(t)&&n.detection.register(n.gestures[t]);n.event.onTouch(document,n.EVENT_MOVE,n.detection.detect),n.event.onTouch(document,n.EVENT_END,n.detection.endDetect),n.READY=!0}}var n=function(t,e){return new n.Instance(t,e||{})};n.defaults={stop_browser_behavior:{userSelect:"none",touchCallout:"none",touchAction:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},n.HAS_POINTEREVENTS=navigator.msPointerEnabled,n.HAS_TOUCHEVENTS="ontouchstart"in t,n.EVENT_TYPES={},n.DIRECTION_DOWN="down",n.DIRECTION_LEFT="left",n.DIRECTION_UP="up",n.DIRECTION_RIGHT="right",n.POINTER_MOUSE="mouse",n.POINTER_TOUCH="touch",n.EVENT_START="start",n.EVENT_MOVE="move",n.EVENT_END="end";var i=navigator.userAgent;n.STOP_MOUSEEVENTS=n.HAS_TOUCHEVENTS&&i.match(/(like mac os x.*mobile.*safari)|android|blackberry/i),n.plugins={},n.READY=!1,n.Instance=function(t,i){var r=this;return e(),this.element=t,this.enabled=!0,this.options=n.utils.extend(n.utils.extend({},n.defaults),i||{}),this.options.stop_browser_behavior&&n.utils.stopDefaultBrowserBehavior(this),n.event.onTouch(t,n.EVENT_START,function(t){r.enabled&&n.detection.startDetect(r,t)}),this},n.Instance.prototype={on:function(t,e){for(var n=t.split(" "),i=0;n.length>i;i++)this.element.addEventListener(n[i],e,!1);return this},off:function(t,e){for(var n=t.split(" "),i=0;n.length>i;i++)this.element.removeEventListener(n[i],e,!1);return this},trigger:function(t,e){var n=document.createEvent("Event");return n.initEvent(t,!0,!0),n.gesture=e,this.element.dispatchEvent(n),this},enable:function(t){return this.enabled=t,this}};var r=null,s=!1,o=!1;n.event={bindDom:function(t,e,n){for(var i=e.split(" "),r=0;i.length>r;r++)t.addEventListener(i[r],n,!1)},onTouch:function(t,e,i){var a=this;this.bindDom(t,n.EVENT_TYPES[e],function(c){var u=c.type.toLowerCase();u.match(/mouse/)&&n.STOP_MOUSEEVENTS||(u.match(/start|down|move/)&&(1===c.which||u.match(/touch/)||c.pointerType&&c.pointerType==c.MSPOINTER_TYPE_TOUCH)&&(s=!0),u.match(/touch|pointer/)&&(o=!0),!s||o&&u.match(/mouse/)||(n.HAS_POINTEREVENTS&&e!=n.EVENT_END&&n.PointerEvent.updatePointer(e,c),e===n.EVENT_END&&null!==r?c=r:r=c,i.call(n.detection,a.collectEventData(t,e,c)),n.HAS_POINTEREVENTS&&e==n.EVENT_END&&n.PointerEvent.updatePointer(e,c)),u.match(/up|cancel|end/)&&(s=!1,o=!1,r=null,n.PointerEvent.reset()))})},determineEventTypes:function(){var t;t=n.HAS_POINTEREVENTS?["MSPointerDown","MSPointerMove","MSPointerUp MSPointerCancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],n.EVENT_TYPES[n.EVENT_START]=t[0],n.EVENT_TYPES[n.EVENT_MOVE]=t[1],n.EVENT_TYPES[n.EVENT_END]=t[2]},getTouchList:function(t){return n.HAS_POINTEREVENTS?n.PointerEvent.getTouchList():t.touches?t.touches:[{identifier:1,pageX:t.pageX,pageY:t.pageY,target:t.target}]},collectEventData:function(t,e,i){var r=this.getTouchList(i,e),s=n.POINTER_TOUCH;return(i.type.match(/mouse/)||i.poinerType&&i.pointerType===i.MSPOINTER_TYPE_MOUSE)&&(s=n.POINTER_MOUSE),{center:n.utils.getCenter(r),timestamp:i.timestamp||(new Date).getTime(),target:i.target,touches:r,eventType:e,pointerType:s,srcEvent:i,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return n.detection.stopDetect()}}}},n.PointerEvent={pointers:{},getTouchList:function(){var t=this.pointers,e=[];return Object.keys(t).sort().forEach(function(n){e.push(t[n])}),e},updatePointer:function(t,e){t==n.EVENT_END?delete this.pointers[e.pointerId]:(e.identifier=e.pointerId,this.pointers[e.pointerId]=e)},reset:function(){this.pointers={}}},n.utils={extend:function(t,e){for(var n in e)t[n]=e[n];return t},getCenter:function(t){for(var e=[],n=[],i=0,r=t.length;r>i;i++)e.push(t[i].pageX),n.push(t[i].pageY);return{pageX:(Math.min.apply(Math,e)+Math.max.apply(Math,e))/2,pageY:(Math.min.apply(Math,n)+Math.max.apply(Math,n))/2}},getVelocity:function(t,e,n){return{x:Math.abs(e/t)||0,y:Math.abs(n/t)||0}},getAngle:function(t,e){var n=e.pageY-t.pageY,i=e.pageX-t.pageX;return 180*Math.atan2(n,i)/Math.PI},getDirection:function(t,e){var i=Math.abs(t.pageX-e.pageX),r=Math.abs(t.pageY-e.pageY);return i>=r?t.pageX-e.pageX>0?n.DIRECTION_LEFT:n.DIRECTION_RIGHT:t.pageY-e.pageY>0?n.DIRECTION_UP:n.DIRECTION_DOWN},getDistance:function(t,e){var n=e.pageX-t.pageX,i=e.pageY-t.pageY;return Math.sqrt(n*n+i*i)},getScale:function(t,e){return t.length>=2&&e.length>=2?this.getDistance(e[0],e[1])/this.getDistance(t[0],t[1]):1},getRotation:function(t,e){return t.length>=2&&e.length>=2?this.getAngle(e[1],e[0])-this.getAngle(t[1],t[0]):0},isVertical:function(t){return t==n.DIRECTION_UP||t==n.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(t){var e,n=["webkit","khtml","moz","ms","o",""],i=t.options.stop_browser_behavior,r=t.element;if(i&&r.style){for(var s=0;n.length>s;s++)for(var o in i)i.hasOwnProperty(o)&&(e=o,n[s]&&(e=n[s]+e.substring(0,1).toUpperCase()+e.substring(1)),r.style[e]=i[o]);"none"==i.userSelect&&(r.onselectstart=function(){return!1})}}},n.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(t,e){this.current||(this.stopped=!1,this.current={inst:t,startEvent:n.utils.extend({},e),lastEvent:!1,name:""},this.detect(e))},detect:function(t){if(this.current&&!this.stopped){t=this.extendEventData(t);for(var e=this.current.inst.options,n=0,i=this.gestures.length;i>n;n++){var r=this.gestures[n];if(!this.stopped&&e[r.name]!==!1&&r.handler.call(r,t,this.current.inst)===!1){this.stopDetect();break}}this.current&&(this.current.lastEvent=t)}},endDetect:function(t){this.detect(t),this.stopDetect()},stopDetect:function(){this.previous=n.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(t){var e=this.current.startEvent;if(e&&(t.touches.length!=e.touches.length||t.touches===e.touches)){e.touches=[];for(var i=0,r=t.touches.length;r>i;i++)e.touches.push(n.utils.extend({},t.touches[i]))}var s=t.timestamp-e.timestamp,o=t.center.pageX-e.center.pageX,a=t.center.pageY-e.center.pageY,c=n.utils.getVelocity(s,o,a);return n.utils.extend(t,{deltaTime:s,deltaX:o,deltaY:a,velocityX:c.x,velocityY:c.y,distance:n.utils.getDistance(e.center,t.center),angle:n.utils.getAngle(e.center,t.center),direction:n.utils.getDirection(e.center,t.center),scale:n.utils.getScale(e.touches,t.touches),rotation:n.utils.getRotation(e.touches,t.touches),startEvent:e}),t},register:function(t){var e=t.defaults||{};return e[t.name]===void 0&&(e[t.name]=!0),n.utils.extend(n.defaults,e),t.index=t.index||1e3,this.gestures.push(t),this.gestures.sort(function(t,e){return t.index<e.index?-1:t.index>e.index?1:0}),this.gestures}},n.gestures=n.gestures||{},n.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(t,e){switch(t.eventType){case n.EVENT_START:clearTimeout(this.timer),n.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==n.detection.current.name&&e.trigger("hold",t)},e.options.hold_timeout);break;case n.EVENT_MOVE:t.distance>e.options.hold_threshold&&clearTimeout(this.timer);break;case n.EVENT_END:clearTimeout(this.timer)}}},n.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,doubletap_distance:20,doubletap_interval:300},handler:function(t,e){if(t.eventType==n.EVENT_END){var i=n.detection.previous;if(t.deltaTime>e.options.tap_max_touchtime||t.distance>e.options.tap_max_distance)return;n.detection.current.name=i&&"tap"==i.name&&t.timestamp-i.lastEvent.timestamp<e.options.doubletap_interval&&t.distance<e.options.doubletap_distance?"doubletap":"tap",e.trigger(n.detection.current.name,t)}}},n.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:.7},handler:function(t,e){if(t.eventType==n.EVENT_END){if(e.options.swipe_max_touches>0&&t.touches.length>e.options.swipe_max_touches)return;(t.velocityX>e.options.swipe_velocity||t.velocityY>e.options.swipe_velocity)&&(e.trigger(this.name,t),e.trigger(this.name+t.direction,t))}}},n.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1},triggered:!1,handler:function(t,e){if(n.detection.current.name!=this.name&&this.triggered)return e.trigger(this.name+"end",t),this.triggered=!1,void 0;if(!(e.options.drag_max_touches>0&&t.touches.length>e.options.drag_max_touches))switch(t.eventType){case n.EVENT_START:this.triggered=!1;break;case n.EVENT_MOVE:if(t.distance<e.options.drag_min_distance&&n.detection.current.name!=this.name)return;n.detection.current.name=this.name;var i=n.detection.current.lastEvent.direction;e.options.drag_lock_to_axis&&i!==t.direction&&(t.direction=n.utils.isVertical(i)?0>t.deltaY?n.DIRECTION_UP:n.DIRECTION_DOWN:0>t.deltaX?n.DIRECTION_LEFT:n.DIRECTION_RIGHT),this.triggered||(e.trigger(this.name+"start",t),this.triggered=!0),e.trigger(this.name,t),e.trigger(this.name+t.direction,t),(e.options.drag_block_vertical&&n.utils.isVertical(t.direction)||e.options.drag_block_horizontal&&!n.utils.isVertical(t.direction))&&t.preventDefault();break;case n.EVENT_END:this.triggered&&e.trigger(this.name+"end",t),this.triggered=!1}}},n.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(t,e){if(n.detection.current.name!=this.name&&this.triggered)return e.trigger(this.name+"end",t),this.triggered=!1,void 0;if(!(2>t.touches.length))switch(e.options.transform_always_block&&t.preventDefault(),t.eventType){case n.EVENT_START:this.triggered=!1;break;case n.EVENT_MOVE:var i=Math.abs(1-t.scale),r=Math.abs(t.rotation);if(e.options.transform_min_scale>i&&e.options.transform_min_rotation>r)return;n.detection.current.name=this.name,this.triggered||(e.trigger(this.name+"start",t),this.triggered=!0),e.trigger(this.name,t),r>e.options.transform_min_rotation&&e.trigger("rotate",t),i>e.options.transform_min_scale&&(e.trigger("pinch",t),e.trigger("pinch"+(1>t.scale?"in":"out"),t));break;case n.EVENT_END:this.triggered&&e.trigger(this.name+"end",t),this.triggered=!1}}},n.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1},handler:function(t,e){e.options.prevent_default&&t.preventDefault(),t.eventType==n.EVENT_START&&e.trigger(this.name,t)}},n.gestures.Release={name:"release",index:1/0,handler:function(t,e){t.eventType==n.EVENT_END&&e.trigger(this.name,t)}},t.Hammer=n,"function"==typeof t.define&&t.define.amd&&t.define("hammer",[],function(){return n})})(window),function(t){Hammer.event.bindDom=function(e,n,i){t(e).on(n,function(t){var e=t.originalEvent;e.pageX||(e.pageX=t.pageX,e.pageY=t.pageY),e.target||(e.target=t.target),e.button&&(e.which=e.button),e.preventDefault||(e.preventDefault=t.preventDefault),e.stopPropagation||(e.stopPropagation=t.stopPropagation),i.call(this,e)})},Hammer.Instance.prototype.on=function(e,n){return t(this.element).on(e,n)},Hammer.Instance.prototype.off=function(e,n){return t(this.element).off(e,n)},Hammer.Instance.prototype.trigger=function(e,n){return t(n.srcEvent.target).trigger({type:e,gesture:n})},t.fn.hammer=function(e){return this.each(function(){var n=t(this),i=n.data("hammer");i?i&&e&&Hammer.utils.extend(i.options,e):n.data("hammer",Hammer(this,e||{}))})}}(jQuery);;(function(){var SelectParser;SelectParser=(function(){function SelectParser(){this.options_index=0;this.parsed=[];}
SelectParser.prototype.add_node=function(child){if(child.nodeName.toUpperCase()==="OPTGROUP"){return this.add_group(child);}else{return this.add_option(child);}};SelectParser.prototype.add_group=function(group){var group_position,option,_i,_len,_ref,_results;group_position=this.parsed.length;this.parsed.push({array_index:group_position,group:true,label:group.label,children:0,disabled:group.disabled});_ref=group.childNodes;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){option=_ref[_i];_results.push(this.add_option(option,group_position,group.disabled));}
return _results;};SelectParser.prototype.add_option=function(option,group_position,group_disabled){if(option.nodeName.toUpperCase()==="OPTION"){if(option.text!==""){if(group_position!=null){this.parsed[group_position].children+=1;}
this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:option.value,text:option.text,html:option.innerHTML,selected:option.selected,disabled:group_disabled===true?group_disabled:option.disabled,group_array_index:group_position,classes:option.className,style:option.style.cssText});}else{this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:true});}
return this.options_index+=1;}};return SelectParser;})();SelectParser.select_to_array=function(select){var child,parser,_i,_len,_ref;parser=new SelectParser();_ref=select.childNodes;for(_i=0,_len=_ref.length;_i<_len;_i++){child=_ref[_i];parser.add_node(child);}
return parser.parsed;};this.SelectParser=SelectParser;}).call(this);(function(){var AbstractChosen,root;root=this;AbstractChosen=(function(){function AbstractChosen(form_field,options){this.form_field=form_field;this.options=options!=null?options:{};if(!AbstractChosen.browser_is_supported()){return;}
this.is_multiple=this.form_field.multiple;this.set_default_text();this.set_default_values();this.setup();this.set_up_html();this.register_observers();this.finish_setup();}
AbstractChosen.prototype.set_default_values=function(){var _this=this;this.click_test_action=function(evt){return _this.test_active_click(evt);};this.activate_action=function(evt){return _this.activate_field(evt);};this.active_field=false;this.mouse_on_container=false;this.results_showing=false;this.result_highlighted=null;this.result_single_selected=null;this.allow_single_deselect=(this.options.allow_single_deselect!=null)&&(this.form_field.options[0]!=null)&&this.form_field.options[0].text===""?this.options.allow_single_deselect:false;this.disable_search_threshold=this.options.disable_search_threshold||0;this.disable_search=this.options.disable_search||false;this.enable_split_word_search=this.options.enable_split_word_search!=null?this.options.enable_split_word_search:true;this.search_contains=this.options.search_contains||false;this.single_backstroke_delete=this.options.single_backstroke_delete||false;this.max_selected_options=this.options.max_selected_options||Infinity;this.filter_results=(this.options.filter_results!=null&&this.options.filter_results===false)?false:true;return this.inherit_select_classes=this.options.inherit_select_classes||false;};AbstractChosen.prototype.set_default_text=function(){if(this.form_field.getAttribute("data-placeholder")){this.default_text=this.form_field.getAttribute("data-placeholder");}else if(this.is_multiple){this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||AbstractChosen.default_multiple_text;}else{this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||AbstractChosen.default_single_text;}
return this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||AbstractChosen.default_no_result_text;};AbstractChosen.prototype.mouse_enter=function(){return this.mouse_on_container=true;};AbstractChosen.prototype.mouse_leave=function(){return this.mouse_on_container=false;};AbstractChosen.prototype.input_focus=function(evt){var _this=this;if(this.is_multiple){if(!this.active_field){return setTimeout((function(){return _this.container_mousedown();}),50);}}else{if(!this.active_field){return this.activate_field();}}};AbstractChosen.prototype.input_blur=function(evt){var _this=this;if(!this.mouse_on_container){this.active_field=false;return setTimeout((function(){return _this.blur_test();}),100);}};AbstractChosen.prototype.result_add_option=function(option){var classes,style;option.dom_id=this.container_id+"_o_"+option.array_index;classes=[];if(!option.disabled&&!(option.selected&&this.is_multiple)){classes.push("active-result");}
if(option.disabled&&!(option.selected&&this.is_multiple)){classes.push("disabled-result");}
if(option.selected){classes.push("result-selected");}
if(option.group_array_index!=null){classes.push("group-option");}
if(option.classes!==""){classes.push(option.classes);}
style=option.style.cssText!==""?" style=\""+option.style+"\"":"";return'<li id="'+option.dom_id+'" class="'+classes.join(' ')+'"'+style+'>'+option.html+'</li>';};AbstractChosen.prototype.results_update_field=function(){this.set_default_text();if(!this.is_multiple){this.results_reset_cleanup();}
this.result_clear_highlight();this.result_single_selected=null;return this.results_build();};AbstractChosen.prototype.results_toggle=function(){if(this.results_showing){return this.results_hide();}else{return this.results_show();}};AbstractChosen.prototype.results_search=function(evt){if(this.results_showing){return this.winnow_results();}else{return this.results_show();}};AbstractChosen.prototype.choices_count=function(){var option,_i,_len,_ref;if(this.selected_option_count!=null){return this.selected_option_count;}
this.selected_option_count=0;_ref=this.form_field.options;for(_i=0,_len=_ref.length;_i<_len;_i++){option=_ref[_i];if(option.selected){this.selected_option_count+=1;}}
return this.selected_option_count;};AbstractChosen.prototype.choices_click=function(evt){evt.preventDefault();if(!this.results_showing){return this.results_show();}};AbstractChosen.prototype.keyup_checker=function(evt){var stroke,_ref;stroke=(_ref=evt.which)!=null?_ref:evt.keyCode;this.search_field_scale();switch(stroke){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0){return this.keydown_backstroke();}else if(!this.pending_backstroke){this.result_clear_highlight();return this.results_search();}
break;case 13:evt.preventDefault();if(this.results_showing){return this.result_select(evt);}
break;case 27:if(this.results_showing){this.results_hide();}
return true;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search();}};AbstractChosen.prototype.generate_field_id=function(){var new_id;new_id=this.generate_random_id();this.form_field.id=new_id;return new_id;};AbstractChosen.prototype.generate_random_char=function(){var chars,newchar,rand;chars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";rand=Math.floor(Math.random()*chars.length);return newchar=chars.substring(rand,rand+1);};AbstractChosen.prototype.container_width=function(){if(this.options.width!=null){return"100%";}else{return"100%";}};AbstractChosen.browser_is_supported=function(){var _ref;if(window.navigator.appName==="Microsoft Internet Explorer"){return(null!==(_ref=document.documentMode)&&_ref>=8);}
return true;};AbstractChosen.default_multiple_text="Select Some Options";AbstractChosen.default_single_text="Select an Option";AbstractChosen.default_no_result_text="No results match";return AbstractChosen;})();root.AbstractChosen=AbstractChosen;}).call(this);(function(){var $,Chosen,root,_ref,__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key];}function ctor(){this.constructor=child;}ctor.prototype=parent.prototype;child.prototype=new ctor();child.__super__=parent.prototype;return child;};root=this;$=jQuery;$.fn.extend({chosen:function(options){if(!AbstractChosen.browser_is_supported()){return this;}
return this.each(function(input_field){var $this;$this=$(this);if(!$this.hasClass("chzn-done")){return $this.data('chosen',new Chosen(this,options));}});}});Chosen=(function(_super){__extends(Chosen,_super);function Chosen(){_ref=Chosen.__super__.constructor.apply(this,arguments);return _ref;}
Chosen.prototype.setup=function(){this.form_field_jq=$(this.form_field);this.current_selectedIndex=this.form_field.selectedIndex;return this.is_rtl=this.form_field_jq.hasClass("chzn-rtl");};Chosen.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done");};Chosen.prototype.set_up_html=function(){var container_classes,container_props;this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,'_'):this.generate_field_id();this.container_id+="_chzn";container_classes=["chzn-container"];container_classes.push("chzn-container-"+(this.is_multiple?"multi":"single"));if(this.inherit_select_classes&&this.form_field.className){container_classes.push(this.form_field.className);}
if(this.is_rtl){container_classes.push("chzn-rtl");}
container_props={'id':this.container_id,'class':container_classes.join(' '),'style':"width: "+(this.container_width())+";",'title':this.form_field.title};this.container=$("<div />",container_props);if(this.is_multiple){this.container.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop"><ul class="chzn-results"></ul></div>');}else{this.container.html('<a href="javascript:void(0)" class="chzn-single chzn-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop"><div class="chzn-search"><input type="search" autocomplete="off" /></div><ul class="chzn-results"></ul></div>');}
this.form_field_jq.hide().after(this.container);this.dropdown=this.container.find('div.chzn-drop').first();this.search_field=this.container.find('input').first();this.search_results=this.container.find('ul.chzn-results').first();this.search_field_scale();this.search_no_results=this.container.find('li.no-results').first();if(this.is_multiple){this.search_choices=this.container.find('ul.chzn-choices').first();this.search_container=this.container.find('li.search-field').first();}else{this.search_container=this.container.find('div.chzn-search').first();this.selected_item=this.container.find('.chzn-single').first();}
this.results_build();this.set_tab_index();this.set_label_behavior();return this.form_field_jq.trigger("liszt:ready",{chosen:this});};Chosen.prototype.register_observers=function(){var _this=this;this.container.mousedown(function(evt){_this.container_mousedown(evt);});this.container.mouseup(function(evt){_this.container_mouseup(evt);});this.container.mouseenter(function(evt){_this.mouse_enter(evt);});this.container.mouseleave(function(evt){_this.mouse_leave(evt);});this.search_results.mouseup(function(evt){_this.search_results_mouseup(evt);});this.search_results.mouseover(function(evt){_this.search_results_mouseover(evt);});this.search_results.mouseout(function(evt){_this.search_results_mouseout(evt);});this.search_results.bind('mousewheel DOMMouseScroll',function(evt){_this.search_results_mousewheel(evt);});this.form_field_jq.bind("liszt:updated",function(evt){_this.results_update_field(evt);});this.form_field_jq.bind("liszt:activate",function(evt){_this.activate_field(evt);});this.form_field_jq.bind("liszt:open",function(evt){_this.container_mousedown(evt);});this.search_field.blur(function(evt){_this.input_blur(evt);});this.search_field.keyup(function(evt){_this.keyup_checker(evt);});this.search_field.keydown(function(evt){_this.keydown_checker(evt);});this.search_field.focus(function(evt){_this.input_focus(evt);});if(this.is_multiple){return this.search_choices.click(function(evt){_this.choices_click(evt);});}else{return this.container.click(function(evt){evt.preventDefault();});}};Chosen.prototype.search_field_disabled=function(){this.is_disabled=this.form_field_jq[0].disabled;if(this.is_disabled){this.container.addClass('chzn-disabled');this.search_field[0].disabled=true;if(!this.is_multiple){this.selected_item.unbind("focus",this.activate_action);}
return this.close_field();}else{this.container.removeClass('chzn-disabled');this.search_field[0].disabled=false;if(!this.is_multiple){return this.selected_item.bind("focus",this.activate_action);}}};Chosen.prototype.container_mousedown=function(evt){if(!this.is_disabled){if(evt&&evt.type==="mousedown"&&!this.results_showing){evt.preventDefault();}
if(!((evt!=null)&&($(evt.target)).hasClass("search-choice-close"))){if(!this.active_field){if(this.is_multiple){this.search_field.val("");}
$(document).click(this.click_test_action);this.results_show();}else if(!this.is_multiple&&evt&&(($(evt.target)[0]===this.selected_item[0])||$(evt.target).parents("a.chzn-single").length)){evt.preventDefault();this.results_toggle();}
return this.activate_field();}}};Chosen.prototype.container_mouseup=function(evt){if(evt.target.nodeName==="ABBR"&&!this.is_disabled){return this.results_reset(evt);}};Chosen.prototype.search_results_mousewheel=function(evt){var delta,_ref1,_ref2;delta=-((_ref1=evt.originalEvent)!=null?_ref1.wheelDelta:void 0)||((_ref2=evt.originialEvent)!=null?_ref2.detail:void 0);if(delta!=null){evt.preventDefault();if(evt.type==='DOMMouseScroll'){delta=delta*40;}
return this.search_results.scrollTop(delta+this.search_results.scrollTop());}};Chosen.prototype.blur_test=function(evt){if(!this.active_field&&this.container.hasClass("chzn-container-active")){return this.close_field();}};Chosen.prototype.close_field=function(){$(document).unbind("click",this.click_test_action);this.active_field=false;this.results_hide();this.container.removeClass("chzn-container-active");this.clear_backstroke();this.show_search_field_default();return this.search_field_scale();};Chosen.prototype.activate_field=function(){this.container.addClass("chzn-container-active");this.active_field=true;this.search_field.val(this.search_field.val());return this.search_field.focus();};Chosen.prototype.test_active_click=function(evt){if($(evt.target).parents('#'+this.container_id).length){return this.active_field=true;}else{return this.close_field();}};Chosen.prototype.results_build=function(){var content,data,_i,_len,_ref1;this.parsing=true;this.selected_option_count=null;this.results_data=root.SelectParser.select_to_array(this.form_field);if(this.is_multiple&&this.choices_count()>0){this.search_choices.find("li.search-choice").remove();}else if(!this.is_multiple){this.selected_item.addClass("chzn-default").find("span").text(this.default_text);if(this.disable_search||this.form_field.options.length<=this.disable_search_threshold){this.container.addClass("chzn-container-single-nosearch");}else{this.container.removeClass("chzn-container-single-nosearch");}}
content='';_ref1=this.results_data;for(_i=0,_len=_ref1.length;_i<_len;_i++){data=_ref1[_i];if(data.group){content+=this.result_add_group(data);}else if(!data.empty){content+=this.result_add_option(data);if(data.selected&&this.is_multiple){this.choice_build(data);}else if(data.selected&&!this.is_multiple){this.selected_item.removeClass("chzn-default").find("span").text(data.text);if(this.allow_single_deselect){this.single_deselect_control_build();}}}}
this.search_field_disabled();this.show_search_field_default();this.search_field_scale();this.search_results.html(content);return this.parsing=false;};Chosen.prototype.result_add_group=function(group){group.dom_id=this.container_id+"_g_"+group.array_index;return'<li id="'+group.dom_id+'" class="group-result">'+$("<div />").text(group.label).html()+'</li>';};Chosen.prototype.result_do_highlight=function(el){var high_bottom,high_top,maxHeight,visible_bottom,visible_top;if(el.length){this.result_clear_highlight();this.result_highlight=el;this.result_highlight.addClass("highlighted");maxHeight=parseInt(this.search_results.css("maxHeight"),10);visible_top=this.search_results.scrollTop();visible_bottom=maxHeight+visible_top;high_top=this.result_highlight.position().top+this.search_results.scrollTop();high_bottom=high_top+this.result_highlight.outerHeight();if(high_bottom>=visible_bottom){return this.search_results.scrollTop((high_bottom-maxHeight)>0?high_bottom-maxHeight:0);}else if(high_top<visible_top){return this.search_results.scrollTop(high_top);}}};Chosen.prototype.result_clear_highlight=function(){if(this.result_highlight){this.result_highlight.removeClass("highlighted");}
return this.result_highlight=null;};Chosen.prototype.results_show=function(){if(this.is_multiple&&this.max_selected_options<=this.choices_count()){this.form_field_jq.trigger("liszt:maxselected",{chosen:this});return false;}
this.container.addClass("chzn-with-drop");this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this});this.results_showing=true;this.search_field.focus();this.search_field.val(this.search_field.val());return this.winnow_results();};Chosen.prototype.results_hide=function(){if(this.results_showing){this.result_clear_highlight();this.container.removeClass("chzn-with-drop");this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this});}
return this.results_showing=false;};Chosen.prototype.set_tab_index=function(el){var ti;if(this.form_field_jq.attr("tabindex")){ti=this.form_field_jq.attr("tabindex");this.form_field_jq.attr("tabindex",-1);return this.search_field.attr("tabindex",ti);}};Chosen.prototype.set_label_behavior=function(){var _this=this;this.form_field_label=this.form_field_jq.parents("label");if(!this.form_field_label.length&&this.form_field.id.length){this.form_field_label=$("label[for='"+this.form_field.id+"']");}
if(this.form_field_label.length>0){return this.form_field_label.click(function(evt){if(_this.is_multiple){return _this.container_mousedown(evt);}else{return _this.activate_field();}});}};Chosen.prototype.show_search_field_default=function(){if(this.is_multiple&&this.choices_count()<1&&!this.active_field){this.search_field.val(this.default_text);return this.search_field.addClass("default");}else{this.search_field.val("");return this.search_field.removeClass("default");}};Chosen.prototype.search_results_mouseup=function(evt){var target;target=$(evt.target).hasClass("active-result")?$(evt.target):$(evt.target).parents(".active-result").first();if(target.length){this.result_highlight=target;this.result_select(evt);return this.search_field.focus();}};Chosen.prototype.search_results_mouseover=function(evt){var target;target=$(evt.target).hasClass("active-result")?$(evt.target):$(evt.target).parents(".active-result").first();if(target){return this.result_do_highlight(target);}};Chosen.prototype.search_results_mouseout=function(evt){if($(evt.target).hasClass("active-result"||$(evt.target).parents('.active-result').first())){return this.result_clear_highlight();}};Chosen.prototype.choice_build=function(item){var choice,close_link,_this=this;choice=$('<li />',{"class":"search-choice"}).html("<span>"+item.html+"</span>");if(item.disabled){choice.addClass('search-choice-disabled');}else{close_link=$('<a />',{href:'#',"class":'search-choice-close',rel:item.array_index});close_link.click(function(evt){return _this.choice_destroy_link_click(evt);});choice.append(close_link);}
return this.search_container.before(choice);};Chosen.prototype.choice_destroy_link_click=function(evt){evt.preventDefault();evt.stopPropagation();if(!this.is_disabled){return this.choice_destroy($(evt.target));}};Chosen.prototype.choice_destroy=function(link){if(this.result_deselect(link.attr("rel"))){this.show_search_field_default();if(this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1){this.results_hide();}
link.parents('li').first().remove();return this.search_field_scale();}};Chosen.prototype.results_reset=function(){this.form_field.options[0].selected=true;this.selected_option_count=null;this.selected_item.find("span").text(this.default_text);if(!this.is_multiple){this.selected_item.addClass("chzn-default");}
this.show_search_field_default();this.results_reset_cleanup();this.form_field_jq.trigger("change");if(this.active_field){return this.results_hide();}};Chosen.prototype.results_reset_cleanup=function(){this.current_selectedIndex=this.form_field.selectedIndex;return this.selected_item.find("abbr").remove();};Chosen.prototype.result_select=function(evt){var high,high_id,item,position;if(this.result_highlight){high=this.result_highlight;high_id=high.attr("id");this.result_clear_highlight();if(this.is_multiple&&this.max_selected_options<=this.choices_count()){this.form_field_jq.trigger("liszt:maxselected",{chosen:this});return false;}
if(this.is_multiple){high.removeClass("active-result");}else{this.search_results.find(".result-selected").removeClass("result-selected");this.result_single_selected=high;this.selected_item.removeClass("chzn-default");}
high.addClass("result-selected");position=high_id.substr(high_id.lastIndexOf("_")+1);item=this.results_data[position];item.selected=true;this.form_field.options[item.options_index].selected=true;this.selected_option_count=null;if(this.is_multiple){this.choice_build(item);}else{this.selected_item.find("span").first().text(item.text);if(this.allow_single_deselect){this.single_deselect_control_build();}}
if(!((evt.metaKey||evt.ctrlKey)&&this.is_multiple)){this.results_hide();}
this.search_field.val("");if(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex){this.form_field_jq.trigger("change",{'selected':this.form_field.options[item.options_index].value});}
this.current_selectedIndex=this.form_field.selectedIndex;return this.search_field_scale();}};Chosen.prototype.result_activate=function(el,option){if(option.disabled){return el.addClass("disabled-result");}else if(this.is_multiple&&option.selected){return el.addClass("result-selected");}else{return el.addClass("active-result");}};Chosen.prototype.result_deactivate=function(el){return el.removeClass("active-result result-selected disabled-result");};Chosen.prototype.result_deselect=function(pos){var result,result_data;result_data=this.results_data[pos];if(!this.form_field.options[result_data.options_index].disabled){result_data.selected=false;this.form_field.options[result_data.options_index].selected=false;this.selected_option_count=null;result=$("#"+this.container_id+"_o_"+pos);result.removeClass("result-selected").addClass("active-result").show();this.result_clear_highlight();this.winnow_results();this.form_field_jq.trigger("change",{deselected:this.form_field.options[result_data.options_index].value});this.search_field_scale();return true;}else{return false;}};Chosen.prototype.single_deselect_control_build=function(){if(!this.allow_single_deselect){return;}
if(!this.selected_item.find("abbr").length){this.selected_item.find("span").first().after("<abbr class=\"search-choice-close\"></abbr>");}
return this.selected_item.addClass("chzn-single-with-deselect");};Chosen.prototype.winnow_results=function(){var found,option,part,parts,regex,regexAnchor,result,result_id,results,searchText,startpos,text,zregex,_i,_j,_len,_len1,_ref1;this.no_results_clear();results=0;searchText=this.search_field.val()===this.default_text?"":$('<div/>').text($.trim(this.search_field.val())).html();regexAnchor=this.search_contains?"":"^";if(!this.filter_results){searchText="";}
regex=new RegExp(regexAnchor+searchText.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),'i');zregex=new RegExp(searchText.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),'i');_ref1=this.results_data;for(_i=0,_len=_ref1.length;_i<_len;_i++){option=_ref1[_i];if(!option.empty){if(option.group){$('#'+option.dom_id).css('display','none');}else{found=false;result_id=option.dom_id;result=$("#"+result_id);if(regex.test(option.html)){found=true;results+=1;}else if(this.enable_split_word_search&&(option.html.indexOf(" ")>=0||option.html.indexOf("[")===0)){parts=option.html.replace(/\[|\]/g,"").split(" ");if(parts.length){for(_j=0,_len1=parts.length;_j<_len1;_j++){part=parts[_j];if(regex.test(part)){found=true;results+=1;}}}}
if(found){if(searchText.length){startpos=option.html.search(zregex);text=option.html.substr(0,startpos+searchText.length)+'</em>'+option.html.substr(startpos+searchText.length);text=text.substr(0,startpos)+'<em>'+text.substr(startpos);}else{text=option.html;}
result.html(text);this.result_activate(result,option);if(option.group_array_index!=null){$("#"+this.results_data[option.group_array_index].dom_id).css('display','list-item');}}else{if(this.result_highlight&&result_id===this.result_highlight.attr('id')){this.result_clear_highlight();}
this.result_deactivate(result);}}}}
if(results<1&&searchText.length){return this.no_results(searchText);}else{return this.winnow_results_set_highlight();}};Chosen.prototype.winnow_results_set_highlight=function(){var do_high,selected_results;if(!this.result_highlight){selected_results=!this.is_multiple?this.search_results.find(".result-selected.active-result"):[];do_high=selected_results.length?selected_results.first():this.search_results.find(".active-result").first();if(do_high!=null){return this.result_do_highlight(do_high);}}};Chosen.prototype.no_results=function(terms){var no_results_html;no_results_html=$('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>');no_results_html.find("span").first().html(terms);return this.search_results.append(no_results_html);};Chosen.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove();};Chosen.prototype.keydown_arrow=function(){var next_sib;if(this.results_showing&&this.result_highlight){next_sib=this.result_highlight.nextAll("li.active-result").first();if(next_sib){return this.result_do_highlight(next_sib);}}else{return this.results_show();}};Chosen.prototype.keyup_arrow=function(){var prev_sibs;if(!this.results_showing&&!this.is_multiple){return this.results_show();}else if(this.result_highlight){prev_sibs=this.result_highlight.prevAll("li.active-result");if(prev_sibs.length){return this.result_do_highlight(prev_sibs.first());}else{if(this.choices_count()>0){this.results_hide();}
return this.result_clear_highlight();}}};Chosen.prototype.keydown_backstroke=function(){var next_available_destroy;if(this.pending_backstroke){this.choice_destroy(this.pending_backstroke.find("a").first());return this.clear_backstroke();}else{next_available_destroy=this.search_container.siblings("li.search-choice").last();if(next_available_destroy.length&&!next_available_destroy.hasClass("search-choice-disabled")){this.pending_backstroke=next_available_destroy;if(this.single_backstroke_delete){return this.keydown_backstroke();}else{return this.pending_backstroke.addClass("search-choice-focus");}}}};Chosen.prototype.clear_backstroke=function(){if(this.pending_backstroke){this.pending_backstroke.removeClass("search-choice-focus");}
return this.pending_backstroke=null;};Chosen.prototype.keydown_checker=function(evt){var stroke,_ref1;stroke=(_ref1=evt.which)!=null?_ref1:evt.keyCode;this.search_field_scale();if(stroke!==8&&this.pending_backstroke){this.clear_backstroke();}
switch(stroke){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:if(this.results_showing&&!this.is_multiple){this.result_select(evt);}
this.mouse_on_container=false;break;case 13:evt.preventDefault();break;case 38:evt.preventDefault();this.keyup_arrow();break;case 40:this.keydown_arrow();break;}};Chosen.prototype.search_field_scale=function(){var div,h,style,style_block,styles,w,_i,_len;if(this.is_multiple){h=0;w=0;style_block="position:absolute; left: -1000px; top: -1000px; display:none;";styles=['font-size','font-style','font-weight','font-family','line-height','text-transform','letter-spacing'];for(_i=0,_len=styles.length;_i<_len;_i++){style=styles[_i];style_block+=style+":"+this.search_field.css(style)+";";}
div=$('<div />',{'style':style_block});div.text(this.search_field.val());$('body').append(div);w=div.width()+25;div.remove();if(!this.f_width){this.f_width=this.container.outerWidth();}
if(w>this.f_width-10){w=this.f_width-10;}
return this.search_field.css({'width':w+'px'});}};Chosen.prototype.generate_random_id=function(){var string;string="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();while($("#"+string).length>0){string+=this.generate_random_char();}
return string;};return Chosen;})(AbstractChosen);root.Chosen=Chosen;}).call(this);;;(function($,window,document,undefined){var pluginName="tooltipster",defaults={animation:'fade',arrow:true,arrowColor:'#fff',content:'',delay:200,fixedWidth:0,maxWidth:0,functionBefore:function(origin,continueTooltip){continueTooltip();},functionReady:function(origin,tooltip){},functionAfter:function(origin){},icon:'(?)',iconDesktop:false,iconTouch:false,iconTheme:'.tooltipster-icon',interactive:false,interactiveTolerance:350,offsetX:0,offsetY:0,onlyOne:true,position:'top',speed:350,timer:0,theme:'.tooltipster-default',touchDevices:true,trigger:'hover',updateAnimation:true};function Plugin(element,options){this.element=element;this.options=$.extend({},defaults,options);this._defaults=defaults;this._name=pluginName;this.init();}
function is_touch_device(){return!!('ontouchstart'in window);}
function supportsTransitions(){var b=document.body||document.documentElement;var s=b.style;var p='transition';if(typeof s[p]=='string'){return true;}
v=['Moz','Webkit','Khtml','O','ms'],p=p.charAt(0).toUpperCase()+p.substr(1);for(var i=0;i<v.length;i++){if(typeof s[v[i]+p]=='string'){return true;}}
return false;}
var transitionSupport=true;if(!supportsTransitions()){transitionSupport=false;}
var touchDevice=is_touch_device();$(window).on('mousemove.tooltipster',function(){touchDevice=false;$(window).off('mousemove.tooltipster');});Plugin.prototype={init:function(){var $this=$(this.element);var object=this;var run=true;if((object.options.touchDevices==false)&&(touchDevice)){run=false;}
if(document.all&&!document.querySelector){run=false;}
if(run==true){if((this.options.iconDesktop==true)&&(!touchDevice)||((this.options.iconTouch==true)&&(touchDevice))){var transferContent=$this.attr('title');$this.removeAttr('title');var theme=object.options.iconTheme;var icon=$('<span class="'+theme.replace('.','')+'" title="'+transferContent+'">'+this.options.icon+'</span>');icon.insertAfter($this);$this.data('tooltipsterIcon',icon);$this=icon;}
var tooltipsterContent=$.trim(object.options.content).length>0?object.options.content:$this.attr('title');$this.data('tooltipsterContent',tooltipsterContent);$this.removeAttr('title');if((this.options.touchDevices==true)&&(touchDevice)&&((this.options.trigger=='click')||(this.options.trigger=='hover'))){$this.bind('touchstart',function(element,options){object.showTooltip();});}
else{if(this.options.trigger=='hover'){$this.on('mouseenter.tooltipster',function(){object.showTooltip();});if(this.options.interactive==true){$this.on('mouseleave.tooltipster',function(){var tooltipster=$this.data('tooltipster');var keepAlive=false;if((tooltipster!==undefined)&&(tooltipster!=='')){tooltipster.mouseenter(function(){keepAlive=true;});tooltipster.mouseleave(function(){keepAlive=false;});var tolerance=setTimeout(function(){if(keepAlive==true){tooltipster.mouseleave(function(){object.hideTooltip();});}
else{object.hideTooltip();}},object.options.interactiveTolerance);}
else{object.hideTooltip();}});}
else{$this.on('mouseleave.tooltipster',function(){object.hideTooltip();});}}
if(this.options.trigger=='click'){$this.on('click.tooltipster',function(){if(($this.data('tooltipster')=='')||($this.data('tooltipster')==undefined)){object.showTooltip();}
else{object.hideTooltip();}});}}}},showTooltip:function(options){var $this=$(this.element);var object=this;if($this.data('tooltipsterIcon')!==undefined){$this=$this.data('tooltipsterIcon');}
if(!$this.hasClass('tooltipster-disable')){if(($('.tooltipster-base').not('.tooltipster-dying').length>0)&&(object.options.onlyOne==true)){$('.tooltipster-base').not('.tooltipster-dying').not($this.data('tooltipster')).each(function(){$(this).addClass('tooltipster-kill');var origin=$(this).data('origin');origin.data('plugin_tooltipster').hideTooltip();});}
$this.clearQueue().delay(object.options.delay).queue(function(){object.options.functionBefore($this,function(){if(($this.data('tooltipster')!==undefined)&&($this.data('tooltipster')!=='')){var tooltipster=$this.data('tooltipster');if(!tooltipster.hasClass('tooltipster-kill')){var animation='tooltipster-'+object.options.animation;tooltipster.removeClass('tooltipster-dying');if(transitionSupport==true){tooltipster.clearQueue().addClass(animation+'-show');}
if(object.options.timer>0){var timer=tooltipster.data('tooltipsterTimer');clearTimeout(timer);timer=setTimeout(function(){tooltipster.data('tooltipsterTimer',undefined);object.hideTooltip();},object.options.timer);tooltipster.data('tooltipsterTimer',timer);}
if((object.options.touchDevices==true)&&(touchDevice)){$('body').bind('touchstart',function(event){if(object.options.interactive==true){var touchTarget=$(event.target);var closeTooltip=true;touchTarget.parents().each(function(){if($(this).hasClass('tooltipster-base')){closeTooltip=false;}});if(closeTooltip==true){object.hideTooltip();$('body').unbind('touchstart');}}
else{object.hideTooltip();$('body').unbind('touchstart');}});}}}
else{$('body').css('overflow-x','hidden');var content=$this.data('tooltipsterContent');var theme=object.options.theme;var themeClass=theme.replace('.','');var animation='tooltipster-'+object.options.animation;var animationSpeed='-webkit-transition-duration: '+object.options.speed+'ms; -webkit-animation-duration: '+object.options.speed+'ms; -moz-transition-duration: '+object.options.speed+'ms; -moz-animation-duration: '+object.options.speed+'ms; -o-transition-duration: '+object.options.speed+'ms; -o-animation-duration: '+object.options.speed+'ms; -ms-transition-duration: '+object.options.speed+'ms; -ms-animation-duration: '+object.options.speed+'ms; transition-duration: '+object.options.speed+'ms; animation-duration: '+object.options.speed+'ms;';var fixedWidth=object.options.fixedWidth>0?'width:'+Math.round(object.options.fixedWidth)+'px;':'';var maxWidth=object.options.maxWidth>0?'max-width:'+Math.round(object.options.maxWidth)+'px;':'';var pointerEvents=object.options.interactive==true?'pointer-events: auto;':'';var tooltipster=$('<div class="tooltipster-base '+themeClass+' '+animation+'" style="'+fixedWidth+' '+maxWidth+' '+pointerEvents+' '+animationSpeed+'"></div>');var tooltipsterHTML=$('<div class="tooltipster-content"></div>');tooltipsterHTML.html(content);tooltipster.append(tooltipsterHTML);tooltipster.appendTo('body');$this.data('tooltipster',tooltipster);tooltipster.data('origin',$this);object.positionTooltip();object.options.functionReady($this,tooltipster);if(transitionSupport==true){tooltipster.addClass(animation+'-show');}
else{tooltipster.css('display','none').removeClass(animation).fadeIn(object.options.speed);}
var currentTooltipContent=content;var contentUpdateChecker=setInterval(function(){var newTooltipContent=$this.data('tooltipsterContent');if($('body').find($this).length==0){tooltipster.addClass('tooltipster-dying');object.hideTooltip();}
else if((currentTooltipContent!==newTooltipContent)&&(newTooltipContent!=='')){currentTooltipContent=newTooltipContent;tooltipster.find('.tooltipster-content').html(newTooltipContent);if(object.options.updateAnimation==true){if(supportsTransitions()){tooltipster.css({'width':'','-webkit-transition':'all '+object.options.speed+'ms, width 0ms, height 0ms, left 0ms, top 0ms','-moz-transition':'all '+object.options.speed+'ms, width 0ms, height 0ms, left 0ms, top 0ms','-o-transition':'all '+object.options.speed+'ms, width 0ms, height 0ms, left 0ms, top 0ms','-ms-transition':'all '+object.options.speed+'ms, width 0ms, height 0ms, left 0ms, top 0ms','transition':'all '+object.options.speed+'ms, width 0ms, height 0ms, left 0ms, top 0ms'}).addClass('tooltipster-content-changing');setTimeout(function(){tooltipster.removeClass('tooltipster-content-changing');setTimeout(function(){tooltipster.css({'-webkit-transition':object.options.speed+'ms','-moz-transition':object.options.speed+'ms','-o-transition':object.options.speed+'ms','-ms-transition':object.options.speed+'ms','transition':object.options.speed+'ms'});},object.options.speed);},object.options.speed);}
else{tooltipster.fadeTo(object.options.speed,0.5,function(){tooltipster.fadeTo(object.options.speed,1);});}}
object.positionTooltip();}
if(($('body').find(tooltipster).length==0)||($('body').find($this).length==0)){clearInterval(contentUpdateChecker);}},200);if(object.options.timer>0){var timer=setTimeout(function(){tooltipster.data('tooltipsterTimer',undefined);object.hideTooltip();},object.options.timer+object.options.speed);tooltipster.data('tooltipsterTimer',timer);}
if((object.options.touchDevices==true)&&(touchDevice)){$('body').bind('touchstart',function(event){if(object.options.interactive==true){var touchTarget=$(event.target);var closeTooltip=true;touchTarget.parents().each(function(){if($(this).hasClass('tooltipster-base')){closeTooltip=false;}});if(closeTooltip==true){object.hideTooltip();$('body').unbind('touchstart');}}
else{object.hideTooltip();$('body').unbind('touchstart');}});}
tooltipster.mouseleave(function(){object.hideTooltip();});}});$this.dequeue();});}},hideTooltip:function(options){var $this=$(this.element);var object=this;if($this.data('tooltipsterIcon')!==undefined){$this=$this.data('tooltipsterIcon');}
var tooltipster=$this.data('tooltipster');if(tooltipster==undefined){tooltipster=$('.tooltipster-dying');}
$this.clearQueue();if((tooltipster!==undefined)&&(tooltipster!=='')){var timer=tooltipster.data('tooltipsterTimer');if(timer!==undefined){clearTimeout(timer);}
var animation='tooltipster-'+object.options.animation;if(transitionSupport==true){tooltipster.clearQueue().removeClass(animation+'-show').addClass('tooltipster-dying').delay(object.options.speed).queue(function(){tooltipster.remove();$this.data('tooltipster','');$('body').css('verflow-x','');object.options.functionAfter($this);});}
else{tooltipster.clearQueue().addClass('tooltipster-dying').fadeOut(object.options.speed,function(){tooltipster.remove();$this.data('tooltipster','');$('body').css('verflow-x','');object.options.functionAfter($this);});}}},positionTooltip:function(options){var $this=$(this.element);var object=this;if($this.data('tooltipsterIcon')!==undefined){$this=$this.data('tooltipsterIcon');}
if(($this.data('tooltipster')!==undefined)&&($this.data('tooltipster')!=='')){var tooltipster=$this.data('tooltipster');tooltipster.css('width','');var windowWidth=$(window).width();var containerWidth=$this.outerWidth(false);var containerHeight=$this.outerHeight(false);var tooltipWidth=tooltipster.outerWidth(false);var tooltipInnerWidth=tooltipster.innerWidth()+1;var tooltipHeight=tooltipster.outerHeight(false);var offset=$this.offset();var offsetTop=offset.top;var offsetLeft=offset.left;var resetPosition=undefined;if($this.is('area')){var areaShape=$this.attr('shape');var mapName=$this.parent().attr('name');var map=$('img[usemap="#'+mapName+'"]');var mapOffsetLeft=map.offset().left;var mapOffsetTop=map.offset().top;var areaMeasurements=$this.attr('coords')!==undefined?$this.attr('coords').split(','):undefined;if(areaShape=='circle'){var areaLeft=parseInt(areaMeasurements[0]);var areaTop=parseInt(areaMeasurements[1]);var areaWidth=parseInt(areaMeasurements[2]);containerHeight=areaWidth*2;containerWidth=areaWidth*2;offsetTop=mapOffsetTop+areaTop-areaWidth;offsetLeft=mapOffsetLeft+areaLeft-areaWidth;}
else if(areaShape=='rect'){var areaLeft=parseInt(areaMeasurements[0]);var areaTop=parseInt(areaMeasurements[1]);var areaRight=parseInt(areaMeasurements[2]);var areaBottom=parseInt(areaMeasurements[3]);containerHeight=areaBottom-areaTop;containerWidth=areaRight-areaLeft;offsetTop=mapOffsetTop+areaTop;offsetLeft=mapOffsetLeft+areaLeft;}
else if(areaShape=='poly'){var areaXs=[];var areaYs=[];var areaSmallestX=0,areaSmallestY=0,areaGreatestX=0,areaGreatestY=0;var arrayAlternate='even';for(i=0;i<areaMeasurements.length;i++){var areaNumber=parseInt(areaMeasurements[i]);if(arrayAlternate=='even'){if(areaNumber>areaGreatestX){areaGreatestX=areaNumber;if(i==0){areaSmallestX=areaGreatestX;}}
if(areaNumber<areaSmallestX){areaSmallestX=areaNumber;}
arrayAlternate='odd';}
else{if(areaNumber>areaGreatestY){areaGreatestY=areaNumber;if(i==1){areaSmallestY=areaGreatestY;}}
if(areaNumber<areaSmallestY){areaSmallestY=areaNumber;}
arrayAlternate='even';}}
containerHeight=areaGreatestY-areaSmallestY;containerWidth=areaGreatestX-areaSmallestX;offsetTop=mapOffsetTop+areaSmallestY;offsetLeft=mapOffsetLeft+areaSmallestX;}
else{containerHeight=map.outerHeight(false);containerWidth=map.outerWidth(false);offsetTop=mapOffsetTop;offsetLeft=mapOffsetLeft;}}
if(object.options.fixedWidth==0){tooltipster.css({'width':Math.round(tooltipInnerWidth)+'px','padding-left':'0px','padding-right':'0px'});}
var myLeft=0,myTop=0;var offsetY=parseInt(object.options.offsetY);var offsetX=parseInt(object.options.offsetX);var arrowConstruct='';function dontGoOffScreenX(){var windowLeft=$(window).scrollLeft();if((myLeft-windowLeft)<0){var arrowReposition=myLeft-windowLeft;myLeft=windowLeft;tooltipster.data('arrow-reposition',arrowReposition);}
if(((myLeft+tooltipWidth)-windowLeft)>windowWidth){var arrowReposition=myLeft-((windowWidth+windowLeft)-tooltipWidth);myLeft=(windowWidth+windowLeft)-tooltipWidth;tooltipster.data('arrow-reposition',arrowReposition);}}
function dontGoOffScreenY(switchTo,resetTo){if(((offsetTop-$(window).scrollTop()-tooltipHeight-offsetY-12)<0)&&(resetTo.indexOf('top')>-1)){object.options.position=switchTo;resetPosition=resetTo;}
if(((offsetTop+containerHeight+tooltipHeight+12+offsetY)>($(window).scrollTop()+$(window).height()))&&(resetTo.indexOf('bottom')>-1)){object.options.position=switchTo;resetPosition=resetTo;myTop=(offsetTop-tooltipHeight)-offsetY-12;}}
if(object.options.position=='top'){var leftDifference=(offsetLeft+tooltipWidth)-(offsetLeft+containerWidth);myLeft=(offsetLeft+offsetX)-(leftDifference/2);myTop=(offsetTop-tooltipHeight)-offsetY-12;dontGoOffScreenX();dontGoOffScreenY('bottom','top');}
if(object.options.position=='top-left'){myLeft=offsetLeft+offsetX;myTop=(offsetTop-tooltipHeight)-offsetY-12;dontGoOffScreenX();dontGoOffScreenY('bottom-left','top-left');}
if(object.options.position=='top-right'){myLeft=(offsetLeft+containerWidth+offsetX)-tooltipWidth;myTop=(offsetTop-tooltipHeight)-offsetY-12;dontGoOffScreenX();dontGoOffScreenY('bottom-right','top-right');}
if(object.options.position=='bottom'){var leftDifference=(offsetLeft+tooltipWidth)-(offsetLeft+containerWidth);myLeft=offsetLeft-(leftDifference/2)+offsetX;myTop=(offsetTop+containerHeight)+offsetY+12;dontGoOffScreenX();dontGoOffScreenY('top','bottom');}
if(object.options.position=='bottom-left'){myLeft=offsetLeft+offsetX;myTop=(offsetTop+containerHeight)+offsetY+12;dontGoOffScreenX();dontGoOffScreenY('top-left','bottom-left');}
if(object.options.position=='bottom-right'){myLeft=(offsetLeft+containerWidth+offsetX)-tooltipWidth;myTop=(offsetTop+containerHeight)+offsetY+12;dontGoOffScreenX();dontGoOffScreenY('top-right','bottom-right');}
if(object.options.position=='left'){myLeft=offsetLeft-offsetX-tooltipWidth-12;myLeftMirror=offsetLeft+offsetX+containerWidth+12;var topDifference=(offsetTop+tooltipHeight)-(offsetTop+$this.outerHeight(false));myTop=offsetTop-(topDifference/2)-offsetY;if((myLeft<0)&&((myLeftMirror+tooltipWidth)>windowWidth)){var borderWidth=parseFloat(tooltipster.css('border-width'))*2;var newWidth=(tooltipWidth+myLeft)-borderWidth;tooltipster.css('width',newWidth+'px');tooltipHeight=tooltipster.outerHeight(false);myLeft=offsetLeft-offsetX-newWidth-12-borderWidth;topDifference=(offsetTop+tooltipHeight)-(offsetTop+$this.outerHeight(false));myTop=offsetTop-(topDifference/2)-offsetY;}
else if(myLeft<0){myLeft=offsetLeft+offsetX+containerWidth+12;tooltipster.data('arrow-reposition','left');}}
if(object.options.position=='right'){myLeft=offsetLeft+offsetX+containerWidth+12;myLeftMirror=offsetLeft-offsetX-tooltipWidth-12;var topDifference=(offsetTop+tooltipHeight)-(offsetTop+$this.outerHeight(false));myTop=offsetTop-(topDifference/2)-offsetY;if(((myLeft+tooltipWidth)>windowWidth)&&(myLeftMirror<0)){var borderWidth=parseFloat(tooltipster.css('border-width'))*2;var newWidth=(windowWidth-myLeft)-borderWidth;tooltipster.css('width',newWidth+'px');tooltipHeight=tooltipster.outerHeight(false);topDifference=(offsetTop+tooltipHeight)-(offsetTop+$this.outerHeight(false));myTop=offsetTop-(topDifference/2)-offsetY;}
else if((myLeft+tooltipWidth)>windowWidth){myLeft=offsetLeft-offsetX-tooltipWidth-12;tooltipster.data('arrow-reposition','right');}}
if(object.options.arrow==true){var arrowClass='tooltipster-arrow-'+object.options.position;if(object.options.arrowColor.length<1){var arrowColor=tooltipster.css('background-color');}
else{var arrowColor=object.options.arrowColor;}
var arrowReposition=tooltipster.data('arrow-reposition');if(!arrowReposition){arrowReposition='';}
else if(arrowReposition=='left'){arrowClass='tooltipster-arrow-right';arrowReposition='';}
else if(arrowReposition=='right'){arrowClass='tooltipster-arrow-left';arrowReposition='';}
else{arrowReposition='left:'+Math.round(arrowReposition)+'px;';}
if((object.options.position=='top')||(object.options.position=='top-left')||(object.options.position=='top-right')){var tooltipBorderWidth=parseFloat(tooltipster.css('border-bottom-width'));var tooltipBorderColor=tooltipster.css('border-bottom-color');}
else if((object.options.position=='bottom')||(object.options.position=='bottom-left')||(object.options.position=='bottom-right')){var tooltipBorderWidth=parseFloat(tooltipster.css('border-top-width'));var tooltipBorderColor=tooltipster.css('border-top-color');}
else if(object.options.position=='left'){var tooltipBorderWidth=parseFloat(tooltipster.css('border-right-width'));var tooltipBorderColor=tooltipster.css('border-right-color');}
else if(object.options.position=='right'){var tooltipBorderWidth=parseFloat(tooltipster.css('border-left-width'));var tooltipBorderColor=tooltipster.css('border-left-color');}
else{var tooltipBorderWidth=parseFloat(tooltipster.css('border-bottom-width'));var tooltipBorderColor=tooltipster.css('border-bottom-color');}
if(tooltipBorderWidth>1){tooltipBorderWidth++;}
var arrowBorder='';if(tooltipBorderWidth!==0){var arrowBorderSize='';var arrowBorderColor='border-color: '+tooltipBorderColor+';';if(arrowClass.indexOf('bottom')!==-1){arrowBorderSize='margin-top: -'+Math.round(tooltipBorderWidth)+'px;';}
else if(arrowClass.indexOf('top')!==-1){arrowBorderSize='margin-bottom: -'+Math.round(tooltipBorderWidth)+'px;';}
else if(arrowClass.indexOf('left')!==-1){arrowBorderSize='margin-right: -'+Math.round(tooltipBorderWidth)+'px;';}
else if(arrowClass.indexOf('right')!==-1){arrowBorderSize='margin-left: -'+Math.round(tooltipBorderWidth)+'px;';}
arrowBorder='<span class="tooltipster-arrow-border" style="'+arrowBorderSize+' '+arrowBorderColor+';"></span>';}
tooltipster.find('.tooltipster-arrow').remove();arrowConstruct='<div class="'+arrowClass+' tooltipster-arrow" style="'+arrowReposition+'">'+arrowBorder+'<span style="border-color:'+arrowColor+';"></span></div>';tooltipster.append(arrowConstruct);}
tooltipster.css({'top':Math.round(myTop)+'px','left':Math.round(myLeft)+'px'});if(resetPosition!==undefined){object.options.position=resetPosition;}}}};$.fn[pluginName]=function(options){if(typeof options==='string'){var $t=this;var newContent=arguments[1];if($t.data('plugin_tooltipster')==undefined){var query=$t.find('*');$t=$();query.each(function(){if($(this).data('plugin_tooltipster')!==undefined){$t.push($(this));}});}
$t.each(function(){switch(options.toLowerCase()){case'show':$(this).data('plugin_tooltipster').showTooltip();break;case'hide':$(this).data('plugin_tooltipster').hideTooltip();break;case'disable':$(this).addClass('tooltipster-disable');break;case'enable':$(this).removeClass('tooltipster-disable');break;case'destroy':$(this).data('plugin_tooltipster').hideTooltip();$(this).data('plugin_tooltipster','').attr('title',$t.data('tooltipsterContent')).data('tooltipsterContent','').data('plugin_tooltipster','').off('mouseenter.tooltipster mouseleave.tooltipster click.tooltipster').unbind('touchstart');break;case'update':if($(this).data('tooltipsterIcon')==undefined){$(this).data('tooltipsterContent',newContent);}
else{var $this=$(this).data('tooltipsterIcon');$this.data('tooltipsterContent',newContent);}
break;case'reposition':$(this).data('plugin_tooltipster').positionTooltip();break;}});return this;}
return this.each(function(){if(!$.data(this,"plugin_"+pluginName)){$.data(this,"plugin_"+pluginName,new Plugin(this,options));}
var thisOptions=$(this).data('plugin_tooltipster').options;if((thisOptions.iconDesktop==true)&&(!touchDevice)||((thisOptions.iconTouch==true)&&(touchDevice))){var transferObject=$(this).data('plugin_tooltipster');$(this).next().data('plugin_tooltipster',transferObject);}});};if(touchDevice){window.addEventListener("orientationchange",function(){if($('.tooltipster-base').length>0){$('.tooltipster-base').each(function(){var origin=$(this).data('origin');origin.data('plugin_tooltipster').hideTooltip();});}},false);}
$(window).on('resize.tooltipster',function(){var origin=$('.tooltipster-base').data('origin');if((origin!==null)&&(origin!==undefined)){origin.tooltipster('reposition');}});})(jQuery,window,document);a9L`kx      WW<YAr   W    :http://www.transfermarkt.de/min/serve?g=84c75aa290a30f143db4c4dcde8beb9c&lm=1470813638 necko:classified 1 strongly-framed 1 request-method GET response-head HTTP/1.1 200 OK
Via: 1.1 ISA01TMG
Expires: Wed, 27 Sep 2017 06:11:26 GMT
Date: Tue, 27 Sep 2016 06:13:06 GMT
Content-Type: application/x-javascript; charset=utf-8
Etag: "pub1470813638;gz"
Server: nginx
X-Host: web03
Cache-Control: max-age=31536000
Last-Modified: Wed, 10 Aug 2016 07:20:38 GMT
 original-response-headers Via: 1.1 ISA01TMG
Connection: Keep-Alive
Proxy-Connection: Keep-Alive
Transfer-Encoding: chunked
Expires: Wed, 27 Sep 2017 06:11:26 GMT
Date: Tue, 27 Sep 2016 06:13:06 GMT
Content-Type: application/x-javascript; charset=utf-8
Etag: "pub1470813638;gz"
Server: nginx
X-Host: web03
X-Powered-By: 
Pragma: 
Cache-Control: max-age=31536000
Last-Modified: Wed, 10 Aug 2016 07:20:38 GMT
 uncompressed-len 0  f